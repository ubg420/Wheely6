var COMPILED=!1,goog=goog||{};goog.global=this,goog.global.CLOSURE_UNCOMPILED_DEFINES,goog.global.CLOSURE_DEFINES,goog.isDef=function(a){return void 0!==a},goog.exportPath_=function(a,b,c){var f,d=a.split("."),e=c||goog.global;d[0]in e||!e.execScript||e.execScript("var "+d[0]);for(;d.length&&(f=d.shift());)!d.length&&goog.isDef(b)?e[f]=b:e=e[f]||(e[f]={})},goog.define=function(a,b){COMPILED||(goog.global.CLOSURE_UNCOMPILED_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_UNCOMPILED_DEFINES,a)?b=goog.global.CLOSURE_UNCOMPILED_DEFINES[a]:goog.global.CLOSURE_DEFINES&&Object.prototype.hasOwnProperty.call(goog.global.CLOSURE_DEFINES,a)&&(b=goog.global.CLOSURE_DEFINES[a])),goog.exportPath_(a,b)},goog.DEBUG=!0,goog.define("goog.LOCALE","en"),goog.define("goog.TRUSTED_SITE",!0),goog.define("goog.STRICT_MODE_COMPATIBLE",!1),goog.provide=function(a){if(!COMPILED){if(goog.isProvided_(a))throw Error('Namespace "'+a+'" already declared.');delete goog.implicitNamespaces_[a];for(var b=a;(b=b.substring(0,b.lastIndexOf(".")))&&!goog.getObjectByName(b);)goog.implicitNamespaces_[b]=!0}goog.exportPath_(a)},goog.setTestOnly=function(a){if(COMPILED&&!goog.DEBUG)throw a=a||"",Error("Importing test-only code into non-debug environment"+(a?": "+a:"."))},goog.forwardDeclare=function(){},COMPILED||(goog.isProvided_=function(a){return!goog.implicitNamespaces_[a]&&goog.isDefAndNotNull(goog.getObjectByName(a))},goog.implicitNamespaces_={}),goog.getObjectByName=function(a,b){for(var c,d=a.split("."),e=b||goog.global;c=d.shift();){if(!goog.isDefAndNotNull(e[c]))return null;e=e[c]}return e},goog.globalize=function(a,b){var d,c=b||goog.global;for(d in a)c[d]=a[d]},goog.addDependency=function(a,b,c){if(goog.DEPENDENCIES_ENABLED){for(var d,e,f=a.replace(/\\/g,"/"),g=goog.dependencies_,h=0;d=b[h];h++)(g.nameToPath[d]=f)in g.pathToNames||(g.pathToNames[f]={}),g.pathToNames[f][d]=!0;for(var i=0;e=c[i];i++)f in g.requires||(g.requires[f]={}),g.requires[f][e]=!0}},goog.define("goog.ENABLE_DEBUG_LOADER",!0),goog.require=function(a){if(!COMPILED&&!goog.isProvided_(a)){if(goog.ENABLE_DEBUG_LOADER){var b=goog.getPathFromDeps_(a);if(b)return goog.included_[b]=!0,void goog.writeScripts_()}b="goog.require could not find: "+a;throw goog.global.console&&goog.global.console.error(b),Error(b)}},goog.basePath="",goog.global.CLOSURE_BASE_PATH,goog.global.CLOSURE_NO_DEPS,goog.global.CLOSURE_IMPORT_SCRIPT,goog.nullFunction=function(){},goog.identityFunction=function(a){return a},goog.abstractMethod=function(){throw Error("unimplemented abstract method")},goog.addSingletonGetter=function(a){a.getInstance=function(){return a.instance_||(goog.DEBUG&&(goog.instantiatedSingletons_[goog.instantiatedSingletons_.length]=a),a.instance_=new a)}},goog.instantiatedSingletons_=[],goog.DEPENDENCIES_ENABLED=!COMPILED&&goog.ENABLE_DEBUG_LOADER,goog.DEPENDENCIES_ENABLED&&(goog.included_={},goog.dependencies_={pathToNames:{},nameToPath:{},requires:{},visited:{},written:{}},goog.inHtmlDocument_=function(){var a=goog.global.document;return void 0!==a&&"write"in a},goog.findBasePath_=function(){if(goog.global.CLOSURE_BASE_PATH)goog.basePath=goog.global.CLOSURE_BASE_PATH;else if(goog.inHtmlDocument_())for(var b=goog.global.document.getElementsByTagName("script"),c=b.length-1;0<=c;--c){var d=b[c].src,e=d.lastIndexOf("?"),e=-1==e?d.length:e;if("base.js"==d.substr(e-7,7))return void(goog.basePath=d.substr(0,e-7))}},goog.importScript_=function(a){var b=goog.global.CLOSURE_IMPORT_SCRIPT||goog.writeScriptTag_;!goog.dependencies_.written[a]&&b(a)&&(goog.dependencies_.written[a]=!0)},goog.writeScriptTag_=function(a){if(goog.inHtmlDocument_()){var b=goog.global.document;if("complete"!=b.readyState)return b.write('<script type="text/javascript" src="'+a+'"><\/script>'),!0;if(/\bdeps.js$/.test(a))return!1;throw Error('Cannot write "'+a+'" after document load')}return!1},goog.writeScripts_=function(){var e,b=[],c={},d=goog.dependencies_;for(e in goog.included_)d.written[e]||function a(e){if(!(e in d.written)){if(e in d.visited)return e in c||(c[e]=!0,b.push(e));if(d.visited[e]=!0,e in d.requires)for(var f in d.requires[e])if(!goog.isProvided_(f)){if(!(f in d.nameToPath))throw Error("Undefined nameToPath for "+f);a(d.nameToPath[f])}e in c||(c[e]=!0,b.push(e))}}(e);for(var f=0;f<b.length;f++){if(!b[f])throw Error("Undefined script input");goog.importScript_(goog.basePath+b[f])}},goog.getPathFromDeps_=function(a){return a in goog.dependencies_.nameToPath?goog.dependencies_.nameToPath[a]:null},goog.findBasePath_()),goog.typeOf=function(a){var b=typeof a;if("object"==b){if(!a)return"null";if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&void 0!==a.splice&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||void 0!==a.call&&void 0!==a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else if("function"==b&&void 0===a.call)return"object";return b},goog.isNull=function(a){return null===a},goog.isDefAndNotNull=function(a){return null!=a},goog.isArray=function(a){return"array"==goog.typeOf(a)},goog.isArrayLike=function(a){var b=goog.typeOf(a);return"array"==b||"object"==b&&"number"==typeof a.length},goog.isDateLike=function(a){return goog.isObject(a)&&"function"==typeof a.getFullYear},goog.isString=function(a){return"string"==typeof a},goog.isBoolean=function(a){return"boolean"==typeof a},goog.isNumber=function(a){return"number"==typeof a},goog.isFunction=function(a){return"function"==goog.typeOf(a)},goog.isObject=function(a){var b=typeof a;return"object"==b&&null!=a||"function"==b},goog.getUid=function(a){return a[goog.UID_PROPERTY_]||(a[goog.UID_PROPERTY_]=++goog.uidCounter_)},goog.hasUid=function(a){return!!a[goog.UID_PROPERTY_]},goog.removeUid=function(a){"removeAttribute"in a&&a.removeAttribute(goog.UID_PROPERTY_);try{delete a[goog.UID_PROPERTY_]}catch(b){}},goog.UID_PROPERTY_="closure_uid_"+(1e9*Math.random()>>>0),goog.uidCounter_=0,goog.getHashCode=goog.getUid,goog.removeHashCode=goog.removeUid,goog.cloneObject=function(a){var b=goog.typeOf(a);if("object"!=b&&"array"!=b)return a;if(a.clone)return a.clone();var d,c="array"==b?[]:{};for(d in a)c[d]=goog.cloneObject(a[d]);return c},goog.bindNative_=function(a){return a.call.apply(a.bind,arguments)},goog.bindJs_=function(a,b){var c;if(a)return 2<arguments.length?(c=Array.prototype.slice.call(arguments,2),function(){var d=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(d,c),a.apply(b,d)}):function(){return a.apply(b,arguments)};throw new Error},goog.bind=function(){return goog.bind=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?goog.bindNative_:goog.bindJs_,goog.bind.apply(null,arguments)},goog.partial=function(a){var b=Array.prototype.slice.call(arguments,1);return function(){var c=b.slice();return c.push.apply(c,arguments),a.apply(this,c)}},goog.mixin=function(a,b){for(var c in b)a[c]=b[c]},goog.now=goog.TRUSTED_SITE&&Date.now||function(){return+new Date},goog.globalEval=function(a){if(goog.global.execScript)goog.global.execScript(a,"JavaScript");else{if(!goog.global.eval)throw Error("goog.globalEval not available");var b,c;null==goog.evalWorksForGlobals_&&(goog.global.eval("var _et_ = 1;"),void 0!==goog.global._et_?(delete goog.global._et_,goog.evalWorksForGlobals_=!0):goog.evalWorksForGlobals_=!1),goog.evalWorksForGlobals_?goog.global.eval(a):((c=(b=goog.global.document).createElement("script")).type="text/javascript",c.defer=!1,c.appendChild(b.createTextNode(a)),b.body.appendChild(c),b.body.removeChild(c))}},goog.evalWorksForGlobals_=null,goog.cssNameMapping_,goog.cssNameMappingStyle_,goog.getCssName=function(a,b){function d(a){return goog.cssNameMapping_[a]||a}var c=goog.cssNameMapping_?"BY_WHOLE"==goog.cssNameMappingStyle_?d:function(a){for(var b=a.split("-"),c=[],e=0;e<b.length;e++)c.push(d(b[e]));return c.join("-")}:function(a){return a};return b?a+"-"+c(b):c(a)},goog.setCssNameMapping=function(a,b){goog.cssNameMapping_=a,goog.cssNameMappingStyle_=b},goog.global.CLOSURE_CSS_NAME_MAPPING,!COMPILED&&goog.global.CLOSURE_CSS_NAME_MAPPING&&(goog.cssNameMapping_=goog.global.CLOSURE_CSS_NAME_MAPPING),goog.getMsg=function(a,b){return a=b?a.replace(/\{\$([^}]+)}/g,function(a,c){return c in b?b[c]:a}):a},goog.getMsgWithFallback=function(a){return a},goog.exportSymbol=function(a,b,c){goog.exportPath_(a,b,c)},goog.exportProperty=function(a,b,c){a[b]=c},goog.inherits=function(a,b){function c(){}c.prototype=b.prototype,a.superClass_=b.prototype,a.prototype=new c,(a.prototype.constructor=a).base=function(a,c){var d=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,d)}},goog.base=function(a,b){var c=arguments.callee.caller;if(goog.STRICT_MODE_COMPATIBLE||goog.DEBUG&&!c)throw Error("arguments.caller not defined.  goog.base() cannot be used with strict mode code. See http://www.ecma-international.org/ecma-262/5.1/#sec-C");if(c.superClass_)return c.superClass_.constructor.apply(a,Array.prototype.slice.call(arguments,1));for(var d=Array.prototype.slice.call(arguments,2),e=!1,f=a.constructor;f;f=f.superClass_&&f.superClass_.constructor)if(f.prototype[b]===c)e=!0;else if(e)return f.prototype[b].apply(a,d);if(a[b]===c)return a.constructor.prototype[b].apply(a,d);throw Error("goog.base called from a method of one name to a method of a different name")},goog.scope=function(a){a.call(goog.global)},COMPILED||(goog.global.COMPILED=COMPILED),goog.defineClass=function(a,b){var c=b.constructor,d=b.statics,c=(c&&c!=Object.prototype.constructor||(c=function(){throw Error("cannot instantiate an interface (no constructor defined).")}),goog.defineClass.createSealingConstructor_(c,a));return a&&goog.inherits(c,a),delete b.constructor,delete b.statics,goog.defineClass.applyProperties_(c.prototype,b),null!=d&&(d instanceof Function?d(c):goog.defineClass.applyProperties_(c,d)),c},goog.defineClass.ClassDescriptor,goog.define("goog.defineClass.SEAL_CLASS_INSTANCES",goog.DEBUG),goog.defineClass.createSealingConstructor_=function(a,b){var c;return!(goog.defineClass.SEAL_CLASS_INSTANCES&&Object.seal instanceof Function)||b&&b.prototype&&b.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]?a:c=function(){var b=a.apply(this,arguments)||this;return this.constructor===c&&Object.seal(b),b}},goog.defineClass.OBJECT_PROTOTYPE_FIELDS_=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],goog.defineClass.applyProperties_=function(a,b){for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c]);for(var d=0;d<goog.defineClass.OBJECT_PROTOTYPE_FIELDS_.length;d++)c=goog.defineClass.OBJECT_PROTOTYPE_FIELDS_[d],Object.prototype.hasOwnProperty.call(b,c)&&(a[c]=b[c])},goog.tagUnsealableClass=function(a){!COMPILED&&goog.defineClass.SEAL_CLASS_INSTANCES&&(a.prototype[goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_]=!0)},goog.UNSEALABLE_CONSTRUCTOR_PROPERTY_="goog_defineClass_legacy_unsealable",goog.provide("box2d.b2Settings"),Object.defineProperty||(Object.defineProperty=function(a,b,c){Object.__defineGetter__&&("get"in c?a.__defineGetter__(b,c.get):"value"in c&&a.__defineGetter__(b,c.value)),Object.__defineSetter__&&("set"in c?a.__defineSetter__(b,c.set):"value"in c&&a.__defineSetter__(b,c.value))}),box2d.DEBUG=!1,box2d.ENABLE_ASSERTS=box2d.DEBUG,box2d.b2Assert=function(a){box2d.DEBUG},box2d.b2_maxFloat=1e37,box2d.b2_epsilon=1e-5,box2d.b2_epsilon_sq=box2d.b2_epsilon*box2d.b2_epsilon,box2d.b2_pi=Math.PI,box2d.b2_maxManifoldPoints=2,box2d.b2_maxPolygonVertices=8,box2d.b2_aabbExtension=.1,box2d.b2_aabbMultiplier=2,box2d.b2_linearSlop=.008,box2d.b2_angularSlop=2/180*box2d.b2_pi,box2d.b2_polygonRadius=2*box2d.b2_linearSlop,box2d.b2_maxSubSteps=8,box2d.b2_maxTOIContacts=32,box2d.b2_velocityThreshold=1,box2d.b2_maxLinearCorrection=.2,box2d.b2_maxAngularCorrection=8/180*box2d.b2_pi,box2d.b2_maxTranslation=2,box2d.b2_maxTranslationSquared=box2d.b2_maxTranslation*box2d.b2_maxTranslation,box2d.b2_maxRotation=.5*box2d.b2_pi,box2d.b2_maxRotationSquared=box2d.b2_maxRotation*box2d.b2_maxRotation,box2d.b2_baumgarte=.2,box2d.b2_toiBaumgarte=.75,box2d.b2_timeToSleep=.5,box2d.b2_linearSleepTolerance=.01,box2d.b2_angularSleepTolerance=2/180*box2d.b2_pi,box2d.b2Alloc=function(){return null},box2d.b2Free=function(){},box2d.b2Log=function(){goog.global.console.log.apply(null,arguments)},box2d.b2Version=function(a,b,c){this.major=a||0,this.minor=b||0,this.revision=c||0},box2d.b2Version.prototype.major=0,box2d.b2Version.prototype.minor=0,box2d.b2Version.prototype.revision=0,box2d.b2Version.prototype.toString=function(){return this.major+"."+this.minor+"."+this.revision},box2d.b2_version=new box2d.b2Version(2,3,0),box2d.b2_changelist=278,box2d.b2ParseInt=function(a){return parseInt(a,10)},box2d.b2ParseUInt=function(a){return box2d.b2Abs(parseInt(a,10))},box2d.b2MakeArray=function(a,b){void 0===a&&(a=0);var c=new Array(a);if(void 0!==b)for(var d=0;d<a;++d)c[d]=b(d);return c},box2d.b2MakeNumberArray=function(a){return box2d.b2MakeArray(a,function(){return 0})},goog.provide("box2d.b2Math"),goog.require("box2d.b2Settings"),box2d.b2_pi_over_180=box2d.b2_pi/180,box2d.b2_180_over_pi=180/box2d.b2_pi,box2d.b2_two_pi=2*box2d.b2_pi,box2d.b2Abs=function(a){return a<0?-a:a},box2d.b2Min=function(a,b){return a<b?a:b},box2d.b2Max=function(a,b){return b<a?a:b},box2d.b2Clamp=function(a,b,c){return a<b?b:c<a?c:a},box2d.b2Swap=function(a,b){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1);var c=a[0];a[0]=b[0],b[0]=c},box2d.b2IsValid=function(a){return isFinite(a)},box2d.b2Sq=function(a){return a*a},box2d.b2InvSqrt=function(a){return 1/Math.sqrt(a)},box2d.b2Sqrt=function(a){return Math.sqrt(a)},box2d.b2Pow=function(a,b){return Math.pow(a,b)},box2d.b2DegToRad=function(a){return a*box2d.b2_pi_over_180},box2d.b2RadToDeg=function(a){return a*box2d.b2_180_over_pi},box2d.b2Cos=function(a){return Math.cos(a)},box2d.b2Sin=function(a){return Math.sin(a)},box2d.b2Acos=function(a){return Math.acos(a)},box2d.b2Asin=function(a){return Math.asin(a)},box2d.b2Atan2=function(a,b){return Math.atan2(a,b)},box2d.b2NextPowerOfTwo=function(a){return(a=(a=(a=(a=(a|=a>>1&2147483647)|a>>2&1073741823)|a>>4&268435455)|a>>8&16777215)|a>>16&65535)+1},box2d.b2IsPowerOfTwo=function(a){return 0<a&&0==(a&a-1)},box2d.b2Random=function(){return 2*Math.random()-1},box2d.b2RandomRange=function(a,b){return(b-a)*Math.random()+a},box2d.b2Vec2=function(a,b){this.x=a||0,this.y=b||0},box2d.b2Vec2.prototype.x=0,box2d.b2Vec2.prototype.y=0,box2d.b2Vec2_zero=new box2d.b2Vec2,box2d.b2Vec2.ZERO=new box2d.b2Vec2,box2d.b2Vec2.UNITX=new box2d.b2Vec2(1,0),box2d.b2Vec2.UNITY=new box2d.b2Vec2(0,1),box2d.b2Vec2.s_t0=new box2d.b2Vec2,box2d.b2Vec2.s_t1=new box2d.b2Vec2,box2d.b2Vec2.s_t2=new box2d.b2Vec2,box2d.b2Vec2.s_t3=new box2d.b2Vec2,box2d.b2Vec2.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2Vec2})},box2d.b2Vec2.prototype.Clone=function(){return new box2d.b2Vec2(this.x,this.y)},box2d.b2Vec2.prototype.SetZero=function(){return this.x=0,this.y=0,this},box2d.b2Vec2.prototype.SetXY=function(a,b){return this.x=a,this.y=b,this},box2d.b2Vec2.prototype.Copy=function(a){return this.x=a.x,this.y=a.y,this},box2d.b2Vec2.prototype.SelfAdd=function(a){return this.x+=a.x,this.y+=a.y,this},box2d.b2Vec2.prototype.SelfAddXY=function(a,b){return this.x+=a,this.y+=b,this},box2d.b2Vec2.prototype.SelfSub=function(a){return this.x-=a.x,this.y-=a.y,this},box2d.b2Vec2.prototype.SelfSubXY=function(a,b){return this.x-=a,this.y-=b,this},box2d.b2Vec2.prototype.SelfMul=function(a){return this.x*=a,this.y*=a,this},box2d.b2Vec2.prototype.SelfMulAdd=function(a,b){return this.x+=a*b.x,this.y+=a*b.y,this},box2d.b2Vec2.prototype.SelfMulSub=function(a,b){return this.x-=a*b.x,this.y-=a*b.y,this},box2d.b2Vec2.prototype.Dot=function(a){return this.x*a.x+this.y*a.y},box2d.b2Vec2.prototype.Cross=function(a){return this.x*a.y-this.y*a.x},box2d.b2Vec2.prototype.Length=function(){var a=this.x,b=this.y;return Math.sqrt(a*a+b*b)},box2d.b2Vec2.prototype.GetLength=box2d.b2Vec2.prototype.Length,box2d.b2Vec2.prototype.LengthSquared=function(){var a=this.x,b=this.y;return a*a+b*b},box2d.b2Vec2.prototype.GetLengthSquared=box2d.b2Vec2.prototype.LengthSquared,box2d.b2Vec2.prototype.Normalize=function(){var b,a=this.GetLength();return a>=box2d.b2_epsilon&&(this.x*=b=1/a,this.y*=b),a},box2d.b2Vec2.prototype.SelfNormalize=function(){var a=this.GetLength();return a>=box2d.b2_epsilon&&(this.x*=a=1/a,this.y*=a),this},box2d.b2Vec2.prototype.SelfRotate=function(a,b){var c=this.x,d=this.y;return this.x=a*c-b*d,this.y=b*c+a*d,this},box2d.b2Vec2.prototype.SelfRotateRadians=function(a){return this.SelfRotate(Math.cos(a),Math.sin(a))},box2d.b2Vec2.prototype.SelfRotateDegrees=function(a){return this.SelfRotateRadians(box2d.b2DegToRad(a))},box2d.b2Vec2.prototype.IsValid=function(){return isFinite(this.x)&&isFinite(this.y)},box2d.b2Vec2.prototype.SelfCrossVS=function(a){var b=this.x;return this.x=a*this.y,this.y=-a*b,this},box2d.b2Vec2.prototype.SelfCrossSV=function(a){var b=this.x;return this.x=-a*this.y,this.y=a*b,this},box2d.b2Vec2.prototype.SelfMinV=function(a){return this.x=box2d.b2Min(this.x,a.x),this.y=box2d.b2Min(this.y,a.y),this},box2d.b2Vec2.prototype.SelfMaxV=function(a){return this.x=box2d.b2Max(this.x,a.x),this.y=box2d.b2Max(this.y,a.y),this},box2d.b2Vec2.prototype.SelfAbs=function(){return this.x=box2d.b2Abs(this.x),this.y=box2d.b2Abs(this.y),this},box2d.b2Vec2.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this},box2d.b2Vec2.prototype.SelfSkew=function(){var a=this.x;return this.x=-this.y,this.y=a,this},box2d.b2AbsV=function(a,b){return b.x=box2d.b2Abs(a.x),b.y=box2d.b2Abs(a.y),b},box2d.b2MinV=function(a,b,c){return c.x=box2d.b2Min(a.x,b.x),c.y=box2d.b2Min(a.y,b.y),c},box2d.b2MaxV=function(a,b,c){return c.x=box2d.b2Max(a.x,b.x),c.y=box2d.b2Max(a.y,b.y),c},box2d.b2ClampV=function(a,b,c,d){return d.x=box2d.b2Clamp(a.x,b.x,c.x),d.y=box2d.b2Clamp(a.y,b.y,c.y),d},box2d.b2RotateV=function(a,b,c,d){var e=a.x,a=a.y;return d.x=b*e-c*a,d.y=c*e+b*a,d},box2d.b2RotateRadiansV=function(a,b,c){return box2d.b2RotateV(a,Math.cos(b),Math.sin(b),c)},box2d.b2RotateDegreesV=function(a,b,c){return box2d.b2RotateRadiansV(a,box2d.b2DegToRad(b),c)},box2d.b2DotVV=function(a,b){return a.x*b.x+a.y*b.y},box2d.b2CrossVV=function(a,b){return a.x*b.y-a.y*b.x},box2d.b2CrossVS=function(a,b,c){var d=a.x;return c.x=b*a.y,c.y=-b*d,c},box2d.b2CrossVOne=function(a,b){var c=a.x;return b.x=a.y,b.y=-c,b},box2d.b2CrossSV=function(a,b,c){var d=b.x;return c.x=-a*b.y,c.y=a*d,c},box2d.b2CrossOneV=function(a,b){var c=a.x;return b.x=-a.y,b.y=c,b},box2d.b2AddVV=function(a,b,c){return c.x=a.x+b.x,c.y=a.y+b.y,c},box2d.b2SubVV=function(a,b,c){return c.x=a.x-b.x,c.y=a.y-b.y,c},box2d.b2MulSV=function(a,b,c){return c.x=b.x*a,c.y=b.y*a,c},box2d.b2AddVMulSV=function(a,b,c,d){return d.x=a.x+b*c.x,d.y=a.y+b*c.y,d},box2d.b2SubVMulSV=function(a,b,c,d){return d.x=a.x-b*c.x,d.y=a.y-b*c.y,d},box2d.b2AddVCrossSV=function(a,b,c,d){var e=c.x;return d.x=a.x-b*c.y,d.y=a.y+b*e,d},box2d.b2MidVV=function(a,b,c){return c.x=.5*(a.x+b.x),c.y=.5*(a.y+b.y),c},box2d.b2ExtVV=function(a,b,c){return c.x=.5*(b.x-a.x),c.y=.5*(b.y-a.y),c},box2d.b2IsEqualToV=function(a,b){return a.x===b.x&&a.y===b.y},box2d.b2DistanceVV=function(a,b){var c=a.x-b.x,a=a.y-b.y;return Math.sqrt(c*c+a*a)},box2d.b2DistanceSquaredVV=function(a,b){var c=a.x-b.x,a=a.y-b.y;return c*c+a*a},box2d.b2NegV=function(a,b){return b.x=-a.x,b.y=-a.y,b},box2d.b2Vec3=function(a,b,c){this.x=a||0,this.y=b||0,this.z=c||0},box2d.b2Vec3.prototype.x=0,box2d.b2Vec3.prototype.y=0,box2d.b2Vec3.prototype.z=0,box2d.b2Vec3.ZERO=new box2d.b2Vec3,box2d.b2Vec3.s_t0=new box2d.b2Vec3,box2d.b2Vec3.prototype.Clone=function(){return new box2d.b2Vec3(this.x,this.y,this.z)},box2d.b2Vec3.prototype.SetZero=function(){return this.x=0,this.y=0,this.z=0,this},box2d.b2Vec3.prototype.SetXYZ=function(a,b,c){return this.x=a,this.y=b,this.z=c,this},box2d.b2Vec3.prototype.Copy=function(a){return this.x=a.x,this.y=a.y,this.z=a.z,this},box2d.b2Vec3.prototype.SelfNeg=function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},box2d.b2Vec3.prototype.SelfAdd=function(a){return this.x+=a.x,this.y+=a.y,this.z+=a.z,this},box2d.b2Vec3.prototype.SelfAddXYZ=function(a,b,c){return this.x+=a,this.y+=b,this.z+=c,this},box2d.b2Vec3.prototype.SelfSub=function(a){return this.x-=a.x,this.y-=a.y,this.z-=a.z,this},box2d.b2Vec3.prototype.SelfSubXYZ=function(a,b,c){return this.x-=a,this.y-=b,this.z-=c,this},box2d.b2Vec3.prototype.SelfMul=function(a){return this.x*=a,this.y*=a,this.z*=a,this},box2d.b2DotV3V3=function(a,b){return a.x*b.x+a.y*b.y+a.z*b.z},box2d.b2CrossV3V3=function(a,b,c){var d=a.x,e=a.y,a=a.z,g=b.x,h=b.y,b=b.z;return c.x=e*b-a*h,c.y=a*g-d*b,c.z=d*h-e*g,c},box2d.b2Mat22=function(){this.ex=new box2d.b2Vec2(1,0),this.ey=new box2d.b2Vec2(0,1)},box2d.b2Mat22.prototype.ex=null,box2d.b2Mat22.prototype.ey=null,box2d.b2Mat22.IDENTITY=new box2d.b2Mat22,box2d.b2Mat22.prototype.Clone=function(){return(new box2d.b2Mat22).Copy(this)},box2d.b2Mat22.FromVV=function(a,b){return(new box2d.b2Mat22).SetVV(a,b)},box2d.b2Mat22.FromSSSS=function(a,b,c,d){return(new box2d.b2Mat22).SetSSSS(a,b,c,d)},box2d.b2Mat22.FromAngleRadians=function(a){return(new box2d.b2Mat22).SetAngleRadians(a)},box2d.b2Mat22.prototype.SetSSSS=function(a,b,c,d){return this.ex.SetXY(a,c),this.ey.SetXY(b,d),this},box2d.b2Mat22.prototype.SetVV=function(a,b){return this.ex.Copy(a),this.ey.Copy(b),this},box2d.b2Mat22.prototype.SetAngle=function(a){var b=Math.cos(a),a=Math.sin(a);return this.ex.SetXY(b,a),this.ey.SetXY(-a,b),this},box2d.b2Mat22.prototype.SetAngleRadians=box2d.b2Mat22.prototype.SetAngle,box2d.b2Mat22.prototype.SetAngleDegrees=function(a){return this.SetAngle(box2d.b2DegToRad(a))},box2d.b2Mat22.prototype.Copy=function(a){return this.ex.Copy(a.ex),this.ey.Copy(a.ey),this},box2d.b2Mat22.prototype.SetIdentity=function(){return this.ex.SetXY(1,0),this.ey.SetXY(0,1),this},box2d.b2Mat22.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this},box2d.b2Mat22.prototype.GetAngle=function(){return Math.atan2(this.ex.y,this.ex.x)},box2d.b2Mat22.prototype.GetAngleRadians=box2d.b2Mat22.prototype.GetAngle,box2d.b2Mat22.prototype.GetInverse=function(a){var b=this.ex.x,c=this.ey.x,d=this.ex.y,e=this.ey.y,f=b*e-c*d;return a.ex.x=(f=0!==f?1/f:f)*e,a.ey.x=-f*c,a.ex.y=-f*d,a.ey.y=f*b,a},box2d.b2Mat22.prototype.Solve=function(a,b,c){var d=this.ex.x,e=this.ey.x,f=this.ex.y,g=this.ey.y,h=d*g-e*f;return c.x=(h=0!==h?1/h:h)*(g*a-e*b),c.y=h*(d*b-f*a),c},box2d.b2Mat22.prototype.SelfAbs=function(){return this.ex.SelfAbs(),this.ey.SelfAbs(),this},box2d.b2Mat22.prototype.SelfInv=function(){return this.GetInverse(this)},box2d.b2Mat22.prototype.SelfAddM=function(a){return this.ex.SelfAdd(a.ex),this.ey.SelfAdd(a.ey),this},box2d.b2Mat22.prototype.SelfSubM=function(a){return this.ex.SelfSub(a.ex),this.ey.SelfSub(a.ey),this},box2d.b2AbsM=function(a,b){var c=a.ex,a=a.ey;return b.ex.x=box2d.b2Abs(c.x),b.ex.y=box2d.b2Abs(c.y),b.ey.x=box2d.b2Abs(a.x),b.ey.y=box2d.b2Abs(a.y),b},box2d.b2MulMV=function(a,b,c){var d=a.ex,a=a.ey,f=b.x,b=b.y;return c.x=d.x*f+a.x*b,c.y=d.y*f+a.y*b,c},box2d.b2MulTMV=function(a,b,c){var d=a.ex,a=a.ey,f=b.x,b=b.y;return c.x=d.x*f+d.y*b,c.y=a.x*f+a.y*b,c},box2d.b2AddMM=function(a,b,c){var d=a.ex,a=a.ey,f=b.ex,b=b.ey;return c.ex.x=d.x+f.x,c.ex.y=d.y+f.y,c.ey.x=a.x+b.x,c.ey.y=a.y+b.y,c},box2d.b2MulMM=function(a,b,c){var d=a.ex.x,e=a.ex.y,f=a.ey.x,a=a.ey.y,h=b.ex.x,i=b.ex.y,j=b.ey.x,b=b.ey.y;return c.ex.x=d*h+f*i,c.ex.y=e*h+a*i,c.ey.x=d*j+f*b,c.ey.y=e*j+a*b,c},box2d.b2MulTMM=function(a,b,c){var d=a.ex.x,e=a.ex.y,f=a.ey.x,a=a.ey.y,h=b.ex.x,i=b.ex.y,j=b.ey.x,b=b.ey.y;return c.ex.x=d*h+e*i,c.ex.y=f*h+a*i,c.ey.x=d*j+e*b,c.ey.y=f*j+a*b,c},box2d.b2Mat33=function(){this.ex=new box2d.b2Vec3(1,0,0),this.ey=new box2d.b2Vec3(0,1,0),this.ez=new box2d.b2Vec3(0,0,1)},box2d.b2Mat33.prototype.ex=null,box2d.b2Mat33.prototype.ey=null,box2d.b2Mat33.prototype.ez=null,box2d.b2Mat33.IDENTITY=new box2d.b2Mat33,box2d.b2Mat33.prototype.Clone=function(){return(new box2d.b2Mat33).Copy(this)},box2d.b2Mat33.prototype.SetVVV=function(a,b,c){return this.ex.Copy(a),this.ey.Copy(b),this.ez.Copy(c),this},box2d.b2Mat33.prototype.Copy=function(a){return this.ex.Copy(a.ex),this.ey.Copy(a.ey),this.ez.Copy(a.ez),this},box2d.b2Mat33.prototype.SetIdentity=function(){return this.ex.SetXYZ(1,0,0),this.ey.SetXYZ(0,1,0),this.ez.SetXYZ(0,0,1),this},box2d.b2Mat33.prototype.SetZero=function(){return this.ex.SetZero(),this.ey.SetZero(),this.ez.SetZero(),this},box2d.b2Mat33.prototype.SelfAddM=function(a){return this.ex.SelfAdd(a.ex),this.ey.SelfAdd(a.ey),this.ez.SelfAdd(a.ez),this},box2d.b2Mat33.prototype.Solve33=function(a,b,c,d){var e=this.ex.x,f=this.ex.y,g=this.ex.z,h=this.ey.x,i=this.ey.y,j=this.ey.z,k=this.ez.x,l=this.ez.y,m=this.ez.z,n=e*(i*m-j*l)+f*(j*k-h*m)+g*(h*l-i*k);return d.x=(n=0!==n?1/n:n)*(a*(i*m-j*l)+b*(j*k-h*m)+c*(h*l-i*k)),d.y=n*(e*(b*m-c*l)+f*(c*k-a*m)+g*(a*l-b*k)),d.z=n*(e*(i*c-j*b)+f*(j*a-h*c)+g*(h*b-i*a)),d},box2d.b2Mat33.prototype.Solve22=function(a,b,c){var d=this.ex.x,e=this.ey.x,f=this.ex.y,g=this.ey.y,h=d*g-e*f;return c.x=(h=0!==h?1/h:h)*(g*a-e*b),c.y=h*(d*b-f*a),c},box2d.b2Mat33.prototype.GetInverse22=function(a){var b=this.ex.x,c=this.ey.x,d=this.ex.y,e=this.ey.y,f=b*e-c*d;a.ex.x=(f=0!==f?1/f:f)*e,a.ey.x=-f*c,a.ex.z=0,a.ex.y=-f*d,a.ey.y=f*b,a.ey.z=0,a.ez.x=0,a.ez.y=0,a.ez.z=0},box2d.b2Mat33.prototype.GetSymInverse33=function(a){var b=box2d.b2DotV3V3(this.ex,box2d.b2CrossV3V3(this.ey,this.ez,box2d.b2Vec3.s_t0)),c=this.ex.x,d=this.ey.x,e=this.ez.x,f=this.ey.y,g=this.ez.y,h=this.ez.z;a.ex.x=(b=0!==b?1/b:b)*(f*h-g*g),a.ex.y=b*(e*g-d*h),a.ex.z=b*(d*g-e*f),a.ey.x=a.ex.y,a.ey.y=b*(c*h-e*e),a.ey.z=b*(e*d-c*g),a.ez.x=a.ex.z,a.ez.y=a.ey.z,a.ez.z=b*(c*f-d*d)},box2d.b2MulM33V3=function(a,b,c){var d=b.x,e=b.y,b=b.z;return c.x=a.ex.x*d+a.ey.x*e+a.ez.x*b,c.y=a.ex.y*d+a.ey.y*e+a.ez.y*b,c.z=a.ex.z*d+a.ey.z*e+a.ez.z*b,c},box2d.b2MulM33XYZ=function(a,b,c,d,e){return e.x=a.ex.x*b+a.ey.x*c+a.ez.x*d,e.y=a.ex.y*b+a.ey.y*c+a.ez.y*d,e.z=a.ex.z*b+a.ey.z*c+a.ez.z*d,e},box2d.b2MulM33V2=function(a,b,c){var d=b.x,b=b.y;return c.x=a.ex.x*d+a.ey.x*b,c.y=a.ex.y*d+a.ey.y*b,c},box2d.b2MulM33XY=function(a,b,c,d){return d.x=a.ex.x*b+a.ey.x*c,d.y=a.ex.y*b+a.ey.y*c,d},box2d.b2Rot=function(a){a&&(this.angle=a,this.s=Math.sin(a),this.c=Math.cos(a))},box2d.b2Rot.prototype.angle=0,box2d.b2Rot.prototype.s=0,box2d.b2Rot.prototype.c=1,box2d.b2Rot.IDENTITY=new box2d.b2Rot,box2d.b2Rot.prototype.Clone=function(){return(new box2d.b2Rot).Copy(this)},box2d.b2Rot.prototype.Copy=function(a){return this.angle=a.angle,this.s=a.s,this.c=a.c,this},box2d.b2Rot.prototype.SetAngle=function(a){return this.angle!==a&&(this.angle=a,this.s=Math.sin(a),this.c=Math.cos(a)),this},box2d.b2Rot.prototype.SetAngleRadians=box2d.b2Rot.prototype.SetAngle,box2d.b2Rot.prototype.SetAngleDegrees=function(a){return this.SetAngle(box2d.b2DegToRad(a))},box2d.b2Rot.prototype.SetIdentity=function(){return this.angle=0,this.s=0,this.c=1,this},box2d.b2Rot.prototype.GetAngle=function(){return this.angle},box2d.b2Rot.prototype.GetAngleRadians=box2d.b2Rot.prototype.GetAngle,box2d.b2Rot.prototype.GetAngleDegrees=function(){return box2d.b2RadToDeg(this.GetAngle())},box2d.b2Rot.prototype.GetXAxis=function(a){return a.x=this.c,a.y=this.s,a},box2d.b2Rot.prototype.GetYAxis=function(a){return a.x=-this.s,a.y=this.c,a},box2d.b2MulRR=function(a,b,c){var d=a.c,e=a.s,f=b.c,g=b.s;for(c.s=e*f+d*g,c.c=d*f-e*g,c.angle=a.angle+b.angle;c.angle<-box2d.b2_pi;)c.angle+=box2d.b2_two_pi;for(;c.angle>=box2d.b2_pi;)c.angle-=box2d.b2_two_pi;return c},box2d.b2MulTRR=function(a,b,c){var d=a.c,e=a.s,f=b.c,g=b.s;for(c.s=d*g-e*f,c.c=d*f+e*g,c.angle=a.angle-b.angle;c.angle<-box2d.b2_pi;)c.angle+=box2d.b2_two_pi;for(;c.angle>=box2d.b2_pi;)c.angle-=box2d.b2_two_pi;return c},box2d.b2MulRV=function(a,b,c){var d=a.c,a=a.s,f=b.x,b=b.y;return c.x=d*f-a*b,c.y=a*f+d*b,c},box2d.b2MulTRV=function(a,b,c){var d=a.c,a=a.s,f=b.x,b=b.y;return c.x=d*f+a*b,c.y=-a*f+d*b,c},box2d.b2Transform=function(){this.p=new box2d.b2Vec2,this.q=new box2d.b2Rot},box2d.b2Transform.prototype.p=null,box2d.b2Transform.prototype.q=null,box2d.b2Transform.IDENTITY=new box2d.b2Transform,box2d.b2Transform.prototype.Clone=function(){return(new box2d.b2Transform).Copy(this)},box2d.b2Transform.prototype.Copy=function(a){return this.p.Copy(a.p),this.q.Copy(a.q),this},box2d.b2Transform.prototype.SetIdentity=function(){return this.p.SetZero(),this.q.SetIdentity(),this},box2d.b2Transform.prototype.SetPositionRotation=function(a,b){return this.p.Copy(a),this.q.Copy(b),this},box2d.b2Transform.prototype.SetPositionAngleRadians=function(a,b){return this.p.Copy(a),this.q.SetAngleRadians(b),this},box2d.b2Transform.prototype.SetPosition=function(a){return this.p.Copy(a),this},box2d.b2Transform.prototype.SetPositionXY=function(a,b){return this.p.SetXY(a,b),this},box2d.b2Transform.prototype.SetRotation=function(a){return this.q.Copy(a),this},box2d.b2Transform.prototype.SetRotationAngleRadians=function(a){return this.q.SetAngleRadians(a),this},box2d.b2Transform.prototype.GetPosition=function(){return this.p},box2d.b2Transform.prototype.GetRotation=function(){return this.q},box2d.b2Transform.prototype.GetRotationAngle=function(){return this.q.GetAngle()},box2d.b2Transform.prototype.GetRotationAngleRadians=box2d.b2Transform.prototype.GetRotationAngle,box2d.b2Transform.prototype.GetAngle=function(){return this.q.GetAngle()},box2d.b2Transform.prototype.GetAngleRadians=box2d.b2Transform.prototype.GetAngle,box2d.b2MulXV=function(a,b,c){var d=a.q.c,e=a.q.s,f=b.x,b=b.y;return c.x=d*f-e*b+a.p.x,c.y=e*f+d*b+a.p.y,c},box2d.b2MulTXV=function(a,b,c){var d=a.q.c,e=a.q.s,f=b.x-a.p.x,b=b.y-a.p.y;return c.x=d*f+e*b,c.y=-e*f+d*b,c},box2d.b2MulXX=function(a,b,c){return box2d.b2MulRR(a.q,b.q,c.q),box2d.b2AddVV(box2d.b2MulRV(a.q,b.p,c.p),a.p,c.p),c},box2d.b2MulTXX=function(a,b,c){return box2d.b2MulTRR(a.q,b.q,c.q),box2d.b2MulTRV(a.q,box2d.b2SubVV(b.p,a.p,c.p),c.p),c},box2d.b2Sweep=function(){this.localCenter=new box2d.b2Vec2,this.c0=new box2d.b2Vec2,this.c=new box2d.b2Vec2},box2d.b2Sweep.prototype.localCenter=null,box2d.b2Sweep.prototype.c0=null,box2d.b2Sweep.prototype.c=null,box2d.b2Sweep.prototype.a0=0,box2d.b2Sweep.prototype.a=0,box2d.b2Sweep.prototype.alpha0=0,box2d.b2Sweep.prototype.Clone=function(){return(new box2d.b2Sweep).Copy(this)},box2d.b2Sweep.prototype.Copy=function(a){return this.localCenter.Copy(a.localCenter),this.c0.Copy(a.c0),this.c.Copy(a.c),this.a0=a.a0,this.a=a.a,this.alpha0=a.alpha0,this},box2d.b2Sweep.prototype.GetTransform=function(a,b){var c=1-b,c=(a.p.x=c*this.c0.x+b*this.c.x,a.p.y=c*this.c0.y+b*this.c.y,c*this.a0+b*this.a);return a.q.SetAngleRadians(c),a.p.SelfSub(box2d.b2MulRV(a.q,this.localCenter,box2d.b2Vec2.s_t0)),a},box2d.b2Sweep.prototype.Advance=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.alpha0<1);var b=(a-this.alpha0)/(1-this.alpha0);this.c0.x+=b*(this.c.x-this.c0.x),this.c0.y+=b*(this.c.y-this.c0.y),this.a0+=b*(this.a-this.a0),this.alpha0=a},box2d.b2Sweep.prototype.Normalize=function(){var a=box2d.b2_two_pi*Math.floor(this.a0/box2d.b2_two_pi);this.a0-=a,this.a-=a},goog.provide("box2d.b2Controller"),goog.require("box2d.b2Settings"),box2d.b2ControllerEdge=function(){},box2d.b2ControllerEdge.prototype.controller=null,box2d.b2ControllerEdge.prototype.body=null,box2d.b2ControllerEdge.prototype.prevBody=null,box2d.b2ControllerEdge.prototype.nextBody=null,box2d.b2ControllerEdge.prototype.prevController=null,box2d.b2ControllerEdge.prototype.nextController=null,box2d.b2Controller=function(){},box2d.b2Controller.prototype.m_world=null,box2d.b2Controller.prototype.m_bodyList=null,box2d.b2Controller.prototype.m_bodyCount=0,box2d.b2Controller.prototype.m_prev=null,box2d.b2Controller.prototype.m_next=null,box2d.b2Controller.prototype.Step=function(){},box2d.b2Controller.prototype.Draw=function(){},box2d.b2Controller.prototype.GetNext=function(){return this.m_next},box2d.b2Controller.prototype.GetPrev=function(){return this.m_prev},box2d.b2Controller.prototype.GetWorld=function(){return this.m_world},box2d.b2Controller.prototype.GetBodyList=function(){return this.m_bodyList},box2d.b2Controller.prototype.AddBody=function(a){var b=new box2d.b2ControllerEdge;b.body=a,b.controller=this,b.nextBody=this.m_bodyList,b.prevBody=null,this.m_bodyList&&(this.m_bodyList.prevBody=b),this.m_bodyList=b,++this.m_bodyCount,b.nextController=a.m_controllerList,b.prevController=null,a.m_controllerList&&(a.m_controllerList.prevController=b),a.m_controllerList=b,++a.m_controllerCount},box2d.b2Controller.prototype.RemoveBody=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_bodyCount);for(var b=this.m_bodyList;b&&b.body!==a;)b=b.nextBody;box2d.ENABLE_ASSERTS&&box2d.b2Assert(null!==b),b.prevBody&&(b.prevBody.nextBody=b.nextBody),b.nextBody&&(b.nextBody.prevBody=b.prevBody),this.m_bodyList===b&&(this.m_bodyList=b.nextBody),--this.m_bodyCount,b.nextController&&(b.nextController.prevController=b.prevController),b.prevController&&(b.prevController.nextController=b.nextController),a.m_controllerList===b&&(a.m_controllerList=b.nextController),--a.m_controllerCount},box2d.b2Controller.prototype.Clear=function(){for(;this.m_bodyList;)this.RemoveBody(this.m_bodyList.body);this.m_bodyCount=0},goog.provide("box2d.b2ConstantAccelController"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Controller"),goog.require("box2d.b2Math"),box2d.b2ConstantAccelController=function(){goog.base(this),this.A=new box2d.b2Vec2(0,0)},goog.inherits(box2d.b2ConstantAccelController,box2d.b2Controller),box2d.b2ConstantAccelController.prototype.A=null,box2d.b2ConstantAccelController.prototype.Step=function(a){for(var b=box2d.b2MulSV(a.dt,this.A,box2d.b2ConstantAccelController.prototype.Step.s_dtA),c=this.m_bodyList;c;c=c.nextBody){var d=c.body;d.IsAwake()&&d.SetLinearVelocity(box2d.b2AddVV(d.GetLinearVelocity(),b,box2d.b2Vec2.s_t0))}},box2d.b2ConstantAccelController.prototype.Step.s_dtA=new box2d.b2Vec2,goog.provide("box2d.b2Joint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),box2d.b2JointType={e_unknownJoint:0,e_revoluteJoint:1,e_prismaticJoint:2,e_distanceJoint:3,e_pulleyJoint:4,e_mouseJoint:5,e_gearJoint:6,e_wheelJoint:7,e_weldJoint:8,e_frictionJoint:9,e_ropeJoint:10,e_motorJoint:11,e_areaJoint:12},goog.exportProperty(box2d.b2JointType,"e_unknownJoint",box2d.b2JointType.e_unknownJoint),goog.exportProperty(box2d.b2JointType,"e_revoluteJoint",box2d.b2JointType.e_revoluteJoint),goog.exportProperty(box2d.b2JointType,"e_prismaticJoint",box2d.b2JointType.e_prismaticJoint),goog.exportProperty(box2d.b2JointType,"e_distanceJoint",box2d.b2JointType.e_distanceJoint),goog.exportProperty(box2d.b2JointType,"e_pulleyJoint",box2d.b2JointType.e_pulleyJoint),goog.exportProperty(box2d.b2JointType,"e_mouseJoint",box2d.b2JointType.e_mouseJoint),goog.exportProperty(box2d.b2JointType,"e_gearJoint",box2d.b2JointType.e_gearJoint),goog.exportProperty(box2d.b2JointType,"e_wheelJoint",box2d.b2JointType.e_wheelJoint),goog.exportProperty(box2d.b2JointType,"e_weldJoint",box2d.b2JointType.e_weldJoint),goog.exportProperty(box2d.b2JointType,"e_frictionJoint",box2d.b2JointType.e_frictionJoint),goog.exportProperty(box2d.b2JointType,"e_ropeJoint",box2d.b2JointType.e_ropeJoint),goog.exportProperty(box2d.b2JointType,"e_motorJoint",box2d.b2JointType.e_motorJoint),goog.exportProperty(box2d.b2JointType,"e_areaJoint",box2d.b2JointType.e_areaJoint),box2d.b2LimitState={e_inactiveLimit:0,e_atLowerLimit:1,e_atUpperLimit:2,e_equalLimits:3},goog.exportProperty(box2d.b2LimitState,"e_inactiveLimit",box2d.b2LimitState.e_inactiveLimit),goog.exportProperty(box2d.b2LimitState,"e_atLowerLimit",box2d.b2LimitState.e_atLowerLimit),goog.exportProperty(box2d.b2LimitState,"e_atUpperLimit",box2d.b2LimitState.e_atUpperLimit),goog.exportProperty(box2d.b2LimitState,"e_equalLimits",box2d.b2LimitState.e_equalLimits),box2d.b2Jacobian=function(){this.linear=new box2d.b2Vec2},box2d.b2Jacobian.prototype.linear=null,box2d.b2Jacobian.prototype.angularA=0,box2d.b2Jacobian.prototype.angularB=0,box2d.b2Jacobian.prototype.SetZero=function(){return this.linear.SetZero(),this.angularA=0,this.angularB=0,this},box2d.b2Jacobian.prototype.Set=function(a,b,c){return this.linear.Copy(a),this.angularA=b,this.angularB=c,this},box2d.b2JointEdge=function(){},box2d.b2JointEdge.prototype.other=null,box2d.b2JointEdge.prototype.joint=null,box2d.b2JointEdge.prototype.prev=null,box2d.b2JointEdge.prototype.next=null,box2d.b2JointDef=function(a){this.type=a},box2d.b2JointDef.prototype.type=box2d.b2JointType.e_unknownJoint,box2d.b2JointDef.prototype.userData=null,box2d.b2JointDef.prototype.bodyA=null,box2d.b2JointDef.prototype.bodyB=null,box2d.b2JointDef.prototype.collideConnected=!1,box2d.b2Joint=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.bodyA!==a.bodyB),this.m_type=a.type,this.m_edgeA=new box2d.b2JointEdge,this.m_edgeB=new box2d.b2JointEdge,this.m_bodyA=a.bodyA,this.m_bodyB=a.bodyB,this.m_collideConnected=a.collideConnected,this.m_userData=a.userData},box2d.b2Joint.prototype.m_type=box2d.b2JointType.e_unknownJoint,box2d.b2Joint.prototype.m_prev=null,box2d.b2Joint.prototype.m_next=null,box2d.b2Joint.prototype.m_edgeA=null,box2d.b2Joint.prototype.m_edgeB=null,box2d.b2Joint.prototype.m_bodyA=null,box2d.b2Joint.prototype.m_bodyB=null,box2d.b2Joint.prototype.m_index=0,box2d.b2Joint.prototype.m_islandFlag=!1,box2d.b2Joint.prototype.m_collideConnected=!1,box2d.b2Joint.prototype.m_userData=null,box2d.b2Joint.prototype.GetAnchorA=function(a){return a.SetZero()},box2d.b2Joint.prototype.GetAnchorB=function(a){return a.SetZero()},box2d.b2Joint.prototype.GetReactionForce=function(a,b){return b.SetZero()},box2d.b2Joint.prototype.GetReactionTorque=function(){return 0},box2d.b2Joint.prototype.InitVelocityConstraints=function(){},box2d.b2Joint.prototype.SolveVelocityConstraints=function(){},box2d.b2Joint.prototype.SolvePositionConstraints=function(){return!1},box2d.b2Joint.prototype.GetType=function(){return this.m_type},box2d.b2Joint.prototype.GetBodyA=function(){return this.m_bodyA},box2d.b2Joint.prototype.GetBodyB=function(){return this.m_bodyB},box2d.b2Joint.prototype.GetNext=function(){return this.m_next},box2d.b2Joint.prototype.GetUserData=function(){return this.m_userData},box2d.b2Joint.prototype.SetUserData=function(a){this.m_userData=a},box2d.b2Joint.prototype.GetCollideConnected=function(){return this.m_collideConnected},box2d.b2Joint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log("// Dump is not supported for this joint type.\n")},box2d.b2Joint.prototype.IsActive=function(){return this.m_bodyA.IsActive()&&this.m_bodyB.IsActive()},box2d.b2Joint.prototype.ShiftOrigin=function(){},goog.provide("box2d.b2RevoluteJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2RevoluteJointDef=function(){goog.base(this,box2d.b2JointType.e_revoluteJoint),this.localAnchorA=new box2d.b2Vec2(0,0),this.localAnchorB=new box2d.b2Vec2(0,0)},goog.inherits(box2d.b2RevoluteJointDef,box2d.b2JointDef),box2d.b2RevoluteJointDef.prototype.localAnchorA=null,box2d.b2RevoluteJointDef.prototype.localAnchorB=null,box2d.b2RevoluteJointDef.prototype.referenceAngle=0,box2d.b2RevoluteJointDef.prototype.enableLimit=!1,box2d.b2RevoluteJointDef.prototype.lowerAngle=0,box2d.b2RevoluteJointDef.prototype.upperAngle=0,box2d.b2RevoluteJointDef.prototype.enableMotor=!1,box2d.b2RevoluteJointDef.prototype.motorSpeed=0,box2d.b2RevoluteJointDef.prototype.maxMotorTorque=0,box2d.b2RevoluteJointDef.prototype.Initialize=function(a,b,c){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(c,this.localAnchorA),this.bodyB.GetLocalPoint(c,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngleRadians()-this.bodyA.GetAngleRadians()},box2d.b2RevoluteJoint=function(a){goog.base(this,a),this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_impulse=new box2d.b2Vec3,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat33,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22,this.m_localAnchorA.Copy(a.localAnchorA),this.m_localAnchorB.Copy(a.localAnchorB),this.m_referenceAngle=a.referenceAngle,this.m_impulse.SetZero(),this.m_motorImpulse=0,this.m_lowerAngle=a.lowerAngle,this.m_upperAngle=a.upperAngle,this.m_maxMotorTorque=a.maxMotorTorque,this.m_motorSpeed=a.motorSpeed,this.m_enableLimit=a.enableLimit,this.m_enableMotor=a.enableMotor,this.m_limitState=box2d.b2LimitState.e_inactiveLimit},goog.inherits(box2d.b2RevoluteJoint,box2d.b2Joint),box2d.b2RevoluteJoint.prototype.m_localAnchorA=null,box2d.b2RevoluteJoint.prototype.m_localAnchorB=null,box2d.b2RevoluteJoint.prototype.m_impulse=null,box2d.b2RevoluteJoint.prototype.m_motorImpulse=0,box2d.b2RevoluteJoint.prototype.m_enableMotor=!1,box2d.b2RevoluteJoint.prototype.m_maxMotorTorque=0,box2d.b2RevoluteJoint.prototype.m_motorSpeed=0,box2d.b2RevoluteJoint.prototype.m_enableLimit=!1,box2d.b2RevoluteJoint.prototype.m_referenceAngle=0,box2d.b2RevoluteJoint.prototype.m_lowerAngle=0,box2d.b2RevoluteJoint.prototype.m_upperAngle=0,box2d.b2RevoluteJoint.prototype.m_indexA=0,box2d.b2RevoluteJoint.prototype.m_indexB=0,box2d.b2RevoluteJoint.prototype.m_rA=null,box2d.b2RevoluteJoint.prototype.m_rB=null,box2d.b2RevoluteJoint.prototype.m_localCenterA=null,box2d.b2RevoluteJoint.prototype.m_localCenterB=null,box2d.b2RevoluteJoint.prototype.m_invMassA=0,box2d.b2RevoluteJoint.prototype.m_invMassB=0,box2d.b2RevoluteJoint.prototype.m_invIA=0,box2d.b2RevoluteJoint.prototype.m_invIB=0,box2d.b2RevoluteJoint.prototype.m_mass=null,box2d.b2RevoluteJoint.prototype.m_motorMass=0,box2d.b2RevoluteJoint.prototype.m_limitState=box2d.b2LimitState.e_inactiveLimit,box2d.b2RevoluteJoint.prototype.m_qA=null,box2d.b2RevoluteJoint.prototype.m_qB=null,box2d.b2RevoluteJoint.prototype.m_lalcA=null,box2d.b2RevoluteJoint.prototype.m_lalcB=null,box2d.b2RevoluteJoint.prototype.m_K=null,box2d.b2RevoluteJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexA].a,c=a.velocities[this.m_indexA].v,d=a.velocities[this.m_indexA].w,e=a.positions[this.m_indexB].a,f=a.velocities[this.m_indexB].v,g=a.velocities[this.m_indexB].w,h=this.m_qA.SetAngleRadians(b),i=this.m_qB.SetAngleRadians(e),h=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(h,this.m_lalcA,this.m_rA),box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(i,this.m_lalcB,this.m_rB),this.m_invMassA),i=this.m_invMassB,l=this.m_invIA,m=this.m_invIB,n=l+m===0;this.m_mass.ex.x=h+i+this.m_rA.y*this.m_rA.y*l+this.m_rB.y*this.m_rB.y*m,this.m_mass.ey.x=-this.m_rA.y*this.m_rA.x*l-this.m_rB.y*this.m_rB.x*m,this.m_mass.ez.x=-this.m_rA.y*l-this.m_rB.y*m,this.m_mass.ex.y=this.m_mass.ey.x,this.m_mass.ey.y=h+i+this.m_rA.x*this.m_rA.x*l+this.m_rB.x*this.m_rB.x*m,this.m_mass.ez.y=this.m_rA.x*l+this.m_rB.x*m,this.m_mass.ex.z=this.m_mass.ez.x,this.m_mass.ey.z=this.m_mass.ez.y,this.m_mass.ez.z=l+m,this.m_motorMass=l+m,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),!1!==this.m_enableMotor&&!n||(this.m_motorImpulse=0),this.m_enableLimit&&!1==n?(n=e-b-this.m_referenceAngle,box2d.b2Abs(this.m_upperAngle-this.m_lowerAngle)<2*box2d.b2_angularSlop?this.m_limitState=box2d.b2LimitState.e_equalLimits:n<=this.m_lowerAngle?(this.m_limitState!==box2d.b2LimitState.e_atLowerLimit&&(this.m_impulse.z=0),this.m_limitState=box2d.b2LimitState.e_atLowerLimit):n>=this.m_upperAngle?(this.m_limitState!==box2d.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=0),this.m_limitState=box2d.b2LimitState.e_atUpperLimit):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):this.m_limitState=box2d.b2LimitState.e_inactiveLimit,a.step.warmStarting?(this.m_impulse.SelfMul(a.step.dtRatio),this.m_motorImpulse*=a.step.dtRatio,e=box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P.SetXY(this.m_impulse.x,this.m_impulse.y),c.SelfMulSub(h,e),d-=l*(box2d.b2CrossVV(this.m_rA,e)+this.m_motorImpulse+this.m_impulse.z),f.SelfMulAdd(i,e),g+=m*(box2d.b2CrossVV(this.m_rB,e)+this.m_motorImpulse+this.m_impulse.z)):(this.m_impulse.SetZero(),this.m_motorImpulse=0),a.velocities[this.m_indexA].w=d,a.velocities[this.m_indexB].w=g},box2d.b2RevoluteJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints=function(a){var n,r,s,t,m,k,l,b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=this.m_invMassA,g=this.m_invMassB,h=this.m_invIA,i=this.m_invIB,j=h+i===0;this.m_enableMotor&&this.m_limitState!==box2d.b2LimitState.e_equalLimits&&!1==j&&(k=e-c-this.m_motorSpeed,l=-this.m_motorMass*k,m=this.m_motorImpulse,n=a.step.dt*this.m_maxMotorTorque,this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+l,-n,n),c-=h*(l=this.m_motorImpulse-m),e+=i*l),this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit&&!1==j?(n=box2d.b2SubVV(box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1),l=this.m_mass.Solve33(n.x,n.y,e-c,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3).SelfNeg(),this.m_limitState===box2d.b2LimitState.e_equalLimits?this.m_impulse.SelfAdd(l):this.m_limitState===box2d.b2LimitState.e_atLowerLimit?this.m_impulse.z+l.z<0?(r=-n.x+this.m_impulse.z*this.m_mass.ez.x,s=-n.y+this.m_impulse.z*this.m_mass.ez.y,t=this.m_mass.Solve22(r,s,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),l.x=t.x,l.y=t.y,l.z=-this.m_impulse.z,this.m_impulse.x+=t.x,this.m_impulse.y+=t.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(l):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(0<this.m_impulse.z+l.z?(r=-n.x+this.m_impulse.z*this.m_mass.ez.x,s=-n.y+this.m_impulse.z*this.m_mass.ez.y,t=this.m_mass.Solve22(r,s,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced),l.x=t.x,l.y=t.y,l.z=-this.m_impulse.z,this.m_impulse.x+=t.x,this.m_impulse.y+=t.y,this.m_impulse.z=0):this.m_impulse.SelfAdd(l)),m=box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P.SetXY(l.x,l.y),b.SelfMulSub(f,m),c-=h*(box2d.b2CrossVV(this.m_rA,m)+l.z),d.SelfMulAdd(g,m),e+=i*(box2d.b2CrossVV(this.m_rB,m)+l.z)):(k=box2d.b2SubVV(box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot),l=this.m_mass.Solve22(-k.x,-k.y,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2),this.m_impulse.x+=l.x,this.m_impulse.y+=l.y,b.SelfMulSub(f,l),c-=h*box2d.b2CrossVV(this.m_rA,l),d.SelfMulAdd(g,l),e+=i*box2d.b2CrossVV(this.m_rB,l)),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse3=new box2d.b2Vec3,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_reduced=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolveVelocityConstraints.s_impulse2=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolvePositionConstraints=function(a){var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(e),h=0,j=this.m_invIA+this.m_invIB===0,j=(this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit&&!1==j&&(j=e-c-this.m_referenceAngle,l=0,this.m_limitState===box2d.b2LimitState.e_equalLimits?(m=box2d.b2Clamp(j-this.m_lowerAngle,-box2d.b2_maxAngularCorrection,box2d.b2_maxAngularCorrection),l=-this.m_motorMass*m,h=box2d.b2Abs(m)):this.m_limitState===box2d.b2LimitState.e_atLowerLimit?(h=-(m=j-this.m_lowerAngle),m=box2d.b2Clamp(m+box2d.b2_angularSlop,-box2d.b2_maxAngularCorrection,0),l=-this.m_motorMass*m):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(h=m=j-this.m_upperAngle,m=box2d.b2Clamp(m-box2d.b2_angularSlop,0,box2d.b2_maxAngularCorrection),l=-this.m_motorMass*m),c-=this.m_invIA*l,e+=this.m_invIB*l),f.SetAngleRadians(c),g.SetAngleRadians(e),box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(f,this.m_lalcA,this.m_rA)),l=(box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB)),m=box2d.b2SubVV(box2d.b2AddVV(d,l,box2d.b2Vec2.s_t0),box2d.b2AddVV(b,j,box2d.b2Vec2.s_t1),box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C),f=m.GetLength(),g=this.m_invMassA,q=this.m_invMassB,r=this.m_invIA,s=this.m_invIB,t=this.m_K,t=(t.ex.x=g+q+r*j.y*j.y+s*l.y*l.y,t.ex.y=-r*j.x*j.y-s*l.x*l.y,t.ey.x=t.ex.y,t.ey.y=g+q+r*j.x*j.x+s*l.x*l.x,t.Solve(m.x,m.y,box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse).SelfNeg());return b.SelfMulSub(g,t),c-=r*box2d.b2CrossVV(j,t),d.SelfMulAdd(q,t),e+=s*box2d.b2CrossVV(l,t),a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,f<=box2d.b2_linearSlop&&h<=box2d.b2_angularSlop},box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_C=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec2,box2d.b2RevoluteJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2RevoluteJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2RevoluteJoint.prototype.GetReactionForce=function(a,b){return b.SetXY(a*this.m_impulse.x,a*this.m_impulse.y)},box2d.b2RevoluteJoint.prototype.GetReactionTorque=function(a){return a*this.m_impulse.z},box2d.b2RevoluteJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2RevoluteJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2RevoluteJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle},box2d.b2RevoluteJoint.prototype.GetJointAngleRadians=function(){return this.m_bodyB.m_sweep.a-this.m_bodyA.m_sweep.a-this.m_referenceAngle},box2d.b2RevoluteJoint.prototype.GetJointSpeed=function(){return this.m_bodyB.m_angularVelocity-this.m_bodyA.m_angularVelocity},box2d.b2RevoluteJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor},box2d.b2RevoluteJoint.prototype.EnableMotor=function(a){this.m_enableMotor!==a&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=a)},box2d.b2RevoluteJoint.prototype.GetMotorTorque=function(a){return a*this.m_motorImpulse},box2d.b2RevoluteJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},box2d.b2RevoluteJoint.prototype.SetMaxMotorTorque=function(a){this.m_maxMotorTorque=a},box2d.b2RevoluteJoint.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque},box2d.b2RevoluteJoint.prototype.IsLimitEnabled=function(){return this.m_enableLimit},box2d.b2RevoluteJoint.prototype.EnableLimit=function(a){a!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=a,this.m_impulse.z=0)},box2d.b2RevoluteJoint.prototype.GetLowerLimit=function(){return this.m_lowerAngle},box2d.b2RevoluteJoint.prototype.GetUpperLimit=function(){return this.m_upperAngle},box2d.b2RevoluteJoint.prototype.SetLimits=function(a,b){a===this.m_lowerAngle&&b===this.m_upperAngle||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_impulse.z=0,this.m_lowerAngle=a,this.m_upperAngle=b)},box2d.b2RevoluteJoint.prototype.SetMotorSpeed=function(a){this.m_motorSpeed!==a&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=a)},box2d.b2RevoluteJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2RevoluteJointDef*/ var jd = new box2d.b2RevoluteJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),box2d.b2Log("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),box2d.b2Log("  jd.lowerAngle = %.15f;\n",this.m_lowerAngle),box2d.b2Log("  jd.upperAngle = %.15f;\n",this.m_upperAngle),box2d.b2Log("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),box2d.b2Log("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),box2d.b2Log("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2PrismaticJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2PrismaticJointDef=function(){goog.base(this,box2d.b2JointType.e_prismaticJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2,this.localAxisA=new box2d.b2Vec2(1,0)},goog.inherits(box2d.b2PrismaticJointDef,box2d.b2JointDef),box2d.b2PrismaticJointDef.prototype.localAnchorA=null,box2d.b2PrismaticJointDef.prototype.localAnchorB=null,box2d.b2PrismaticJointDef.prototype.localAxisA=null,box2d.b2PrismaticJointDef.prototype.referenceAngle=0,box2d.b2PrismaticJointDef.prototype.enableLimit=!1,box2d.b2PrismaticJointDef.prototype.lowerTranslation=0,box2d.b2PrismaticJointDef.prototype.upperTranslation=0,box2d.b2PrismaticJointDef.prototype.enableMotor=!1,box2d.b2PrismaticJointDef.prototype.maxMotorForce=0,box2d.b2PrismaticJointDef.prototype.motorSpeed=0,box2d.b2PrismaticJointDef.prototype.Initialize=function(a,b,c,d){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(c,this.localAnchorA),this.bodyB.GetLocalPoint(c,this.localAnchorB),this.bodyA.GetLocalVector(d,this.localAxisA),this.referenceAngle=this.bodyB.GetAngleRadians()-this.bodyA.GetAngleRadians()},box2d.b2PrismaticJoint=function(a){goog.base(this,a),this.m_localAnchorA=a.localAnchorA.Clone(),this.m_localAnchorB=a.localAnchorB.Clone(),this.m_localXAxisA=a.localAxisA.Clone().SelfNormalize(),this.m_localYAxisA=box2d.b2CrossOneV(this.m_localXAxisA,new box2d.b2Vec2),this.m_referenceAngle=a.referenceAngle,this.m_impulse=new box2d.b2Vec3(0,0,0),this.m_lowerTranslation=a.lowerTranslation,this.m_upperTranslation=a.upperTranslation,this.m_maxMotorForce=a.maxMotorForce,this.m_motorSpeed=a.motorSpeed,this.m_enableLimit=a.enableLimit,this.m_enableMotor=a.enableMotor,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_axis=new box2d.b2Vec2(0,0),this.m_perp=new box2d.b2Vec2(0,0),this.m_K=new box2d.b2Mat33,this.m_K3=new box2d.b2Mat33,this.m_K2=new box2d.b2Mat22,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2},goog.inherits(box2d.b2PrismaticJoint,box2d.b2Joint),box2d.b2PrismaticJoint.prototype.m_localAnchorA=null,box2d.b2PrismaticJoint.prototype.m_localAnchorB=null,box2d.b2PrismaticJoint.prototype.m_localXAxisA=null,box2d.b2PrismaticJoint.prototype.m_localYAxisA=null,box2d.b2PrismaticJoint.prototype.m_referenceAngle=0,box2d.b2PrismaticJoint.prototype.m_impulse=null,box2d.b2PrismaticJoint.prototype.m_motorImpulse=0,box2d.b2PrismaticJoint.prototype.m_lowerTranslation=0,box2d.b2PrismaticJoint.prototype.m_upperTranslation=0,box2d.b2PrismaticJoint.prototype.m_maxMotorForce=0,box2d.b2PrismaticJoint.prototype.m_motorSpeed=0,box2d.b2PrismaticJoint.prototype.m_enableLimit=!1,box2d.b2PrismaticJoint.prototype.m_enableMotor=!1,box2d.b2PrismaticJoint.prototype.m_limitState=box2d.b2LimitState.e_inactiveLimit,box2d.b2PrismaticJoint.prototype.m_indexA=0,box2d.b2PrismaticJoint.prototype.m_indexB=0,box2d.b2PrismaticJoint.prototype.m_localCenterA=null,box2d.b2PrismaticJoint.prototype.m_localCenterB=null,box2d.b2PrismaticJoint.prototype.m_invMassA=0,box2d.b2PrismaticJoint.prototype.m_invMassB=0,box2d.b2PrismaticJoint.prototype.m_invIA=0,box2d.b2PrismaticJoint.prototype.m_invIB=0,box2d.b2PrismaticJoint.prototype.m_axis=null,box2d.b2PrismaticJoint.prototype.m_perp=null,box2d.b2PrismaticJoint.prototype.m_s1=0,box2d.b2PrismaticJoint.prototype.m_s2=0,box2d.b2PrismaticJoint.prototype.m_a1=0,box2d.b2PrismaticJoint.prototype.m_a2=0,box2d.b2PrismaticJoint.prototype.m_K=null,box2d.b2PrismaticJoint.prototype.m_K3=null,box2d.b2PrismaticJoint.prototype.m_K2=null,box2d.b2PrismaticJoint.prototype.m_motorMass=0,box2d.b2PrismaticJoint.prototype.m_qA=null,box2d.b2PrismaticJoint.prototype.m_qB=null,box2d.b2PrismaticJoint.prototype.m_lalcA=null,box2d.b2PrismaticJoint.prototype.m_lalcB=null,box2d.b2PrismaticJoint.prototype.m_rA=null,box2d.b2PrismaticJoint.prototype.m_rB=null,box2d.b2PrismaticJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.velocities[this.m_indexA].v,e=a.velocities[this.m_indexA].w,f=a.positions[this.m_indexB].c,g=a.positions[this.m_indexB].a,h=a.velocities[this.m_indexB].v,i=a.velocities[this.m_indexB].w,c=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(g),l=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(c,this.m_lalcA,this.m_rA)),g=(box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB)),f=box2d.b2AddVV(box2d.b2SubVV(f,b,box2d.b2Vec2.s_t0),box2d.b2SubVV(g,l,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d),b=this.m_invMassA,p=this.m_invMassB,q=this.m_invIA,r=this.m_invIB;box2d.b2MulRV(c,this.m_localXAxisA,this.m_axis),this.m_a1=box2d.b2CrossVV(box2d.b2AddVV(f,l,box2d.b2Vec2.s_t0),this.m_axis),this.m_a2=box2d.b2CrossVV(g,this.m_axis),this.m_motorMass=b+p+q*this.m_a1*this.m_a1+r*this.m_a2*this.m_a2,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass),box2d.b2MulRV(c,this.m_localYAxisA,this.m_perp),this.m_s1=box2d.b2CrossVV(box2d.b2AddVV(f,l,box2d.b2Vec2.s_t0),this.m_perp),this.m_s2=box2d.b2CrossVV(g,this.m_perp),this.m_K.ex.x=b+p+q*this.m_s1*this.m_s1+r*this.m_s2*this.m_s2,this.m_K.ex.y=q*this.m_s1+r*this.m_s2,this.m_K.ex.z=q*this.m_s1*this.m_a1+r*this.m_s2*this.m_a2,this.m_K.ey.x=this.m_K.ex.y,this.m_K.ey.y=q+r,0===this.m_K.ey.y&&(this.m_K.ey.y=1),this.m_K.ey.z=q*this.m_a1+r*this.m_a2,this.m_K.ez.x=this.m_K.ex.z,this.m_K.ez.y=this.m_K.ey.z,this.m_K.ez.z=b+p+q*this.m_a1*this.m_a1+r*this.m_a2*this.m_a2,this.m_enableLimit?(c=box2d.b2DotVV(this.m_axis,f),box2d.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*box2d.b2_linearSlop?this.m_limitState=box2d.b2LimitState.e_equalLimits:c<=this.m_lowerTranslation?this.m_limitState!==box2d.b2LimitState.e_atLowerLimit&&(this.m_limitState=box2d.b2LimitState.e_atLowerLimit,this.m_impulse.z=0):c>=this.m_upperTranslation?this.m_limitState!==box2d.b2LimitState.e_atUpperLimit&&(this.m_limitState=box2d.b2LimitState.e_atUpperLimit,this.m_impulse.z=0):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0)):(this.m_limitState=box2d.b2LimitState.e_inactiveLimit,this.m_impulse.z=0),!1===this.m_enableMotor&&(this.m_motorImpulse=0),a.step.warmStarting?(this.m_impulse.SelfMul(a.step.dtRatio),this.m_motorImpulse*=a.step.dtRatio,l=box2d.b2AddVV(box2d.b2MulSV(this.m_impulse.x,this.m_perp,box2d.b2Vec2.s_t0),box2d.b2MulSV(this.m_motorImpulse+this.m_impulse.z,this.m_axis,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P),g=this.m_impulse.x*this.m_s1+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a1,f=this.m_impulse.x*this.m_s2+this.m_impulse.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_a2,d.SelfMulSub(b,l),e-=q*g,h.SelfMulAdd(p,l),i+=r*f):(this.m_impulse.SetZero(),this.m_motorImpulse=0),a.velocities[this.m_indexA].w=e,a.velocities[this.m_indexB].w=i},box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_d=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints=function(a){var t,w,v,s,m,l,j,b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=this.m_invMassA,g=this.m_invMassB,h=this.m_invIA,i=this.m_invIB,q=(this.m_enableMotor&&this.m_limitState!==box2d.b2LimitState.e_equalLimits&&(j=box2d.b2DotVV(this.m_axis,box2d.b2SubVV(d,b,box2d.b2Vec2.s_t0))+this.m_a2*e-this.m_a1*c,j=this.m_motorMass*(this.m_motorSpeed-j),l=this.m_motorImpulse,m=a.step.dt*this.m_maxMotorForce,this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+j,-m,m),j=this.m_motorImpulse-l,m=box2d.b2MulSV(j,this.m_axis,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),l=j*this.m_a1,j=j*this.m_a2,b.SelfMulSub(f,m),c-=h*l,d.SelfMulAdd(g,m),e+=i*j),box2d.b2DotVV(this.m_perp,box2d.b2SubVV(d,b,box2d.b2Vec2.s_t0))+this.m_s2*e-this.m_s1*c),r=e-c;j=this.m_enableLimit&&this.m_limitState!==box2d.b2LimitState.e_inactiveLimit?(s=box2d.b2DotVV(this.m_axis,box2d.b2SubVV(d,b,box2d.b2Vec2.s_t0))+this.m_a2*e-this.m_a1*c,t=box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1.Copy(this.m_impulse),s=this.m_K.Solve33(-q,-r,-s,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3),this.m_impulse.SelfAdd(s),this.m_limitState===box2d.b2LimitState.e_atLowerLimit?this.m_impulse.z=box2d.b2Max(this.m_impulse.z,0):this.m_limitState===box2d.b2LimitState.e_atUpperLimit&&(this.m_impulse.z=box2d.b2Min(this.m_impulse.z,0)),v=-q-(this.m_impulse.z-t.z)*this.m_K.ez.x,w=-r-(this.m_impulse.z-t.z)*this.m_K.ez.y,(v=this.m_K.Solve22(v,w,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r)).x+=t.x,v.y+=t.y,this.m_impulse.x=v.x,this.m_impulse.y=v.y,s.x=this.m_impulse.x-t.x,s.y=this.m_impulse.y-t.y,s.z=this.m_impulse.z-t.z,m=box2d.b2AddVV(box2d.b2MulSV(s.x,this.m_perp,box2d.b2Vec2.s_t0),box2d.b2MulSV(s.z,this.m_axis,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),l=s.x*this.m_s1+s.y+s.z*this.m_a1,s.x*this.m_s2+s.y+s.z*this.m_a2):(s=this.m_K.Solve22(-q,-r,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2),this.m_impulse.x+=s.x,this.m_impulse.y+=s.y,m=box2d.b2MulSV(s.x,this.m_perp,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P),l=s.x*this.m_s1+s.y,s.x*this.m_s2+s.y),b.SelfMulSub(f,m),c-=h*l,d.SelfMulAdd(g,m),e+=i*j,a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f2r=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_f1=new box2d.b2Vec3,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df3=new box2d.b2Vec3,box2d.b2PrismaticJoint.prototype.SolveVelocityConstraints.s_df2=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints=function(a){var D,F,E,b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(e),h=this.m_invMassA,i=this.m_invMassB,j=this.m_invIA,k=this.m_invIB,l=box2d.b2MulRV(f,this.m_lalcA,this.m_rA),g=box2d.b2MulRV(g,this.m_lalcB,this.m_rB),n=box2d.b2SubVV(box2d.b2AddVV(d,g,box2d.b2Vec2.s_t0),box2d.b2AddVV(b,l,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d),o=box2d.b2MulRV(f,this.m_localXAxisA,this.m_axis),p=box2d.b2CrossVV(box2d.b2AddVV(n,l,box2d.b2Vec2.s_t0),o),q=box2d.b2CrossVV(g,o),f=box2d.b2MulRV(f,this.m_localYAxisA,this.m_perp),l=box2d.b2CrossVV(box2d.b2AddVV(n,l,box2d.b2Vec2.s_t0),f),g=box2d.b2CrossVV(g,f),u=box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse,v=box2d.b2DotVV(f,n),w=e-c-this.m_referenceAngle,x=box2d.b2Abs(v),y=box2d.b2Abs(w),z=!1,A=0,z=(this.m_enableLimit&&(n=box2d.b2DotVV(o,n),box2d.b2Abs(this.m_upperTranslation-this.m_lowerTranslation)<2*box2d.b2_linearSlop?(A=box2d.b2Clamp(n,-box2d.b2_maxLinearCorrection,box2d.b2_maxLinearCorrection),x=box2d.b2Max(x,box2d.b2Abs(n)),z=!0):n<=this.m_lowerTranslation?(A=box2d.b2Clamp(n-this.m_lowerTranslation+box2d.b2_linearSlop,-box2d.b2_maxLinearCorrection,0),x=box2d.b2Max(x,this.m_lowerTranslation-n),z=!0):n>=this.m_upperTranslation&&(A=box2d.b2Clamp(n-this.m_upperTranslation-box2d.b2_linearSlop,0,box2d.b2_maxLinearCorrection),x=box2d.b2Max(x,n-this.m_upperTranslation),z=!0)),z?(0===(F=j+k)&&(F=1),n=j*p+k*q,z=h+i+j*p*p+k*q*q,(I=this.m_K3).ex.SetXYZ(h+i+j*l*l+k*g*g,D=j*l+k*g,E=j*l*p+k*g*q),I.ey.SetXYZ(D,F,n),I.ez.SetXYZ(E,n,z),u=I.Solve33(-v,-w,-A,u)):(0===(F=j+k)&&(F=1),(E=this.m_K2).ex.SetXY(h+i+j*l*l+k*g*g,D=j*l+k*g),E.ey.SetXY(D,F),n=E.Solve(-v,-w,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1),u.x=n.x,u.y=n.y,u.z=0),box2d.b2AddVV(box2d.b2MulSV(u.x,f,box2d.b2Vec2.s_t0),box2d.b2MulSV(u.z,o,box2d.b2Vec2.s_t1),box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P)),I=u.x*l+u.y+u.z*p,A=u.x*g+u.y+u.z*q;return b.SelfMulSub(h,z),c-=j*I,d.SelfMulAdd(i,z),e+=k*A,a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,x<=box2d.b2_linearSlop&&y<=box2d.b2_angularSlop},box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_d=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec3,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_impulse1=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2PrismaticJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2PrismaticJoint.prototype.GetReactionForce=function(a,b){return b.SetXY(a*(this.m_impulse.x*this.m_perp.x+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.x),a*(this.m_impulse.x*this.m_perp.y+(this.m_motorImpulse+this.m_impulse.z)*this.m_axis.y))},box2d.b2PrismaticJoint.prototype.GetReactionTorque=function(a){return a*this.m_impulse.y},box2d.b2PrismaticJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2PrismaticJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2PrismaticJoint.prototype.GetLocalAxisA=function(a){return a.Copy(this.m_localXAxisA)},box2d.b2PrismaticJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle},box2d.b2PrismaticJoint.prototype.GetJointTranslation=function(){var a=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA),b=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB),b=box2d.b2SubVV(b,a,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d),a=this.m_bodyA.GetWorldVector(this.m_localXAxisA,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis);return box2d.b2DotVV(b,a)},box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pA=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_pB=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_d=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.GetJointTranslation.s_axis=new box2d.b2Vec2,box2d.b2PrismaticJoint.prototype.GetJointSpeed=function(){var a=this.m_bodyA,b=this.m_bodyB,c=(box2d.b2SubVV(this.m_localAnchorA,a.m_sweep.localCenter,this.m_lalcA),box2d.b2MulRV(a.m_xf.q,this.m_lalcA,this.m_rA)),d=(box2d.b2SubVV(this.m_localAnchorB,b.m_sweep.localCenter,this.m_lalcB),box2d.b2MulRV(b.m_xf.q,this.m_lalcB,this.m_rB)),e=box2d.b2AddVV(a.m_sweep.c,c,box2d.b2Vec2.s_t0),f=box2d.b2AddVV(b.m_sweep.c,d,box2d.b2Vec2.s_t1),f=box2d.b2SubVV(f,e,box2d.b2Vec2.s_t2),e=a.GetWorldVector(this.m_localXAxisA,this.m_axis),i=a.m_linearVelocity,j=b.m_linearVelocity,a=a.m_angularVelocity,b=b.m_angularVelocity;return box2d.b2DotVV(f,box2d.b2CrossSV(a,e,box2d.b2Vec2.s_t0))+box2d.b2DotVV(e,box2d.b2SubVV(box2d.b2AddVCrossSV(j,b,d,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(i,a,c,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0))},box2d.b2PrismaticJoint.prototype.IsLimitEnabled=function(){return this.m_enableLimit},box2d.b2PrismaticJoint.prototype.EnableLimit=function(a){a!==this.m_enableLimit&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableLimit=a,this.m_impulse.z=0)},box2d.b2PrismaticJoint.prototype.GetLowerLimit=function(){return this.m_lowerTranslation},box2d.b2PrismaticJoint.prototype.GetUpperLimit=function(){return this.m_upperTranslation},box2d.b2PrismaticJoint.prototype.SetLimits=function(a,b){a===this.m_lowerTranslation&&b===this.m_upperTranslation||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_lowerTranslation=a,this.m_upperTranslation=b,this.m_impulse.z=0)},box2d.b2PrismaticJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor},box2d.b2PrismaticJoint.prototype.EnableMotor=function(a){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=a},box2d.b2PrismaticJoint.prototype.SetMotorSpeed=function(a){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=a},box2d.b2PrismaticJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},box2d.b2PrismaticJoint.prototype.SetMaxMotorForce=function(a){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorForce=a},box2d.b2PrismaticJoint.prototype.GetMaxMotorForce=function(){return this.m_maxMotorForce},box2d.b2PrismaticJoint.prototype.GetMotorForce=function(a){return a*this.m_motorImpulse},box2d.b2PrismaticJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2PrismaticJointDef*/ var jd = new box2d.b2PrismaticJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.localAxisA.SetXY(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),box2d.b2Log("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),box2d.b2Log("  jd.enableLimit = %s;\n",this.m_enableLimit?"true":"false"),box2d.b2Log("  jd.lowerTranslation = %.15f;\n",this.m_lowerTranslation),box2d.b2Log("  jd.upperTranslation = %.15f;\n",this.m_upperTranslation),box2d.b2Log("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),box2d.b2Log("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),box2d.b2Log("  jd.maxMotorForce = %.15f;\n",this.m_maxMotorForce),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2GearJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),goog.require("box2d.b2RevoluteJoint"),goog.require("box2d.b2PrismaticJoint"),box2d.b2GearJointDef=function(){goog.base(this,box2d.b2JointType.e_gearJoint)},goog.inherits(box2d.b2GearJointDef,box2d.b2JointDef),box2d.b2GearJointDef.prototype.joint1=null,box2d.b2GearJointDef.prototype.joint2=null,box2d.b2GearJointDef.prototype.ratio=1,box2d.b2GearJoint=function(a){goog.base(this,a),this.m_joint1=a.joint1,this.m_joint2=a.joint2,this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_localAnchorC=new box2d.b2Vec2,this.m_localAnchorD=new box2d.b2Vec2,this.m_localAxisC=new box2d.b2Vec2,this.m_localAxisD=new box2d.b2Vec2,this.m_lcA=new box2d.b2Vec2,this.m_lcB=new box2d.b2Vec2,this.m_lcC=new box2d.b2Vec2,this.m_lcD=new box2d.b2Vec2,this.m_JvAC=new box2d.b2Vec2,this.m_JvBD=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_qC=new box2d.b2Rot,this.m_qD=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_lalcC=new box2d.b2Vec2,this.m_lalcD=new box2d.b2Vec2,this.m_typeA=this.m_joint1.GetType(),this.m_typeB=this.m_joint2.GetType(),box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_typeA===box2d.b2JointType.e_revoluteJoint||this.m_typeA===box2d.b2JointType.e_prismaticJoint),box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_typeB===box2d.b2JointType.e_revoluteJoint||this.m_typeB===box2d.b2JointType.e_prismaticJoint),this.m_bodyC=this.m_joint1.GetBodyA(),this.m_bodyA=this.m_joint1.GetBodyB();var i,h,d=this.m_bodyA.m_xf,e=this.m_bodyA.m_sweep.a,f=this.m_bodyC.m_xf,g=this.m_bodyC.m_sweep.a,f=(d=this.m_typeA===box2d.b2JointType.e_revoluteJoint?(h=a.joint1,this.m_localAnchorC.Copy(h.m_localAnchorA),this.m_localAnchorA.Copy(h.m_localAnchorB),this.m_referenceAngleA=h.m_referenceAngle,this.m_localAxisC.SetZero(),e-g-this.m_referenceAngleA):(i=a.joint1,this.m_localAnchorC.Copy(i.m_localAnchorA),this.m_localAnchorA.Copy(i.m_localAnchorB),this.m_referenceAngleA=i.m_referenceAngle,this.m_localAxisC.Copy(i.m_localXAxisA),e=this.m_localAnchorC,g=box2d.b2MulTRV(f.q,box2d.b2AddVV(box2d.b2MulRV(d.q,this.m_localAnchorA,box2d.b2Vec2.s_t0),box2d.b2SubVV(d.p,f.p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2DotVV(box2d.b2SubVV(g,e,box2d.b2Vec2.s_t0),this.m_localAxisC)),this.m_bodyD=this.m_joint2.GetBodyA(),this.m_bodyB=this.m_joint2.GetBodyB(),this.m_bodyB.m_xf),g=this.m_bodyB.m_sweep.a,e=this.m_bodyD.m_xf,o=this.m_bodyD.m_sweep.a;o=this.m_typeB===box2d.b2JointType.e_revoluteJoint?(h=a.joint2,this.m_localAnchorD.Copy(h.m_localAnchorA),this.m_localAnchorB.Copy(h.m_localAnchorB),this.m_referenceAngleB=h.m_referenceAngle,this.m_localAxisD.SetZero(),g-o-this.m_referenceAngleB):(i=a.joint2,this.m_localAnchorD.Copy(i.m_localAnchorA),this.m_localAnchorB.Copy(i.m_localAnchorB),this.m_referenceAngleB=i.m_referenceAngle,this.m_localAxisD.Copy(i.m_localXAxisA),h=this.m_localAnchorD,g=box2d.b2MulTRV(e.q,box2d.b2AddVV(box2d.b2MulRV(f.q,this.m_localAnchorB,box2d.b2Vec2.s_t0),box2d.b2SubVV(f.p,e.p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2DotVV(box2d.b2SubVV(g,h,box2d.b2Vec2.s_t0),this.m_localAxisD)),this.m_ratio=a.ratio,this.m_constant=d+this.m_ratio*o,this.m_impulse=0},goog.inherits(box2d.b2GearJoint,box2d.b2Joint),box2d.b2GearJoint.prototype.m_joint1=null,box2d.b2GearJoint.prototype.m_joint2=null,box2d.b2GearJoint.prototype.m_typeA=box2d.b2JointType.e_unknownJoint,box2d.b2GearJoint.prototype.m_typeB=box2d.b2JointType.e_unknownJoint,box2d.b2GearJoint.prototype.m_bodyC=null,box2d.b2GearJoint.prototype.m_bodyD=null,box2d.b2GearJoint.prototype.m_localAnchorA=null,box2d.b2GearJoint.prototype.m_localAnchorB=null,box2d.b2GearJoint.prototype.m_localAnchorC=null,box2d.b2GearJoint.prototype.m_localAnchorD=null,box2d.b2GearJoint.prototype.m_localAxisC=null,box2d.b2GearJoint.prototype.m_localAxisD=null,box2d.b2GearJoint.prototype.m_referenceAngleA=0,box2d.b2GearJoint.prototype.m_referenceAngleB=0,box2d.b2GearJoint.prototype.m_constant=0,box2d.b2GearJoint.prototype.m_ratio=0,box2d.b2GearJoint.prototype.m_impulse=0,box2d.b2GearJoint.prototype.m_indexA=0,box2d.b2GearJoint.prototype.m_indexB=0,box2d.b2GearJoint.prototype.m_indexC=0,box2d.b2GearJoint.prototype.m_indexD=0,box2d.b2GearJoint.prototype.m_lcA=null,box2d.b2GearJoint.prototype.m_lcB=null,box2d.b2GearJoint.prototype.m_lcC=null,box2d.b2GearJoint.prototype.m_lcD=null,box2d.b2GearJoint.prototype.m_mA=0,box2d.b2GearJoint.prototype.m_mB=0,box2d.b2GearJoint.prototype.m_mC=0,box2d.b2GearJoint.prototype.m_mD=0,box2d.b2GearJoint.prototype.m_iA=0,box2d.b2GearJoint.prototype.m_iB=0,box2d.b2GearJoint.prototype.m_iC=0,box2d.b2GearJoint.prototype.m_iD=0,box2d.b2GearJoint.prototype.m_JvAC=null,box2d.b2GearJoint.prototype.m_JvBD=null,box2d.b2GearJoint.prototype.m_JwA=0,box2d.b2GearJoint.prototype.m_JwB=0,box2d.b2GearJoint.prototype.m_JwC=0,box2d.b2GearJoint.prototype.m_JwD=0,box2d.b2GearJoint.prototype.m_mass=0,box2d.b2GearJoint.prototype.m_qA=null,box2d.b2GearJoint.prototype.m_qB=null,box2d.b2GearJoint.prototype.m_qC=null,box2d.b2GearJoint.prototype.m_qD=null,box2d.b2GearJoint.prototype.m_lalcA=null,box2d.b2GearJoint.prototype.m_lalcB=null,box2d.b2GearJoint.prototype.m_lalcC=null,box2d.b2GearJoint.prototype.m_lalcD=null,box2d.b2GearJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_indexC=this.m_bodyC.m_islandIndex,this.m_indexD=this.m_bodyD.m_islandIndex,this.m_lcA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_lcB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_lcC.Copy(this.m_bodyC.m_sweep.localCenter),this.m_lcD.Copy(this.m_bodyD.m_sweep.localCenter),this.m_mA=this.m_bodyA.m_invMass,this.m_mB=this.m_bodyB.m_invMass,this.m_mC=this.m_bodyC.m_invMass,this.m_mD=this.m_bodyD.m_invMass,this.m_iA=this.m_bodyA.m_invI,this.m_iB=this.m_bodyB.m_invI,this.m_iC=this.m_bodyC.m_invI,this.m_iD=this.m_bodyD.m_invI;var r,b=a.positions[this.m_indexA].a,c=a.velocities[this.m_indexA].v,d=a.velocities[this.m_indexA].w,e=a.positions[this.m_indexB].a,f=a.velocities[this.m_indexB].v,g=a.velocities[this.m_indexB].w,h=a.positions[this.m_indexC].a,i=a.velocities[this.m_indexC].v,j=a.velocities[this.m_indexC].w,k=a.positions[this.m_indexD].a,l=a.velocities[this.m_indexD].v,m=a.velocities[this.m_indexD].w,b=this.m_qA.SetAngleRadians(b),e=this.m_qB.SetAngleRadians(e),h=this.m_qC.SetAngleRadians(h),k=this.m_qD.SetAngleRadians(k);this.m_mass=0,this.m_typeA===box2d.b2JointType.e_revoluteJoint?(this.m_JvAC.SetZero(),this.m_JwA=1,this.m_JwC=1,this.m_mass+=this.m_iA+this.m_iC):(r=box2d.b2MulRV(h,this.m_localAxisC,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d.b2SubVV(this.m_localAnchorC,this.m_lcC,this.m_lalcC),h=box2d.b2MulRV(h,this.m_lalcC,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC),box2d.b2SubVV(this.m_localAnchorA,this.m_lcA,this.m_lalcA),b=box2d.b2MulRV(b,this.m_lalcA,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA),this.m_JvAC.Copy(r),this.m_JwC=box2d.b2CrossVV(h,r),this.m_JwA=box2d.b2CrossVV(b,r),this.m_mass+=this.m_mC+this.m_mA+this.m_iC*this.m_JwC*this.m_JwC+this.m_iA*this.m_JwA*this.m_JwA),this.m_typeB===box2d.b2JointType.e_revoluteJoint?(this.m_JvBD.SetZero(),this.m_JwB=this.m_ratio,this.m_JwD=this.m_ratio,this.m_mass+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD)):(r=box2d.b2MulRV(k,this.m_localAxisD,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u),box2d.b2SubVV(this.m_localAnchorD,this.m_lcD,this.m_lalcD),h=box2d.b2MulRV(k,this.m_lalcD,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD),box2d.b2SubVV(this.m_localAnchorB,this.m_lcB,this.m_lalcB),b=box2d.b2MulRV(e,this.m_lalcB,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB),box2d.b2MulSV(this.m_ratio,r,this.m_JvBD),this.m_JwD=this.m_ratio*box2d.b2CrossVV(h,r),this.m_JwB=this.m_ratio*box2d.b2CrossVV(b,r),this.m_mass+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*this.m_JwD*this.m_JwD+this.m_iB*this.m_JwB*this.m_JwB),this.m_mass=0<this.m_mass?1/this.m_mass:0,a.step.warmStarting?(c.SelfMulAdd(this.m_mA*this.m_impulse,this.m_JvAC),d+=this.m_iA*this.m_impulse*this.m_JwA,f.SelfMulAdd(this.m_mB*this.m_impulse,this.m_JvBD),g+=this.m_iB*this.m_impulse*this.m_JwB,i.SelfMulSub(this.m_mC*this.m_impulse,this.m_JvAC),j-=this.m_iC*this.m_impulse*this.m_JwC,l.SelfMulSub(this.m_mD*this.m_impulse,this.m_JvBD),m-=this.m_iD*this.m_impulse*this.m_JwD):this.m_impulse=0,a.velocities[this.m_indexA].w=d,a.velocities[this.m_indexB].w=g,a.velocities[this.m_indexC].w=j,a.velocities[this.m_indexD].w=m},box2d.b2GearJoint.prototype.InitVelocityConstraints.s_u=new box2d.b2Vec2,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rA=new box2d.b2Vec2,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rB=new box2d.b2Vec2,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rC=new box2d.b2Vec2,box2d.b2GearJoint.prototype.InitVelocityConstraints.s_rD=new box2d.b2Vec2,box2d.b2GearJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=a.velocities[this.m_indexC].v,g=a.velocities[this.m_indexC].w,h=a.velocities[this.m_indexD].v,i=a.velocities[this.m_indexD].w,j=box2d.b2DotVV(this.m_JvAC,box2d.b2SubVV(b,f,box2d.b2Vec2.s_t0))+box2d.b2DotVV(this.m_JvBD,box2d.b2SubVV(d,h,box2d.b2Vec2.s_t0)),j=(j+=this.m_JwA*c-this.m_JwC*g+(this.m_JwB*e-this.m_JwD*i),-this.m_mass*j);this.m_impulse+=j,b.SelfMulAdd(this.m_mA*j,this.m_JvAC),c+=this.m_iA*j*this.m_JwA,d.SelfMulAdd(this.m_mB*j,this.m_JvBD),e+=this.m_iB*j*this.m_JwB,f.SelfMulSub(this.m_mC*j,this.m_JvAC),g-=this.m_iC*j*this.m_JwC,h.SelfMulSub(this.m_mD*j,this.m_JvBD),i-=this.m_iD*j*this.m_JwD,a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e,a.velocities[this.m_indexC].w=g,a.velocities[this.m_indexD].w=i},box2d.b2GearJoint.prototype.SolvePositionConstraints=function(a){var d,e,f,g,x,h=a.positions[this.m_indexA].c,i=a.positions[this.m_indexA].a,j=a.positions[this.m_indexB].c,k=a.positions[this.m_indexB].a,l=a.positions[this.m_indexC].c,m=a.positions[this.m_indexC].a,n=a.positions[this.m_indexD].c,o=a.positions[this.m_indexD].a,p=this.m_qA.SetAngleRadians(i),q=this.m_qB.SetAngleRadians(k),r=this.m_qC.SetAngleRadians(m),s=this.m_qD.SetAngleRadians(o),u=this.m_JvAC,v=this.m_JvBD,w=0,s=(p=this.m_typeA===box2d.b2JointType.e_revoluteJoint?(u.SetZero(),f=d=1,w+=this.m_iA+this.m_iC,i-m-this.m_referenceAngleA):(x=box2d.b2MulRV(r,this.m_localAxisC,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u),y=box2d.b2MulRV(r,this.m_lalcC,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC),p=box2d.b2MulRV(p,this.m_lalcA,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA),u.Copy(x),f=box2d.b2CrossVV(y,x),d=box2d.b2CrossVV(p,x),w+=this.m_mC+this.m_mA+this.m_iC*f*f+this.m_iA*d*d,y=this.m_lalcC,r=box2d.b2MulTRV(r,box2d.b2AddVV(p,box2d.b2SubVV(h,l,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2DotVV(box2d.b2SubVV(r,y,box2d.b2Vec2.s_t0),this.m_localAxisC)),x=this.m_typeB===box2d.b2JointType.e_revoluteJoint?(v.SetZero(),e=this.m_ratio,g=this.m_ratio,w+=this.m_ratio*this.m_ratio*(this.m_iB+this.m_iD),k-o-this.m_referenceAngleB):(x=box2d.b2MulRV(s,this.m_localAxisD,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u),r=box2d.b2MulRV(s,this.m_lalcD,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD),y=box2d.b2MulRV(q,this.m_lalcB,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB),box2d.b2MulSV(this.m_ratio,x,v),g=this.m_ratio*box2d.b2CrossVV(r,x),e=this.m_ratio*box2d.b2CrossVV(y,x),w+=this.m_ratio*this.m_ratio*(this.m_mD+this.m_mB)+this.m_iD*g*g+this.m_iB*e*e,q=this.m_lalcD,r=box2d.b2MulTRV(s,box2d.b2AddVV(y,box2d.b2SubVV(j,n,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2DotVV(box2d.b2SubVV(r,q,box2d.b2Vec2.s_t0),this.m_localAxisD)),p+this.m_ratio*x-this.m_constant),y=0<w?-s/w:0;return h.SelfMulAdd(this.m_mA*y,u),i+=this.m_iA*y*d,j.SelfMulAdd(this.m_mB*y,v),k+=this.m_iB*y*e,l.SelfMulSub(this.m_mC*y,u),m-=this.m_iC*y*f,n.SelfMulSub(this.m_mD*y,v),o-=this.m_iD*y*g,a.positions[this.m_indexA].a=i,a.positions[this.m_indexB].a=k,a.positions[this.m_indexC].a=m,a.positions[this.m_indexD].a=o,0<box2d.b2_linearSlop},box2d.b2GearJoint.prototype.SolvePositionConstraints.s_u=new box2d.b2Vec2,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rA=new box2d.b2Vec2,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rB=new box2d.b2Vec2,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rC=new box2d.b2Vec2,box2d.b2GearJoint.prototype.SolvePositionConstraints.s_rD=new box2d.b2Vec2,box2d.b2GearJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2GearJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2GearJoint.prototype.GetReactionForce=function(a,b){return box2d.b2MulSV(a*this.m_impulse,this.m_JvAC,b)},box2d.b2GearJoint.prototype.GetReactionTorque=function(a){return a*this.m_impulse*this.m_JwA},box2d.b2GearJoint.prototype.GetJoint1=function(){return this.m_joint1},box2d.b2GearJoint.prototype.GetJoint2=function(){return this.m_joint2},box2d.b2GearJoint.prototype.GetRatio=function(){return this.m_ratio},box2d.b2GearJoint.prototype.SetRatio=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a)),this.m_ratio=a},box2d.b2GearJoint.prototype.Dump=function(){var a,b,c,d;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,c=this.m_joint1.m_index,d=this.m_joint2.m_index,box2d.b2Log("  /*box2d.b2GearJointDef*/ var jd = new box2d.b2GearJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.joint1 = joints[%d];\n",c),box2d.b2Log("  jd.joint2 = joints[%d];\n",d),box2d.b2Log("  jd.ratio = %.15f;\n",this.m_ratio),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2Distance"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),box2d.b2DistanceProxy=function(){this.m_buffer=box2d.b2Vec2.MakeArray(2)},box2d.b2DistanceProxy.prototype.m_buffer=null,box2d.b2DistanceProxy.prototype.m_vertices=null,box2d.b2DistanceProxy.prototype.m_count=0,box2d.b2DistanceProxy.prototype.m_radius=0,box2d.b2DistanceProxy.prototype.Reset=function(){return this.m_vertices=null,this.m_count=0,this.m_radius=0,this},box2d.b2DistanceProxy.prototype.SetShape=function(a,b){a.SetupDistanceProxy(this,b)},box2d.b2DistanceProxy.prototype.GetSupport=function(a){for(var b=0,c=box2d.b2DotVV(this.m_vertices[0],a),d=1;d<this.m_count;++d){var e=box2d.b2DotVV(this.m_vertices[d],a);c<e&&(b=d,c=e)}return b},box2d.b2DistanceProxy.prototype.GetSupportVertex=function(a,b){for(var c=0,d=box2d.b2DotVV(this.m_vertices[0],a),e=1;e<this.m_count;++e){var f=box2d.b2DotVV(this.m_vertices[e],a);d<f&&(c=e,d=f)}return b.Copy(this.m_vertices[c])},box2d.b2DistanceProxy.prototype.GetVertexCount=function(){return this.m_count},box2d.b2DistanceProxy.prototype.GetVertex=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=a&&a<this.m_count),this.m_vertices[a]},box2d.b2SimplexCache=function(){this.indexA=box2d.b2MakeNumberArray(3),this.indexB=box2d.b2MakeNumberArray(3)},box2d.b2SimplexCache.prototype.metric=0,box2d.b2SimplexCache.prototype.count=0,box2d.b2SimplexCache.prototype.indexA=null,box2d.b2SimplexCache.prototype.indexB=null,box2d.b2SimplexCache.prototype.Reset=function(){return this.metric=0,this.count=0,this},box2d.b2DistanceInput=function(){this.proxyA=new box2d.b2DistanceProxy,this.proxyB=new box2d.b2DistanceProxy,this.transformA=new box2d.b2Transform,this.transformB=new box2d.b2Transform},box2d.b2DistanceInput.prototype.proxyA=null,box2d.b2DistanceInput.prototype.proxyB=null,box2d.b2DistanceInput.prototype.transformA=null,box2d.b2DistanceInput.prototype.transformB=null,box2d.b2DistanceInput.prototype.useRadii=!1,box2d.b2DistanceInput.prototype.Reset=function(){return this.proxyA.Reset(),this.proxyB.Reset(),this.transformA.SetIdentity(),this.transformB.SetIdentity(),this.useRadii=!1,this},box2d.b2DistanceOutput=function(){this.pointA=new box2d.b2Vec2,this.pointB=new box2d.b2Vec2},box2d.b2DistanceOutput.prototype.pointA=null,box2d.b2DistanceOutput.prototype.pointB=null,box2d.b2DistanceOutput.prototype.distance=0,box2d.b2DistanceOutput.prototype.iterations=0,box2d.b2DistanceOutput.prototype.Reset=function(){return this.pointA.SetZero(),this.pointB.SetZero(),this.distance=0,this.iterations=0,this},box2d.b2_gjkCalls=0,box2d.b2_gjkIters=0,box2d.b2_gjkMaxIters=0,box2d.b2SimplexVertex=function(){this.wA=new box2d.b2Vec2,this.wB=new box2d.b2Vec2,this.w=new box2d.b2Vec2},box2d.b2SimplexVertex.prototype.wA=null,box2d.b2SimplexVertex.prototype.wB=null,box2d.b2SimplexVertex.prototype.w=null,box2d.b2SimplexVertex.prototype.a=0,box2d.b2SimplexVertex.prototype.indexA=0,box2d.b2SimplexVertex.prototype.indexB=0,box2d.b2SimplexVertex.prototype.Copy=function(a){return this.wA.Copy(a.wA),this.wB.Copy(a.wB),this.w.Copy(a.w),this.a=a.a,this.indexA=a.indexA,this.indexB=a.indexB,this},box2d.b2Simplex=function(){this.m_v1=new box2d.b2SimplexVertex,this.m_v2=new box2d.b2SimplexVertex,this.m_v3=new box2d.b2SimplexVertex,this.m_vertices=new Array(3),this.m_vertices[0]=this.m_v1,this.m_vertices[1]=this.m_v2,this.m_vertices[2]=this.m_v3},box2d.b2Simplex.prototype.m_v1=null,box2d.b2Simplex.prototype.m_v2=null,box2d.b2Simplex.prototype.m_v3=null,box2d.b2Simplex.prototype.m_vertices=null,box2d.b2Simplex.prototype.m_count=0,box2d.b2Simplex.prototype.ReadCache=function(a,b,c,d,e){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=a.count&&a.count<=3),this.m_count=a.count;for(var k,l,f=this.m_vertices,g=0;g<this.m_count;++g){(h=f[g]).indexA=a.indexA[g],h.indexB=a.indexB[g];var h,i=b.GetVertex(h.indexA),j=d.GetVertex(h.indexB);box2d.b2MulXV(c,i,h.wA),box2d.b2MulXV(e,j,h.wB),box2d.b2SubVV(h.wB,h.wA,h.w),h.a=0}1<this.m_count&&(k=a.metric,(l=this.GetMetric())<.5*k||2*k<l||l<box2d.b2_epsilon)&&(this.m_count=0),0===this.m_count&&((h=f[0]).indexA=0,i=b.GetVertex(h.indexB=0),j=d.GetVertex(0),box2d.b2MulXV(c,i,h.wA),box2d.b2MulXV(e,j,h.wB),box2d.b2SubVV(h.wB,h.wA,h.w),h.a=1,this.m_count=1)},box2d.b2Simplex.prototype.WriteCache=function(a){a.metric=this.GetMetric(),a.count=this.m_count;for(var b=this.m_vertices,c=0;c<this.m_count;++c)a.indexA[c]=b[c].indexA,a.indexB[c]=b[c].indexB},box2d.b2Simplex.prototype.GetSearchDirection=function(a){switch(this.m_count){case 1:return box2d.b2NegV(this.m_v1.w,a);case 2:var b=box2d.b2SubVV(this.m_v2.w,this.m_v1.w,a);return 0<box2d.b2CrossVV(b,box2d.b2NegV(this.m_v1.w,box2d.b2Vec2.s_t0))?box2d.b2CrossOneV(b,a):box2d.b2CrossVOne(b,a);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),a.SetZero()}},box2d.b2Simplex.prototype.GetClosestPoint=function(a){switch(this.m_count){case 0:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),a.SetZero();case 1:return a.Copy(this.m_v1.w);case 2:return a.SetXY(this.m_v1.a*this.m_v1.w.x+this.m_v2.a*this.m_v2.w.x,this.m_v1.a*this.m_v1.w.y+this.m_v2.a*this.m_v2.w.y);case 3:return a.SetZero();default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),a.SetZero()}},box2d.b2Simplex.prototype.GetWitnessPoints=function(a,b){switch(this.m_count){case 0:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1);break;case 1:a.Copy(this.m_v1.wA),b.Copy(this.m_v1.wB);break;case 2:a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x,a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y,b.x=this.m_v1.a*this.m_v1.wB.x+this.m_v2.a*this.m_v2.wB.x,b.y=this.m_v1.a*this.m_v1.wB.y+this.m_v2.a*this.m_v2.wB.y;break;case 3:b.x=a.x=this.m_v1.a*this.m_v1.wA.x+this.m_v2.a*this.m_v2.wA.x+this.m_v3.a*this.m_v3.wA.x,b.y=a.y=this.m_v1.a*this.m_v1.wA.y+this.m_v2.a*this.m_v2.wA.y+this.m_v3.a*this.m_v3.wA.y;break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}},box2d.b2Simplex.prototype.GetMetric=function(){switch(this.m_count){case 0:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0;case 1:return 0;case 2:return box2d.b2DistanceVV(this.m_v1.w,this.m_v2.w);case 3:return box2d.b2CrossVV(box2d.b2SubVV(this.m_v2.w,this.m_v1.w,box2d.b2Vec2.s_t0),box2d.b2SubVV(this.m_v3.w,this.m_v1.w,box2d.b2Vec2.s_t1));default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0}},box2d.b2Simplex.prototype.Solve2=function(){var a=this.m_v1.w,b=this.m_v2.w,c=box2d.b2SubVV(b,a,box2d.b2Simplex.s_e12),a=-box2d.b2DotVV(a,c);a<=0?(this.m_v1.a=1,this.m_count=1):(b=box2d.b2DotVV(b,c))<=0?(this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2)):(this.m_v1.a=b*(c=1/(b+a)),this.m_v2.a=a*c,this.m_count=2)},box2d.b2Simplex.prototype.Solve3=function(){var a=this.m_v1.w,b=this.m_v2.w,c=this.m_v3.w,d=box2d.b2SubVV(b,a,box2d.b2Simplex.s_e12),e=box2d.b2DotVV(a,d),g=box2d.b2DotVV(b,d),e=-e,i=box2d.b2SubVV(c,a,box2d.b2Simplex.s_e13),j=box2d.b2DotVV(a,i),l=box2d.b2DotVV(c,i),j=-j,n=box2d.b2SubVV(c,b,box2d.b2Simplex.s_e23),o=box2d.b2DotVV(b,n),n=box2d.b2DotVV(c,n),o=-o,d=box2d.b2CrossVV(d,i),i=d*box2d.b2CrossVV(b,c),c=d*box2d.b2CrossVV(c,a),d=d*box2d.b2CrossVV(a,b);e<=0&&j<=0?(this.m_v1.a=1,this.m_count=1):0<g&&0<e&&d<=0?(this.m_v1.a=g*(a=1/(g+e)),this.m_v2.a=e*a,this.m_count=2):0<l&&0<j&&c<=0?(this.m_v1.a=l*(b=1/(l+j)),this.m_v3.a=j*b,this.m_count=2,this.m_v2.Copy(this.m_v3)):g<=0&&o<=0?(this.m_v2.a=1,this.m_count=1,this.m_v1.Copy(this.m_v2)):l<=0&&n<=0?(this.m_v3.a=1,this.m_count=1,this.m_v1.Copy(this.m_v3)):0<n&&0<o&&i<=0?(this.m_v2.a=n*(e=1/(n+o)),this.m_v3.a=o*e,this.m_count=2,this.m_v1.Copy(this.m_v3)):(this.m_v1.a=i*(a=1/(i+c+d)),this.m_v2.a=c*a,this.m_v3.a=d*a,this.m_count=3)},box2d.b2Simplex.s_e12=new box2d.b2Vec2,box2d.b2Simplex.s_e13=new box2d.b2Vec2,box2d.b2Simplex.s_e23=new box2d.b2Vec2,box2d.b2Distance=function(a,b,c){++box2d.b2_gjkCalls;var d=c.proxyA,e=c.proxyB,f=c.transformA,g=c.transformB,h=box2d.b2Distance.s_simplex;h.ReadCache(b,d,f,e,g);for(var x,i=h.m_vertices,k=box2d.b2Distance.s_saveA,l=box2d.b2Distance.s_saveB,p=(box2d.b2_maxFloat,0);p<20;){for(var m=h.m_count,q=0;q<m;++q)k[q]=i[q].indexA,l[q]=i[q].indexB;switch(h.m_count){case 1:break;case 2:h.Solve2();break;case 3:h.Solve3();break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}if(3===h.m_count)break;(r=h.GetClosestPoint(box2d.b2Distance.s_p)).GetLengthSquared();var r,s=h.GetSearchDirection(box2d.b2Distance.s_d);if(s.GetLengthSquared()<box2d.b2_epsilon_sq)break;var t=i[h.m_count];t.indexA=d.GetSupport(box2d.b2MulTRV(f.q,box2d.b2NegV(s,box2d.b2Vec2.s_t0),box2d.b2Distance.s_supportA)),box2d.b2MulXV(f,d.GetVertex(t.indexA),t.wA),t.indexB=e.GetSupport(box2d.b2MulTRV(g.q,s,box2d.b2Distance.s_supportB)),box2d.b2MulXV(g,e.GetVertex(t.indexB),t.wB),box2d.b2SubVV(t.wB,t.wA,t.w),++p,++box2d.b2_gjkIters;for(var u=!1,q=0;q<m;++q)if(t.indexA===k[q]&&t.indexB===l[q]){u=!0;break}if(u)break;++h.m_count}box2d.b2_gjkMaxIters=box2d.b2Max(box2d.b2_gjkMaxIters,p),h.GetWitnessPoints(a.pointA,a.pointB),a.distance=box2d.b2DistanceVV(a.pointA,a.pointB),a.iterations=p,h.WriteCache(b),c.useRadii&&(b=d.m_radius,c=e.m_radius,a.distance>b+c&&a.distance>box2d.b2_epsilon?(a.distance-=b+c,(x=box2d.b2SubVV(a.pointB,a.pointA,box2d.b2Distance.s_normal)).Normalize(),a.pointA.SelfMulAdd(b,x),a.pointB.SelfMulSub(c,x)):(r=box2d.b2MidVV(a.pointA,a.pointB,box2d.b2Distance.s_p),a.pointA.Copy(r),a.pointB.Copy(r),a.distance=0))},box2d.b2Distance.s_simplex=new box2d.b2Simplex,box2d.b2Distance.s_saveA=box2d.b2MakeNumberArray(3),box2d.b2Distance.s_saveB=box2d.b2MakeNumberArray(3),box2d.b2Distance.s_p=new box2d.b2Vec2,box2d.b2Distance.s_d=new box2d.b2Vec2,box2d.b2Distance.s_normal=new box2d.b2Vec2,box2d.b2Distance.s_supportA=new box2d.b2Vec2,box2d.b2Distance.s_supportB=new box2d.b2Vec2,goog.provide("box2d.b2WeldJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2WeldJointDef=function(){goog.base(this,box2d.b2JointType.e_weldJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2},goog.inherits(box2d.b2WeldJointDef,box2d.b2JointDef),box2d.b2WeldJointDef.prototype.localAnchorA=null,box2d.b2WeldJointDef.prototype.localAnchorB=null,box2d.b2WeldJointDef.prototype.referenceAngle=0,box2d.b2WeldJointDef.prototype.frequencyHz=0,box2d.b2WeldJointDef.prototype.dampingRatio=0,box2d.b2WeldJointDef.prototype.Initialize=function(a,b,c){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(c,this.localAnchorA),this.bodyB.GetLocalPoint(c,this.localAnchorB),this.referenceAngle=this.bodyB.GetAngleRadians()-this.bodyA.GetAngleRadians()},box2d.b2WeldJoint=function(a){goog.base(this,a),this.m_frequencyHz=a.frequencyHz,this.m_dampingRatio=a.dampingRatio,this.m_localAnchorA=a.localAnchorA.Clone(),this.m_localAnchorB=a.localAnchorB.Clone(),this.m_referenceAngle=a.referenceAngle,this.m_impulse=new box2d.b2Vec3(0,0,0),this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat33,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat33},goog.inherits(box2d.b2WeldJoint,box2d.b2Joint),box2d.b2WeldJoint.prototype.m_frequencyHz=0,box2d.b2WeldJoint.prototype.m_dampingRatio=0,box2d.b2WeldJoint.prototype.m_bias=0,box2d.b2WeldJoint.prototype.m_localAnchorA=null,box2d.b2WeldJoint.prototype.m_localAnchorB=null,box2d.b2WeldJoint.prototype.m_referenceAngle=0,box2d.b2WeldJoint.prototype.m_gamma=0,box2d.b2WeldJoint.prototype.m_impulse=null,box2d.b2WeldJoint.prototype.m_indexA=0,box2d.b2WeldJoint.prototype.m_indexB=0,box2d.b2WeldJoint.prototype.m_rA=null,box2d.b2WeldJoint.prototype.m_rB=null,box2d.b2WeldJoint.prototype.m_localCenterA=null,box2d.b2WeldJoint.prototype.m_localCenterB=null,box2d.b2WeldJoint.prototype.m_invMassA=0,box2d.b2WeldJoint.prototype.m_invMassB=0,box2d.b2WeldJoint.prototype.m_invIA=0,box2d.b2WeldJoint.prototype.m_invIB=0,box2d.b2WeldJoint.prototype.m_mass=null,box2d.b2WeldJoint.prototype.m_qA=null,box2d.b2WeldJoint.prototype.m_qB=null,box2d.b2WeldJoint.prototype.m_lalcA=null,box2d.b2WeldJoint.prototype.m_lalcB=null,box2d.b2WeldJoint.prototype.m_K=null,box2d.b2WeldJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var o,s,u,p,b=a.positions[this.m_indexA].a,c=a.velocities[this.m_indexA].v,d=a.velocities[this.m_indexA].w,e=a.positions[this.m_indexB].a,f=a.velocities[this.m_indexB].v,g=a.velocities[this.m_indexB].w,h=this.m_qA.SetAngleRadians(b),i=this.m_qB.SetAngleRadians(e),h=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(h,this.m_lalcA,this.m_rA),box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(i,this.m_lalcB,this.m_rB),this.m_invMassA),i=this.m_invMassB,l=this.m_invIA,m=this.m_invIB,n=this.m_K;n.ex.x=h+i+this.m_rA.y*this.m_rA.y*l+this.m_rB.y*this.m_rB.y*m,n.ey.x=-this.m_rA.y*this.m_rA.x*l-this.m_rB.y*this.m_rB.x*m,n.ez.x=-this.m_rA.y*l-this.m_rB.y*m,n.ex.y=n.ey.x,n.ey.y=h+i+this.m_rA.x*this.m_rA.x*l+this.m_rB.x*this.m_rB.x*m,n.ez.y=this.m_rA.x*l+this.m_rB.x*m,n.ex.z=n.ez.x,n.ey.z=n.ez.y,n.ez.z=l+m,0<this.m_frequencyHz?(n.GetInverse22(this.m_mass),p=0<(o=l+m)?1/o:0,e=e-b-this.m_referenceAngle,b=2*box2d.b2_pi*this.m_frequencyHz,s=2*p*this.m_dampingRatio*b,u=a.step.dt,this.m_gamma=u*(s+u*(s=p*b*b)),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=e*u*s*this.m_gamma,o+=this.m_gamma,this.m_mass.ez.z=0!==o?1/o:0):(n.GetSymInverse33(this.m_mass),this.m_gamma=0,this.m_bias=0),a.step.warmStarting?(this.m_impulse.SelfMul(a.step.dtRatio),p=box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P.SetXY(this.m_impulse.x,this.m_impulse.y),c.SelfMulSub(h,p),d-=l*(box2d.b2CrossVV(this.m_rA,p)+this.m_impulse.z),f.SelfMulAdd(i,p),g+=m*(box2d.b2CrossVV(this.m_rB,p)+this.m_impulse.z)):this.m_impulse.SetZero(),a.velocities[this.m_indexA].w=d,a.velocities[this.m_indexB].w=g},box2d.b2WeldJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2WeldJoint.prototype.SolveVelocityConstraints=function(a){var j,k,m,b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=this.m_invMassA,g=this.m_invMassB,h=this.m_invIA,i=this.m_invIB;0<this.m_frequencyHz?(k=-this.m_mass.ez.z*((j=e-c)+this.m_bias+this.m_gamma*this.m_impulse.z),this.m_impulse.z+=k,c-=h*k,e+=i*k,k=box2d.b2SubVV(box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),m=box2d.b2MulM33XY(this.m_mass,k.x,k.y,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1).SelfNeg(),this.m_impulse.x+=m.x,this.m_impulse.y+=m.y,b.SelfMulSub(f,m=m),c-=h*box2d.b2CrossVV(this.m_rA,m),d.SelfMulAdd(g,m),e+=i*box2d.b2CrossVV(this.m_rB,m)):(k=box2d.b2SubVV(box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1),j=e-c,k=box2d.b2MulM33XYZ(this.m_mass,k.x,k.y,j,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse).SelfNeg(),this.m_impulse.SelfAdd(k),m=box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P.SetXY(k.x,k.y),b.SelfMulSub(f,m),c-=h*(box2d.b2CrossVV(this.m_rA,m)+k.z),d.SelfMulAdd(g,m),e+=i*(box2d.b2CrossVV(this.m_rB,m)+k.z)),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_Cdot1=new box2d.b2Vec2,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse1=new box2d.b2Vec2,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec3,box2d.b2WeldJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2WeldJoint.prototype.SolvePositionConstraints=function(a){var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(e),h=this.m_invMassA,i=this.m_invMassB,j=this.m_invIA,k=this.m_invIB,f=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(f,this.m_lalcA,this.m_rA));box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var m,n,q,r,g=box2d.b2MulRV(g,this.m_lalcB,this.m_rB),p=this.m_K;return p.ex.x=h+i+f.y*f.y*j+g.y*g.y*k,p.ey.x=-f.y*f.x*j-g.y*g.x*k,p.ez.x=-f.y*j-g.y*k,p.ex.y=p.ey.x,p.ey.y=h+i+f.x*f.x*j+g.x*g.x*k,p.ez.y=f.x*j+g.x*k,p.ex.z=p.ez.x,p.ey.z=p.ez.y,p.ez.z=j+k,0<this.m_frequencyHz?(m=(q=box2d.b2SubVV(box2d.b2AddVV(d,g,box2d.b2Vec2.s_t0),box2d.b2AddVV(b,f,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1)).GetLength(),n=0,r=p.Solve22(q.x,q.y,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P).SelfNeg(),b.SelfMulSub(h,r),c-=j*box2d.b2CrossVV(f,r),d.SelfMulAdd(i,r),e+=k*box2d.b2CrossVV(g,r)):(q=box2d.b2SubVV(box2d.b2AddVV(d,g,box2d.b2Vec2.s_t0),box2d.b2AddVV(b,f,box2d.b2Vec2.s_t1),box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1),g=e-c-this.m_referenceAngle,m=q.GetLength(),n=box2d.b2Abs(g),f=p.Solve33(q.x,q.y,g,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse).SelfNeg(),r=box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P.SetXY(f.x,f.y),b.SelfMulSub(h,r),c-=j*(box2d.b2CrossVV(this.m_rA,r)+f.z),d.SelfMulAdd(i,r),e+=k*(box2d.b2CrossVV(this.m_rB,r)+f.z)),a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,m<=box2d.b2_linearSlop&&n<=box2d.b2_angularSlop},box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_C1=new box2d.b2Vec2,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2,box2d.b2WeldJoint.prototype.SolvePositionConstraints.s_impulse=new box2d.b2Vec3,box2d.b2WeldJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2WeldJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2WeldJoint.prototype.GetReactionForce=function(a,b){return b.SetXY(a*this.m_impulse.x,a*this.m_impulse.y)},box2d.b2WeldJoint.prototype.GetReactionTorque=function(a){return a*this.m_impulse.z},box2d.b2WeldJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2WeldJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2WeldJoint.prototype.GetReferenceAngle=function(){return this.m_referenceAngle},box2d.b2WeldJoint.prototype.SetFrequency=function(a){this.m_frequencyHz=a},box2d.b2WeldJoint.prototype.GetFrequency=function(){return this.m_frequencyHz},box2d.b2WeldJoint.prototype.SetDampingRatio=function(a){this.m_dampingRatio=a},box2d.b2WeldJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio},box2d.b2WeldJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2WeldJointDef*/ var jd = new box2d.b2WeldJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.referenceAngle = %.15f;\n",this.m_referenceAngle),box2d.b2Log("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),box2d.b2Log("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2RopeJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2RopeJointDef=function(){goog.base(this,box2d.b2JointType.e_ropeJoint),this.localAnchorA=new box2d.b2Vec2(-1,0),this.localAnchorB=new box2d.b2Vec2(1,0)},goog.inherits(box2d.b2RopeJointDef,box2d.b2JointDef),box2d.b2RopeJointDef.prototype.localAnchorA=null,box2d.b2RopeJointDef.prototype.localAnchorB=null,box2d.b2RopeJointDef.prototype.maxLength=0,box2d.b2RopeJoint=function(a){goog.base(this,a),this.m_localAnchorA=a.localAnchorA.Clone(),this.m_localAnchorB=a.localAnchorB.Clone(),this.m_maxLength=a.maxLength,this.m_u=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2},goog.inherits(box2d.b2RopeJoint,box2d.b2Joint),box2d.b2RopeJoint.prototype.m_localAnchorA=null,box2d.b2RopeJoint.prototype.m_localAnchorB=null,box2d.b2RopeJoint.prototype.m_maxLength=0,box2d.b2RopeJoint.prototype.m_length=0,box2d.b2RopeJoint.prototype.m_impulse=0,box2d.b2RopeJoint.prototype.m_indexA=0,box2d.b2RopeJoint.prototype.m_indexB=0,box2d.b2RopeJoint.prototype.m_u=null,box2d.b2RopeJoint.prototype.m_rA=null,box2d.b2RopeJoint.prototype.m_rB=null,box2d.b2RopeJoint.prototype.m_localCenterA=null,box2d.b2RopeJoint.prototype.m_localCenterB=null,box2d.b2RopeJoint.prototype.m_invMassA=0,box2d.b2RopeJoint.prototype.m_invMassB=0,box2d.b2RopeJoint.prototype.m_invIA=0,box2d.b2RopeJoint.prototype.m_invIB=0,box2d.b2RopeJoint.prototype.m_mass=0,box2d.b2RopeJoint.prototype.m_state=box2d.b2LimitState.e_inactiveLimit,box2d.b2RopeJoint.prototype.m_qA=null,box2d.b2RopeJoint.prototype.m_qB=null,box2d.b2RopeJoint.prototype.m_lalcA=null,box2d.b2RopeJoint.prototype.m_lalcB=null,box2d.b2RopeJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.velocities[this.m_indexA].v,e=a.velocities[this.m_indexA].w,f=a.positions[this.m_indexB].c,g=a.positions[this.m_indexB].a,h=a.velocities[this.m_indexB].v,i=a.velocities[this.m_indexB].w,c=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(g),c=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(c,this.m_lalcA,this.m_rA),box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB),this.m_u.Copy(f).SelfAdd(this.m_rB).SelfSub(b).SelfSub(this.m_rA),this.m_length=this.m_u.GetLength(),this.m_length-this.m_maxLength);this.m_state=0<c?box2d.b2LimitState.e_atUpperLimit:box2d.b2LimitState.e_inactiveLimit,this.m_length>box2d.b2_linearSlop?(this.m_u.SelfMul(1/this.m_length),g=box2d.b2CrossVV(this.m_rA,this.m_u),f=box2d.b2CrossVV(this.m_rB,this.m_u),b=this.m_invMassA+this.m_invIA*g*g+this.m_invMassB+this.m_invIB*f*f,this.m_mass=0!==b?1/b:0,a.step.warmStarting?(this.m_impulse*=a.step.dtRatio,c=box2d.b2MulSV(this.m_impulse,this.m_u,box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P),d.SelfMulSub(this.m_invMassA,c),e-=this.m_invIA*box2d.b2CrossVV(this.m_rA,c),h.SelfMulAdd(this.m_invMassB,c),i+=this.m_invIB*box2d.b2CrossVV(this.m_rB,c)):this.m_impulse=0,a.velocities[this.m_indexA].w=e,a.velocities[this.m_indexB].w=i):(this.m_u.SetZero(),this.m_mass=0,this.m_impulse=0)},box2d.b2RopeJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2RopeJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA),g=box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB),h=this.m_length-this.m_maxLength,g=box2d.b2DotVV(this.m_u,box2d.b2SubVV(g,f,box2d.b2Vec2.s_t0)),f=(h<0&&(g+=a.step.inv_dt*h),-this.m_mass*g),h=this.m_impulse,g=(this.m_impulse=box2d.b2Min(0,this.m_impulse+f),f=this.m_impulse-h,box2d.b2MulSV(f,this.m_u,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P));b.SelfMulSub(this.m_invMassA,g),c-=this.m_invIA*box2d.b2CrossVV(this.m_rA,g),d.SelfMulAdd(this.m_invMassB,g),e+=this.m_invIB*box2d.b2CrossVV(this.m_rB,g),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2,box2d.b2RopeJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2RopeJoint.prototype.SolvePositionConstraints=function(a){var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(e),f=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(f,this.m_lalcA,this.m_rA)),g=(box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB)),j=this.m_u.Copy(d).SelfAdd(g).SelfSub(b).SelfSub(f),k=j.Normalize(),l=k-this.m_maxLength,l=box2d.b2Clamp(l,0,box2d.b2_maxLinearCorrection),l=-this.m_mass*l,l=box2d.b2MulSV(l,j,box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P);return b.SelfMulSub(this.m_invMassA,l),c-=this.m_invIA*box2d.b2CrossVV(f,l),d.SelfMulAdd(this.m_invMassB,l),e+=this.m_invIB*box2d.b2CrossVV(g,l),a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,k-this.m_maxLength<box2d.b2_linearSlop},box2d.b2RopeJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2,box2d.b2RopeJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2RopeJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2RopeJoint.prototype.GetReactionForce=function(a,b){return box2d.b2MulSV(a*this.m_impulse,this.m_u,b)},box2d.b2RopeJoint.prototype.GetReactionTorque=function(){return 0},box2d.b2RopeJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2RopeJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2RopeJoint.prototype.SetMaxLength=function(a){this.m_maxLength=a},box2d.b2RopeJoint.prototype.GetMaxLength=function(){return this.m_maxLength},box2d.b2RopeJoint.prototype.GetLimitState=function(){return this.m_state},box2d.b2RopeJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2RopeJointDef*/ var jd = new box2d.b2RopeJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.maxLength = %.15f;\n",this.m_maxLength),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2GravityController"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Controller"),goog.require("box2d.b2Math"),box2d.b2GravityController=function(){goog.base(this)},goog.inherits(box2d.b2GravityController,box2d.b2Controller),box2d.b2GravityController.prototype.G=1,box2d.b2GravityController.prototype.invSqr=!0,box2d.b2GravityController.prototype.Step=function(){if(this.invSqr)for(var a=this.m_bodyList;a;a=a.nextBody)for(var b=a.body,c=b.GetWorldCenter(),d=b.GetMass(),e=this.m_bodyList;e!==a;e=e.nextBody){var g=(f=e.body).GetWorldCenter(),h=f.GetMass();(k=(i=g.x-c.x)*i+(j=g.y-c.y)*j)<box2d.b2_epsilon||((l=box2d.b2GravityController.prototype.Step.s_f.SetXY(i,j)).SelfMul(this.G/k/box2d.b2Sqrt(k)*d*h),b.IsAwake()&&b.ApplyForce(l,c),f.IsAwake()&&f.ApplyForce(l.SelfMul(-1),g))}else for(a=this.m_bodyList;a;a=a.nextBody)for(c=(b=a.body).GetWorldCenter(),d=b.GetMass(),e=this.m_bodyList;e!==a;e=e.nextBody){var f,i,j,k,l,g=(f=e.body).GetWorldCenter(),h=f.GetMass();(k=(i=g.x-c.x)*i+(j=g.y-c.y)*j)<box2d.b2_epsilon||((l=box2d.b2GravityController.prototype.Step.s_f.SetXY(i,j)).SelfMul(this.G/k*d*h),b.IsAwake()&&b.ApplyForce(l,c),f.IsAwake()&&f.ApplyForce(l.SelfMul(-1),g))}},box2d.b2GravityController.prototype.Step.s_f=new box2d.b2Vec2,goog.provide("box2d.b2TimeStep"),goog.require("box2d.b2Settings"),box2d.b2Profile=function(){},box2d.b2Profile.prototype.step=0,box2d.b2Profile.prototype.collide=0,box2d.b2Profile.prototype.solve=0,box2d.b2Profile.prototype.solveInit=0,box2d.b2Profile.prototype.solveVelocity=0,box2d.b2Profile.prototype.solvePosition=0,box2d.b2Profile.prototype.broadphase=0,box2d.b2Profile.prototype.solveTOI=0,box2d.b2Profile.prototype.Reset=function(){return this.step=0,this.collide=0,this.solve=0,this.solveInit=0,this.solveVelocity=0,this.solvePosition=0,this.broadphase=0,this.solveTOI=0,this},box2d.b2TimeStep=function(){},box2d.b2TimeStep.prototype.dt=0,box2d.b2TimeStep.prototype.inv_dt=0,box2d.b2TimeStep.prototype.dtRatio=0,box2d.b2TimeStep.prototype.velocityIterations=0,box2d.b2TimeStep.prototype.positionIterations=0,box2d.b2TimeStep.prototype.warmStarting=!1,box2d.b2TimeStep.prototype.Copy=function(a){return this.dt=a.dt,this.inv_dt=a.inv_dt,this.dtRatio=a.dtRatio,this.positionIterations=a.positionIterations,this.velocityIterations=a.velocityIterations,this.warmStarting=a.warmStarting,this},box2d.b2Position=function(){this.c=new box2d.b2Vec2},box2d.b2Position.prototype.c=null,box2d.b2Position.prototype.a=0,box2d.b2Position.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2Position})},box2d.b2Velocity=function(){this.v=new box2d.b2Vec2},box2d.b2Velocity.prototype.v=null,box2d.b2Velocity.prototype.w=0,box2d.b2Velocity.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2Velocity})},box2d.b2SolverData=function(){this.step=new box2d.b2TimeStep},box2d.b2SolverData.prototype.step=null,box2d.b2SolverData.prototype.positions=null,box2d.b2SolverData.prototype.velocities=null,goog.provide("box2d.b2Collision"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),goog.require("box2d.b2Distance"),box2d.b2ContactFeatureType={e_vertex:0,e_face:1},goog.exportProperty(box2d.b2ContactFeatureType,"e_vertex",box2d.b2ContactFeatureType.e_vertex),goog.exportProperty(box2d.b2ContactFeatureType,"e_face",box2d.b2ContactFeatureType.e_face),box2d.b2ContactFeature=function(a){this._id=a},box2d.b2ContactFeature.prototype._id=null,box2d.b2ContactFeature.prototype._indexA=0,box2d.b2ContactFeature.prototype._indexB=0,box2d.b2ContactFeature.prototype._typeA=0,box2d.b2ContactFeature.prototype._typeB=0,Object.defineProperty(box2d.b2ContactFeature.prototype,"indexA",{enumerable:!1,configurable:!0,get:function(){return this._indexA},set:function(a){this._indexA=a,this._id._key=4294967040&this._id._key|255&this._indexA}}),Object.defineProperty(box2d.b2ContactFeature.prototype,"indexB",{enumerable:!1,configurable:!0,get:function(){return this._indexB},set:function(a){this._indexB=a,this._id._key=4294902015&this._id._key|this._indexB<<8&65280}}),Object.defineProperty(box2d.b2ContactFeature.prototype,"typeA",{enumerable:!1,configurable:!0,get:function(){return this._typeA},set:function(a){this._typeA=a,this._id._key=4278255615&this._id._key|this._typeA<<16&16711680}}),Object.defineProperty(box2d.b2ContactFeature.prototype,"typeB",{enumerable:!1,configurable:!0,get:function(){return this._typeB},set:function(a){this._typeB=a,this._id._key=16777215&this._id._key|this._typeB<<24&4278190080}}),box2d.b2ContactID=function(){this.cf=new box2d.b2ContactFeature(this)},box2d.b2ContactID.prototype.cf=null,box2d.b2ContactID.prototype.key=0,box2d.b2ContactID.prototype.Copy=function(a){return this.key=a.key,this},box2d.b2ContactID.prototype.Clone=function(){return(new box2d.b2ContactID).Copy(this)},Object.defineProperty(box2d.b2ContactID.prototype,"key",{enumerable:!1,configurable:!0,get:function(){return this._key},set:function(a){this._key=a,this.cf._indexA=255&this._key,this.cf._indexB=this._key>>8&255,this.cf._typeA=this._key>>16&255,this.cf._typeB=this._key>>24&255}}),box2d.b2ManifoldPoint=function(){this.localPoint=new box2d.b2Vec2,this.id=new box2d.b2ContactID},box2d.b2ManifoldPoint.prototype.localPoint=null,box2d.b2ManifoldPoint.prototype.normalImpulse=0,box2d.b2ManifoldPoint.prototype.tangentImpulse=0,box2d.b2ManifoldPoint.prototype.id=null,box2d.b2ManifoldPoint.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2ManifoldPoint})},box2d.b2ManifoldPoint.prototype.Reset=function(){this.localPoint.SetZero(),this.normalImpulse=0,this.tangentImpulse=0,this.id.key=0},box2d.b2ManifoldPoint.prototype.Copy=function(a){return this.localPoint.Copy(a.localPoint),this.normalImpulse=a.normalImpulse,this.tangentImpulse=a.tangentImpulse,this.id.Copy(a.id),this},box2d.b2ManifoldType={e_unknown:-1,e_circles:0,e_faceA:1,e_faceB:2},goog.exportProperty(box2d.b2ManifoldType,"e_unknown",box2d.b2ManifoldType.e_unknown),goog.exportProperty(box2d.b2ManifoldType,"e_circles",box2d.b2ManifoldType.e_circles),goog.exportProperty(box2d.b2ManifoldType,"e_faceA",box2d.b2ManifoldType.e_faceA),goog.exportProperty(box2d.b2ManifoldType,"e_faceB",box2d.b2ManifoldType.e_faceB),box2d.b2Manifold=function(){this.points=box2d.b2ManifoldPoint.MakeArray(box2d.b2_maxManifoldPoints),this.localNormal=new box2d.b2Vec2,this.localPoint=new box2d.b2Vec2,this.type=box2d.b2ManifoldType.e_unknown,this.pointCount=0},box2d.b2Manifold.prototype.points=null,box2d.b2Manifold.prototype.localNormal=null,box2d.b2Manifold.prototype.localPoint=null,box2d.b2Manifold.prototype.type=box2d.b2ManifoldType.e_unknown,box2d.b2Manifold.prototype.pointCount=0,box2d.b2Manifold.prototype.Reset=function(){for(var a=0,b=box2d.b2_maxManifoldPoints;a<b;++a)this.points[a].Reset();this.localNormal.SetZero(),this.localPoint.SetZero(),this.type=box2d.b2ManifoldType.e_unknown,this.pointCount=0},box2d.b2Manifold.prototype.Copy=function(a){this.pointCount=a.pointCount;for(var b=0,c=box2d.b2_maxManifoldPoints;b<c;++b)this.points[b].Copy(a.points[b]);return this.localNormal.Copy(a.localNormal),this.localPoint.Copy(a.localPoint),this.type=a.type,this},box2d.b2Manifold.prototype.Clone=function(){return(new box2d.b2Manifold).Copy(this)},box2d.b2WorldManifold=function(){this.normal=new box2d.b2Vec2,this.points=box2d.b2Vec2.MakeArray(box2d.b2_maxManifoldPoints),this.separations=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints)},box2d.b2WorldManifold.prototype.normal=null,box2d.b2WorldManifold.prototype.points=null,box2d.b2WorldManifold.prototype.separations=null,box2d.b2WorldManifold.prototype.Initialize=function(a,b,c,d,e){if(0!==a.pointCount)switch(a.type){case box2d.b2ManifoldType.e_circles:this.normal.SetXY(1,0);var f=box2d.b2MulXV(b,a.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_pointA),g=box2d.b2MulXV(d,a.points[0].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_pointB),h=(box2d.b2DistanceSquaredVV(f,g)>box2d.b2_epsilon_sq&&box2d.b2SubVV(g,f,this.normal).SelfNormalize(),box2d.b2AddVMulSV(f,c,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA)),i=box2d.b2SubVMulSV(g,e,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d.b2MidVV(h,i,this.points[0]),this.separations[0]=box2d.b2DotVV(box2d.b2SubVV(i,h,box2d.b2Vec2.s_t0),this.normal);break;case box2d.b2ManifoldType.e_faceA:box2d.b2MulRV(b.q,a.localNormal,this.normal);for(var j=box2d.b2MulXV(b,a.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_planePoint),k=0,l=a.pointCount;k<l;++k){var m=box2d.b2MulXV(d,a.points[k].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),n=c-box2d.b2DotVV(box2d.b2SubVV(m,j,box2d.b2Vec2.s_t0),this.normal),h=box2d.b2AddVMulSV(m,n,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA),i=box2d.b2SubVMulSV(m,e,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB);box2d.b2MidVV(h,i,this.points[k]),this.separations[k]=box2d.b2DotVV(box2d.b2SubVV(i,h,box2d.b2Vec2.s_t0),this.normal)}break;case box2d.b2ManifoldType.e_faceB:box2d.b2MulRV(d.q,a.localNormal,this.normal);for(j=box2d.b2MulXV(d,a.localPoint,box2d.b2WorldManifold.prototype.Initialize.s_planePoint),k=0,l=a.pointCount;k<l;++k){m=box2d.b2MulXV(b,a.points[k].localPoint,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint),n=e-box2d.b2DotVV(box2d.b2SubVV(m,j,box2d.b2Vec2.s_t0),this.normal),i=box2d.b2AddVMulSV(m,n,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cB),h=box2d.b2SubVMulSV(m,c,this.normal,box2d.b2WorldManifold.prototype.Initialize.s_cA);box2d.b2MidVV(h,i,this.points[k]),this.separations[k]=box2d.b2DotVV(box2d.b2SubVV(h,i,box2d.b2Vec2.s_t0),this.normal)}this.normal.SelfNeg()}},box2d.b2WorldManifold.prototype.Initialize.s_pointA=new box2d.b2Vec2,box2d.b2WorldManifold.prototype.Initialize.s_pointB=new box2d.b2Vec2,box2d.b2WorldManifold.prototype.Initialize.s_cA=new box2d.b2Vec2,box2d.b2WorldManifold.prototype.Initialize.s_cB=new box2d.b2Vec2,box2d.b2WorldManifold.prototype.Initialize.s_planePoint=new box2d.b2Vec2,box2d.b2WorldManifold.prototype.Initialize.s_clipPoint=new box2d.b2Vec2,box2d.b2PointState={b2_nullState:0,b2_addState:1,b2_persistState:2,b2_removeState:3},goog.exportProperty(box2d.b2PointState,"b2_nullState   ",box2d.b2PointState.b2_nullState),goog.exportProperty(box2d.b2PointState,"b2_addState    ",box2d.b2PointState.b2_addState),goog.exportProperty(box2d.b2PointState,"b2_persistState",box2d.b2PointState.b2_persistState),goog.exportProperty(box2d.b2PointState,"b2_removeState ",box2d.b2PointState.b2_removeState),box2d.b2GetPointStates=function(a,b,c,d){for(var e=0,f=c.pointCount;e<f;++e){var h=c.points[e].id.key;a[e]=box2d.b2PointState.b2_removeState;for(var i=0,j=d.pointCount;i<j;++i)if(d.points[i].id.key===h){a[e]=box2d.b2PointState.b2_persistState;break}}for(f=box2d.b2_maxManifoldPoints;e<f;++e)a[e]=box2d.b2PointState.b2_nullState;for(e=0,f=d.pointCount;e<f;++e){h=d.points[e].id.key;b[e]=box2d.b2PointState.b2_addState;for(i=0,j=c.pointCount;i<j;++i)if(c.points[i].id.key===h){b[e]=box2d.b2PointState.b2_persistState;break}}for(f=box2d.b2_maxManifoldPoints;e<f;++e)b[e]=box2d.b2PointState.b2_nullState},box2d.b2ClipVertex=function(){this.v=new box2d.b2Vec2,this.id=new box2d.b2ContactID},box2d.b2ClipVertex.prototype.v=null,box2d.b2ClipVertex.prototype.id=null,box2d.b2ClipVertex.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2ClipVertex})},box2d.b2ClipVertex.prototype.Copy=function(a){return this.v.Copy(a.v),this.id.Copy(a.id),this},box2d.b2RayCastInput=function(){this.p1=new box2d.b2Vec2,this.p2=new box2d.b2Vec2,this.maxFraction=1},box2d.b2RayCastInput.prototype.p1=null,box2d.b2RayCastInput.prototype.p2=null,box2d.b2RayCastInput.prototype.maxFraction=1,box2d.b2RayCastInput.prototype.Copy=function(a){return this.p1.Copy(a.p1),this.p2.Copy(a.p2),this.maxFraction=a.maxFraction,this},box2d.b2RayCastOutput=function(){this.normal=new box2d.b2Vec2,this.fraction=0},box2d.b2RayCastOutput.prototype.normal=null,box2d.b2RayCastOutput.prototype.fraction=0,box2d.b2RayCastOutput.prototype.Copy=function(a){return this.normal.Copy(a.normal),this.fraction=a.fraction,this},box2d.b2AABB=function(){this.lowerBound=new box2d.b2Vec2,this.upperBound=new box2d.b2Vec2,this.m_out_center=new box2d.b2Vec2,this.m_out_extent=new box2d.b2Vec2},box2d.b2AABB.prototype.lowerBound=null,box2d.b2AABB.prototype.upperBound=null,box2d.b2AABB.prototype.m_out_center=null,box2d.b2AABB.prototype.m_out_extent=null,box2d.b2AABB.prototype.Copy=function(a){return this.lowerBound.Copy(a.lowerBound),this.upperBound.Copy(a.upperBound),this},box2d.b2AABB.prototype.IsValid=function(){var a=this.upperBound.x-this.lowerBound.x,b=this.upperBound.y-this.lowerBound.y,a=0<=a&&0<=b;return a&&this.lowerBound.IsValid()&&this.upperBound.IsValid()},box2d.b2AABB.prototype.GetCenter=function(){return box2d.b2MidVV(this.lowerBound,this.upperBound,this.m_out_center)},box2d.b2AABB.prototype.GetExtents=function(){return box2d.b2ExtVV(this.lowerBound,this.upperBound,this.m_out_extent)},box2d.b2AABB.prototype.GetPerimeter=function(){return 2*(this.upperBound.x-this.lowerBound.x+(this.upperBound.y-this.lowerBound.y))},box2d.b2AABB.prototype.Combine1=function(a){return this.lowerBound.x=box2d.b2Min(this.lowerBound.x,a.lowerBound.x),this.lowerBound.y=box2d.b2Min(this.lowerBound.y,a.lowerBound.y),this.upperBound.x=box2d.b2Max(this.upperBound.x,a.upperBound.x),this.upperBound.y=box2d.b2Max(this.upperBound.y,a.upperBound.y),this},box2d.b2AABB.prototype.Combine2=function(a,b){return this.lowerBound.x=box2d.b2Min(a.lowerBound.x,b.lowerBound.x),this.lowerBound.y=box2d.b2Min(a.lowerBound.y,b.lowerBound.y),this.upperBound.x=box2d.b2Max(a.upperBound.x,b.upperBound.x),this.upperBound.y=box2d.b2Max(a.upperBound.y,b.upperBound.y),this},box2d.b2AABB.Combine=function(a,b,c){return c.Combine2(a,b),c},box2d.b2AABB.prototype.Contains=function(a){return this.lowerBound.x<=a.lowerBound.x&&this.lowerBound.y<=a.lowerBound.y&&a.upperBound.x<=this.upperBound.x&&a.upperBound.y<=this.upperBound.y},box2d.b2AABB.prototype.RayCast=function(a,b){var c=-box2d.b2_maxFloat,d=box2d.b2_maxFloat,e=b.p1.x,f=b.p1.y,g=b.p2.x-b.p1.x,h=b.p2.y-b.p1.y,i=box2d.b2Abs(g),j=box2d.b2Abs(h),k=a.normal;if(i<box2d.b2_epsilon){if(e<this.lowerBound.x||this.upperBound.x<e)return!1}else{var l=1/g,m=(this.lowerBound.x-e)*l,o=-1;if((n=(this.upperBound.x-e)*l)<m&&(p=m,m=n,n=p,o=1),c<m&&(k.x=o,k.y=0,c=m),(d=box2d.b2Min(d,n))<c)return!1}if(j<box2d.b2_epsilon){if(f<this.lowerBound.y||this.upperBound.y<f)return!1}else{var n,p,l=1/h,m=(this.lowerBound.y-f)*l,o=-1;if((n=(this.upperBound.y-f)*l)<m&&(p=m,m=n,n=p,o=1),c<m&&(k.x=0,k.y=o,c=m),(d=box2d.b2Min(d,n))<c)return!1}return!(c<0||b.maxFraction<c||(a.fraction=c,0))},box2d.b2AABB.prototype.TestOverlap=function(a){var b=a.lowerBound.x-this.upperBound.x,c=a.lowerBound.y-this.upperBound.y,d=this.lowerBound.x-a.upperBound.x,a=this.lowerBound.y-a.upperBound.y;return!(0<b||0<c||0<d||0<a)},box2d.b2TestOverlapAABB=function(a,b){var c=b.lowerBound.x-a.upperBound.x,d=b.lowerBound.y-a.upperBound.y,e=a.lowerBound.x-b.upperBound.x,a=a.lowerBound.y-b.upperBound.y;return!(0<c||0<d||0<e||0<a)},box2d.b2ClipSegmentToLine=function(a,b,c,d,e){var f=0,g=b[0],b=b[1],i=box2d.b2DotVV(c,g.v)-d,c=box2d.b2DotVV(c,b.v)-d;return i<=0&&a[f++].Copy(g),c<=0&&a[f++].Copy(b),i*c<0&&((d=a[f].v).x=g.v.x+(i=i/(i-c))*(b.v.x-g.v.x),d.y=g.v.y+i*(b.v.y-g.v.y),(c=a[f].id).cf.indexA=e,c.cf.indexB=g.id.cf.indexB,c.cf.typeA=box2d.b2ContactFeatureType.e_vertex,c.cf.typeB=box2d.b2ContactFeatureType.e_face,++f),f},box2d.b2TestOverlapShape=function(a,b,c,d,e,f){var g=box2d.b2TestOverlapShape.s_input.Reset(),a=(g.proxyA.SetShape(a,b),g.proxyB.SetShape(c,d),g.transformA.Copy(e),g.transformB.Copy(f),g.useRadii=!0,box2d.b2TestOverlapShape.s_simplexCache.Reset()),b=(a.count=0,box2d.b2TestOverlapShape.s_output.Reset());return box2d.b2Distance(b,a,g),b.distance<10*box2d.b2_epsilon},box2d.b2TestOverlapShape.s_input=new box2d.b2DistanceInput,box2d.b2TestOverlapShape.s_simplexCache=new box2d.b2SimplexCache,box2d.b2TestOverlapShape.s_output=new box2d.b2DistanceOutput,goog.provide("box2d.b2Timer"),goog.require("box2d.b2Settings"),box2d.b2Timer=function(){this.m_start=(new Date).getTime()},box2d.b2Timer.prototype.m_start=0,box2d.b2Timer.prototype.Reset=function(){return this.m_start=(new Date).getTime(),this},box2d.b2Timer.prototype.GetMilliseconds=function(){return(new Date).getTime()-this.m_start},box2d.b2Counter=function(){},box2d.b2Counter.prototype.m_count=0,box2d.b2Counter.prototype.m_min_count=0,box2d.b2Counter.prototype.m_max_count=0,box2d.b2Counter.prototype.GetCount=function(){return this.m_count},box2d.b2Counter.prototype.GetMinCount=function(){return this.m_min_count},box2d.b2Counter.prototype.GetMaxCount=function(){return this.m_max_count},box2d.b2Counter.prototype.ResetCount=function(){var a=this.m_count;return this.m_count=0,a},box2d.b2Counter.prototype.ResetMinCount=function(){this.m_min_count=0},box2d.b2Counter.prototype.ResetMaxCount=function(){this.m_max_count=0},box2d.b2Counter.prototype.Increment=function(){this.m_count++,this.m_max_count<this.m_count&&(this.m_max_count=this.m_count)},box2d.b2Counter.prototype.Decrement=function(){this.m_count--,this.m_min_count>this.m_count&&(this.m_min_count=this.m_count)},goog.provide("box2d.b2TimeOfImpact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Distance"),goog.require("box2d.b2Math"),goog.require("box2d.b2Timer"),box2d.b2_toiTime=0,box2d.b2_toiMaxTime=0,box2d.b2_toiCalls=0,box2d.b2_toiIters=0,box2d.b2_toiMaxIters=0,box2d.b2_toiRootIters=0,box2d.b2_toiMaxRootIters=0,box2d.b2TOIInput=function(){this.proxyA=new box2d.b2DistanceProxy,this.proxyB=new box2d.b2DistanceProxy,this.sweepA=new box2d.b2Sweep,this.sweepB=new box2d.b2Sweep},box2d.b2TOIInput.prototype.proxyA=null,box2d.b2TOIInput.prototype.proxyB=null,box2d.b2TOIInput.prototype.sweepA=null,box2d.b2TOIInput.prototype.sweepB=null,box2d.b2TOIInput.prototype.tMax=0,box2d.b2TOIOutputState={e_unknown:0,e_failed:1,e_overlapped:2,e_touching:3,e_separated:4},goog.exportProperty(box2d.b2TOIOutputState,"e_unknown",box2d.b2TOIOutputState.e_unknown),goog.exportProperty(box2d.b2TOIOutputState,"e_failed",box2d.b2TOIOutputState.e_failed),goog.exportProperty(box2d.b2TOIOutputState,"e_overlapped",box2d.b2TOIOutputState.e_overlapped),goog.exportProperty(box2d.b2TOIOutputState,"e_touching",box2d.b2TOIOutputState.e_touching),goog.exportProperty(box2d.b2TOIOutputState,"e_separated",box2d.b2TOIOutputState.e_separated),box2d.b2TOIOutput=function(){},box2d.b2TOIOutput.prototype.state=box2d.b2TOIOutputState.e_unknown,box2d.b2TOIOutput.prototype.t=0,box2d.b2SeparationFunctionType={e_unknown:-1,e_points:0,e_faceA:1,e_faceB:2},goog.exportProperty(box2d.b2SeparationFunctionType,"e_unknown",box2d.b2SeparationFunctionType.e_unknown),goog.exportProperty(box2d.b2SeparationFunctionType,"e_points",box2d.b2SeparationFunctionType.e_points),goog.exportProperty(box2d.b2SeparationFunctionType,"e_faceA",box2d.b2SeparationFunctionType.e_faceA),goog.exportProperty(box2d.b2SeparationFunctionType,"e_faceB",box2d.b2SeparationFunctionType.e_faceB),box2d.b2SeparationFunction=function(){this.m_sweepA=new box2d.b2Sweep,this.m_sweepB=new box2d.b2Sweep,this.m_localPoint=new box2d.b2Vec2,this.m_axis=new box2d.b2Vec2},box2d.b2SeparationFunction.prototype.m_proxyA=null,box2d.b2SeparationFunction.prototype.m_proxyB=null,box2d.b2SeparationFunction.prototype.m_sweepA=null,box2d.b2SeparationFunction.prototype.m_sweepB=null,box2d.b2SeparationFunction.prototype.m_type=box2d.b2SeparationFunctionType.e_unknown,box2d.b2SeparationFunction.prototype.m_localPoint=null,box2d.b2SeparationFunction.prototype.m_axis=null,box2d.b2SeparationFunction.prototype.Initialize=function(a,b,c,d,e,f){this.m_proxyA=b,this.m_proxyB=d;var j,q,l,k,m,n,b=a.count,d=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<b&&b<3),this.m_sweepA.Copy(c),this.m_sweepB.Copy(e),box2d.b2TimeOfImpact.s_xfA),c=box2d.b2TimeOfImpact.s_xfB;return this.m_sweepA.GetTransform(d,f),this.m_sweepB.GetTransform(c,f),1===b?(this.m_type=box2d.b2SeparationFunctionType.e_points,j=this.m_proxyA.GetVertex(a.indexA[0]),k=this.m_proxyB.GetVertex(a.indexB[0]),l=box2d.b2MulXV(d,j,box2d.b2TimeOfImpact.s_pointA),m=box2d.b2MulXV(c,k,box2d.b2TimeOfImpact.s_pointB),box2d.b2SubVV(m,l,this.m_axis),this.m_axis.Normalize()):(a.indexA[0]===a.indexA[1]?(this.m_type=box2d.b2SeparationFunctionType.e_faceB,e=this.m_proxyB.GetVertex(a.indexB[0]),f=this.m_proxyB.GetVertex(a.indexB[1]),box2d.b2CrossVOne(box2d.b2SubVV(f,e,box2d.b2Vec2.s_t0),this.m_axis).SelfNormalize(),q=box2d.b2MulRV(c.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),box2d.b2MidVV(e,f,this.m_localPoint),m=box2d.b2MulXV(c,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),j=this.m_proxyA.GetVertex(a.indexA[0]),l=box2d.b2MulXV(d,j,box2d.b2TimeOfImpact.s_pointA),(n=box2d.b2DotVV(box2d.b2SubVV(l,m,box2d.b2Vec2.s_t0),q))<0&&(this.m_axis.SelfNeg(),n=-n)):(this.m_type=box2d.b2SeparationFunctionType.e_faceA,b=this.m_proxyA.GetVertex(a.indexA[0]),e=this.m_proxyA.GetVertex(a.indexA[1]),box2d.b2CrossVOne(box2d.b2SubVV(e,b,box2d.b2Vec2.s_t0),this.m_axis).SelfNormalize(),q=box2d.b2MulRV(d.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),box2d.b2MidVV(b,e,this.m_localPoint),l=box2d.b2MulXV(d,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),k=this.m_proxyB.GetVertex(a.indexB[0]),m=box2d.b2MulXV(c,k,box2d.b2TimeOfImpact.s_pointB),(n=box2d.b2DotVV(box2d.b2SubVV(m,l,box2d.b2Vec2.s_t0),q))<0&&(this.m_axis.SelfNeg(),n=-n)),n)},box2d.b2SeparationFunction.prototype.FindMinSeparation=function(a,b,c){var d=box2d.b2TimeOfImpact.s_xfA,e=box2d.b2TimeOfImpact.s_xfB;switch(this.m_sweepA.GetTransform(d,c),this.m_sweepB.GetTransform(e,c),this.m_type){case box2d.b2SeparationFunctionType.e_points:var f=box2d.b2MulTRV(d.q,this.m_axis,box2d.b2TimeOfImpact.s_axisA),g=box2d.b2MulTRV(e.q,box2d.b2NegV(this.m_axis,box2d.b2Vec2.s_t0),box2d.b2TimeOfImpact.s_axisB),h=(a[0]=this.m_proxyA.GetSupport(f),b[0]=this.m_proxyB.GetSupport(g),this.m_proxyA.GetVertex(a[0])),i=this.m_proxyB.GetVertex(b[0]),j=box2d.b2MulXV(d,h,box2d.b2TimeOfImpact.s_pointA),k=box2d.b2MulXV(e,i,box2d.b2TimeOfImpact.s_pointB);return box2d.b2DotVV(box2d.b2SubVV(k,j,box2d.b2Vec2.s_t0),this.m_axis);case box2d.b2SeparationFunctionType.e_faceA:var m=box2d.b2MulRV(d.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),j=box2d.b2MulXV(d,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),g=box2d.b2MulTRV(e.q,box2d.b2NegV(m,box2d.b2Vec2.s_t0),box2d.b2TimeOfImpact.s_axisB),i=(a[0]=-1,b[0]=this.m_proxyB.GetSupport(g),this.m_proxyB.GetVertex(b[0])),k=box2d.b2MulXV(e,i,box2d.b2TimeOfImpact.s_pointB);return box2d.b2DotVV(box2d.b2SubVV(k,j,box2d.b2Vec2.s_t0),m);case box2d.b2SeparationFunctionType.e_faceB:m=box2d.b2MulRV(e.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),k=box2d.b2MulXV(e,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),f=box2d.b2MulTRV(d.q,box2d.b2NegV(m,box2d.b2Vec2.s_t0),box2d.b2TimeOfImpact.s_axisA),h=(b[0]=-1,a[0]=this.m_proxyA.GetSupport(f),this.m_proxyA.GetVertex(a[0])),j=box2d.b2MulXV(d,h,box2d.b2TimeOfImpact.s_pointA);return box2d.b2DotVV(box2d.b2SubVV(j,k,box2d.b2Vec2.s_t0),m);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),a[0]=-1,b[0]=-1,0}},box2d.b2SeparationFunction.prototype.Evaluate=function(a,b,c){var d=box2d.b2TimeOfImpact.s_xfA,e=box2d.b2TimeOfImpact.s_xfB;switch(this.m_sweepA.GetTransform(d,c),this.m_sweepB.GetTransform(e,c),this.m_type){case box2d.b2SeparationFunctionType.e_points:var f=this.m_proxyA.GetVertex(a),g=this.m_proxyB.GetVertex(b),h=box2d.b2MulXV(d,f,box2d.b2TimeOfImpact.s_pointA),i=box2d.b2MulXV(e,g,box2d.b2TimeOfImpact.s_pointB);return box2d.b2DotVV(box2d.b2SubVV(i,h,box2d.b2Vec2.s_t0),this.m_axis);case box2d.b2SeparationFunctionType.e_faceA:var k=box2d.b2MulRV(d.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),h=box2d.b2MulXV(d,this.m_localPoint,box2d.b2TimeOfImpact.s_pointA),g=this.m_proxyB.GetVertex(b),i=box2d.b2MulXV(e,g,box2d.b2TimeOfImpact.s_pointB);return box2d.b2DotVV(box2d.b2SubVV(i,h,box2d.b2Vec2.s_t0),k);case box2d.b2SeparationFunctionType.e_faceB:k=box2d.b2MulRV(e.q,this.m_axis,box2d.b2TimeOfImpact.s_normal),i=box2d.b2MulXV(e,this.m_localPoint,box2d.b2TimeOfImpact.s_pointB),f=this.m_proxyA.GetVertex(a),h=box2d.b2MulXV(d,f,box2d.b2TimeOfImpact.s_pointA);return box2d.b2DotVV(box2d.b2SubVV(h,i,box2d.b2Vec2.s_t0),k);default:return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),0}},box2d.b2TimeOfImpact=function(a,b){var c=box2d.b2TimeOfImpact.s_timer.Reset(),d=(++box2d.b2_toiCalls,a.state=box2d.b2TOIOutputState.e_unknown,a.t=b.tMax,b.proxyA),e=b.proxyB,f=box2d.b2TimeOfImpact.s_sweepA.Copy(b.sweepA),g=box2d.b2TimeOfImpact.s_sweepB.Copy(b.sweepB),h=(f.Normalize(),g.Normalize(),b.tMax),i=d.m_radius+e.m_radius,j=box2d.b2Max(box2d.b2_linearSlop,i-3*box2d.b2_linearSlop),k=.25*box2d.b2_linearSlop,l=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(k<j),0),n=0,o=box2d.b2TimeOfImpact.s_cache,p=(o.count=0,box2d.b2TimeOfImpact.s_distanceInput);for(p.proxyA=b.proxyA,p.proxyB=b.proxyB,p.useRadii=!1;;){var q=box2d.b2TimeOfImpact.s_xfA,r=box2d.b2TimeOfImpact.s_xfB,q=(f.GetTransform(q,l),g.GetTransform(r,l),p.transformA.Copy(q),p.transformB.Copy(r),box2d.b2TimeOfImpact.s_distanceOutput);if(box2d.b2Distance(q,o,p),q.distance<=0){a.state=box2d.b2TOIOutputState.e_overlapped,a.t=0;break}if(q.distance<j+k){a.state=box2d.b2TOIOutputState.e_touching,a.t=l;break}var t=box2d.b2TimeOfImpact.s_fcn;t.Initialize(o,d,f,e,g,l);for(var u=!1,v=h,w=0;;){var x=box2d.b2TimeOfImpact.s_indexA,y=box2d.b2TimeOfImpact.s_indexB,z=t.FindMinSeparation(x,y,v);if(j+k<z){a.state=box2d.b2TOIOutputState.e_separated,a.t=h,u=!0;break}if(j-k<z){l=v;break}var A=t.Evaluate(x[0],y[0],l);if(A<j-k){a.state=box2d.b2TOIOutputState.e_failed,a.t=l,u=!0;break}if(A<=j+k){a.state=box2d.b2TOIOutputState.e_touching,a.t=l,u=!0;break}for(var B=0,C=l,D=v;;){var E=1&B?C+(j-A)*(D-C)/(z-A):.5*(C+D),F=(++B,++box2d.b2_toiRootIters,t.Evaluate(x[0],y[0],E));if(box2d.b2Abs(F-j)<k){v=E;break}if(j<F?(C=E,A=F):(D=E,z=F),50===B)break}if(box2d.b2_toiMaxRootIters=box2d.b2Max(box2d.b2_toiMaxRootIters,B),++w===box2d.b2_maxPolygonVertices)break}if(++n,++box2d.b2_toiIters,u)break;if(20===n){a.state=box2d.b2TOIOutputState.e_failed,a.t=l;break}}box2d.b2_toiMaxIters=box2d.b2Max(box2d.b2_toiMaxIters,n);i=c.GetMilliseconds();box2d.b2_toiMaxTime=box2d.b2Max(box2d.b2_toiMaxTime,i),box2d.b2_toiTime+=i},box2d.b2TimeOfImpact.s_timer=new box2d.b2Timer,box2d.b2TimeOfImpact.s_cache=new box2d.b2SimplexCache,box2d.b2TimeOfImpact.s_distanceInput=new box2d.b2DistanceInput,box2d.b2TimeOfImpact.s_distanceOutput=new box2d.b2DistanceOutput,box2d.b2TimeOfImpact.s_xfA=new box2d.b2Transform,box2d.b2TimeOfImpact.s_xfB=new box2d.b2Transform,box2d.b2TimeOfImpact.s_indexA=box2d.b2MakeNumberArray(1),box2d.b2TimeOfImpact.s_indexB=box2d.b2MakeNumberArray(1),box2d.b2TimeOfImpact.s_fcn=new box2d.b2SeparationFunction,box2d.b2TimeOfImpact.s_sweepA=new box2d.b2Sweep,box2d.b2TimeOfImpact.s_sweepB=new box2d.b2Sweep,box2d.b2TimeOfImpact.s_pointA=new box2d.b2Vec2,box2d.b2TimeOfImpact.s_pointB=new box2d.b2Vec2,box2d.b2TimeOfImpact.s_normal=new box2d.b2Vec2,box2d.b2TimeOfImpact.s_axisA=new box2d.b2Vec2,box2d.b2TimeOfImpact.s_axisB=new box2d.b2Vec2,goog.provide("box2d.b2Contact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Collision"),goog.require("box2d.b2TimeOfImpact"),box2d.b2MixFriction=function(a,b){return box2d.b2Sqrt(a*b)},box2d.b2MixRestitution=function(a,b){return b<a?a:b},box2d.b2ContactEdge=function(){},box2d.b2ContactEdge.prototype.other=null,box2d.b2ContactEdge.prototype.contact=null,box2d.b2ContactEdge.prototype.prev=null,box2d.b2ContactEdge.prototype.next=null,box2d.b2ContactFlag={e_none:0,e_islandFlag:1,e_touchingFlag:2,e_enabledFlag:4,e_filterFlag:8,e_bulletHitFlag:16,e_toiFlag:32},goog.exportProperty(box2d.b2ContactFlag,"e_none",box2d.b2ContactFlag.e_none),goog.exportProperty(box2d.b2ContactFlag,"e_islandFlag",box2d.b2ContactFlag.e_islandFlag),goog.exportProperty(box2d.b2ContactFlag,"e_touchingFlag",box2d.b2ContactFlag.e_touchingFlag),goog.exportProperty(box2d.b2ContactFlag,"e_enabledFlag",box2d.b2ContactFlag.e_enabledFlag),goog.exportProperty(box2d.b2ContactFlag,"e_filterFlag",box2d.b2ContactFlag.e_filterFlag),goog.exportProperty(box2d.b2ContactFlag,"e_bulletHitFlag",box2d.b2ContactFlag.e_bulletHitFlag),goog.exportProperty(box2d.b2ContactFlag,"e_toiFlag",box2d.b2ContactFlag.e_toiFlag),box2d.b2Contact=function(){this.m_nodeA=new box2d.b2ContactEdge,this.m_nodeB=new box2d.b2ContactEdge,this.m_manifold=new box2d.b2Manifold,this.m_oldManifold=new box2d.b2Manifold},box2d.b2Contact.prototype.m_flags=box2d.b2ContactFlag.e_none,box2d.b2Contact.prototype.m_prev=null,box2d.b2Contact.prototype.m_next=null,box2d.b2Contact.prototype.m_nodeA=null,box2d.b2Contact.prototype.m_nodeB=null,box2d.b2Contact.prototype.m_fixtureA=null,box2d.b2Contact.prototype.m_fixtureB=null,box2d.b2Contact.prototype.m_indexA=0,box2d.b2Contact.prototype.m_indexB=0,box2d.b2Contact.prototype.m_manifold=null,box2d.b2Contact.prototype.m_toiCount=0,box2d.b2Contact.prototype.m_toi=0,box2d.b2Contact.prototype.m_friction=0,box2d.b2Contact.prototype.m_restitution=0,box2d.b2Contact.prototype.m_tangentSpeed=0,box2d.b2Contact.prototype.m_oldManifold=null,box2d.b2Contact.prototype.GetManifold=function(){return this.m_manifold},box2d.b2Contact.prototype.GetWorldManifold=function(a){var b=this.m_fixtureA.GetBody(),c=this.m_fixtureB.GetBody(),d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();a.Initialize(this.m_manifold,b.GetTransform(),d.m_radius,c.GetTransform(),e.m_radius)},box2d.b2Contact.prototype.IsTouching=function(){return(this.m_flags&box2d.b2ContactFlag.e_touchingFlag)===box2d.b2ContactFlag.e_touchingFlag},box2d.b2Contact.prototype.SetEnabled=function(a){a?this.m_flags|=box2d.b2ContactFlag.e_enabledFlag:this.m_flags&=~box2d.b2ContactFlag.e_enabledFlag},box2d.b2Contact.prototype.IsEnabled=function(){return(this.m_flags&box2d.b2ContactFlag.e_enabledFlag)===box2d.b2ContactFlag.e_enabledFlag},box2d.b2Contact.prototype.GetNext=function(){return this.m_next},box2d.b2Contact.prototype.GetFixtureA=function(){return this.m_fixtureA},box2d.b2Contact.prototype.GetChildIndexA=function(){return this.m_indexA},box2d.b2Contact.prototype.GetFixtureB=function(){return this.m_fixtureB},box2d.b2Contact.prototype.GetChildIndexB=function(){return this.m_indexB},box2d.b2Contact.prototype.Evaluate=function(){},box2d.b2Contact.prototype.FlagForFiltering=function(){this.m_flags|=box2d.b2ContactFlag.e_filterFlag},box2d.b2Contact.prototype.SetFriction=function(a){this.m_friction=a},box2d.b2Contact.prototype.GetFriction=function(){return this.m_friction},box2d.b2Contact.prototype.ResetFriction=function(){this.m_friction=box2d.b2MixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction)},box2d.b2Contact.prototype.SetRestitution=function(a){this.m_restitution=a},box2d.b2Contact.prototype.GetRestitution=function(){return this.m_restitution},box2d.b2Contact.prototype.ResetRestitution=function(){this.m_restitution=box2d.b2MixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)},box2d.b2Contact.prototype.SetTangentSpeed=function(a){this.m_tangentSpeed=a},box2d.b2Contact.prototype.GetTangentSpeed=function(){return this.m_tangentSpeed},box2d.b2Contact.prototype.Reset=function(a,b,c,d){this.m_flags=box2d.b2ContactFlag.e_enabledFlag,this.m_fixtureA=a,this.m_fixtureB=c,this.m_indexA=b,this.m_indexB=d,this.m_manifold.pointCount=0,this.m_prev=null,this.m_next=null,this.m_nodeA.contact=null,this.m_nodeA.prev=null,this.m_nodeA.next=null,this.m_nodeA.other=null,this.m_nodeB.contact=null,this.m_nodeB.prev=null,this.m_nodeB.next=null,this.m_nodeB.other=null,this.m_toiCount=0,this.m_friction=box2d.b2MixFriction(this.m_fixtureA.m_friction,this.m_fixtureB.m_friction),this.m_restitution=box2d.b2MixRestitution(this.m_fixtureA.m_restitution,this.m_fixtureB.m_restitution)},box2d.b2Contact.prototype.Update=function(a){var b=this.m_oldManifold,b=(this.m_oldManifold=this.m_manifold,this.m_manifold=b,this.m_flags|=box2d.b2ContactFlag.e_enabledFlag,!1),d=(this.m_flags&box2d.b2ContactFlag.e_touchingFlag)===box2d.b2ContactFlag.e_touchingFlag,e=this.m_fixtureA.IsSensor(),f=this.m_fixtureB.IsSensor(),e=e||f,f=this.m_fixtureA.GetBody(),i=this.m_fixtureB.GetBody(),j=f.GetTransform(),k=i.GetTransform();if(e){var l=this.m_fixtureA.GetShape(),m=this.m_fixtureB.GetShape(),b=box2d.b2TestOverlapShape(l,this.m_indexA,m,this.m_indexB,j,k);this.m_manifold.pointCount=0}else{this.Evaluate(this.m_manifold,j,k),b=0<this.m_manifold.pointCount;for(var n=0;n<this.m_manifold.pointCount;++n){var o=this.m_manifold.points[n];o.normalImpulse=0,o.tangentImpulse=0;for(var p=o.id,q=0;q<this.m_oldManifold.pointCount;++q){var r=this.m_oldManifold.points[q];if(r.id.key===p.key){o.normalImpulse=r.normalImpulse,o.tangentImpulse=r.tangentImpulse;break}}}b!==d&&(f.SetAwake(!0),i.SetAwake(!0))}b?this.m_flags|=box2d.b2ContactFlag.e_touchingFlag:this.m_flags&=~box2d.b2ContactFlag.e_touchingFlag,!1==d&&!0===b&&a&&a.BeginContact(this),!0==d&&!1===b&&a&&a.EndContact(this),!1===e&&b&&a&&a.PreSolve(this,this.m_oldManifold)},box2d.b2Contact.prototype.ComputeTOI=function(a,b){var c=box2d.b2Contact.prototype.ComputeTOI.s_input,a=(c.proxyA.SetShape(this.m_fixtureA.GetShape(),this.m_indexA),c.proxyB.SetShape(this.m_fixtureB.GetShape(),this.m_indexB),c.sweepA.Copy(a),c.sweepB.Copy(b),c.tMax=box2d.b2_linearSlop,box2d.b2Contact.prototype.ComputeTOI.s_output);return box2d.b2TimeOfImpact(a,c),a.t},box2d.b2Contact.prototype.ComputeTOI.s_input=new box2d.b2TOIInput,box2d.b2Contact.prototype.ComputeTOI.s_output=new box2d.b2TOIOutput,goog.provide("box2d.b2PolygonAndCircleContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),box2d.b2PolygonAndCircleContact=function(){goog.base(this)},goog.inherits(box2d.b2PolygonAndCircleContact,box2d.b2Contact),box2d.b2PolygonAndCircleContact.Create=function(){return new box2d.b2PolygonAndCircleContact},box2d.b2PolygonAndCircleContact.Destroy=function(){},box2d.b2PolygonAndCircleContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.GetType()===box2d.b2ShapeType.e_polygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.GetType()===box2d.b2ShapeType.e_circleShape)},box2d.b2PolygonAndCircleContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2PolygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2CircleShape),box2d.b2CollidePolygonAndCircle(a,d instanceof box2d.b2PolygonShape?d:null,b,e instanceof box2d.b2CircleShape?e:null,c)},goog.provide("box2d.b2EdgeAndPolygonContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),box2d.b2EdgeAndPolygonContact=function(){goog.base(this)},goog.inherits(box2d.b2EdgeAndPolygonContact,box2d.b2Contact),box2d.b2EdgeAndPolygonContact.Create=function(){return new box2d.b2EdgeAndPolygonContact},box2d.b2EdgeAndPolygonContact.Destroy=function(){},box2d.b2EdgeAndPolygonContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.GetType()===box2d.b2ShapeType.e_edgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.GetType()===box2d.b2ShapeType.e_polygonShape)},box2d.b2EdgeAndPolygonContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2EdgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2PolygonShape),box2d.b2CollideEdgeAndPolygon(a,d instanceof box2d.b2EdgeShape?d:null,b,e instanceof box2d.b2PolygonShape?e:null,c)},goog.provide("box2d.b2Shape"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),goog.require("box2d.b2Distance"),box2d.b2MassData=function(){this.center=new box2d.b2Vec2(0,0)},box2d.b2MassData.prototype.mass=0,box2d.b2MassData.prototype.center=null,box2d.b2MassData.prototype.I=0,box2d.b2ShapeType={e_unknown:-1,e_circleShape:0,e_edgeShape:1,e_polygonShape:2,e_chainShape:3,e_shapeTypeCount:4},goog.exportProperty(box2d.b2ShapeType,"e_unknown",box2d.b2ShapeType.e_unknown),goog.exportProperty(box2d.b2ShapeType,"e_circleShape",box2d.b2ShapeType.e_circleShape),goog.exportProperty(box2d.b2ShapeType,"e_edgeShape",box2d.b2ShapeType.e_edgeShape),goog.exportProperty(box2d.b2ShapeType,"e_polygonShape",box2d.b2ShapeType.e_polygonShape),goog.exportProperty(box2d.b2ShapeType,"e_chainShape",box2d.b2ShapeType.e_chainShape),goog.exportProperty(box2d.b2ShapeType,"e_shapeTypeCount",box2d.b2ShapeType.e_shapeTypeCount),box2d.b2Shape=function(a,b){this.m_type=a,this.m_radius=b},box2d.b2Shape.prototype.m_type=box2d.b2ShapeType.e_unknown,box2d.b2Shape.prototype.m_radius=0,box2d.b2Shape.prototype.Clone=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),null},box2d.b2Shape.prototype.Copy=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_type===a.m_type),this.m_radius=a.m_radius,this},box2d.b2Shape.prototype.GetType=function(){return this.m_type},box2d.b2Shape.prototype.GetChildCount=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0},box2d.b2Shape.prototype.TestPoint=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),!1},box2d.b2Shape.prototype.RayCast=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),!1},box2d.b2Shape.prototype.ComputeAABB=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")},box2d.b2Shape.prototype.ComputeMass=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")},box2d.b2Shape.prototype.SetupDistanceProxy=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")},box2d.b2Shape.prototype.ComputeSubmergedArea=function(){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual"),0},box2d.b2Shape.prototype.Dump=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1,"pure virtual")},goog.provide("box2d.b2PolygonShape"),goog.require("box2d.b2Shape"),box2d.b2PolygonShape=function(){goog.base(this,box2d.b2ShapeType.e_polygonShape,box2d.b2_polygonRadius),this.m_centroid=new box2d.b2Vec2(0,0),this.m_vertices=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.m_normals=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices)},goog.inherits(box2d.b2PolygonShape,box2d.b2Shape),box2d.b2PolygonShape.prototype.m_centroid=null,box2d.b2PolygonShape.prototype.m_vertices=null,box2d.b2PolygonShape.prototype.m_normals=null,box2d.b2PolygonShape.prototype.m_count=0,box2d.b2PolygonShape.prototype.Clone=function(){return(new box2d.b2PolygonShape).Copy(this)},box2d.b2PolygonShape.prototype.Copy=function(a){goog.base(this,"Copy",a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a instanceof box2d.b2PolygonShape),this.m_centroid.Copy(a.m_centroid),this.m_count=a.m_count;for(var b=0,c=this.m_count;b<c;++b)this.m_vertices[b].Copy(a.m_vertices[b]),this.m_normals[b].Copy(a.m_normals[b]);return this},box2d.b2PolygonShape.prototype.SetAsBox=function(a,b){return this.m_count=4,this.m_vertices[0].SetXY(-a,-b),this.m_vertices[1].SetXY(a,-b),this.m_vertices[2].SetXY(a,b),this.m_vertices[3].SetXY(-a,b),this.m_normals[0].SetXY(0,-1),this.m_normals[1].SetXY(1,0),this.m_normals[2].SetXY(0,1),this.m_normals[3].SetXY(-1,0),this.m_centroid.SetZero(),this},box2d.b2PolygonShape.prototype.SetAsOrientedBox=function(a,b,c,d){this.m_count=4,this.m_vertices[0].SetXY(-a,-b),this.m_vertices[1].SetXY(a,-b),this.m_vertices[2].SetXY(a,b),this.m_vertices[3].SetXY(-a,b),this.m_normals[0].SetXY(0,-1),this.m_normals[1].SetXY(1,0),this.m_normals[2].SetXY(0,1),this.m_normals[3].SetXY(-1,0),this.m_centroid.Copy(c);var e=new box2d.b2Transform;e.SetPosition(c),e.SetRotationAngleRadians(d);for(var f=0,g=this.m_count;f<g;++f)box2d.b2MulXV(e,this.m_vertices[f],this.m_vertices[f]),box2d.b2MulRV(e.q,this.m_normals[f],this.m_normals[f]);return this},box2d.b2PolygonShape.prototype.Set=function(a,b){if(void 0===b&&(b=a.length),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=b&&b<=box2d.b2_maxPolygonVertices),b<3)return this.SetAsBox(1,1);for(var c=box2d.b2Min(b,box2d.b2_maxPolygonVertices),d=box2d.b2PolygonShape.prototype.Set.s_ps,e=0,f=0;f<c;++f){for(var g=a[f],h=!0,i=0;i<e;++i)if(box2d.b2DistanceSquaredVV(g,d[i])<.5*box2d.b2_linearSlop){h=!1;break}h&&d[e++].Copy(g)}if((c=e)<3)return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),this.SetAsBox(1,1);for(var j=0,k=d[0].x,f=1;f<c;++f){var l=d[f].x;(k<l||l===k&&d[f].y<d[j].y)&&(j=f,k=l)}for(var m=box2d.b2PolygonShape.prototype.Set.s_hull,n=0,o=j;;){m[n]=o;for(var q,r,p=0,i=1;i<c;++i)(p===o||(q=box2d.b2SubVV(d[p],d[m[n]],box2d.b2PolygonShape.prototype.Set.s_r),g=box2d.b2SubVV(d[i],d[m[n]],box2d.b2PolygonShape.prototype.Set.s_v),(r=box2d.b2CrossVV(q,g))<0&&(p=i),0===r&&g.GetLengthSquared()>q.GetLengthSquared()))&&(p=i);if(++n,(o=p)===j)break}this.m_count=n;for(f=0;f<n;++f)this.m_vertices[f].Copy(d[m[f]]);for(var f=0,s=n;f<s;++f){var t=this.m_vertices[f],u=this.m_vertices[(f+1)%s],u=box2d.b2SubVV(u,t,box2d.b2Vec2.s_t0);box2d.ENABLE_ASSERTS&&box2d.b2Assert(u.GetLengthSquared()>box2d.b2_epsilon_sq),box2d.b2CrossVOne(u,this.m_normals[f]).SelfNormalize()}return box2d.b2PolygonShape.ComputeCentroid(this.m_vertices,n,this.m_centroid),this},box2d.b2PolygonShape.prototype.Set.s_ps=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),box2d.b2PolygonShape.prototype.Set.s_hull=box2d.b2MakeNumberArray(box2d.b2_maxPolygonVertices),box2d.b2PolygonShape.prototype.Set.s_r=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.Set.s_v=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.SetAsVector=function(a,b){return this.Set(a,b),this},box2d.b2PolygonShape.prototype.SetAsArray=function(a,b){return this.Set(a,b),this},box2d.b2PolygonShape.prototype.GetChildCount=function(){return 1},box2d.b2PolygonShape.prototype.TestPoint=function(a,b){for(var c=box2d.b2MulTXV(a,b,box2d.b2PolygonShape.prototype.TestPoint.s_pLocal),d=0,e=this.m_count;d<e;++d)if(0<box2d.b2DotVV(this.m_normals[d],box2d.b2SubVV(c,this.m_vertices[d],box2d.b2Vec2.s_t0)))return!1;return!0},box2d.b2PolygonShape.prototype.TestPoint.s_pLocal=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.RayCast=function(a,b,c){for(var d=box2d.b2MulTXV(c,b.p1,box2d.b2PolygonShape.prototype.RayCast.s_p1),e=box2d.b2MulTXV(c,b.p2,box2d.b2PolygonShape.prototype.RayCast.s_p2),f=box2d.b2SubVV(e,d,box2d.b2PolygonShape.prototype.RayCast.s_d),g=0,h=b.maxFraction,i=-1,j=0,k=this.m_count;j<k;++j){var l=box2d.b2DotVV(this.m_normals[j],box2d.b2SubVV(this.m_vertices[j],d,box2d.b2Vec2.s_t0)),m=box2d.b2DotVV(this.m_normals[j],f);if(0===m){if(l<0)return!1}else m<0&&l<g*m?(g=l/m,i=j):0<m&&l<h*m&&(h=l/m);if(h<g)return!1}return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=g&&g<=b.maxFraction),0<=i&&(a.fraction=g,box2d.b2MulRV(c.q,this.m_normals[i],a.normal),!0)},box2d.b2PolygonShape.prototype.RayCast.s_p1=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.RayCast.s_p2=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.RayCast.s_d=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeAABB=function(a,b){for(var c=box2d.b2MulXV(b,this.m_vertices[0],a.lowerBound),d=a.upperBound.Copy(c),e=0,f=this.m_count;e<f;++e){var g=box2d.b2MulXV(b,this.m_vertices[e],box2d.b2PolygonShape.prototype.ComputeAABB.s_v);box2d.b2MinV(g,c,c),box2d.b2MaxV(g,d,d)}a=this.m_radius;c.SelfSubXY(a,a),d.SelfAddXY(a,a)},box2d.b2PolygonShape.prototype.ComputeAABB.s_v=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeMass=function(a,b){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=this.m_count);for(var c=box2d.b2PolygonShape.prototype.ComputeMass.s_center.SetZero(),d=0,e=0,f=box2d.b2PolygonShape.prototype.ComputeMass.s_s.SetZero(),g=0,h=this.m_count;g<h;++g)f.SelfAdd(this.m_vertices[g]);f.SelfMul(1/this.m_count);for(g=0,h=this.m_count;g<h;++g){var j=box2d.b2SubVV(this.m_vertices[g],f,box2d.b2PolygonShape.prototype.ComputeMass.s_e1),k=box2d.b2SubVV(this.m_vertices[(g+1)%h],f,box2d.b2PolygonShape.prototype.ComputeMass.s_e2),l=box2d.b2CrossVV(j,k),m=.5*l,m=(d+=m,c.SelfAdd(box2d.b2MulSV(1/3*m,box2d.b2AddVV(j,k,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1)),j.x),j=j.y,p=k.x,k=k.y;e+=1/3*.25*l*(m*m+p*m+p*p+(j*j+k*j+k*k))}a.mass=b*d,box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2_epsilon<d),c.SelfMul(1/d),box2d.b2AddVV(c,f,a.center),a.I=b*e,a.I+=a.mass*(box2d.b2DotVV(a.center,a.center)-box2d.b2DotVV(c,c))},box2d.b2PolygonShape.prototype.ComputeMass.s_center=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeMass.s_s=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeMass.s_e1=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeMass.s_e2=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.Validate=function(){for(var a=0;a<this.m_count;++a)for(var b=a,c=(a+1)%this.m_count,d=this.m_vertices[b],e=box2d.b2SubVV(this.m_vertices[c],d,box2d.b2PolygonShape.prototype.Validate.s_e),f=0;f<this.m_count;++f)if(f!==b&&f!==c){var g=box2d.b2SubVV(this.m_vertices[f],d,box2d.b2PolygonShape.prototype.Validate.s_v);if(box2d.b2CrossVV(e,g)<0)return!1}return!0},box2d.b2PolygonShape.prototype.Validate.s_e=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.Validate.s_v=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.SetupDistanceProxy=function(a){a.m_vertices=this.m_vertices,a.m_count=this.m_count,a.m_radius=this.m_radius},box2d.b2PolygonShape.prototype.ComputeSubmergedArea=function(a,b,c,d){for(var o,e=box2d.b2MulTRV(c.q,a,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL),f=b-box2d.b2DotVV(a,c.p),g=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths,h=0,i=-1,j=-1,k=!1,l=0,m=this.m_count;l<m;++l){g[l]=box2d.b2DotVV(e,this.m_vertices[l])-f;var n=g[l]<-box2d.b2_epsilon;0<l&&(n?k||(i=l-1,h++):k&&(j=l-1,h++)),k=n}switch(h){case 0:return k?(o=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md,this.ComputeMass(o,1),box2d.b2MulXV(c,o.center,d),o.mass):0;case 1:-1===i?i=this.m_count-1:j=this.m_count-1}for(var b=(i+1)%this.m_count,q=(j+1)%this.m_count,a=(0-g[i])/(g[b]-g[i]),s=(0-g[j])/(g[q]-g[j]),t=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec.SetXY(this.m_vertices[i].x*(1-a)+this.m_vertices[b].x*a,this.m_vertices[i].y*(1-a)+this.m_vertices[b].y*a),u=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec.SetXY(this.m_vertices[j].x*(1-s)+this.m_vertices[q].x*s,this.m_vertices[j].y*(1-s)+this.m_vertices[q].y*s),v=0,w=box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center.SetZero(),x=this.m_vertices[b],l=b;l!==q;){var y=(l=(l+1)%this.m_count)===q?u:this.m_vertices[l],z=.5*((x.x-t.x)*(y.y-t.y)-(x.y-t.y)*(y.x-t.x));v+=z,w.x+=z*(t.x+x.x+y.x)/3,w.y+=z*(t.y+x.y+y.y)/3,x=y}return w.SelfMul(1/v),box2d.b2MulXV(c,w,d),v},box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_normalL=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_depths=box2d.b2MakeNumberArray(box2d.b2_maxPolygonVertices),box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_md=new box2d.b2MassData,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_intoVec=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_outoVec=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.ComputeSubmergedArea.s_center=new box2d.b2Vec2,box2d.b2PolygonShape.prototype.Dump=function(){box2d.b2Log("    /*box2d.b2PolygonShape*/ var shape = new box2d.b2PolygonShape();\n"),box2d.b2Log("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",box2d.b2_maxPolygonVertices);for(var a=0;a<this.m_count;++a)box2d.b2Log("    vs[%d].SetXY(%.15f, %.15f);\n",a,this.m_vertices[a].x,this.m_vertices[a].y);box2d.b2Log("    shape.Set(vs, %d);\n",this.m_count)},box2d.b2PolygonShape.ComputeCentroid=function(a,b,c){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=b);var d=c;d.SetZero();for(var e=0,f=box2d.b2PolygonShape.ComputeCentroid.s_pRef.SetZero(),h=0;h<b;++h){var i=f,j=a[h],k=a[(h+1)%b],l=box2d.b2SubVV(j,i,box2d.b2PolygonShape.ComputeCentroid.s_e1),m=box2d.b2SubVV(k,i,box2d.b2PolygonShape.ComputeCentroid.s_e2),l=.5*box2d.b2CrossVV(l,m);e+=l,d.x+=1/3*l*(i.x+j.x+k.x),d.y+=1/3*l*(i.y+j.y+k.y)}return box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2_epsilon<e),d.SelfMul(1/e),d},box2d.b2PolygonShape.ComputeCentroid.s_pRef=new box2d.b2Vec2,box2d.b2PolygonShape.ComputeCentroid.s_e1=new box2d.b2Vec2,box2d.b2PolygonShape.ComputeCentroid.s_e2=new box2d.b2Vec2,goog.provide("box2d.b2CollideEdge"),goog.require("box2d.b2Collision"),box2d.b2CollideEdgeAndCircle=function(a,b,c,d,e){a.pointCount=0;var c=box2d.b2MulTXV(c,box2d.b2MulXV(e,d.m_p,box2d.b2Vec2.s_t0),box2d.b2CollideEdgeAndCircle.s_Q),e=b.m_vertex1,h=b.m_vertex2,i=box2d.b2SubVV(h,e,box2d.b2CollideEdgeAndCircle.s_e),j=box2d.b2DotVV(i,box2d.b2SubVV(h,c,box2d.b2Vec2.s_t0)),k=box2d.b2DotVV(i,box2d.b2SubVV(c,e,box2d.b2Vec2.s_t0)),l=b.m_radius+d.m_radius,m=box2d.b2CollideEdgeAndCircle.s_id;if(m.cf.indexB=0,m.cf.typeB=box2d.b2ContactFeatureType.e_vertex,k<=0){var n=e,o=box2d.b2SubVV(c,n,box2d.b2CollideEdgeAndCircle.s_d);if(!(l*l<box2d.b2DotVV(o,o))){if(b.m_hasVertex0){var q=b.m_vertex0,r=e,q=box2d.b2SubVV(r,q,box2d.b2CollideEdgeAndCircle.s_e1);if(0<box2d.b2DotVV(q,box2d.b2SubVV(r,c,box2d.b2Vec2.s_t0)))return}m.cf.indexA=0,m.cf.typeA=box2d.b2ContactFeatureType.e_vertex,a.pointCount=1,a.type=box2d.b2ManifoldType.e_circles,a.localNormal.SetZero(),a.localPoint.Copy(n),a.points[0].id.Copy(m),a.points[0].localPoint.Copy(d.m_p)}}else if(j<=0){n=h,o=box2d.b2SubVV(c,n,box2d.b2CollideEdgeAndCircle.s_d);if(!(l*l<box2d.b2DotVV(o,o))){if(b.m_hasVertex3){q=b.m_vertex3,r=h,b=box2d.b2SubVV(q,r,box2d.b2CollideEdgeAndCircle.s_e2);if(0<box2d.b2DotVV(b,box2d.b2SubVV(c,r,box2d.b2Vec2.s_t0)))return}m.cf.indexA=1,m.cf.typeA=box2d.b2ContactFeatureType.e_vertex,a.pointCount=1,a.type=box2d.b2ManifoldType.e_circles,a.localNormal.SetZero(),a.localPoint.Copy(n),a.points[0].id.Copy(m),a.points[0].localPoint.Copy(d.m_p)}}else{q=box2d.b2DotVV(i,i);box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<q);(n=box2d.b2CollideEdgeAndCircle.s_P).x=1/q*(j*e.x+k*h.x),n.y=1/q*(j*e.y+k*h.y);o=box2d.b2SubVV(c,n,box2d.b2CollideEdgeAndCircle.s_d);l*l<box2d.b2DotVV(o,o)||(b=box2d.b2CollideEdgeAndCircle.s_n.SetXY(-i.y,i.x),box2d.b2DotVV(b,box2d.b2SubVV(c,e,box2d.b2Vec2.s_t0))<0&&b.SetXY(-b.x,-b.y),b.Normalize(),m.cf.indexA=0,m.cf.typeA=box2d.b2ContactFeatureType.e_face,a.pointCount=1,a.type=box2d.b2ManifoldType.e_faceA,a.localNormal.Copy(b),a.localPoint.Copy(e),a.points[0].id.Copy(m),a.points[0].localPoint.Copy(d.m_p))}},box2d.b2CollideEdgeAndCircle.s_Q=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_e=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_d=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_e1=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_e2=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_P=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_n=new box2d.b2Vec2,box2d.b2CollideEdgeAndCircle.s_id=new box2d.b2ContactID,box2d.b2EPAxisType={e_unknown:0,e_edgeA:1,e_edgeB:2},goog.exportProperty(box2d.b2EPAxisType,"e_unknown",box2d.b2EPAxisType.e_unknown),goog.exportProperty(box2d.b2EPAxisType,"e_edgeA",box2d.b2EPAxisType.e_edgeA),goog.exportProperty(box2d.b2EPAxisType,"e_edgeB",box2d.b2EPAxisType.e_edgeB),box2d.b2EPAxis=function(){},box2d.b2EPAxis.prototype.type=box2d.b2EPAxisType.e_unknown,box2d.b2EPAxis.prototype.index=0,box2d.b2EPAxis.prototype.separation=0,box2d.b2TempPolygon=function(){this.vertices=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.normals=box2d.b2Vec2.MakeArray(box2d.b2_maxPolygonVertices),this.count=0},box2d.b2TempPolygon.prototype.vertices=null,box2d.b2TempPolygon.prototype.normals=null,box2d.b2TempPolygon.prototype.count=0,box2d.b2ReferenceFace=function(){this.i1=0,this.i2=0,this.v1=new box2d.b2Vec2,this.v2=new box2d.b2Vec2,this.normal=new box2d.b2Vec2,this.sideNormal1=new box2d.b2Vec2,this.sideOffset1=0,this.sideNormal2=new box2d.b2Vec2,this.sideOffset2=0},box2d.b2ReferenceFace.prototype.i1=0,box2d.b2ReferenceFace.prototype.i2=0,box2d.b2ReferenceFace.prototype.v1=null,box2d.b2ReferenceFace.prototype.v2=null,box2d.b2ReferenceFace.prototype.normal=null,box2d.b2ReferenceFace.prototype.sideNormal1=null,box2d.b2ReferenceFace.prototype.sideOffset1=0,box2d.b2ReferenceFace.prototype.sideNormal2=null,box2d.b2ReferenceFace.prototype.sideOffset2=0,box2d.b2EPColliderVertexType={e_isolated:0,e_concave:1,e_convex:2},goog.exportProperty(box2d.b2EPColliderVertexType,"e_isolated",box2d.b2EPColliderVertexType.e_isolated),goog.exportProperty(box2d.b2EPColliderVertexType,"e_concave",box2d.b2EPColliderVertexType.e_concave),goog.exportProperty(box2d.b2EPColliderVertexType,"e_convex",box2d.b2EPColliderVertexType.e_convex),box2d.b2EPCollider=function(){this.m_polygonB=new box2d.b2TempPolygon,this.m_xf=new box2d.b2Transform,this.m_centroidB=new box2d.b2Vec2,this.m_v0=new box2d.b2Vec2,this.m_v1=new box2d.b2Vec2,this.m_v2=new box2d.b2Vec2,this.m_v3=new box2d.b2Vec2,this.m_normal0=new box2d.b2Vec2,this.m_normal1=new box2d.b2Vec2,this.m_normal2=new box2d.b2Vec2,this.m_normal=new box2d.b2Vec2,this.m_type1=box2d.b2EPColliderVertexType.e_isolated,this.m_type2=box2d.b2EPColliderVertexType.e_isolated,this.m_lowerLimit=new box2d.b2Vec2,this.m_upperLimit=new box2d.b2Vec2,this.m_radius=0,this.m_front=!1},box2d.b2EPCollider.prototype.m_polygonB=null,box2d.b2EPCollider.prototype.m_xf=null,box2d.b2EPCollider.prototype.m_centroidB=null,box2d.b2EPCollider.prototype.m_v0=null,box2d.b2EPCollider.prototype.m_v1=null,box2d.b2EPCollider.prototype.m_v2=null,box2d.b2EPCollider.prototype.m_v3=null,box2d.b2EPCollider.prototype.m_normal0=null,box2d.b2EPCollider.prototype.m_normal1=null,box2d.b2EPCollider.prototype.m_normal2=null,box2d.b2EPCollider.prototype.m_normal=null,box2d.b2EPCollider.prototype.m_type1=box2d.b2EPColliderVertexType.e_isolated,box2d.b2EPCollider.prototype.m_type2=box2d.b2EPColliderVertexType.e_isolated,box2d.b2EPCollider.prototype.m_lowerLimit=null,box2d.b2EPCollider.prototype.m_upperLimit=null,box2d.b2EPCollider.prototype.m_radius=0,box2d.b2EPCollider.prototype.m_front=!1,box2d.b2EPCollider.prototype.Collide=function(a,b,c,d,e){box2d.b2MulTXX(c,e,this.m_xf),box2d.b2MulXV(this.m_xf,d.m_centroid,this.m_centroidB),this.m_v0.Copy(b.m_vertex0),this.m_v1.Copy(b.m_vertex1),this.m_v2.Copy(b.m_vertex2),this.m_v3.Copy(b.m_vertex3);var c=b.m_hasVertex0,e=b.m_hasVertex3,b=box2d.b2SubVV(this.m_v2,this.m_v1,box2d.b2EPCollider.s_edge1),i=(b.Normalize(),this.m_normal1.SetXY(b.y,-b.x),box2d.b2DotVV(this.m_normal1,box2d.b2SubVV(this.m_centroidB,this.m_v1,box2d.b2Vec2.s_t0))),j=0,k=0,l=!1,m=!1;c&&((n=box2d.b2SubVV(this.m_v1,this.m_v0,box2d.b2EPCollider.s_edge0)).Normalize(),this.m_normal0.SetXY(n.y,-n.x),l=0<=box2d.b2CrossVV(n,b),j=box2d.b2DotVV(this.m_normal0,box2d.b2SubVV(this.m_centroidB,this.m_v0,box2d.b2Vec2.s_t0))),e&&((n=box2d.b2SubVV(this.m_v3,this.m_v2,box2d.b2EPCollider.s_edge2)).Normalize(),this.m_normal2.SetXY(n.y,-n.x),m=0<box2d.b2CrossVV(b,n),k=box2d.b2DotVV(this.m_normal2,box2d.b2SubVV(this.m_centroidB,this.m_v2,box2d.b2Vec2.s_t0))),c&&e?l&&m?(this.m_front=0<=j||0<=i||0<=k,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):l?(this.m_front=0<=j||0<=i&&0<=k,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg())):m?(this.m_front=0<=k||0<=j&&0<=i,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):(this.m_front=0<=j&&0<=i&&0<=k,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2).SelfNeg(),this.m_upperLimit.Copy(this.m_normal0).SelfNeg())):c?(l?(this.m_front=0<=j||0<=i,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal0)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1)),this.m_upperLimit.Copy(this.m_normal1)):(this.m_front=0<=j&&0<=i,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal0)))).SelfNeg():e?m?(this.m_front=0<=i||0<=k,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal2)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1))):(this.m_front=0<=i&&0<=k,(this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1)):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal2))).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1)):(this.m_front=0<=i,this.m_front?(this.m_normal.Copy(this.m_normal1),this.m_lowerLimit.Copy(this.m_normal1).SelfNeg(),this.m_upperLimit.Copy(this.m_normal1).SelfNeg()):(this.m_normal.Copy(this.m_normal1).SelfNeg(),this.m_lowerLimit.Copy(this.m_normal1),this.m_upperLimit.Copy(this.m_normal1))),this.m_polygonB.count=d.m_count;for(var p=0,q=d.m_count;p<q;++p)box2d.b2MulXV(this.m_xf,d.m_vertices[p],this.m_polygonB.vertices[p]),box2d.b2MulRV(this.m_xf.q,d.m_normals[p],this.m_polygonB.normals[p]);this.m_radius=2*box2d.b2_polygonRadius,a.pointCount=0;b=this.ComputeEdgeSeparation(box2d.b2EPCollider.s_edgeAxis);if(b.type!==box2d.b2EPAxisType.e_unknown&&!(b.separation>this.m_radius)){var n=this.ComputePolygonSeparation(box2d.b2EPCollider.s_polygonAxis);if(!(n.type!==box2d.b2EPAxisType.e_unknown&&n.separation>this.m_radius)){var t=n.type!==box2d.b2EPAxisType.e_unknown&&n.separation>.98*b.separation+.001?n:b,c=box2d.b2EPCollider.s_ie,x=box2d.b2EPCollider.s_rf;if(t.type===box2d.b2EPAxisType.e_edgeA){a.type=box2d.b2ManifoldType.e_faceA;for(var y=0,z=box2d.b2DotVV(this.m_normal,this.m_polygonB.normals[0]),p=1,q=this.m_polygonB.count;p<q;++p){var A=box2d.b2DotVV(this.m_normal,this.m_polygonB.normals[p]);A<z&&(z=A,y=p)}var D,E,l=y,j=(l+1)%this.m_polygonB.count;(D=c[0]).v.Copy(this.m_polygonB.vertices[l]),D.id.cf.indexA=0,D.id.cf.indexB=l,D.id.cf.typeA=box2d.b2ContactFeatureType.e_face,D.id.cf.typeB=box2d.b2ContactFeatureType.e_vertex,(E=c[1]).v.Copy(this.m_polygonB.vertices[j]),E.id.cf.indexA=0,E.id.cf.indexB=j,E.id.cf.typeA=box2d.b2ContactFeatureType.e_face,E.id.cf.typeB=box2d.b2ContactFeatureType.e_vertex,this.m_front?(x.i1=0,x.i2=1,x.v1.Copy(this.m_v1),x.v2.Copy(this.m_v2),x.normal.Copy(this.m_normal1)):(x.i1=1,x.i2=0,x.v1.Copy(this.m_v2),x.v2.Copy(this.m_v1),x.normal.Copy(this.m_normal1).SelfNeg())}else a.type=box2d.b2ManifoldType.e_faceB,(D=c[0]).v.Copy(this.m_v1),D.id.cf.indexA=0,D.id.cf.indexB=t.index,D.id.cf.typeA=box2d.b2ContactFeatureType.e_vertex,D.id.cf.typeB=box2d.b2ContactFeatureType.e_face,(E=c[1]).v.Copy(this.m_v2),E.id.cf.indexA=0,E.id.cf.indexB=t.index,E.id.cf.typeA=box2d.b2ContactFeatureType.e_vertex,E.id.cf.typeB=box2d.b2ContactFeatureType.e_face,x.i1=t.index,x.i2=(x.i1+1)%this.m_polygonB.count,x.v1.Copy(this.m_polygonB.vertices[x.i1]),x.v2.Copy(this.m_polygonB.vertices[x.i2]),x.normal.Copy(this.m_polygonB.normals[x.i1]);x.sideNormal1.SetXY(x.normal.y,-x.normal.x),x.sideNormal2.Copy(x.sideNormal1).SelfNeg(),x.sideOffset1=box2d.b2DotVV(x.sideNormal1,x.v1),x.sideOffset2=box2d.b2DotVV(x.sideNormal2,x.v2);var e=box2d.b2EPCollider.s_clipPoints1,G=box2d.b2EPCollider.s_clipPoints2;if(!(box2d.b2ClipSegmentToLine(e,c,x.sideNormal1,x.sideOffset1,x.i1)<box2d.b2_maxManifoldPoints||box2d.b2ClipSegmentToLine(G,e,x.sideNormal2,x.sideOffset2,x.i2)<box2d.b2_maxManifoldPoints)){t.type===box2d.b2EPAxisType.e_edgeA?(a.localNormal.Copy(x.normal),a.localPoint.Copy(x.v1)):(a.localNormal.Copy(d.m_normals[x.i1]),a.localPoint.Copy(d.m_vertices[x.i1]));for(var K,I=0,p=0,q=box2d.b2_maxManifoldPoints;p<q;++p)box2d.b2DotVV(x.normal,box2d.b2SubVV(G[p].v,x.v1,box2d.b2Vec2.s_t0))<=this.m_radius&&(K=a.points[I],t.type===box2d.b2EPAxisType.e_edgeA?(box2d.b2MulTXV(this.m_xf,G[p].v,K.localPoint),K.id=G[p].id):(K.localPoint.Copy(G[p].v),K.id.cf.typeA=G[p].id.cf.typeB,K.id.cf.typeB=G[p].id.cf.typeA,K.id.cf.indexA=G[p].id.cf.indexB,K.id.cf.indexB=G[p].id.cf.indexA),++I);a.pointCount=I}}}},box2d.b2EPCollider.s_edge1=new box2d.b2Vec2,box2d.b2EPCollider.s_edge0=new box2d.b2Vec2,box2d.b2EPCollider.s_edge2=new box2d.b2Vec2,box2d.b2EPCollider.s_ie=box2d.b2ClipVertex.MakeArray(2),box2d.b2EPCollider.s_rf=new box2d.b2ReferenceFace,box2d.b2EPCollider.s_clipPoints1=box2d.b2ClipVertex.MakeArray(2),box2d.b2EPCollider.s_clipPoints2=box2d.b2ClipVertex.MakeArray(2),box2d.b2EPCollider.s_edgeAxis=new box2d.b2EPAxis,box2d.b2EPCollider.s_polygonAxis=new box2d.b2EPAxis,box2d.b2EPCollider.prototype.ComputeEdgeSeparation=function(a){var b=a;b.type=box2d.b2EPAxisType.e_edgeA,b.index=this.m_front?0:1,b.separation=box2d.b2_maxFloat;for(var c=0,d=this.m_polygonB.count;c<d;++c){var e=box2d.b2DotVV(this.m_normal,box2d.b2SubVV(this.m_polygonB.vertices[c],this.m_v1,box2d.b2Vec2.s_t0));e<b.separation&&(b.separation=e)}return b},box2d.b2EPCollider.prototype.ComputePolygonSeparation=function(a){var b=a;b.type=box2d.b2EPAxisType.e_unknown,b.index=-1,b.separation=-box2d.b2_maxFloat;for(var c=box2d.b2EPCollider.s_perp.SetXY(-this.m_normal.y,this.m_normal.x),d=0,e=this.m_polygonB.count;d<e;++d){var f=box2d.b2NegV(this.m_polygonB.normals[d],box2d.b2EPCollider.s_n),g=box2d.b2DotVV(f,box2d.b2SubVV(this.m_polygonB.vertices[d],this.m_v1,box2d.b2Vec2.s_t0)),h=box2d.b2DotVV(f,box2d.b2SubVV(this.m_polygonB.vertices[d],this.m_v2,box2d.b2Vec2.s_t0)),g=box2d.b2Min(g,h);if(g>this.m_radius)return b.type=box2d.b2EPAxisType.e_edgeB,b.index=d,b.separation=g,b;if(0<=box2d.b2DotVV(f,c)){if(box2d.b2DotVV(box2d.b2SubVV(f,this.m_upperLimit,box2d.b2Vec2.s_t0),this.m_normal)<-box2d.b2_angularSlop)continue}else if(box2d.b2DotVV(box2d.b2SubVV(f,this.m_lowerLimit,box2d.b2Vec2.s_t0),this.m_normal)<-box2d.b2_angularSlop)continue;g>b.separation&&(b.type=box2d.b2EPAxisType.e_edgeB,b.index=d,b.separation=g)}return b},box2d.b2EPCollider.s_n=new box2d.b2Vec2,box2d.b2EPCollider.s_perp=new box2d.b2Vec2,box2d.b2CollideEdgeAndPolygon=function(a,b,c,d,e){box2d.b2CollideEdgeAndPolygon.s_collider.Collide(a,b,c,d,e)},box2d.b2CollideEdgeAndPolygon.s_collider=new box2d.b2EPCollider,goog.provide("box2d.b2EdgeShape"),goog.require("box2d.b2Shape"),box2d.b2EdgeShape=function(){goog.base(this,box2d.b2ShapeType.e_edgeShape,box2d.b2_polygonRadius),this.m_vertex1=new box2d.b2Vec2,this.m_vertex2=new box2d.b2Vec2,this.m_vertex0=new box2d.b2Vec2,this.m_vertex3=new box2d.b2Vec2},goog.inherits(box2d.b2EdgeShape,box2d.b2Shape),box2d.b2EdgeShape.prototype.m_vertex1=null,box2d.b2EdgeShape.prototype.m_vertex2=null,box2d.b2EdgeShape.prototype.m_vertex0=null,box2d.b2EdgeShape.prototype.m_vertex3=null,box2d.b2EdgeShape.prototype.m_hasVertex0=!1,box2d.b2EdgeShape.prototype.m_hasVertex3=!1,box2d.b2EdgeShape.prototype.Set=function(a,b){return this.m_vertex1.Copy(a),this.m_vertex2.Copy(b),this.m_hasVertex0=!1,this.m_hasVertex3=!1,this},box2d.b2EdgeShape.prototype.SetAsEdge=box2d.b2EdgeShape.prototype.Set,box2d.b2EdgeShape.prototype.Clone=function(){return(new box2d.b2EdgeShape).Copy(this)},box2d.b2EdgeShape.prototype.Copy=function(a){return goog.base(this,"Copy",a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a instanceof box2d.b2EdgeShape),this.m_vertex1.Copy(a.m_vertex1),this.m_vertex2.Copy(a.m_vertex2),this.m_vertex0.Copy(a.m_vertex0),this.m_vertex3.Copy(a.m_vertex3),this.m_hasVertex0=a.m_hasVertex0,this.m_hasVertex3=a.m_hasVertex3,this},box2d.b2EdgeShape.prototype.GetChildCount=function(){return 1},box2d.b2EdgeShape.prototype.TestPoint=function(){return!1},box2d.b2EdgeShape.prototype.RayCast=function(a,b,c){var d=box2d.b2MulTXV(c,b.p1,box2d.b2EdgeShape.prototype.RayCast.s_p1),e=box2d.b2MulTXV(c,b.p2,box2d.b2EdgeShape.prototype.RayCast.s_p2),e=box2d.b2SubVV(e,d,box2d.b2EdgeShape.prototype.RayCast.s_d),g=this.m_vertex1,h=this.m_vertex2,i=box2d.b2SubVV(h,g,box2d.b2EdgeShape.prototype.RayCast.s_e),i=a.normal.SetXY(i.y,-i.x).SelfNormalize(),k=box2d.b2DotVV(i,box2d.b2SubVV(g,d,box2d.b2Vec2.s_t0)),i=box2d.b2DotVV(i,e);return 0!==i&&!((i=k/i)<0||b.maxFraction<i||(b=box2d.b2AddVMulSV(d,i,e,box2d.b2EdgeShape.prototype.RayCast.s_q),d=box2d.b2SubVV(h,g,box2d.b2EdgeShape.prototype.RayCast.s_r),0===(e=box2d.b2DotVV(d,d)))||(h=box2d.b2DotVV(box2d.b2SubVV(b,g,box2d.b2Vec2.s_t0),d)/e)<0||1<h||(a.fraction=i,box2d.b2MulRV(c.q,a.normal,a.normal),0<k&&a.normal.SelfNeg(),0))},box2d.b2EdgeShape.prototype.RayCast.s_p1=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.RayCast.s_p2=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.RayCast.s_d=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.RayCast.s_e=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.RayCast.s_q=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.RayCast.s_r=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.ComputeAABB=function(a,b){var c=box2d.b2MulXV(b,this.m_vertex1,box2d.b2EdgeShape.prototype.ComputeAABB.s_v1),b=box2d.b2MulXV(b,this.m_vertex2,box2d.b2EdgeShape.prototype.ComputeAABB.s_v2),c=(box2d.b2MinV(c,b,a.lowerBound),box2d.b2MaxV(c,b,a.upperBound),this.m_radius);a.lowerBound.SelfSubXY(c,c),a.upperBound.SelfAddXY(c,c)},box2d.b2EdgeShape.prototype.ComputeAABB.s_v1=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.ComputeAABB.s_v2=new box2d.b2Vec2,box2d.b2EdgeShape.prototype.ComputeMass=function(a){a.mass=0,box2d.b2MidVV(this.m_vertex1,this.m_vertex2,a.center),a.I=0},box2d.b2EdgeShape.prototype.SetupDistanceProxy=function(a){a.m_vertices=new Array(2),a.m_vertices[0]=this.m_vertex1,a.m_vertices[1]=this.m_vertex2,a.m_count=2,a.m_radius=this.m_radius},box2d.b2EdgeShape.prototype.ComputeSubmergedArea=function(a,b,c,d){return d.SetZero(),0},box2d.b2EdgeShape.prototype.Dump=function(){box2d.b2Log("    /*box2d.b2EdgeShape*/ var shape = new box2d.b2EdgeShape();\n"),box2d.b2Log("    shape.m_radius = %.15f;\n",this.m_radius),box2d.b2Log("    shape.m_vertex0.SetXY(%.15f, %.15f);\n",this.m_vertex0.x,this.m_vertex0.y),box2d.b2Log("    shape.m_vertex1.SetXY(%.15f, %.15f);\n",this.m_vertex1.x,this.m_vertex1.y),box2d.b2Log("    shape.m_vertex2.SetXY(%.15f, %.15f);\n",this.m_vertex2.x,this.m_vertex2.y),box2d.b2Log("    shape.m_vertex3.SetXY(%.15f, %.15f);\n",this.m_vertex3.x,this.m_vertex3.y),box2d.b2Log("    shape.m_hasVertex0 = %s;\n",this.m_hasVertex0),box2d.b2Log("    shape.m_hasVertex3 = %s;\n",this.m_hasVertex3)},goog.provide("box2d.b2ChainShape"),goog.require("box2d.b2Shape"),goog.require("box2d.b2EdgeShape"),box2d.b2ChainShape=function(){goog.base(this,box2d.b2ShapeType.e_chainShape,box2d.b2_polygonRadius),this.m_prevVertex=new box2d.b2Vec2,this.m_nextVertex=new box2d.b2Vec2},goog.inherits(box2d.b2ChainShape,box2d.b2Shape),box2d.b2ChainShape.prototype.m_vertices=null,box2d.b2ChainShape.prototype.m_count=0,box2d.b2ChainShape.prototype.m_prevVertex=null,box2d.b2ChainShape.prototype.m_nextVertex=null,box2d.b2ChainShape.prototype.m_hasPrevVertex=!1,box2d.b2ChainShape.prototype.m_hasNextVertex=!1,box2d.b2ChainShape.prototype.CreateLoop=function(a,b){if(b=b||a.length,box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===this.m_vertices&&0===this.m_count),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=b),box2d.ENABLE_ASSERTS)for(var c=1;c<b;++c){var d=a[c-1];box2d.b2Assert(box2d.b2DistanceSquaredVV(d,a[c])>box2d.b2_linearSlop*box2d.b2_linearSlop)}this.m_count=b+1,this.m_vertices=box2d.b2Vec2.MakeArray(this.m_count);for(c=0;c<b;++c)this.m_vertices[c].Copy(a[c]);return this.m_vertices[b].Copy(this.m_vertices[0]),this.m_prevVertex.Copy(this.m_vertices[this.m_count-2]),this.m_nextVertex.Copy(this.m_vertices[1]),this.m_hasPrevVertex=!0,this.m_hasNextVertex=!0,this},box2d.b2ChainShape.prototype.CreateChain=function(a,b){if(b=b||a.length,box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===this.m_vertices&&0===this.m_count),box2d.ENABLE_ASSERTS&&box2d.b2Assert(2<=b),box2d.ENABLE_ASSERTS)for(var c=1;c<b;++c){var d=a[c-1];box2d.b2Assert(box2d.b2DistanceSquaredVV(d,a[c])>box2d.b2_linearSlop*box2d.b2_linearSlop)}this.m_count=b,this.m_vertices=box2d.b2Vec2.MakeArray(b);for(c=0;c<b;++c)this.m_vertices[c].Copy(a[c]);return this.m_hasPrevVertex=!1,this.m_hasNextVertex=!1,this.m_prevVertex.SetZero(),this.m_nextVertex.SetZero(),this},box2d.b2ChainShape.prototype.SetPrevVertex=function(a){return this.m_prevVertex.Copy(a),this.m_hasPrevVertex=!0,this},box2d.b2ChainShape.prototype.SetNextVertex=function(a){return this.m_nextVertex.Copy(a),this.m_hasNextVertex=!0,this},box2d.b2ChainShape.prototype.Clone=function(){return(new box2d.b2ChainShape).Copy(this)},box2d.b2ChainShape.prototype.Copy=function(a){return goog.base(this,"Copy",a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a instanceof box2d.b2ChainShape),this.CreateChain(a.m_vertices,a.m_count),this.m_prevVertex.Copy(a.m_prevVertex),this.m_nextVertex.Copy(a.m_nextVertex),this.m_hasPrevVertex=a.m_hasPrevVertex,this.m_hasNextVertex=a.m_hasNextVertex,this},box2d.b2ChainShape.prototype.GetChildCount=function(){return this.m_count-1},box2d.b2ChainShape.prototype.GetChildEdge=function(a,b){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=b&&b<this.m_count-1),a.m_type=box2d.b2ShapeType.e_edgeShape,a.m_radius=this.m_radius,a.m_vertex1.Copy(this.m_vertices[b]),a.m_vertex2.Copy(this.m_vertices[b+1]),0<b?(a.m_vertex0.Copy(this.m_vertices[b-1]),a.m_hasVertex0=!0):(a.m_vertex0.Copy(this.m_prevVertex),a.m_hasVertex0=this.m_hasPrevVertex),b<this.m_count-2?(a.m_vertex3.Copy(this.m_vertices[b+2]),a.m_hasVertex3=!0):(a.m_vertex3.Copy(this.m_nextVertex),a.m_hasVertex3=this.m_hasNextVertex)},box2d.b2ChainShape.prototype.TestPoint=function(){return!1},box2d.b2ChainShape.prototype.RayCast=function(a,b,c,d){box2d.ENABLE_ASSERTS&&box2d.b2Assert(d<this.m_count);var e=box2d.b2ChainShape.s_edgeShape;return e.m_vertex1.Copy(this.m_vertices[d]),e.m_vertex2.Copy(this.m_vertices[(d+1)%this.m_count]),e.RayCast(a,b,c,0)},box2d.b2ChainShape.s_edgeShape=new box2d.b2EdgeShape,box2d.b2ChainShape.prototype.ComputeAABB=function(a,b,c){box2d.ENABLE_ASSERTS&&box2d.b2Assert(c<this.m_count);var d=this.m_vertices[c],c=this.m_vertices[(c+1)%this.m_count],d=box2d.b2MulXV(b,d,box2d.b2ChainShape.prototype.ComputeAABB.s_v1),b=box2d.b2MulXV(b,c,box2d.b2ChainShape.prototype.ComputeAABB.s_v2);box2d.b2MinV(d,b,a.lowerBound),box2d.b2MaxV(d,b,a.upperBound)},box2d.b2ChainShape.prototype.ComputeAABB.s_v1=new box2d.b2Vec2,box2d.b2ChainShape.prototype.ComputeAABB.s_v2=new box2d.b2Vec2,box2d.b2ChainShape.prototype.ComputeMass=function(a){a.mass=0,a.center.SetZero(),a.I=0},box2d.b2ChainShape.prototype.SetupDistanceProxy=function(a,b){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=b&&b<this.m_count),a.m_buffer[0].Copy(this.m_vertices[b]),a.m_buffer[1].Copy(b+1<this.m_count?this.m_vertices[b+1]:this.m_vertices[0]),a.m_vertices=a.m_buffer,a.m_count=2,a.m_radius=this.m_radius},box2d.b2ChainShape.prototype.ComputeSubmergedArea=function(a,b,c,d){return d.SetZero(),0},box2d.b2ChainShape.prototype.Dump=function(){box2d.b2Log("    /*box2d.b2ChainShape*/ var shape = new box2d.b2ChainShape();\n"),box2d.b2Log("    /*box2d.b2Vec2[]*/ var vs = box2d.b2Vec2.MakeArray(%d);\n",box2d.b2_maxPolygonVertices);for(var a=0;a<this.m_count;++a)box2d.b2Log("    vs[%d].SetXY(%.15f, %.15f);\n",a,this.m_vertices[a].x,this.m_vertices[a].y);box2d.b2Log("    shape.CreateChain(vs, %d);\n",this.m_count),box2d.b2Log("    shape.m_prevVertex.SetXY(%.15f, %.15f);\n",this.m_prevVertex.x,this.m_prevVertex.y),box2d.b2Log("    shape.m_nextVertex.SetXY(%.15f, %.15f);\n",this.m_nextVertex.x,this.m_nextVertex.y),box2d.b2Log("    shape.m_hasPrevVertex = %s;\n",this.m_hasPrevVertex?"true":"false"),box2d.b2Log("    shape.m_hasNextVertex = %s;\n",this.m_hasNextVertex?"true":"false")},goog.provide("box2d.b2ChainAndPolygonContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),goog.require("box2d.b2CollideEdge"),goog.require("box2d.b2ChainShape"),goog.require("box2d.b2PolygonShape"),box2d.b2ChainAndPolygonContact=function(){goog.base(this)},goog.inherits(box2d.b2ChainAndPolygonContact,box2d.b2Contact),box2d.b2ChainAndPolygonContact.Create=function(){return new box2d.b2ChainAndPolygonContact},box2d.b2ChainAndPolygonContact.Destroy=function(){},box2d.b2ChainAndPolygonContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.GetType()===box2d.b2ShapeType.e_chainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.GetType()===box2d.b2ShapeType.e_polygonShape)},box2d.b2ChainAndPolygonContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape(),d=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2ChainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2PolygonShape),d instanceof box2d.b2ChainShape?d:null),g=box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge;d.GetChildEdge(g,this.m_indexA),box2d.b2CollideEdgeAndPolygon(a,g,b,e instanceof box2d.b2PolygonShape?e:null,c)},box2d.b2ChainAndPolygonContact.prototype.Evaluate.s_edge=new box2d.b2EdgeShape,goog.provide("box2d.b2CollidePolygon"),goog.require("box2d.b2Collision"),box2d.b2FindMaxSeparation=function(a,b,c,d,e){for(var f=b.m_count,g=d.m_count,h=b.m_normals,i=b.m_vertices,j=d.m_vertices,k=box2d.b2MulTXX(e,c,box2d.b2FindMaxSeparation.s_xf),l=0,m=-box2d.b2_maxFloat,n=0;n<f;++n){for(var o=box2d.b2MulRV(k.q,h[n],box2d.b2FindMaxSeparation.s_n),p=box2d.b2MulXV(k,i[n],box2d.b2FindMaxSeparation.s_v1),q=box2d.b2_maxFloat,r=0;r<g;++r){var s=box2d.b2DotVV(o,box2d.b2SubVV(j[r],p,box2d.b2Vec2.s_t0));s<q&&(q=s)}m<q&&(m=q,l=n)}return a[0]=l,m},box2d.b2FindMaxSeparation.s_xf=new box2d.b2Transform,box2d.b2FindMaxSeparation.s_n=new box2d.b2Vec2,box2d.b2FindMaxSeparation.s_v1=new box2d.b2Vec2,box2d.b2FindIncidentEdge=function(a,b,c,d,e,f){var g=b.m_count,b=b.m_normals,i=e.m_count,j=e.m_vertices,k=e.m_normals;box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=d&&d<g);for(var l=box2d.b2MulTRV(f.q,box2d.b2MulRV(c.q,b[d],box2d.b2Vec2.s_t0),box2d.b2FindIncidentEdge.s_normal1),m=0,n=box2d.b2_maxFloat,o=0;o<i;++o){var p=box2d.b2DotVV(l,k[o]);p<n&&(n=p,m=o)}e=m,g=(e+1)%i,c=a[0],box2d.b2MulXV(f,j[e],c.v),b=c.id.cf,b.indexA=d,b.indexB=e,b.typeA=box2d.b2ContactFeatureType.e_face,b.typeB=box2d.b2ContactFeatureType.e_vertex,c=a[1],box2d.b2MulXV(f,j[g],c.v),e=c.id.cf;e.indexA=d,e.indexB=g,e.typeA=box2d.b2ContactFeatureType.e_face,e.typeB=box2d.b2ContactFeatureType.e_vertex},box2d.b2FindIncidentEdge.s_normal1=new box2d.b2Vec2,box2d.b2CollidePolygons=function(a,b,c,d,e){a.pointCount=0;var f=b.m_radius+d.m_radius,g=box2d.b2CollidePolygons.s_edgeA,h=(g[0]=0,box2d.b2FindMaxSeparation(g,b,c,d,e));if(!(f<h)){var i=box2d.b2CollidePolygons.s_edgeB,j=(i[0]=0,box2d.b2FindMaxSeparation(i,d,e,b,c));if(!(f<j)){var n,o=0,p=0,p=.98*h+.001<j?(k=d,l=b,m=e,n=c,o=i[0],a.type=box2d.b2ManifoldType.e_faceB,1):(k=b,l=d,m=c,n=e,o=g[0],a.type=box2d.b2ManifoldType.e_faceA,0),h=box2d.b2CollidePolygons.s_incidentEdge,j=(box2d.b2FindIncidentEdge(h,k,m,o,l,n),k.m_count),i=k.m_vertices,b=o,d=(o+1)%j,c=i[b],e=i[d],g=box2d.b2SubVV(e,c,box2d.b2CollidePolygons.s_localTangent);g.Normalize();var l=box2d.b2CrossVOne(g,box2d.b2CollidePolygons.s_localNormal),k=box2d.b2MidVV(c,e,box2d.b2CollidePolygons.s_planePoint),o=box2d.b2MulRV(m.q,g,box2d.b2CollidePolygons.s_tangent),E=box2d.b2CrossVOne(o,box2d.b2CollidePolygons.s_normal),j=box2d.b2MulXV(m,c,box2d.b2CollidePolygons.s_v11),i=box2d.b2MulXV(m,e,box2d.b2CollidePolygons.s_v12),H=box2d.b2DotVV(E,j),g=-box2d.b2DotVV(o,j)+f,c=box2d.b2DotVV(o,i)+f,m=box2d.b2CollidePolygons.s_clipPoints1,L=box2d.b2CollidePolygons.s_clipPoints2,e=box2d.b2NegV(o,box2d.b2CollidePolygons.s_ntangent),j=box2d.b2ClipSegmentToLine(m,h,e,g,b);if(!(j<2||box2d.b2ClipSegmentToLine(L,m,o,c,d)<2)){a.localNormal.Copy(l),a.localPoint.Copy(k);for(var N=0,O=0;O<box2d.b2_maxManifoldPoints;++O){var R,P=L[O];box2d.b2DotVV(E,P.v)-H<=f&&(R=a.points[N],box2d.b2MulTXV(n,P.v,R.localPoint),R.id.Copy(P.id),p&&(P=R.id.cf,R.id.cf.indexA=P.indexB,R.id.cf.indexB=P.indexA,R.id.cf.typeA=P.typeB,R.id.cf.typeB=P.typeA),++N)}a.pointCount=N}}}},box2d.b2CollidePolygons.s_incidentEdge=box2d.b2ClipVertex.MakeArray(2),box2d.b2CollidePolygons.s_clipPoints1=box2d.b2ClipVertex.MakeArray(2),box2d.b2CollidePolygons.s_clipPoints2=box2d.b2ClipVertex.MakeArray(2),box2d.b2CollidePolygons.s_edgeA=box2d.b2MakeNumberArray(1),box2d.b2CollidePolygons.s_edgeB=box2d.b2MakeNumberArray(1),box2d.b2CollidePolygons.s_localTangent=new box2d.b2Vec2,box2d.b2CollidePolygons.s_localNormal=new box2d.b2Vec2,box2d.b2CollidePolygons.s_planePoint=new box2d.b2Vec2,box2d.b2CollidePolygons.s_normal=new box2d.b2Vec2,box2d.b2CollidePolygons.s_tangent=new box2d.b2Vec2,box2d.b2CollidePolygons.s_ntangent=new box2d.b2Vec2,box2d.b2CollidePolygons.s_v11=new box2d.b2Vec2,box2d.b2CollidePolygons.s_v12=new box2d.b2Vec2,goog.provide("box2d.b2PolygonContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),goog.require("box2d.b2CollidePolygon"),box2d.b2PolygonContact=function(){goog.base(this)},goog.inherits(box2d.b2PolygonContact,box2d.b2Contact),box2d.b2PolygonContact.Create=function(){return new box2d.b2PolygonContact},box2d.b2PolygonContact.Destroy=function(){},box2d.b2PolygonContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d)},box2d.b2PolygonContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2PolygonShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2PolygonShape),box2d.b2CollidePolygons(a,d instanceof box2d.b2PolygonShape?d:null,b,e instanceof box2d.b2PolygonShape?e:null,c)},goog.provide("box2d.b2CollideCircle"),goog.require("box2d.b2Collision"),box2d.b2CollideCircles=function(a,b,c,d,e){a.pointCount=0;c=box2d.b2MulXV(c,b.m_p,box2d.b2CollideCircles.s_pA),e=box2d.b2MulXV(e,d.m_p,box2d.b2CollideCircles.s_pB),c=box2d.b2DistanceSquaredVV(c,e),e=b.m_radius+d.m_radius;e*e<c||(a.type=box2d.b2ManifoldType.e_circles,a.localPoint.Copy(b.m_p),a.localNormal.SetZero(),a.pointCount=1,a.points[0].localPoint.Copy(d.m_p),a.points[0].id.key=0)},box2d.b2CollideCircles.s_pA=new box2d.b2Vec2,box2d.b2CollideCircles.s_pB=new box2d.b2Vec2,box2d.b2CollidePolygonAndCircle=function(a,b,c,d,e){a.pointCount=0;for(var e=box2d.b2MulXV(e,d.m_p,box2d.b2CollidePolygonAndCircle.s_c),g=box2d.b2MulTXV(c,e,box2d.b2CollidePolygonAndCircle.s_cLocal),h=0,i=-box2d.b2_maxFloat,j=b.m_radius+d.m_radius,k=b.m_count,l=b.m_vertices,m=b.m_normals,n=0;n<k;++n){var o=box2d.b2DotVV(m[n],box2d.b2SubVV(g,l[n],box2d.b2Vec2.s_t0));if(j<o)return;i<o&&(i=o,h=n)}var u,t,c=h,e=l[c],b=l[(c+1)%k];i<box2d.b2_epsilon?(a.pointCount=1,a.type=box2d.b2ManifoldType.e_faceA,a.localNormal.Copy(m[h]),box2d.b2MidVV(e,b,a.localPoint),a.points[0].localPoint.Copy(d.m_p),a.points[0].id.key=0):(t=box2d.b2DotVV(box2d.b2SubVV(g,e,box2d.b2Vec2.s_t0),box2d.b2SubVV(b,e,box2d.b2Vec2.s_t1)),u=box2d.b2DotVV(box2d.b2SubVV(g,b,box2d.b2Vec2.s_t0),box2d.b2SubVV(e,b,box2d.b2Vec2.s_t1)),t<=0?box2d.b2DistanceSquaredVV(g,e)>j*j||(a.pointCount=1,a.type=box2d.b2ManifoldType.e_faceA,box2d.b2SubVV(g,e,a.localNormal).SelfNormalize(),a.localPoint.Copy(e),a.points[0].localPoint.Copy(d.m_p),a.points[0].id.key=0):u<=0?box2d.b2DistanceSquaredVV(g,b)>j*j||(a.pointCount=1,a.type=box2d.b2ManifoldType.e_faceA,box2d.b2SubVV(g,b,a.localNormal).SelfNormalize(),a.localPoint.Copy(b),a.points[0].localPoint.Copy(d.m_p),a.points[0].id.key=0):(t=box2d.b2MidVV(e,b,box2d.b2CollidePolygonAndCircle.s_faceCenter),j<(i=box2d.b2DotVV(box2d.b2SubVV(g,t,box2d.b2Vec2.s_t1),m[c]))||(a.pointCount=1,a.type=box2d.b2ManifoldType.e_faceA,a.localNormal.Copy(m[c]).SelfNormalize(),a.localPoint.Copy(t),a.points[0].localPoint.Copy(d.m_p),a.points[0].id.key=0)))},box2d.b2CollidePolygonAndCircle.s_c=new box2d.b2Vec2,box2d.b2CollidePolygonAndCircle.s_cLocal=new box2d.b2Vec2,box2d.b2CollidePolygonAndCircle.s_faceCenter=new box2d.b2Vec2,goog.provide("box2d.b2CircleContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),goog.require("box2d.b2CollideCircle"),box2d.b2CircleContact=function(){goog.base(this)},goog.inherits(box2d.b2CircleContact,box2d.b2Contact),box2d.b2CircleContact.Create=function(){return new box2d.b2CircleContact},box2d.b2CircleContact.Destroy=function(){},box2d.b2CircleContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d)},box2d.b2CircleContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2CircleShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2CircleShape),box2d.b2CollideCircles(a,d instanceof box2d.b2CircleShape?d:null,b,e instanceof box2d.b2CircleShape?e:null,c)},goog.provide("box2d.b2ChainAndCircleContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),goog.require("box2d.b2CollideEdge"),box2d.b2ChainAndCircleContact=function(){goog.base(this)},goog.inherits(box2d.b2ChainAndCircleContact,box2d.b2Contact),box2d.b2ChainAndCircleContact.Create=function(){return new box2d.b2ChainAndCircleContact},box2d.b2ChainAndCircleContact.Destroy=function(){},box2d.b2ChainAndCircleContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.GetType()===box2d.b2ShapeType.e_chainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.GetType()===box2d.b2ShapeType.e_circleShape)},box2d.b2ChainAndCircleContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape(),d=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2ChainShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2CircleShape),d instanceof box2d.b2ChainShape?d:null),g=box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge;d.GetChildEdge(g,this.m_indexA),box2d.b2CollideEdgeAndCircle(a,g,b,e instanceof box2d.b2CircleShape?e:null,c)},box2d.b2ChainAndCircleContact.prototype.Evaluate.s_edge=new box2d.b2EdgeShape,goog.provide("box2d.b2EdgeAndCircleContact"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),goog.require("box2d.b2CollideEdge"),box2d.b2EdgeAndCircleContact=function(){goog.base(this)},goog.inherits(box2d.b2EdgeAndCircleContact,box2d.b2Contact),box2d.b2EdgeAndCircleContact.Create=function(){return new box2d.b2EdgeAndCircleContact},box2d.b2EdgeAndCircleContact.Destroy=function(){},box2d.b2EdgeAndCircleContact.prototype.Reset=function(a,b,c,d){goog.base(this,"Reset",a,b,c,d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.GetType()===box2d.b2ShapeType.e_edgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.GetType()===box2d.b2ShapeType.e_circleShape)},box2d.b2EdgeAndCircleContact.prototype.Evaluate=function(a,b,c){var d=this.m_fixtureA.GetShape(),e=this.m_fixtureB.GetShape();box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2EdgeShape),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2CircleShape),box2d.b2CollideEdgeAndCircle(a,d instanceof box2d.b2EdgeShape?d:null,b,e instanceof box2d.b2CircleShape?e:null,c)},goog.provide("box2d.b2ContactSolver"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),goog.require("box2d.b2Collision"),goog.require("box2d.b2CircleContact"),goog.require("box2d.b2PolygonAndCircleContact"),goog.require("box2d.b2PolygonContact"),goog.require("box2d.b2EdgeAndCircleContact"),goog.require("box2d.b2EdgeAndPolygonContact"),goog.require("box2d.b2ChainAndCircleContact"),goog.require("box2d.b2ChainAndPolygonContact"),box2d.b2VelocityConstraintPoint=function(){this.rA=new box2d.b2Vec2,this.rB=new box2d.b2Vec2},box2d.b2VelocityConstraintPoint.prototype.rA=null,box2d.b2VelocityConstraintPoint.prototype.rB=null,box2d.b2VelocityConstraintPoint.prototype.normalImpulse=0,box2d.b2VelocityConstraintPoint.prototype.tangentImpulse=0,box2d.b2VelocityConstraintPoint.prototype.normalMass=0,box2d.b2VelocityConstraintPoint.prototype.tangentMass=0,box2d.b2VelocityConstraintPoint.prototype.velocityBias=0,box2d.b2VelocityConstraintPoint.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2VelocityConstraintPoint})},box2d.b2ContactVelocityConstraint=function(){this.points=box2d.b2VelocityConstraintPoint.MakeArray(box2d.b2_maxManifoldPoints),this.normal=new box2d.b2Vec2,this.tangent=new box2d.b2Vec2,this.normalMass=new box2d.b2Mat22,this.K=new box2d.b2Mat22},box2d.b2ContactVelocityConstraint.prototype.points=null,box2d.b2ContactVelocityConstraint.prototype.normal=null,box2d.b2ContactVelocityConstraint.prototype.tangent=null,box2d.b2ContactVelocityConstraint.prototype.normalMass=null,box2d.b2ContactVelocityConstraint.prototype.K=null,box2d.b2ContactVelocityConstraint.prototype.indexA=0,box2d.b2ContactVelocityConstraint.prototype.indexB=0,box2d.b2ContactVelocityConstraint.prototype.invMassA=0,box2d.b2ContactVelocityConstraint.prototype.invMassB=0,box2d.b2ContactVelocityConstraint.prototype.invIA=0,box2d.b2ContactVelocityConstraint.prototype.invIB=0,box2d.b2ContactVelocityConstraint.prototype.friction=0,box2d.b2ContactVelocityConstraint.prototype.restitution=0,box2d.b2ContactVelocityConstraint.prototype.tangentSpeed=0,box2d.b2ContactVelocityConstraint.prototype.pointCount=0,box2d.b2ContactVelocityConstraint.prototype.contactIndex=0,box2d.b2ContactVelocityConstraint.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2ContactVelocityConstraint})},box2d.b2ContactPositionConstraint=function(){this.localPoints=box2d.b2Vec2.MakeArray(box2d.b2_maxManifoldPoints),this.localNormal=new box2d.b2Vec2,this.localPoint=new box2d.b2Vec2,this.localCenterA=new box2d.b2Vec2,this.localCenterB=new box2d.b2Vec2},box2d.b2ContactPositionConstraint.prototype.localPoints=null,box2d.b2ContactPositionConstraint.prototype.localNormal=null,box2d.b2ContactPositionConstraint.prototype.localPoint=null,box2d.b2ContactPositionConstraint.prototype.indexA=0,box2d.b2ContactPositionConstraint.prototype.indexB=0,box2d.b2ContactPositionConstraint.prototype.invMassA=0,box2d.b2ContactPositionConstraint.prototype.invMassB=0,box2d.b2ContactPositionConstraint.prototype.localCenterA=null,box2d.b2ContactPositionConstraint.prototype.localCenterB=null,box2d.b2ContactPositionConstraint.prototype.invIA=0,box2d.b2ContactPositionConstraint.prototype.invIB=0,box2d.b2ContactPositionConstraint.prototype.type=box2d.b2ManifoldType.e_unknown,box2d.b2ContactPositionConstraint.prototype.radiusA=0,box2d.b2ContactPositionConstraint.prototype.radiusB=0,box2d.b2ContactPositionConstraint.prototype.pointCount=0,box2d.b2ContactPositionConstraint.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2ContactPositionConstraint})},box2d.b2ContactSolverDef=function(){this.step=new box2d.b2TimeStep},box2d.b2ContactSolverDef.prototype.step=null,box2d.b2ContactSolverDef.prototype.contacts=null,box2d.b2ContactSolverDef.prototype.count=0,box2d.b2ContactSolverDef.prototype.positions=null,box2d.b2ContactSolverDef.prototype.velocities=null,box2d.b2ContactSolverDef.prototype.allocator=null,box2d.b2ContactSolver=function(){this.m_step=new box2d.b2TimeStep,this.m_positionConstraints=box2d.b2ContactPositionConstraint.MakeArray(1024),this.m_velocityConstraints=box2d.b2ContactVelocityConstraint.MakeArray(1024)},box2d.b2ContactSolver.prototype.m_step=null,box2d.b2ContactSolver.prototype.m_positions=null,box2d.b2ContactSolver.prototype.m_velocities=null,box2d.b2ContactSolver.prototype.m_allocator=null,box2d.b2ContactSolver.prototype.m_positionConstraints=null,box2d.b2ContactSolver.prototype.m_velocityConstraints=null,box2d.b2ContactSolver.prototype.m_contacts=null,box2d.b2ContactSolver.prototype.m_count=0,box2d.b2ContactSolver.prototype.Initialize=function(a){if(this.m_step.Copy(a.step),this.m_allocator=a.allocator,this.m_count=a.count,this.m_positionConstraints.length<this.m_count){var b=box2d.b2Max(2*this.m_positionConstraints.length,this.m_count);for(box2d.DEBUG&&window.console.log("box2d.b2ContactSolver.m_positionConstraints: "+b);this.m_positionConstraints.length<b;)this.m_positionConstraints[this.m_positionConstraints.length]=new box2d.b2ContactPositionConstraint}if(this.m_velocityConstraints.length<this.m_count){b=box2d.b2Max(2*this.m_velocityConstraints.length,this.m_count);for(box2d.DEBUG&&window.console.log("box2d.b2ContactSolver.m_velocityConstraints: "+b);this.m_velocityConstraints.length<b;)this.m_velocityConstraints[this.m_velocityConstraints.length]=new box2d.b2ContactVelocityConstraint}var c,d,e,f,g,j,k,h,i,p,q,r,s,t,u;for(this.m_positions=a.positions,this.m_velocities=a.velocities,this.m_contacts=a.contacts,c=0,d=this.m_count;c<d;++c)for(h=(g=this.m_contacts[c]).m_fixtureA,i=g.m_fixtureB,j=h.GetShape(),k=i.GetShape(),j=j.m_radius,k=k.m_radius,h=h.GetBody(),i=i.GetBody(),q=(p=g.GetManifold()).pointCount,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<q),(r=this.m_velocityConstraints[c]).friction=g.m_friction,r.restitution=g.m_restitution,r.tangentSpeed=g.m_tangentSpeed,r.indexA=h.m_islandIndex,r.indexB=i.m_islandIndex,r.invMassA=h.m_invMass,r.invMassB=i.m_invMass,r.invIA=h.m_invI,r.invIB=i.m_invI,r.contactIndex=c,r.pointCount=q,r.K.SetZero(),r.normalMass.SetZero(),(s=this.m_positionConstraints[c]).indexA=h.m_islandIndex,s.indexB=i.m_islandIndex,s.invMassA=h.m_invMass,s.invMassB=i.m_invMass,s.localCenterA.Copy(h.m_sweep.localCenter),s.localCenterB.Copy(i.m_sweep.localCenter),s.invIA=h.m_invI,s.invIB=i.m_invI,s.localNormal.Copy(p.localNormal),s.localPoint.Copy(p.localPoint),s.pointCount=q,s.radiusA=j,s.radiusB=k,s.type=p.type,e=0,f=q;e<f;++e)t=p.points[e],u=r.points[e],this.m_step.warmStarting?(u.normalImpulse=this.m_step.dtRatio*t.normalImpulse,u.tangentImpulse=this.m_step.dtRatio*t.tangentImpulse):(u.normalImpulse=0,u.tangentImpulse=0),u.rA.SetZero(),u.rB.SetZero(),u.normalMass=0,u.tangentMass=0,u.velocityBias=0,s.localPoints[e].Copy(t.localPoint);return this},box2d.b2ContactSolver.prototype.InitializeVelocityConstraints=function(){for(var c,d,e,l,m,n,o,r,t,u,v,x,y,A,B,C,s,j,p,i,g,f,h,k,S=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA,T=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB,U=box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold,a=0,b=this.m_count;a<b;++a){for(e=this.m_velocityConstraints[a],g=(f=this.m_positionConstraints[a]).radiusA,h=f.radiusB,i=this.m_contacts[e.contactIndex].GetManifold(),j=e.indexA,k=e.indexB,l=e.invMassA,m=e.invMassB,n=e.invIA,o=e.invIB,p=f.localCenterA,f=f.localCenterB,r=this.m_positions[j].c,s=this.m_positions[j].a,t=this.m_velocities[j].v,u=this.m_velocities[j].w,v=this.m_positions[k].c,j=this.m_positions[k].a,x=this.m_velocities[k].v,y=this.m_velocities[k].w,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<i.pointCount),S.q.SetAngleRadians(s),T.q.SetAngleRadians(j),box2d.b2SubVV(r,box2d.b2MulRV(S.q,p,box2d.b2Vec2.s_t0),S.p),box2d.b2SubVV(v,box2d.b2MulRV(T.q,f,box2d.b2Vec2.s_t0),T.p),U.Initialize(i,S,g,T,h),e.normal.Copy(U.normal),box2d.b2CrossVOne(e.normal,e.tangent),c=0,d=e.pointCount;c<d;++c)A=e.points[c],box2d.b2SubVV(U.points[c],r,A.rA),box2d.b2SubVV(U.points[c],v,A.rB),B=box2d.b2CrossVV(A.rA,e.normal),C=box2d.b2CrossVV(A.rB,e.normal),A.normalMass=0<(B=l+m+n*B*B+o*C*C)?1/B:0,C=e.tangent,B=box2d.b2CrossVV(A.rA,C),C=box2d.b2CrossVV(A.rB,C),A.tangentMass=0<(B=l+m+n*B*B+o*C*C)?1/B:0,A.velocityBias=0,(C=box2d.b2DotVV(e.normal,box2d.b2SubVV(box2d.b2AddVCrossSV(x,y,A.rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(t,u,A.rA,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t0)))<-box2d.b2_velocityThreshold&&(A.velocityBias+=-e.restitution*C);2===e.pointCount&&(k=e.points[0],s=e.points[1],(f=l+m+n*(j=box2d.b2CrossVV(k.rA,e.normal))*j+o*(p=box2d.b2CrossVV(k.rB,e.normal))*p)*f<1e3*(f*(h=l+m+n*(i=box2d.b2CrossVV(s.rA,e.normal))*i+o*(g=box2d.b2CrossVV(s.rB,e.normal))*g)-(k=l+m+n*j*i+o*p*g)*k)?(e.K.ex.SetXY(f,k),e.K.ey.SetXY(k,h),e.K.GetInverse(e.normalMass)):e.pointCount=1)}},box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfA=new box2d.b2Transform,box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_xfB=new box2d.b2Transform,box2d.b2ContactSolver.prototype.InitializeVelocityConstraints.s_worldManifold=new box2d.b2WorldManifold,box2d.b2ContactSolver.prototype.WarmStart=function(){for(var c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t=box2d.b2ContactSolver.prototype.WarmStart.s_P,a=0,b=this.m_count;a<b;++a){for(f=(e=this.m_velocityConstraints[a]).indexA,h=e.invMassA,i=e.invIA,j=e.invMassB,k=e.invIB,m=this.m_velocities[f].v,n=this.m_velocities[f].w,o=this.m_velocities[g=e.indexB].v,p=this.m_velocities[g].w,q=e.normal,r=e.tangent,c=0,d=e.pointCount;c<d;++c)s=e.points[c],box2d.b2AddVV(box2d.b2MulSV(s.normalImpulse,q,box2d.b2Vec2.s_t0),box2d.b2MulSV(s.tangentImpulse,r,box2d.b2Vec2.s_t1),t),n-=i*box2d.b2CrossVV(s.rA,t),m.SelfMulSub(h,t),p+=k*box2d.b2CrossVV(s.rB,t),o.SelfMulAdd(j,t);this.m_velocities[f].w=n,this.m_velocities[g].w=p}},box2d.b2ContactSolver.prototype.WarmStart.s_P=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints=function(){for(var c,d,e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,l,w,u,y,z,A,B,C,D=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv,E=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1,F=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2,G=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P,H=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a,I=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b,J=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x,K=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d,L=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1,M=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2,N=box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2,a=0,b=this.m_count;a<b;++a){for(f=(e=this.m_velocityConstraints[a]).indexA,h=e.invMassA,i=e.invIA,j=e.invMassB,k=e.invIB,l=e.pointCount,m=this.m_velocities[f].v,n=this.m_velocities[f].w,o=this.m_velocities[g=e.indexB].v,p=this.m_velocities[g].w,q=e.normal,r=e.tangent,s=e.friction,box2d.ENABLE_ASSERTS&&box2d.b2Assert(1===l||2===l),c=0,d=l;c<d;++c)t=e.points[c],box2d.b2SubVV(box2d.b2AddVCrossSV(o,p,t.rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(m,n,t.rA,box2d.b2Vec2.s_t1),D),u=box2d.b2DotVV(D,r)-e.tangentSpeed,w=t.tangentMass*-u,u=s*t.normalImpulse,w=(y=box2d.b2Clamp(t.tangentImpulse+w,-u,u))-t.tangentImpulse,t.tangentImpulse=y,box2d.b2MulSV(w,r,G),m.SelfMulSub(h,G),n-=i*box2d.b2CrossVV(t.rA,G),o.SelfMulAdd(j,G),p+=k*box2d.b2CrossVV(t.rB,G);if(1===e.pointCount)t=e.points[0],box2d.b2SubVV(box2d.b2AddVCrossSV(o,p,t.rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(m,n,t.rA,box2d.b2Vec2.s_t1),D),l=box2d.b2DotVV(D,q),w=-t.normalMass*(l-t.velocityBias),w=(y=box2d.b2Max(t.normalImpulse+w,0))-t.normalImpulse,t.normalImpulse=y,box2d.b2MulSV(w,q,G),m.SelfMulSub(h,G),n-=i*box2d.b2CrossVV(t.rA,G),o.SelfMulAdd(j,G),p+=k*box2d.b2CrossVV(t.rB,G);else for(z=e.points[0],A=e.points[1],H.SetXY(z.normalImpulse,A.normalImpulse),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=H.x&&0<=H.y),box2d.b2SubVV(box2d.b2AddVCrossSV(o,p,z.rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(m,n,z.rA,box2d.b2Vec2.s_t1),E),box2d.b2SubVV(box2d.b2AddVCrossSV(o,p,A.rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(m,n,A.rA,box2d.b2Vec2.s_t1),F),B=box2d.b2DotVV(E,q),C=box2d.b2DotVV(F,q),I.x=B-z.velocityBias,I.y=C-A.velocityBias,I.SelfSub(box2d.b2MulMV(e.K,H,box2d.b2Vec2.s_t0));;){if(box2d.b2MulMV(e.normalMass,I,J).SelfNeg(),0<=J.x&&0<=J.y){box2d.b2SubVV(J,H,K),box2d.b2MulSV(K.x,q,L),box2d.b2MulSV(K.y,q,M),box2d.b2AddVV(L,M,N),m.SelfMulSub(h,N),n-=i*(box2d.b2CrossVV(z.rA,L)+box2d.b2CrossVV(A.rA,M)),o.SelfMulAdd(j,N),p+=k*(box2d.b2CrossVV(z.rB,L)+box2d.b2CrossVV(A.rB,M)),z.normalImpulse=J.x,A.normalImpulse=J.y;break}if(J.x=-z.normalMass*I.x,J.y=0,C=e.K.ex.y*J.x+I.y,0<=J.x&&0<=C){box2d.b2SubVV(J,H,K),box2d.b2MulSV(K.x,q,L),box2d.b2MulSV(K.y,q,M),box2d.b2AddVV(L,M,N),m.SelfMulSub(h,N),n-=i*(box2d.b2CrossVV(z.rA,L)+box2d.b2CrossVV(A.rA,M)),o.SelfMulAdd(j,N),p+=k*(box2d.b2CrossVV(z.rB,L)+box2d.b2CrossVV(A.rB,M)),z.normalImpulse=J.x,A.normalImpulse=J.y;break}if(J.x=0,J.y=-A.normalMass*I.y,B=e.K.ey.x*J.y+I.x,0<=J.y&&0<=B){box2d.b2SubVV(J,H,K),box2d.b2MulSV(K.x,q,L),box2d.b2MulSV(K.y,q,M),box2d.b2AddVV(L,M,N),m.SelfMulSub(h,N),n-=i*(box2d.b2CrossVV(z.rA,L)+box2d.b2CrossVV(A.rA,M)),o.SelfMulAdd(j,N),p+=k*(box2d.b2CrossVV(z.rB,L)+box2d.b2CrossVV(A.rB,M)),z.normalImpulse=J.x,A.normalImpulse=J.y;break}if(J.x=0,J.y=0,B=I.x,C=I.y,0<=B&&0<=C){box2d.b2SubVV(J,H,K),box2d.b2MulSV(K.x,q,L),box2d.b2MulSV(K.y,q,M),box2d.b2AddVV(L,M,N),m.SelfMulSub(h,N),n-=i*(box2d.b2CrossVV(z.rA,L)+box2d.b2CrossVV(A.rA,M)),o.SelfMulAdd(j,N),p+=k*(box2d.b2CrossVV(z.rB,L)+box2d.b2CrossVV(A.rB,M)),z.normalImpulse=J.x,A.normalImpulse=J.y;break}break}this.m_velocities[f].w=n,this.m_velocities[g].w=p}},box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv1=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_dv2=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_a=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_b=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_x=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_d=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P2=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveVelocityConstraints.s_P1P2=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.StoreImpulses=function(){for(var c,d,e,f,a=0,b=this.m_count;a<b;++a)for(e=this.m_velocityConstraints[a],f=this.m_contacts[e.contactIndex].GetManifold(),c=0,d=e.pointCount;c<d;++c)f.points[c].normalImpulse=e.points[c].normalImpulse,f.points[c].tangentImpulse=e.points[c].tangentImpulse},box2d.b2PositionSolverManifold=function(){this.normal=new box2d.b2Vec2,this.point=new box2d.b2Vec2},box2d.b2PositionSolverManifold.prototype.normal=null,box2d.b2PositionSolverManifold.prototype.point=null,box2d.b2PositionSolverManifold.prototype.separation=0,box2d.b2PositionSolverManifold.prototype.Initialize=function(a,b,c,d){var e=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA,f=box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB,g=box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint,h=box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint;switch(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<a.pointCount),a.type){case box2d.b2ManifoldType.e_circles:box2d.b2MulXV(b,a.localPoint,e),box2d.b2MulXV(c,a.localPoints[0],f),box2d.b2SubVV(f,e,this.normal).SelfNormalize(),box2d.b2MidVV(e,f,this.point),this.separation=box2d.b2DotVV(box2d.b2SubVV(f,e,box2d.b2Vec2.s_t0),this.normal)-a.radiusA-a.radiusB;break;case box2d.b2ManifoldType.e_faceA:box2d.b2MulRV(b.q,a.localNormal,this.normal),box2d.b2MulXV(b,a.localPoint,g),box2d.b2MulXV(c,a.localPoints[d],h),this.separation=box2d.b2DotVV(box2d.b2SubVV(h,g,box2d.b2Vec2.s_t0),this.normal)-a.radiusA-a.radiusB,this.point.Copy(h);break;case box2d.b2ManifoldType.e_faceB:box2d.b2MulRV(c.q,a.localNormal,this.normal),box2d.b2MulXV(c,a.localPoint,g),box2d.b2MulXV(b,a.localPoints[d],h),this.separation=box2d.b2DotVV(box2d.b2SubVV(h,g,box2d.b2Vec2.s_t0),this.normal)-a.radiusA-a.radiusB,this.point.Copy(h),this.normal.SelfNeg()}},box2d.b2PositionSolverManifold.prototype.Initialize.s_pointA=new box2d.b2Vec2,box2d.b2PositionSolverManifold.prototype.Initialize.s_pointB=new box2d.b2Vec2,box2d.b2PositionSolverManifold.prototype.Initialize.s_planePoint=new box2d.b2Vec2,box2d.b2PositionSolverManifold.prototype.Initialize.s_clipPoint=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolvePositionConstraints=function(){for(var c,d,e,f,g,h,i,j,k,l,m,o,p,q,r,s,t,u,A=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA,B=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB,C=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm,D=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA,E=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB,F=box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P,G=0,a=0,b=this.m_count;a<b;++a){for(f=(e=this.m_positionConstraints[a]).indexA,h=e.localCenterA,i=e.invMassA,j=e.invIA,k=e.localCenterB,l=e.invMassB,m=e.invIB,o=this.m_positions[f].c,p=this.m_positions[f].a,q=this.m_positions[g=e.indexB].c,r=this.m_positions[g].a,c=0,d=e.pointCount;c<d;++c)A.q.SetAngleRadians(p),B.q.SetAngleRadians(r),box2d.b2SubVV(o,box2d.b2MulRV(A.q,h,box2d.b2Vec2.s_t0),A.p),box2d.b2SubVV(q,box2d.b2MulRV(B.q,k,box2d.b2Vec2.s_t0),B.p),C.Initialize(e,A,B,c),s=C.normal,t=C.point,u=C.separation,box2d.b2SubVV(t,o,D),box2d.b2SubVV(t,q,E),G=box2d.b2Min(G,u),t=box2d.b2Clamp(box2d.b2_baumgarte*(u+box2d.b2_linearSlop),-box2d.b2_maxLinearCorrection,0),u=i+l+j*(u=box2d.b2CrossVV(D,s))*u+m*(u=box2d.b2CrossVV(E,s))*u,box2d.b2MulSV(0<u?-t/u:0,s,F),o.SelfMulSub(i,F),p-=j*box2d.b2CrossVV(D,F),q.SelfMulAdd(l,F),r+=m*box2d.b2CrossVV(E,F);this.m_positions[f].a=p,this.m_positions[g].a=r}return-3*box2d.b2_linearSlop<G},box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfA=new box2d.b2Transform,box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_xfB=new box2d.b2Transform,box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_psm=new box2d.b2PositionSolverManifold,box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rA=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_rB=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints=function(a,b){for(var e,f,g,h,i,j,k,m,n,o,p,q,r,s,t,u,v,w,C=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA,D=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB,E=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm,F=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA,G=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB,H=box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P,I=0,c=0,d=this.m_count;c<d;++c){for(h=(g=this.m_positionConstraints[c]).indexA,j=g.localCenterA,k=g.localCenterB,n=m=0,h!==a&&h!==b||(m=g.invMassA,n=g.invIA),p=o=0,(i=g.indexB)!==a&&i!==b||(o=g.invMassB,p=g.invIB),q=this.m_positions[h].c,r=this.m_positions[h].a,s=this.m_positions[i].c,t=this.m_positions[i].a,e=0,f=g.pointCount;e<f;++e)C.q.SetAngleRadians(r),D.q.SetAngleRadians(t),box2d.b2SubVV(q,box2d.b2MulRV(C.q,j,box2d.b2Vec2.s_t0),C.p),box2d.b2SubVV(s,box2d.b2MulRV(D.q,k,box2d.b2Vec2.s_t0),D.p),E.Initialize(g,C,D,e),u=E.normal,v=E.point,w=E.separation,box2d.b2SubVV(v,q,F),box2d.b2SubVV(v,s,G),I=box2d.b2Min(I,w),v=box2d.b2Clamp(box2d.b2_toiBaumgarte*(w+box2d.b2_linearSlop),-box2d.b2_maxLinearCorrection,0),w=m+o+n*(w=box2d.b2CrossVV(F,u))*w+p*(w=box2d.b2CrossVV(G,u))*w,box2d.b2MulSV(0<w?-v/w:0,u,H),q.SelfMulSub(m,H),r-=n*box2d.b2CrossVV(F,H),s.SelfMulAdd(o,H),t+=p*box2d.b2CrossVV(G,H);this.m_positions[h].a=r,this.m_positions[i].a=t}return-1.5*box2d.b2_linearSlop<=I},box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfA=new box2d.b2Transform,box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_xfB=new box2d.b2Transform,box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_psm=new box2d.b2PositionSolverManifold,box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rA=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_rB=new box2d.b2Vec2,box2d.b2ContactSolver.prototype.SolveTOIPositionConstraints.s_P=new box2d.b2Vec2,goog.provide("box2d.b2WorldCallbacks"),goog.require("box2d.b2Settings"),box2d.b2DestructionListener=function(){},box2d.b2DestructionListener.prototype.SayGoodbyeJoint=function(){},box2d.b2DestructionListener.prototype.SayGoodbyeFixture=function(){},box2d.b2ContactFilter=function(){},box2d.b2ContactFilter.prototype.ShouldCollide=function(a,b){a=a.GetFilterData(),b=b.GetFilterData();return a.groupIndex===b.groupIndex&&0!==a.groupIndex?0<a.groupIndex:0!=(a.maskBits&b.categoryBits)&&0!=(a.categoryBits&b.maskBits)},box2d.b2ContactFilter.b2_defaultFilter=new box2d.b2ContactFilter,box2d.b2ContactImpulse=function(){this.normalImpulses=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints),this.tangentImpulses=box2d.b2MakeNumberArray(box2d.b2_maxManifoldPoints)},box2d.b2ContactImpulse.prototype.normalImpulses=null,box2d.b2ContactImpulse.prototype.tangentImpulses=null,box2d.b2ContactImpulse.prototype.count=0,box2d.b2ContactListener=function(){},box2d.b2ContactListener.prototype.BeginContact=function(){},box2d.b2ContactListener.prototype.EndContact=function(){},box2d.b2ContactListener.prototype.PreSolve=function(){},box2d.b2ContactListener.prototype.PostSolve=function(){},box2d.b2ContactListener.b2_defaultListener=new box2d.b2ContactListener,box2d.b2QueryCallback=function(){},box2d.b2QueryCallback.prototype.ReportFixture=function(){return!0},box2d.b2RayCastCallback=function(){},box2d.b2RayCastCallback.prototype.ReportFixture=function(a,b,c,d){return d},goog.provide("box2d.b2Island"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Timer"),goog.require("box2d.b2TimeStep"),goog.require("box2d.b2WorldCallbacks"),goog.require("box2d.b2ContactSolver"),box2d.b2Island=function(){this.m_bodies=new Array(1024),this.m_contacts=new Array(1024),this.m_joints=new Array(1024),this.m_positions=box2d.b2Position.MakeArray(1024),this.m_velocities=box2d.b2Velocity.MakeArray(1024)},box2d.b2Island.prototype.m_allocator=null,box2d.b2Island.prototype.m_listener=null,box2d.b2Island.prototype.m_bodies=null,box2d.b2Island.prototype.m_contacts=null,box2d.b2Island.prototype.m_joints=null,box2d.b2Island.prototype.m_positions=null,box2d.b2Island.prototype.m_velocities=null,box2d.b2Island.prototype.m_bodyCount=0,box2d.b2Island.prototype.m_jointCount=0,box2d.b2Island.prototype.m_contactCount=0,box2d.b2Island.prototype.m_bodyCapacity=0,box2d.b2Island.prototype.m_contactCapacity=0,box2d.b2Island.prototype.m_jointCapacity=0,box2d.b2Island.prototype.Initialize=function(a,b,c,d,e){for(this.m_bodyCapacity=a,this.m_contactCapacity=b,this.m_jointCapacity=c,this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0,this.m_allocator=d,this.m_listener=e;this.m_bodies.length<a;)this.m_bodies[this.m_bodies.length]=null;for(;this.m_contacts.length<b;)this.m_contacts[this.m_contacts.length]=null;for(;this.m_joints.length<c;)this.m_joints[this.m_joints.length]=null;if(this.m_positions.length<a){var f=box2d.b2Max(2*this.m_positions.length,a);for(box2d.DEBUG&&window.console.log("box2d.b2Island.m_positions: "+f);this.m_positions.length<f;)this.m_positions[this.m_positions.length]=new box2d.b2Position}if(this.m_velocities.length<a){f=box2d.b2Max(2*this.m_velocities.length,a);for(box2d.DEBUG&&window.console.log("box2d.b2Island.m_velocities: "+f);this.m_velocities.length<f;)this.m_velocities[this.m_velocities.length]=new box2d.b2Velocity}},box2d.b2Island.prototype.Clear=function(){this.m_bodyCount=0,this.m_contactCount=0,this.m_jointCount=0},box2d.b2Island.prototype.AddBody=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_bodyCount<this.m_bodyCapacity),a.m_islandIndex=this.m_bodyCount,this.m_bodies[this.m_bodyCount++]=a},box2d.b2Island.prototype.AddContact=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_contactCount<this.m_contactCapacity),this.m_contacts[this.m_contactCount++]=a},box2d.b2Island.prototype.AddJoint=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_jointCount<this.m_jointCapacity),this.m_joints[this.m_jointCount++]=a},box2d.b2Island.prototype.Solve=function(a,b,c,d){for(var e=box2d.b2Island.s_timer.Reset(),f=b.dt,g=0;g<this.m_bodyCount;++g){var h=this.m_bodies[g],i=this.m_positions[g].c.Copy(h.m_sweep.c),j=h.m_sweep.a,k=this.m_velocities[g].v.Copy(h.m_linearVelocity),l=h.m_angularVelocity;h.m_sweep.c0.Copy(h.m_sweep.c),h.m_sweep.a0=h.m_sweep.a,h.m_type===box2d.b2BodyType.b2_dynamicBody&&(k.x+=f*(h.m_gravityScale*c.x+h.m_invMass*h.m_force.x),k.y+=f*(h.m_gravityScale*c.y+h.m_invMass*h.m_force.y),l+=f*h.m_invI*h.m_torque,k.SelfMul(1/(1+f*h.m_linearDamping)),l*=1/(1+f*h.m_angularDamping)),this.m_positions[g].a=j,this.m_velocities[g].w=l}e.Reset();var m=box2d.b2Island.s_solverData,n=(m.step.Copy(b),m.positions=this.m_positions,m.velocities=this.m_velocities,box2d.b2Island.s_contactSolverDef),o=(n.step.Copy(b),n.contacts=this.m_contacts,n.count=this.m_contactCount,n.positions=this.m_positions,n.velocities=this.m_velocities,n.allocator=this.m_allocator,box2d.b2Island.s_contactSolver.Initialize(n));o.InitializeVelocityConstraints(),b.warmStarting&&o.WarmStart();for(g=0;g<this.m_jointCount;++g)this.m_joints[g].InitVelocityConstraints(m);a.solveInit=e.GetMilliseconds(),e.Reset();for(g=0;g<b.velocityIterations;++g){for(var p=0;p<this.m_jointCount;++p)this.m_joints[p].SolveVelocityConstraints(m);o.SolveVelocityConstraints()}o.StoreImpulses(),a.solveVelocity=e.GetMilliseconds();for(g=0;g<this.m_bodyCount;++g){var r,i=this.m_positions[g].c,j=this.m_positions[g].a,k=this.m_velocities[g].v,l=this.m_velocities[g].w,q=box2d.b2MulSV(f,k,box2d.b2Island.s_translation),q=(box2d.b2DotVV(q,q)>box2d.b2_maxTranslationSquared&&(r=box2d.b2_maxTranslation/q.GetLength(),k.SelfMul(r)),f*l);box2d.b2_maxRotationSquared<q*q&&(l*=r=box2d.b2_maxRotation/box2d.b2Abs(q)),i.x+=f*k.x,i.y+=f*k.y,j+=f*l,this.m_positions[g].a=j,this.m_velocities[g].w=l}e.Reset();for(var t=!1,g=0;g<b.positionIterations;++g){for(var u=o.SolvePositionConstraints(),v=!0,p=0;p<this.m_jointCount;++p)var w=this.m_joints[p].SolvePositionConstraints(m),v=v&&w;if(u&&v){t=!0;break}}for(g=0;g<this.m_bodyCount;++g){var x=this.m_bodies[g];x.m_sweep.c.Copy(this.m_positions[g].c),x.m_sweep.a=this.m_positions[g].a,x.m_linearVelocity.Copy(this.m_velocities[g].v),x.m_angularVelocity=this.m_velocities[g].w,x.SynchronizeTransform()}if(a.solvePosition=e.GetMilliseconds(),this.Report(o.m_velocityConstraints),d){for(var y=box2d.b2_maxFloat,z=box2d.b2_linearSleepTolerance*box2d.b2_linearSleepTolerance,A=box2d.b2_angularSleepTolerance*box2d.b2_angularSleepTolerance,g=0;g<this.m_bodyCount;++g)(h=this.m_bodies[g]).GetType()!==box2d.b2BodyType.b2_staticBody&&(y=0==(h.m_flags&box2d.b2BodyFlag.e_autoSleepFlag)||h.m_angularVelocity*h.m_angularVelocity>A||box2d.b2DotVV(h.m_linearVelocity,h.m_linearVelocity)>z?h.m_sleepTime=0:(h.m_sleepTime+=f,box2d.b2Min(y,h.m_sleepTime)));if(box2d.b2_timeToSleep<=y&&t)for(g=0;g<this.m_bodyCount;++g)(h=this.m_bodies[g]).SetAwake(!1)}},box2d.b2Island.prototype.SolveTOI=function(a,b,c){box2d.ENABLE_ASSERTS&&box2d.b2Assert(b<this.m_bodyCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(c<this.m_bodyCount);for(var d=0;d<this.m_bodyCount;++d){var e=this.m_bodies[d];this.m_positions[d].c.Copy(e.m_sweep.c),this.m_positions[d].a=e.m_sweep.a,this.m_velocities[d].v.Copy(e.m_linearVelocity),this.m_velocities[d].w=e.m_angularVelocity}var f=box2d.b2Island.s_contactSolverDef;f.contacts=this.m_contacts,f.count=this.m_contactCount,f.allocator=this.m_allocator,f.step.Copy(a),f.positions=this.m_positions,f.velocities=this.m_velocities;for(var g=box2d.b2Island.s_contactSolver.Initialize(f),d=0;d<a.positionIterations;++d)if(g.SolveTOIPositionConstraints(b,c))break;this.m_bodies[b].m_sweep.c0.Copy(this.m_positions[b].c),this.m_bodies[b].m_sweep.a0=this.m_positions[b].a,this.m_bodies[c].m_sweep.c0.Copy(this.m_positions[c].c),this.m_bodies[c].m_sweep.a0=this.m_positions[c].a,g.InitializeVelocityConstraints();for(d=0;d<a.velocityIterations;++d)g.SolveVelocityConstraints();for(var i=a.dt,d=0;d<this.m_bodyCount;++d){var o,j=this.m_positions[d].c,k=this.m_positions[d].a,l=this.m_velocities[d].v,m=this.m_velocities[d].w,n=box2d.b2MulSV(i,l,box2d.b2Island.s_translation),n=(box2d.b2DotVV(n,n)>box2d.b2_maxTranslationSquared&&(o=box2d.b2_maxTranslation/n.GetLength(),l.SelfMul(o)),i*m),n=(box2d.b2_maxRotationSquared<n*n&&(m*=o=box2d.b2_maxRotation/box2d.b2Abs(n)),j.SelfMulAdd(i,l),k+=i*m,this.m_positions[d].a=k,this.m_velocities[d].w=m,this.m_bodies[d]);n.m_sweep.c.Copy(j),n.m_sweep.a=k,n.m_linearVelocity.Copy(l),n.m_angularVelocity=m,n.SynchronizeTransform()}this.Report(g.m_velocityConstraints)},box2d.b2Island.prototype.Report=function(a){if(null!==this.m_listener)for(var b=0;b<this.m_contactCount;++b){var c=this.m_contacts[b];if(c){var d=a[b],e=box2d.b2Island.s_impulse;e.count=d.pointCount;for(var f=0;f<d.pointCount;++f)e.normalImpulses[f]=d.points[f].normalImpulse,e.tangentImpulses[f]=d.points[f].tangentImpulse;this.m_listener.PostSolve(c,e)}}},box2d.b2Island.s_timer=new box2d.b2Timer,box2d.b2Island.s_solverData=new box2d.b2SolverData,box2d.b2Island.s_contactSolverDef=new box2d.b2ContactSolverDef,box2d.b2Island.s_contactSolver=new box2d.b2ContactSolver,box2d.b2Island.s_translation=new box2d.b2Vec2,box2d.b2Island.s_impulse=new box2d.b2ContactImpulse,goog.provide("box2d.b2ContactFactory"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Contact"),box2d.b2ContactRegister=function(){},box2d.b2ContactRegister.prototype.createFcn=null,box2d.b2ContactRegister.prototype.destroyFcn=null,box2d.b2ContactRegister.prototype.primary=!1,box2d.b2ContactFactory=function(a){this.m_allocator=a,this.InitializeRegisters()},box2d.b2ContactFactory.prototype.m_allocator=null,box2d.b2ContactFactory.prototype.AddType=function(a,b,c,d){function f(b){return 0<e.length?e.pop():a(b)}function g(a){e.push(a)}var e=box2d.b2MakeArray(256,function(){return a()});this.m_registers[c][d].pool=e,this.m_registers[c][d].createFcn=f,this.m_registers[c][d].destroyFcn=g,this.m_registers[c][d].primary=!0,c!==d&&(this.m_registers[d][c].pool=e,this.m_registers[d][c].createFcn=f,this.m_registers[d][c].destroyFcn=g,this.m_registers[d][c].primary=!1)},box2d.b2ContactFactory.prototype.InitializeRegisters=function(){this.m_registers=new Array(box2d.b2ShapeType.e_shapeTypeCount);for(var a=0;a<box2d.b2ShapeType.e_shapeTypeCount;a++){this.m_registers[a]=new Array(box2d.b2ShapeType.e_shapeTypeCount);for(var b=0;b<box2d.b2ShapeType.e_shapeTypeCount;b++)this.m_registers[a][b]=new box2d.b2ContactRegister}this.AddType(box2d.b2CircleContact.Create,box2d.b2CircleContact.Destroy,box2d.b2ShapeType.e_circleShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2PolygonAndCircleContact.Create,box2d.b2PolygonAndCircleContact.Destroy,box2d.b2ShapeType.e_polygonShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2PolygonContact.Create,box2d.b2PolygonContact.Destroy,box2d.b2ShapeType.e_polygonShape,box2d.b2ShapeType.e_polygonShape),this.AddType(box2d.b2EdgeAndCircleContact.Create,box2d.b2EdgeAndCircleContact.Destroy,box2d.b2ShapeType.e_edgeShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2EdgeAndPolygonContact.Create,box2d.b2EdgeAndPolygonContact.Destroy,box2d.b2ShapeType.e_edgeShape,box2d.b2ShapeType.e_polygonShape),this.AddType(box2d.b2ChainAndCircleContact.Create,box2d.b2ChainAndCircleContact.Destroy,box2d.b2ShapeType.e_chainShape,box2d.b2ShapeType.e_circleShape),this.AddType(box2d.b2ChainAndPolygonContact.Create,box2d.b2ChainAndPolygonContact.Destroy,box2d.b2ShapeType.e_chainShape,box2d.b2ShapeType.e_polygonShape)},box2d.b2ContactFactory.prototype.Create=function(a,b,c,d){var i,e=a.GetType(),f=c.GetType(),e=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=e&&e<box2d.b2ShapeType.e_shapeTypeCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=f&&f<box2d.b2ShapeType.e_shapeTypeCount),this.m_registers[e][f]),f=e.createFcn;return null!==f?(e.primary?(i=f(this.m_allocator)).Reset(a,b,c,d):(i=f(this.m_allocator)).Reset(c,d,a,b),i):null},box2d.b2ContactFactory.prototype.Destroy=function(a){var b=a.m_fixtureA,c=a.m_fixtureB,b=(0<a.m_manifold.pointCount&&!1===b.IsSensor()&&!1===c.IsSensor()&&(b.GetBody().SetAwake(!0),c.GetBody().SetAwake(!0)),b.GetType()),c=c.GetType();box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=b&&c<box2d.b2ShapeType.e_shapeTypeCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=b&&c<box2d.b2ShapeType.e_shapeTypeCount),(0,this.m_registers[b][c].destroyFcn)(a,this.m_allocator)},goog.provide("box2d.b2GrowableStack"),goog.require("box2d.b2Settings"),box2d.b2GrowableStack=function(a){this.m_stack=new Array(a)},box2d.b2GrowableStack.prototype.m_stack=null,box2d.b2GrowableStack.prototype.m_count=0,box2d.b2GrowableStack.prototype.Reset=function(){return this.m_count=0,this},box2d.b2GrowableStack.prototype.Push=function(a){this.m_stack[this.m_count]=a,++this.m_count},box2d.b2GrowableStack.prototype.Pop=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_count),--this.m_count;var a=this.m_stack[this.m_count];return this.m_stack[this.m_count]=null,a},box2d.b2GrowableStack.prototype.GetCount=function(){return this.m_count},goog.provide("box2d.b2DynamicTree"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Collision"),goog.require("box2d.b2GrowableStack"),box2d.b2TreeNode=function(a){this.m_id=a||0,this.aabb=new box2d.b2AABB},box2d.b2TreeNode.prototype.m_id=0,box2d.b2TreeNode.prototype.aabb=null,box2d.b2TreeNode.prototype.userData=null,box2d.b2TreeNode.prototype.parent=null,box2d.b2TreeNode.prototype.child1=null,box2d.b2TreeNode.prototype.child2=null,box2d.b2TreeNode.prototype.height=0,box2d.b2TreeNode.prototype.IsLeaf=function(){return null===this.child1},box2d.b2DynamicTree=function(){},box2d.b2DynamicTree.prototype.m_root=null,box2d.b2DynamicTree.prototype.m_freeList=null,box2d.b2DynamicTree.prototype.m_path=0,box2d.b2DynamicTree.prototype.m_insertionCount=0,box2d.b2DynamicTree.s_stack=new box2d.b2GrowableStack(256),box2d.b2DynamicTree.s_r=new box2d.b2Vec2,box2d.b2DynamicTree.s_v=new box2d.b2Vec2,box2d.b2DynamicTree.s_abs_v=new box2d.b2Vec2,box2d.b2DynamicTree.s_segmentAABB=new box2d.b2AABB,box2d.b2DynamicTree.s_subInput=new box2d.b2RayCastInput,box2d.b2DynamicTree.s_combinedAABB=new box2d.b2AABB,box2d.b2DynamicTree.s_aabb=new box2d.b2AABB,box2d.b2DynamicTree.prototype.GetUserData=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(null!==a),a.userData},box2d.b2DynamicTree.prototype.GetFatAABB=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(null!==a),a.aabb},box2d.b2DynamicTree.prototype.Query=function(a,b){if(null!==this.m_root){var c=box2d.b2DynamicTree.s_stack.Reset();for(c.Push(this.m_root);0<c.GetCount();){var d=c.Pop();if(null!==d&&d.aabb.TestOverlap(b))if(d.IsLeaf()){if(!1===a(d))return}else c.Push(d.child1),c.Push(d.child2)}}},box2d.b2DynamicTree.prototype.RayCast=function(a,b){if(null!==this.m_root){var c=b.p1,d=b.p2,e=box2d.b2SubVV(d,c,box2d.b2DynamicTree.s_r),f=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<e.GetLengthSquared()),e.Normalize(),box2d.b2CrossOneV(e,box2d.b2DynamicTree.s_v)),g=box2d.b2AbsV(f,box2d.b2DynamicTree.s_abs_v),h=b.maxFraction,i=box2d.b2DynamicTree.s_segmentAABB,j=c.x+h*(d.x-c.x),k=c.y+h*(d.y-c.y),l=(i.lowerBound.x=box2d.b2Min(c.x,j),i.lowerBound.y=box2d.b2Min(c.y,k),i.upperBound.x=box2d.b2Max(c.x,j),i.upperBound.y=box2d.b2Max(c.y,k),box2d.b2DynamicTree.s_stack.Reset());for(l.Push(this.m_root);0<l.GetCount();){var m=l.Pop();if(null!==m&&!1!==box2d.b2TestOverlapAABB(m.aabb,i)){var n=m.aabb.GetCenter(),o=m.aabb.GetExtents();if(!(0<box2d.b2Abs(box2d.b2DotVV(f,box2d.b2SubVV(c,n,box2d.b2Vec2.s_t0)))-box2d.b2DotVV(g,o)))if(m.IsLeaf()){n=box2d.b2DynamicTree.s_subInput,o=(n.p1.Copy(b.p1),n.p2.Copy(b.p2),n.maxFraction=h,a(n,m));if(0===o)return;0<o&&(j=c.x+(h=o)*(d.x-c.x),k=c.y+h*(d.y-c.y),i.lowerBound.x=box2d.b2Min(c.x,j),i.lowerBound.y=box2d.b2Min(c.y,k),i.upperBound.x=box2d.b2Max(c.x,j),i.upperBound.y=box2d.b2Max(c.y,k))}else l.Push(m.child1),l.Push(m.child2)}}}},box2d.b2DynamicTree.prototype.AllocateNode=function(){var a;return this.m_freeList?(a=this.m_freeList,this.m_freeList=a.parent,a.parent=null,a.child1=null,a.child2=null,a.height=0,a.userData=null,a):new box2d.b2TreeNode(box2d.b2DynamicTree.prototype.s_node_id++)},box2d.b2DynamicTree.prototype.s_node_id=0,box2d.b2DynamicTree.prototype.FreeNode=function(a){a.parent=this.m_freeList,a.height=-1,this.m_freeList=a},box2d.b2DynamicTree.prototype.CreateProxy=function(a,b){var c=this.AllocateNode(),d=box2d.b2_aabbExtension,e=box2d.b2_aabbExtension;return c.aabb.lowerBound.x=a.lowerBound.x-d,c.aabb.lowerBound.y=a.lowerBound.y-e,c.aabb.upperBound.x=a.upperBound.x+d,c.aabb.upperBound.y=a.upperBound.y+e,c.userData=b,c.height=0,this.InsertLeaf(c),c},box2d.b2DynamicTree.prototype.DestroyProxy=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.IsLeaf()),this.RemoveLeaf(a),this.FreeNode(a)},box2d.b2DynamicTree.prototype.MoveProxy=function(a,b,c){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.IsLeaf()),a.aabb.Contains(b))return!1;this.RemoveLeaf(a);var d=box2d.b2_aabbExtension+box2d.b2_aabbMultiplier*(0<c.x?c.x:-c.x),c=box2d.b2_aabbExtension+box2d.b2_aabbMultiplier*(0<c.y?c.y:-c.y);return a.aabb.lowerBound.x=b.lowerBound.x-d,a.aabb.lowerBound.y=b.lowerBound.y-c,a.aabb.upperBound.x=b.upperBound.x+d,a.aabb.upperBound.y=b.upperBound.y+c,this.InsertLeaf(a),!0},box2d.b2DynamicTree.prototype.InsertLeaf=function(a){if(++this.m_insertionCount,null===this.m_root)this.m_root=a,this.m_root.parent=null;else{for(var d=a.aabb,e=(d.GetCenter(),this.m_root);!1===e.IsLeaf();){var b=e.child1,c=e.child2,f=e.aabb.GetPerimeter(),g=box2d.b2DynamicTree.s_combinedAABB;g.Combine2(e.aabb,d);var i,g=g.GetPerimeter(),l=2*g,g=2*(g-f),f=box2d.b2DynamicTree.s_aabb,h=b.IsLeaf()?(f.Combine2(d,b.aabb),f.GetPerimeter()+g):(f.Combine2(d,b.aabb),i=b.aabb.GetPerimeter(),f.GetPerimeter()-i+g),f=c.IsLeaf()?(f.Combine2(d,c.aabb),f.GetPerimeter()+g):(f.Combine2(d,c.aabb),i=c.aabb.GetPerimeter(),f.GetPerimeter()-i+g);if(l<h&&l<f)break;e=h<f?b:c}var p=e,q=p.parent,r=this.AllocateNode();for(r.parent=q,r.userData=null,r.aabb.Combine2(d,p.aabb),r.height=p.height+1,q?(q.child1===p?q.child1=r:q.child2=r,r.child1=p,r.child2=a,p.parent=r,a.parent=r):(r.child1=p,r.child2=a,p.parent=r,a.parent=r,this.m_root=r),e=a.parent;null!==e;)b=(e=this.Balance(e)).child1,c=e.child2,box2d.ENABLE_ASSERTS&&box2d.b2Assert(null!==b),box2d.ENABLE_ASSERTS&&box2d.b2Assert(null!==c),e.height=1+box2d.b2Max(b.height,c.height),e.aabb.Combine2(b.aabb,c.aabb),e=e.parent}},box2d.b2DynamicTree.prototype.RemoveLeaf=function(a){if(a===this.m_root)this.m_root=null;else{var c=a.parent,d=c.parent,a=c.child1===a?c.child2:c.child1;if(d){d.child1===c?d.child1=a:d.child2=a,a.parent=d,this.FreeNode(c);for(var e=d;e;){var f=(e=this.Balance(e)).child1,g=e.child2;e.aabb.Combine2(f.aabb,g.aabb),e.height=1+box2d.b2Max(f.height,g.height),e=e.parent}}else(this.m_root=a).parent=null,this.FreeNode(c)}},box2d.b2DynamicTree.prototype.Balance=function(a){var b,c,d,e,f;return box2d.ENABLE_ASSERTS&&box2d.b2Assert(null!==a),a.IsLeaf()||a.height<2?a:(b=a.child1,1<(d=(c=a.child2).height-b.height)?(e=c.child1,f=c.child2,c.child1=a,c.parent=a.parent,null!==(a.parent=c).parent?c.parent.child1===a?c.parent.child1=c:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.parent.child2===a),c.parent.child2=c):this.m_root=c,e.height>f.height?(c.child2=e,((a.child2=f).parent=a).aabb.Combine2(b.aabb,f.aabb),c.aabb.Combine2(a.aabb,e.aabb),a.height=1+box2d.b2Max(b.height,f.height),c.height=1+box2d.b2Max(a.height,e.height)):(c.child2=f,((a.child2=e).parent=a).aabb.Combine2(b.aabb,e.aabb),c.aabb.Combine2(a.aabb,f.aabb),a.height=1+box2d.b2Max(b.height,e.height),c.height=1+box2d.b2Max(a.height,f.height)),c):d<-1?(e=b.child1,f=b.child2,b.child1=a,b.parent=a.parent,null!==(a.parent=b).parent?b.parent.child1===a?b.parent.child1=b:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(b.parent.child2===a),b.parent.child2=b):this.m_root=b,e.height>f.height?(b.child2=e,((a.child1=f).parent=a).aabb.Combine2(c.aabb,f.aabb),b.aabb.Combine2(a.aabb,e.aabb),a.height=1+box2d.b2Max(c.height,f.height),b.height=1+box2d.b2Max(a.height,e.height)):(b.child2=f,((a.child1=e).parent=a).aabb.Combine2(c.aabb,e.aabb),b.aabb.Combine2(a.aabb,f.aabb),a.height=1+box2d.b2Max(c.height,e.height),b.height=1+box2d.b2Max(a.height,f.height)),b):a)},box2d.b2DynamicTree.prototype.GetHeight=function(){return null===this.m_root?0:this.m_root.height},box2d.b2DynamicTree.prototype.GetAreaRatio=function(){var b,c;return null===this.m_root?0:(b=this.m_root.aabb.GetPerimeter(),(c=function(a){var b;return null===a||a.IsLeaf()?0:(b=a.aabb.GetPerimeter(),(b+=c(a.child1))+c(a.child2))})(this.m_root)/b)},box2d.b2DynamicTree.prototype.ComputeHeightNode=function(a){var b;return a.IsLeaf()?0:(b=this.ComputeHeightNode(a.child1),a=this.ComputeHeightNode(a.child2),1+box2d.b2Max(b,a))},box2d.b2DynamicTree.prototype.ComputeHeight=function(){return this.ComputeHeightNode(this.m_root)},box2d.b2DynamicTree.prototype.ValidateStructure=function(a){var b,c,d;null!==a&&(a===this.m_root&&box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===a.parent),c=(b=a).child1,d=b.child2,b.IsLeaf()?(box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===c),box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0===b.height)):(box2d.ENABLE_ASSERTS&&box2d.b2Assert(c.parent===a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(d.parent===a),this.ValidateStructure(c),this.ValidateStructure(d)))},box2d.b2DynamicTree.prototype.ValidateMetrics=function(a){var c,d,f,g;null!==a&&(c=(a=a).child1,d=a.child2,a.IsLeaf()?(box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===c),box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0===a.height)):(f=c.height,g=d.height,f=1+box2d.b2Max(f,g),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.height===f),(g=box2d.b2DynamicTree.s_aabb).Combine2(c.aabb,d.aabb),box2d.ENABLE_ASSERTS&&box2d.b2Assert(g.lowerBound===a.aabb.lowerBound),box2d.ENABLE_ASSERTS&&box2d.b2Assert(g.upperBound===a.aabb.upperBound),this.ValidateMetrics(c),this.ValidateMetrics(d)))},box2d.b2DynamicTree.prototype.Validate=function(){this.ValidateStructure(this.m_root),this.ValidateMetrics(this.m_root);for(var b=this.m_freeList;null!==b;)b=b.parent,0;box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.GetHeight()===this.ComputeHeight())},box2d.b2DynamicTree.prototype.GetMaxBalance=function(){return((a,b)=>null===a||a.height<=1?b:(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===a.IsLeaf()),a=box2d.b2Abs(a.child2.height-a.child1.height),box2d.b2Max(b,a)))(this.m_root,0)},box2d.b2DynamicTree.prototype.RebuildBottomUp=function(){this.Validate()},box2d.b2DynamicTree.prototype.ShiftOrigin=function(a){function b(a,c){var d,e;null===a||a.height<=1||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===a.IsLeaf()),d=a.child1,e=a.child2,b(d,c),b(e,c),a.aabb.lowerBound.SelfSub(c),a.aabb.upperBound.SelfSub(c))}b(this.m_root,a)},goog.provide("box2d.b2BroadPhase"),goog.require("box2d.b2Settings"),goog.require("box2d.b2DynamicTree"),box2d.b2Pair=function(){},box2d.b2Pair.prototype.proxyA=null,box2d.b2Pair.prototype.proxyB=null,box2d.b2BroadPhase=function(){this.m_tree=new box2d.b2DynamicTree,this.m_moveBuffer=new Array,this.m_pairBuffer=new Array},box2d.b2BroadPhase.prototype.m_tree=null,box2d.b2BroadPhase.prototype.m_proxyCount=0,box2d.b2BroadPhase.prototype.m_moveCount=0,box2d.b2BroadPhase.prototype.m_moveBuffer=null,box2d.b2BroadPhase.prototype.m_pairCount=0,box2d.b2BroadPhase.prototype.m_pairBuffer=null,box2d.b2BroadPhase.prototype.CreateProxy=function(a,b){a=this.m_tree.CreateProxy(a,b);return++this.m_proxyCount,this.BufferMove(a),a},box2d.b2BroadPhase.prototype.DestroyProxy=function(a){this.UnBufferMove(a),--this.m_proxyCount,this.m_tree.DestroyProxy(a)},box2d.b2BroadPhase.prototype.MoveProxy=function(a,b,c){this.m_tree.MoveProxy(a,b,c)&&this.BufferMove(a)},box2d.b2BroadPhase.prototype.TouchProxy=function(a){this.BufferMove(a)},box2d.b2BroadPhase.prototype.GetFatAABB=function(a){return this.m_tree.GetFatAABB(a)},box2d.b2BroadPhase.prototype.GetUserData=function(a){return this.m_tree.GetUserData(a)},box2d.b2BroadPhase.prototype.TestOverlap=function(a,b){a=this.m_tree.GetFatAABB(a),b=this.m_tree.GetFatAABB(b);return box2d.b2TestOverlapAABB(a,b)},box2d.b2BroadPhase.prototype.GetProxyCount=function(){return this.m_proxyCount},box2d.b2BroadPhase.prototype.GetTreeHeight=function(){return this.m_tree.GetHeight()},box2d.b2BroadPhase.prototype.GetTreeBalance=function(){return this.m_tree.GetMaxBalance()},box2d.b2BroadPhase.prototype.GetTreeQuality=function(){return this.m_tree.GetAreaRatio()},box2d.b2BroadPhase.prototype.ShiftOrigin=function(a){this.m_tree.ShiftOrigin(a)},box2d.b2BroadPhase.prototype.UpdatePairs=function(a){for(var b=this.m_pairCount=0;b<this.m_moveCount;++b){var d,f,c=this.m_moveBuffer[b];null!==c&&(f=(d=this).m_tree.GetFatAABB(c),this.m_tree.Query(function(a){var b;return a.m_id!==c.m_id&&(d.m_pairCount===d.m_pairBuffer.length&&(d.m_pairBuffer[d.m_pairCount]=new box2d.b2Pair),b=d.m_pairBuffer[d.m_pairCount],a.m_id<c.m_id?(b.proxyA=a,b.proxyB=c):(b.proxyA=c,b.proxyB=a),++d.m_pairCount),!0},f))}this.m_moveCount=0,this.m_pairBuffer.length=this.m_pairCount,this.m_pairBuffer.sort(box2d.b2PairLessThan);for(b=0;b<this.m_pairCount;){var g=this.m_pairBuffer[b],h=this.m_tree.GetUserData(g.proxyA),i=this.m_tree.GetUserData(g.proxyB);for(a.AddPair(h,i),++b;b<this.m_pairCount;){var j=this.m_pairBuffer[b];if(j.proxyA.m_id!==g.proxyA.m_id||j.proxyB.m_id!==g.proxyB.m_id)break;++b}}},box2d.b2BroadPhase.prototype.Query=function(a,b){this.m_tree.Query(a,b)},box2d.b2BroadPhase.prototype.RayCast=function(a,b){this.m_tree.RayCast(a,b)},box2d.b2BroadPhase.prototype.BufferMove=function(a){this.m_moveBuffer[this.m_moveCount]=a,++this.m_moveCount},box2d.b2BroadPhase.prototype.UnBufferMove=function(a){a=this.m_moveBuffer.indexOf(a);this.m_moveBuffer[a]=null},box2d.b2PairLessThan=function(a,b){return a.proxyA.m_id===b.proxyA.m_id?a.proxyB.m_id-b.proxyB.m_id:a.proxyA.m_id-b.proxyA.m_id},goog.provide("box2d.b2ContactManager"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),goog.require("box2d.b2Collision"),goog.require("box2d.b2BroadPhase"),goog.require("box2d.b2ContactFactory"),box2d.b2ContactManager=function(){this.m_broadPhase=new box2d.b2BroadPhase,this.m_contactFactory=new box2d.b2ContactFactory(this.m_allocator)},box2d.b2ContactManager.prototype.m_broadPhase=null,box2d.b2ContactManager.prototype.m_contactList=null,box2d.b2ContactManager.prototype.m_contactCount=0,box2d.b2ContactManager.prototype.m_contactFilter=box2d.b2ContactFilter.b2_defaultFilter,box2d.b2ContactManager.prototype.m_contactListener=box2d.b2ContactListener.b2_defaultListener,box2d.b2ContactManager.prototype.m_allocator=null,box2d.b2ContactManager.prototype.m_contactFactory=null,box2d.b2ContactManager.prototype.Destroy=function(a){var b=a.GetFixtureA(),c=a.GetFixtureB(),b=b.GetBody(),c=c.GetBody();this.m_contactListener&&a.IsTouching()&&this.m_contactListener.EndContact(a),a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),a===this.m_contactList&&(this.m_contactList=a.m_next),a.m_nodeA.prev&&(a.m_nodeA.prev.next=a.m_nodeA.next),a.m_nodeA.next&&(a.m_nodeA.next.prev=a.m_nodeA.prev),a.m_nodeA===b.m_contactList&&(b.m_contactList=a.m_nodeA.next),a.m_nodeB.prev&&(a.m_nodeB.prev.next=a.m_nodeB.next),a.m_nodeB.next&&(a.m_nodeB.next.prev=a.m_nodeB.prev),a.m_nodeB===c.m_contactList&&(c.m_contactList=a.m_nodeB.next),this.m_contactFactory.Destroy(a),--this.m_contactCount},box2d.b2ContactManager.prototype.Collide=function(){for(var a=this.m_contactList;a;){var b=a.GetFixtureA(),c=a.GetFixtureB(),d=a.GetChildIndexA(),e=a.GetChildIndexB(),f=b.GetBody(),g=c.GetBody();if(a.m_flags&box2d.b2ContactFlag.e_filterFlag){if(!1===g.ShouldCollide(f)){var h=a,a=h.m_next;this.Destroy(h);continue}if(this.m_contactFilter&&!1===this.m_contactFilter.ShouldCollide(b,c)){a=(h=a).m_next,this.Destroy(h);continue}a.m_flags&=~box2d.b2ContactFlag.e_filterFlag}var f=f.IsAwake()&&f.m_type!==box2d.b2BodyType.b2_staticBody,g=g.IsAwake()&&g.m_type!==box2d.b2BodyType.b2_staticBody;!1!==f||!1!==g?(f=b.m_proxies[d].proxy,g=c.m_proxies[e].proxy,!1!==this.m_broadPhase.TestOverlap(f,g)?(a.Update(this.m_contactListener),a=a.m_next):(a=(h=a).m_next,this.Destroy(h))):a=a.m_next}},box2d.b2ContactManager.prototype.FindNewContacts=function(){this.m_broadPhase.UpdatePairs(this)},box2d.b2ContactManager.prototype.AddPair=function(a,b){box2d.ENABLE_ASSERTS&&box2d.b2Assert(a instanceof box2d.b2FixtureProxy),box2d.ENABLE_ASSERTS&&box2d.b2Assert(b instanceof box2d.b2FixtureProxy);var e=a.fixture,f=b.fixture,g=a.childIndex,h=b.childIndex,i=e.GetBody(),a=f.GetBody();if(i!==a){for(var k=a.GetContactList();k;){if(k.other===i){var l=k.contact.GetFixtureA(),m=k.contact.GetFixtureB(),n=k.contact.GetChildIndexA(),o=k.contact.GetChildIndexB();if(l===e&&m===f&&n===g&&o===h)return;if(l===f&&m===e&&n===h&&o===g)return}k=k.next}!1===a.ShouldCollide(i)||this.m_contactFilter&&!1===this.m_contactFilter.ShouldCollide(e,f)||null!==(b=this.m_contactFactory.Create(e,g,f,h))&&(e=b.GetFixtureA(),f=b.GetFixtureB(),g=b.GetChildIndexA(),h=b.GetChildIndexB(),i=e.m_body,a=f.m_body,b.m_prev=null,b.m_next=this.m_contactList,null!==this.m_contactList&&(this.m_contactList.m_prev=b),((this.m_contactList=b).m_nodeA.contact=b).m_nodeA.other=a,b.m_nodeA.prev=null,b.m_nodeA.next=i.m_contactList,null!==i.m_contactList&&(i.m_contactList.prev=b.m_nodeA),i.m_contactList=b.m_nodeA,(b.m_nodeB.contact=b).m_nodeB.other=i,b.m_nodeB.prev=null,b.m_nodeB.next=a.m_contactList,null!==a.m_contactList&&(a.m_contactList.prev=b.m_nodeB),a.m_contactList=b.m_nodeB,!1===e.IsSensor()&&!1===f.IsSensor()&&(i.SetAwake(!0),a.SetAwake(!0)),++this.m_contactCount)}},goog.provide("box2d.b2JointFactory"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),goog.require("box2d.b2Joint"),box2d.b2JointFactory.Create=function(a){var b=null;switch(a.type){case box2d.b2JointType.e_distanceJoint:b=new box2d.b2DistanceJoint(a instanceof box2d.b2DistanceJointDef?a:null);break;case box2d.b2JointType.e_mouseJoint:b=new box2d.b2MouseJoint(a instanceof box2d.b2MouseJointDef?a:null);break;case box2d.b2JointType.e_prismaticJoint:b=new box2d.b2PrismaticJoint(a instanceof box2d.b2PrismaticJointDef?a:null);break;case box2d.b2JointType.e_revoluteJoint:b=new box2d.b2RevoluteJoint(a instanceof box2d.b2RevoluteJointDef?a:null);break;case box2d.b2JointType.e_pulleyJoint:b=new box2d.b2PulleyJoint(a instanceof box2d.b2PulleyJointDef?a:null);break;case box2d.b2JointType.e_gearJoint:b=new box2d.b2GearJoint(a instanceof box2d.b2GearJointDef?a:null);break;case box2d.b2JointType.e_wheelJoint:b=new box2d.b2WheelJoint(a instanceof box2d.b2WheelJointDef?a:null);break;case box2d.b2JointType.e_weldJoint:b=new box2d.b2WeldJoint(a instanceof box2d.b2WeldJointDef?a:null);break;case box2d.b2JointType.e_frictionJoint:b=new box2d.b2FrictionJoint(a instanceof box2d.b2FrictionJointDef?a:null);break;case box2d.b2JointType.e_ropeJoint:b=new box2d.b2RopeJoint(a instanceof box2d.b2RopeJointDef?a:null);break;case box2d.b2JointType.e_motorJoint:b=new box2d.b2MotorJoint(a instanceof box2d.b2MotorJointDef?a:null);break;case box2d.b2JointType.e_areaJoint:b=new box2d.b2AreaJoint(a instanceof box2d.b2AreaJointDef?a:null);break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}return b},box2d.b2JointFactory.Destroy=function(){},goog.provide("box2d.b2Draw"),goog.require("box2d.b2Settings"),box2d.b2Color=function(a,b,c){this.r=a,this.g=b,this.b=c},box2d.b2Color.prototype.r=.5,box2d.b2Color.prototype.g=.5,box2d.b2Color.prototype.b=.5,box2d.b2Color.prototype.SetRGB=function(a,b,c){return this.r=a,this.g=b,this.b=c,this},box2d.b2Color.prototype.MakeStyleString=function(a){var b=Math.round(Math.max(0,Math.min(255,255*this.r))),c=Math.round(Math.max(0,Math.min(255,255*this.g))),d=Math.round(Math.max(0,Math.min(255,255*this.b))),a=void 0===a?1:Math.max(0,Math.min(1,a));return box2d.b2Color.MakeStyleString(b,c,d,a)},box2d.b2Color.MakeStyleString=function(a,b,c,d){return d<1?"rgba("+a+","+b+","+c+","+d+")":"rgb("+a+","+b+","+c+")"},box2d.b2Color.RED=new box2d.b2Color(1,0,0),box2d.b2Color.GREEN=new box2d.b2Color(0,1,0),box2d.b2Color.BLUE=new box2d.b2Color(0,0,1),box2d.b2DrawFlags={e_none:0,e_shapeBit:1,e_jointBit:2,e_aabbBit:4,e_pairBit:8,e_centerOfMassBit:16,e_controllerBit:32,e_all:63},goog.exportProperty(box2d.b2DrawFlags,"e_none",box2d.b2DrawFlags.e_none),goog.exportProperty(box2d.b2DrawFlags,"e_shapeBit",box2d.b2DrawFlags.e_shapeBit),goog.exportProperty(box2d.b2DrawFlags,"e_jointBit",box2d.b2DrawFlags.e_jointBit),goog.exportProperty(box2d.b2DrawFlags,"e_aabbBit",box2d.b2DrawFlags.e_aabbBit),goog.exportProperty(box2d.b2DrawFlags,"e_pairBit",box2d.b2DrawFlags.e_pairBit),goog.exportProperty(box2d.b2DrawFlags,"e_centerOfMassBit",box2d.b2DrawFlags.e_centerOfMassBit),goog.exportProperty(box2d.b2DrawFlags,"e_controllerBit",box2d.b2DrawFlags.e_controllerBit),goog.exportProperty(box2d.b2DrawFlags,"e_all",box2d.b2DrawFlags.e_all),box2d.b2Draw=function(){},box2d.b2Draw.prototype.m_drawFlags=box2d.b2DrawFlags.e_none,box2d.b2Draw.prototype.SetFlags=function(a){this.m_drawFlags=a},box2d.b2Draw.prototype.GetFlags=function(){return this.m_drawFlags},box2d.b2Draw.prototype.AppendFlags=function(a){this.m_drawFlags|=a},box2d.b2Draw.prototype.ClearFlags=function(a){this.m_drawFlags&=~a},box2d.b2Draw.prototype.PushTransform=function(){},box2d.b2Draw.prototype.PopTransform=function(){},box2d.b2Draw.prototype.DrawPolygon=function(){},box2d.b2Draw.prototype.DrawSolidPolygon=function(){},box2d.b2Draw.prototype.DrawCircle=function(){},box2d.b2Draw.prototype.DrawSolidCircle=function(){},box2d.b2Draw.prototype.DrawSegment=function(){},box2d.b2Draw.prototype.DrawTransform=function(){},goog.provide("box2d.b2Fixture"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Collision"),goog.require("box2d.b2Shape"),box2d.b2Filter=function(){},box2d.b2Filter.prototype.categoryBits=1,box2d.b2Filter.prototype.maskBits=65535,box2d.b2Filter.prototype.groupIndex=0,box2d.b2Filter.prototype.Clone=function(){return(new box2d.b2Filter).Copy(this)},box2d.b2Filter.prototype.Copy=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(this!==a),this.categoryBits=a.categoryBits,this.maskBits=a.maskBits,this.groupIndex=a.groupIndex,this},box2d.b2FixtureDef=function(){this.filter=new box2d.b2Filter},box2d.b2FixtureDef.prototype.shape=null,box2d.b2FixtureDef.prototype.userData=null,box2d.b2FixtureDef.prototype.friction=.2,box2d.b2FixtureDef.prototype.restitution=0,box2d.b2FixtureDef.prototype.density=0,box2d.b2FixtureDef.prototype.isSensor=!1,box2d.b2FixtureDef.prototype.filter=null,box2d.b2FixtureProxy=function(){this.aabb=new box2d.b2AABB},box2d.b2FixtureProxy.prototype.aabb=null,box2d.b2FixtureProxy.prototype.fixture=null,box2d.b2FixtureProxy.prototype.childIndex=0,box2d.b2FixtureProxy.prototype.proxy=null,box2d.b2FixtureProxy.MakeArray=function(a){return box2d.b2MakeArray(a,function(){return new box2d.b2FixtureProxy})},box2d.b2Fixture=function(){this.m_proxyCount=0,this.m_filter=new box2d.b2Filter},box2d.b2Fixture.prototype.m_density=0,box2d.b2Fixture.prototype.m_next=null,box2d.b2Fixture.prototype.m_body=null,box2d.b2Fixture.prototype.m_shape=null,box2d.b2Fixture.prototype.m_friction=0,box2d.b2Fixture.prototype.m_restitution=0,box2d.b2Fixture.prototype.m_proxies=null,box2d.b2Fixture.prototype.m_proxyCount=0,box2d.b2Fixture.prototype.m_filter=null,box2d.b2Fixture.prototype.m_isSensor=!1,box2d.b2Fixture.prototype.m_userData=null,box2d.b2Fixture.prototype.GetType=function(){return this.m_shape.GetType()},box2d.b2Fixture.prototype.GetShape=function(){return this.m_shape},box2d.b2Fixture.prototype.IsSensor=function(){return this.m_isSensor},box2d.b2Fixture.prototype.GetFilterData=function(){return this.m_filter},box2d.b2Fixture.prototype.GetUserData=function(){return this.m_userData},box2d.b2Fixture.prototype.SetUserData=function(a){this.m_userData=a},box2d.b2Fixture.prototype.GetBody=function(){return this.m_body},box2d.b2Fixture.prototype.GetNext=function(){return this.m_next},box2d.b2Fixture.prototype.SetDensity=function(a){this.m_density=a},box2d.b2Fixture.prototype.GetDensity=function(){return this.m_density},box2d.b2Fixture.prototype.GetFriction=function(){return this.m_friction},box2d.b2Fixture.prototype.SetFriction=function(a){this.m_friction=a},box2d.b2Fixture.prototype.GetRestitution=function(){return this.m_restitution},box2d.b2Fixture.prototype.SetRestitution=function(a){this.m_restitution=a},box2d.b2Fixture.prototype.TestPoint=function(a){return this.m_shape.TestPoint(this.m_body.GetTransform(),a)},box2d.b2Fixture.prototype.RayCast=function(a,b,c){return this.m_shape.RayCast(a,b,this.m_body.GetTransform(),c)},box2d.b2Fixture.prototype.GetMassData=function(a){return a=a||new box2d.b2MassData,this.m_shape.ComputeMass(a,this.m_density),a},box2d.b2Fixture.prototype.GetAABB=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<=a&&a<this.m_proxyCount),this.m_proxies[a].aabb},box2d.b2Fixture.prototype.Create=function(a,b){this.m_userData=b.userData,this.m_friction=b.friction,this.m_restitution=b.restitution,this.m_body=a,this.m_next=null,this.m_filter.Copy(b.filter),this.m_isSensor=b.isSensor,this.m_shape=b.shape.Clone(),this.m_proxies=box2d.b2FixtureProxy.MakeArray(this.m_shape.GetChildCount()),this.m_proxyCount=0,this.m_density=b.density},box2d.b2Fixture.prototype.Destroy=function(){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0===this.m_proxyCount),this.m_shape=null},box2d.b2Fixture.prototype.CreateProxies=function(a,b){box2d.ENABLE_ASSERTS&&box2d.b2Assert(0===this.m_proxyCount),this.m_proxyCount=this.m_shape.GetChildCount();for(var c=0;c<this.m_proxyCount;++c){var d=this.m_proxies[c];this.m_shape.ComputeAABB(d.aabb,b,c),d.proxy=a.CreateProxy(d.aabb,d),d.fixture=this,d.childIndex=c}},box2d.b2Fixture.prototype.DestroyProxies=function(a){for(var b=0;b<this.m_proxyCount;++b){var c=this.m_proxies[b];a.DestroyProxy(c.proxy),c.proxy=null}this.m_proxyCount=0},box2d.b2Fixture.prototype.Synchronize=function(a,b,c){if(0!==this.m_proxyCount)for(var d=0;d<this.m_proxyCount;++d){var e=this.m_proxies[d],f=box2d.b2Fixture.prototype.Synchronize.s_aabb1,g=box2d.b2Fixture.prototype.Synchronize.s_aabb2,f=(this.m_shape.ComputeAABB(f,b,d),this.m_shape.ComputeAABB(g,c,d),e.aabb.Combine2(f,g),box2d.b2SubVV(c.p,b.p,box2d.b2Fixture.prototype.Synchronize.s_displacement));a.MoveProxy(e.proxy,e.aabb,f)}},box2d.b2Fixture.prototype.Synchronize.s_aabb1=new box2d.b2AABB,box2d.b2Fixture.prototype.Synchronize.s_aabb2=new box2d.b2AABB,box2d.b2Fixture.prototype.Synchronize.s_displacement=new box2d.b2Vec2,box2d.b2Fixture.prototype.SetFilterData=function(a){this.m_filter.Copy(a),this.Refilter()},box2d.b2Fixture.prototype.Refilter=function(){if(!this.m_body){for(var a=this.m_body.GetContactList();a;){var b=a.contact,c=b.GetFixtureA(),d=b.GetFixtureB();c!==this&&d!==this||b.FlagForFiltering(),a=a.next}var e=this.m_body.GetWorld();if(null!==e)for(var f=e.m_contactManager.m_broadPhase,g=0;g<this.m_proxyCount;++g)f.TouchProxy(this.m_proxies[g].proxy)}},box2d.b2Fixture.prototype.SetSensor=function(a){a!==this.m_isSensor&&(this.m_body.SetAwake(!0),this.m_isSensor=a)},box2d.b2Fixture.prototype.Dump=function(a){box2d.DEBUG&&(box2d.b2Log("    /*box2d.b2FixtureDef*/ var fd = new box2d.b2FixtureDef();\n"),box2d.b2Log("    fd.friction = %.15f;\n",this.m_friction),box2d.b2Log("    fd.restitution = %.15f;\n",this.m_restitution),box2d.b2Log("    fd.density = %.15f;\n",this.m_density),box2d.b2Log("    fd.isSensor = %s;\n",this.m_isSensor?"true":"false"),box2d.b2Log("    fd.filter.categoryBits = %d;\n",this.m_filter.categoryBits),box2d.b2Log("    fd.filter.maskBits = %d;\n",this.m_filter.maskBits),box2d.b2Log("    fd.filter.groupIndex = %d;\n",this.m_filter.groupIndex),this.m_shape.Dump(),box2d.b2Log("\n"),box2d.b2Log("    fd.shape = shape;\n"),box2d.b2Log("\n"),box2d.b2Log("    bodies[%d].CreateFixture(fd);\n",a))},goog.provide("box2d.b2Body"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),goog.require("box2d.b2Fixture"),box2d.b2BodyType={b2_unknown:-1,b2_staticBody:0,b2_kinematicBody:1,b2_dynamicBody:2,b2_bulletBody:3},goog.exportProperty(box2d.b2BodyType,"b2_unknown",box2d.b2BodyType.b2_unknown),goog.exportProperty(box2d.b2BodyType,"b2_staticBody",box2d.b2BodyType.b2_staticBody),goog.exportProperty(box2d.b2BodyType,"b2_kinematicBody",box2d.b2BodyType.b2_kinematicBody),goog.exportProperty(box2d.b2BodyType,"b2_dynamicBody",box2d.b2BodyType.b2_dynamicBody),goog.exportProperty(box2d.b2BodyType,"b2_bulletBody",box2d.b2BodyType.b2_bulletBody),box2d.b2BodyDef=function(){this.position=new box2d.b2Vec2(0,0),this.linearVelocity=new box2d.b2Vec2(0,0)},box2d.b2BodyDef.prototype.type=box2d.b2BodyType.b2_staticBody,box2d.b2BodyDef.prototype.position=null,box2d.b2BodyDef.prototype.angle=0,box2d.b2BodyDef.prototype.linearVelocity=null,box2d.b2BodyDef.prototype.angularVelocity=0,box2d.b2BodyDef.prototype.linearDamping=0,box2d.b2BodyDef.prototype.angularDamping=0,box2d.b2BodyDef.prototype.allowSleep=!0,box2d.b2BodyDef.prototype.awake=!0,box2d.b2BodyDef.prototype.fixedRotation=!1,box2d.b2BodyDef.prototype.bullet=!1,box2d.b2BodyDef.prototype.active=!0,box2d.b2BodyDef.prototype.userData=null,box2d.b2BodyDef.prototype.gravityScale=1,box2d.b2BodyFlag={e_none:0,e_islandFlag:1,e_awakeFlag:2,e_autoSleepFlag:4,e_bulletFlag:8,e_fixedRotationFlag:16,e_activeFlag:32,e_toiFlag:64},goog.exportProperty(box2d.b2BodyFlag,"e_none",box2d.b2BodyFlag.e_none),goog.exportProperty(box2d.b2BodyFlag,"e_islandFlag",box2d.b2BodyFlag.e_islandFlag),goog.exportProperty(box2d.b2BodyFlag,"e_awakeFlag",box2d.b2BodyFlag.e_awakeFlag),goog.exportProperty(box2d.b2BodyFlag,"e_autoSleepFlag",box2d.b2BodyFlag.e_autoSleepFlag),goog.exportProperty(box2d.b2BodyFlag,"e_bulletFlag",box2d.b2BodyFlag.e_bulletFlag),goog.exportProperty(box2d.b2BodyFlag,"e_fixedRotationFlag",box2d.b2BodyFlag.e_fixedRotationFlag),goog.exportProperty(box2d.b2BodyFlag,"e_activeFlag",box2d.b2BodyFlag.e_activeFlag),goog.exportProperty(box2d.b2BodyFlag,"e_toiFlag",box2d.b2BodyFlag.e_toiFlag),box2d.b2Body=function(a,b){this.m_xf=new box2d.b2Transform,this.m_out_xf=new box2d.b2Transform,this.m_sweep=new box2d.b2Sweep,this.m_out_sweep=new box2d.b2Sweep,this.m_linearVelocity=new box2d.b2Vec2,this.m_out_linearVelocity=new box2d.b2Vec2,this.m_force=new box2d.b2Vec2,box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.position.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.linearVelocity.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.angle)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.angularVelocity)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.gravityScale)&&0<=a.gravityScale),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.angularDamping)&&0<=a.angularDamping),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.linearDamping)&&0<=a.linearDamping),this.m_flags=box2d.b2BodyFlag.e_none,a.bullet&&(this.m_flags|=box2d.b2BodyFlag.e_bulletFlag),a.fixedRotation&&(this.m_flags|=box2d.b2BodyFlag.e_fixedRotationFlag),a.allowSleep&&(this.m_flags|=box2d.b2BodyFlag.e_autoSleepFlag),a.awake&&(this.m_flags|=box2d.b2BodyFlag.e_awakeFlag),a.active&&(this.m_flags|=box2d.b2BodyFlag.e_activeFlag),this.m_world=b,this.m_xf.p.Copy(a.position),this.m_xf.q.SetAngleRadians(a.angle),this.m_sweep.localCenter.SetZero(),this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=a.angle,this.m_sweep.a=a.angle,this.m_sweep.alpha0=0,this.m_linearVelocity.Copy(a.linearVelocity),this.m_angularVelocity=a.angularVelocity,this.m_linearDamping=a.linearDamping,this.m_angularDamping=a.angularDamping,this.m_gravityScale=a.gravityScale,this.m_force.SetZero(),this.m_torque=0,this.m_sleepTime=0,this.m_type=a.type,a.type===box2d.b2BodyType.b2_dynamicBody?(this.m_mass=1,this.m_invMass=1):(this.m_mass=0,this.m_invMass=0),this.m_I=0,this.m_invI=0,this.m_userData=a.userData,this.m_fixtureList=null,this.m_fixtureCount=0,this.m_controllerList=null,this.m_controllerCount=0},box2d.b2Body.prototype.m_flags=box2d.b2BodyFlag.e_none,box2d.b2Body.prototype.m_islandIndex=0,box2d.b2Body.prototype.m_world=null,box2d.b2Body.prototype.m_xf=null,box2d.b2Body.prototype.m_out_xf=null,box2d.b2Body.prototype.m_sweep=null,box2d.b2Body.prototype.m_out_sweep=null,box2d.b2Body.prototype.m_jointList=null,box2d.b2Body.prototype.m_contactList=null,box2d.b2Body.prototype.m_prev=null,box2d.b2Body.prototype.m_next=null,box2d.b2Body.prototype.m_linearVelocity=null,box2d.b2Body.prototype.m_out_linearVelocity=null,box2d.b2Body.prototype.m_angularVelocity=0,box2d.b2Body.prototype.m_linearDamping=0,box2d.b2Body.prototype.m_angularDamping=0,box2d.b2Body.prototype.m_gravityScale=1,box2d.b2Body.prototype.m_force=null,box2d.b2Body.prototype.m_torque=0,box2d.b2Body.prototype.m_sleepTime=0,box2d.b2Body.prototype.m_type=box2d.b2BodyType.b2_staticBody,box2d.b2Body.prototype.m_mass=1,box2d.b2Body.prototype.m_invMass=1,box2d.b2Body.prototype.m_I=0,box2d.b2Body.prototype.m_invI=0,box2d.b2Body.prototype.m_userData=null,box2d.b2Body.prototype.m_fixtureList=null,box2d.b2Body.prototype.m_fixtureCount=0,box2d.b2Body.prototype.m_controllerList=null,box2d.b2Body.prototype.m_controllerCount=0,box2d.b2Body.prototype.CreateFixture=function(a){var b;return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.m_world.IsLocked()),!0===this.m_world.IsLocked()?null:((b=new box2d.b2Fixture).Create(this,a),this.m_flags&box2d.b2BodyFlag.e_activeFlag&&(a=this.m_world.m_contactManager.m_broadPhase,b.CreateProxies(a,this.m_xf)),b.m_next=this.m_fixtureList,this.m_fixtureList=b,++this.m_fixtureCount,b.m_body=this,0<b.m_density&&this.ResetMassData(),this.m_world.m_flags|=box2d.b2WorldFlag.e_newFixture,b)},box2d.b2Body.prototype.CreateFixture2=function(a,b){void 0===b&&(b=0);var c=box2d.b2Body.prototype.CreateFixture2.s_def;return c.shape=a,c.density=b,this.CreateFixture(c)},box2d.b2Body.prototype.CreateFixture2.s_def=new box2d.b2FixtureDef,box2d.b2Body.prototype.DestroyFixture=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.m_world.IsLocked()),!0!==this.m_world.IsLocked()){box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.m_body===this),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_fixtureCount);for(var b=this.m_fixtureList,c=null,d=!1;null!==b;){if(b===a){c?c.m_next=a.m_next:this.m_fixtureList=a.m_next,d=!0;break}b=(c=b).m_next}box2d.ENABLE_ASSERTS&&box2d.b2Assert(d);for(var i,e=this.m_contactList;e;){var f=e.contact,e=e.next,g=f.GetFixtureA(),h=f.GetFixtureB();a!==g&&a!==h||this.m_world.m_contactManager.Destroy(f)}this.m_flags&box2d.b2BodyFlag.e_activeFlag&&(i=this.m_world.m_contactManager.m_broadPhase,a.DestroyProxies(i)),a.Destroy(),a.m_body=null,a.m_next=null,--this.m_fixtureCount,this.ResetMassData()}},box2d.b2Body.prototype.SetTransformVecRadians=function(a,b){this.SetTransformXYRadians(a.x,a.y,b)},box2d.b2Body.prototype.SetTransformXYRadians=function(a,b,c){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.m_world.IsLocked()),!0!==this.m_world.IsLocked()&&(this.m_xf.p.x!==a||this.m_xf.p.y!==b||this.m_xf.q.GetAngleRadians()!==c)){this.m_xf.q.SetAngleRadians(c),this.m_xf.p.SetXY(a,b),box2d.b2MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.a=c,this.m_sweep.c0.Copy(this.m_sweep.c),this.m_sweep.a0=c;for(var d=this.m_world.m_contactManager.m_broadPhase,e=this.m_fixtureList;e;e=e.m_next)e.Synchronize(d,this.m_xf,this.m_xf)}},box2d.b2Body.prototype.SetTransform=function(a){this.SetTransformVecRadians(a.p,a.GetAngleRadians())},box2d.b2Body.prototype.GetTransform=function(a){return(a=a||this.m_out_xf).Copy(this.m_xf)},box2d.b2Body.prototype.GetPosition=function(a){return(a=a||this.m_out_xf.p).Copy(this.m_xf.p)},box2d.b2Body.prototype.SetPosition=function(a){this.SetTransformVecRadians(a,this.GetAngleRadians())},box2d.b2Body.prototype.SetPositionXY=function(a,b){this.SetTransformXYRadians(a,b,this.GetAngleRadians())},box2d.b2Body.prototype.GetAngle=function(){return this.m_sweep.a},box2d.b2Body.prototype.GetAngleRadians=box2d.b2Body.prototype.GetAngle,box2d.b2Body.prototype.GetAngleDegrees=function(){return box2d.b2RadToDeg(this.GetAngle())},box2d.b2Body.prototype.SetAngle=function(a){this.SetTransformVecRadians(this.GetPosition(),a)},box2d.b2Body.prototype.SetAngleRadians=box2d.b2Body.prototype.SetAngle,box2d.b2Body.prototype.SetAngleDegrees=function(a){this.SetAngle(box2d.b2DegToRad(a))},box2d.b2Body.prototype.GetWorldCenter=function(a){return(a=a||this.m_out_sweep.c).Copy(this.m_sweep.c)},box2d.b2Body.prototype.GetLocalCenter=function(a){return(a=a||this.m_out_sweep.localCenter).Copy(this.m_sweep.localCenter)},box2d.b2Body.prototype.SetLinearVelocity=function(a){this.m_type!==box2d.b2BodyType.b2_staticBody&&(0<box2d.b2DotVV(a,a)&&this.SetAwake(!0),this.m_linearVelocity.Copy(a))},box2d.b2Body.prototype.GetLinearVelocity=function(a){return(a=a||this.m_out_linearVelocity).Copy(this.m_linearVelocity)},box2d.b2Body.prototype.SetAngularVelocity=function(a){this.m_type!==box2d.b2BodyType.b2_staticBody&&(0<a*a&&this.SetAwake(!0),this.m_angularVelocity=a)},box2d.b2Body.prototype.GetAngularVelocity=function(){return this.m_angularVelocity},box2d.b2Body.prototype.GetDefinition=function(a){return a.type=this.GetType(),a.allowSleep=(this.m_flags&box2d.b2BodyFlag.e_autoSleepFlag)===box2d.b2BodyFlag.e_autoSleepFlag,a.angle=this.GetAngleRadians(),a.angularDamping=this.m_angularDamping,a.gravityScale=this.m_gravityScale,a.angularVelocity=this.m_angularVelocity,a.fixedRotation=(this.m_flags&box2d.b2BodyFlag.e_fixedRotationFlag)===box2d.b2BodyFlag.e_fixedRotationFlag,a.bullet=(this.m_flags&box2d.b2BodyFlag.e_bulletFlag)===box2d.b2BodyFlag.e_bulletFlag,a.awake=(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)===box2d.b2BodyFlag.e_awakeFlag,a.linearDamping=this.m_linearDamping,a.linearVelocity.Copy(this.GetLinearVelocity()),a.position.Copy(this.GetPosition()),a.userData=this.GetUserData(),a},box2d.b2Body.prototype.ApplyForce=function(a,b,c){c=c||!0,this.m_type===box2d.b2BodyType.b2_dynamicBody&&(c&&0==(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&this.SetAwake(!0),this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&(this.m_force.x+=a.x,this.m_force.y+=a.y,this.m_torque+=(b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x)},box2d.b2Body.prototype.ApplyForceToCenter=function(a,b){b=b||!0,this.m_type===box2d.b2BodyType.b2_dynamicBody&&(b&&0==(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&this.SetAwake(!0),this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&(this.m_force.x+=a.x,this.m_force.y+=a.y)},box2d.b2Body.prototype.ApplyTorque=function(a,b){b=b||!0,this.m_type===box2d.b2BodyType.b2_dynamicBody&&(b&&0==(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&this.SetAwake(!0),this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&(this.m_torque+=a)},box2d.b2Body.prototype.ApplyLinearImpulse=function(a,b,c){c=c||!0,this.m_type===box2d.b2BodyType.b2_dynamicBody&&(c&&0==(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&this.SetAwake(!0),this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&(this.m_linearVelocity.x+=this.m_invMass*a.x,this.m_linearVelocity.y+=this.m_invMass*a.y,this.m_angularVelocity+=this.m_invI*((b.x-this.m_sweep.c.x)*a.y-(b.y-this.m_sweep.c.y)*a.x))},box2d.b2Body.prototype.ApplyAngularImpulse=function(a,b){b=b||!0,this.m_type===box2d.b2BodyType.b2_dynamicBody&&(b&&0==(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&this.SetAwake(!0),this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&(this.m_angularVelocity+=this.m_invI*a)},box2d.b2Body.prototype.GetMass=function(){return this.m_mass},box2d.b2Body.prototype.GetInertia=function(){return this.m_I+this.m_mass*box2d.b2DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter)},box2d.b2Body.prototype.GetMassData=function(a){return a.mass=this.m_mass,a.I=this.m_I+this.m_mass*box2d.b2DotVV(this.m_sweep.localCenter,this.m_sweep.localCenter),a.center.Copy(this.m_sweep.localCenter),a},box2d.b2Body.prototype.SetMassData=function(a){var b;box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.m_world.IsLocked()),!0!==this.m_world.IsLocked()&&this.m_type===box2d.b2BodyType.b2_dynamicBody&&(this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_mass=a.mass,this.m_mass<=0&&(this.m_mass=1),this.m_invMass=1/this.m_mass,0<a.I&&0==(this.m_flags&box2d.b2BodyFlag.e_fixedRotationFlag)&&(this.m_I=a.I-this.m_mass*box2d.b2DotVV(a.center,a.center),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_I),this.m_invI=1/this.m_I),b=box2d.b2Body.prototype.SetMassData.s_oldCenter.Copy(this.m_sweep.c),this.m_sweep.localCenter.Copy(a.center),box2d.b2MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),box2d.b2AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,box2d.b2SubVV(this.m_sweep.c,b,box2d.b2Vec2.s_t0),this.m_linearVelocity))},box2d.b2Body.prototype.SetMassData.s_oldCenter=new box2d.b2Vec2,box2d.b2Body.prototype.ResetMassData=function(){if(this.m_mass=0,this.m_invMass=0,this.m_I=0,this.m_invI=0,this.m_sweep.localCenter.SetZero(),this.m_type===box2d.b2BodyType.b2_staticBody||this.m_type===box2d.b2BodyType.b2_kinematicBody)this.m_sweep.c0.Copy(this.m_xf.p),this.m_sweep.c.Copy(this.m_xf.p),this.m_sweep.a0=this.m_sweep.a;else{box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.m_type===box2d.b2BodyType.b2_dynamicBody);for(var c,a=box2d.b2Body.prototype.ResetMassData.s_localCenter.SetZero(),b=this.m_fixtureList;b;b=b.m_next)0!==b.m_density&&(c=b.GetMassData(box2d.b2Body.prototype.ResetMassData.s_massData),this.m_mass+=c.mass,a.x+=c.center.x*c.mass,a.y+=c.center.y*c.mass,this.m_I+=c.I);0<this.m_mass?(this.m_invMass=1/this.m_mass,a.x*=this.m_invMass,a.y*=this.m_invMass):(this.m_mass=1,this.m_invMass=1),0<this.m_I&&0==(this.m_flags&box2d.b2BodyFlag.e_fixedRotationFlag)?(this.m_I-=this.m_mass*box2d.b2DotVV(a,a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_I),this.m_invI=1/this.m_I):(this.m_I=0,this.m_invI=0);var d=box2d.b2Body.prototype.ResetMassData.s_oldCenter.Copy(this.m_sweep.c);this.m_sweep.localCenter.Copy(a),box2d.b2MulXV(this.m_xf,this.m_sweep.localCenter,this.m_sweep.c),this.m_sweep.c0.Copy(this.m_sweep.c),box2d.b2AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,box2d.b2SubVV(this.m_sweep.c,d,box2d.b2Vec2.s_t0),this.m_linearVelocity)}},box2d.b2Body.prototype.ResetMassData.s_localCenter=new box2d.b2Vec2,box2d.b2Body.prototype.ResetMassData.s_oldCenter=new box2d.b2Vec2,box2d.b2Body.prototype.ResetMassData.s_massData=new box2d.b2MassData,box2d.b2Body.prototype.GetWorldPoint=function(a,b){return box2d.b2MulXV(this.m_xf,a,b)},box2d.b2Body.prototype.GetWorldVector=function(a,b){return box2d.b2MulRV(this.m_xf.q,a,b)},box2d.b2Body.prototype.GetLocalPoint=function(a,b){return box2d.b2MulTXV(this.m_xf,a,b)},box2d.b2Body.prototype.GetLocalVector=function(a,b){return box2d.b2MulTRV(this.m_xf.q,a,b)},box2d.b2Body.prototype.GetLinearVelocityFromWorldPoint=function(a,b){return box2d.b2AddVCrossSV(this.m_linearVelocity,this.m_angularVelocity,box2d.b2SubVV(a,this.m_sweep.c,box2d.b2Vec2.s_t0),b)},box2d.b2Body.prototype.GetLinearVelocityFromLocalPoint=function(a,b){return this.GetLinearVelocityFromWorldPoint(this.GetWorldPoint(a,b),b)},box2d.b2Body.prototype.GetLinearDamping=function(){return this.m_linearDamping},box2d.b2Body.prototype.SetLinearDamping=function(a){this.m_linearDamping=a},box2d.b2Body.prototype.GetAngularDamping=function(){return this.m_angularDamping},box2d.b2Body.prototype.SetAngularDamping=function(a){this.m_angularDamping=a},box2d.b2Body.prototype.GetGravityScale=function(){return this.m_gravityScale},box2d.b2Body.prototype.SetGravityScale=function(a){this.m_gravityScale=a},box2d.b2Body.prototype.SetType=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.m_world.IsLocked()),!0!==this.m_world.IsLocked()&&this.m_type!==a){this.m_type=a,this.ResetMassData(),this.m_type===box2d.b2BodyType.b2_staticBody&&(this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_sweep.a0=this.m_sweep.a,this.m_sweep.c0.Copy(this.m_sweep.c),this.SynchronizeFixtures()),this.SetAwake(!0),this.m_force.SetZero(),this.m_torque=0;for(var b=this.m_contactList;b;){var c=b,b=b.next;this.m_world.m_contactManager.Destroy(c.contact)}this.m_contactList=null;for(var d=this.m_world.m_contactManager.m_broadPhase,e=this.m_fixtureList;e;e=e.m_next)for(var f=e.m_proxyCount,g=0;g<f;++g)d.TouchProxy(e.m_proxies[g].proxy)}},box2d.b2Body.prototype.GetType=function(){return this.m_type},box2d.b2Body.prototype.SetBullet=function(a){a?this.m_flags|=box2d.b2BodyFlag.e_bulletFlag:this.m_flags&=~box2d.b2BodyFlag.e_bulletFlag},box2d.b2Body.prototype.IsBullet=function(){return(this.m_flags&box2d.b2BodyFlag.e_bulletFlag)===box2d.b2BodyFlag.e_bulletFlag},box2d.b2Body.prototype.SetSleepingAllowed=function(a){a?this.m_flags|=box2d.b2BodyFlag.e_autoSleepFlag:(this.m_flags&=~box2d.b2BodyFlag.e_autoSleepFlag,this.SetAwake(!0))},box2d.b2Body.prototype.IsSleepingAllowed=function(){return(this.m_flags&box2d.b2BodyFlag.e_autoSleepFlag)===box2d.b2BodyFlag.e_autoSleepFlag},box2d.b2Body.prototype.SetAwake=function(a){a?0==(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)&&(this.m_flags|=box2d.b2BodyFlag.e_awakeFlag,this.m_sleepTime=0):(this.m_flags&=~box2d.b2BodyFlag.e_awakeFlag,this.m_sleepTime=0,this.m_linearVelocity.SetZero(),this.m_angularVelocity=0,this.m_force.SetZero(),this.m_torque=0)},box2d.b2Body.prototype.IsAwake=function(){return(this.m_flags&box2d.b2BodyFlag.e_awakeFlag)===box2d.b2BodyFlag.e_awakeFlag},box2d.b2Body.prototype.SetActive=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.m_world.IsLocked()),a!==this.IsActive())if(a){this.m_flags|=box2d.b2BodyFlag.e_activeFlag;for(var b=this.m_world.m_contactManager.m_broadPhase,c=this.m_fixtureList;c;c=c.m_next)c.CreateProxies(b,this.m_xf)}else{this.m_flags&=~box2d.b2BodyFlag.e_activeFlag;for(b=this.m_world.m_contactManager.m_broadPhase,c=this.m_fixtureList;c;c=c.m_next)c.DestroyProxies(b);for(var d=this.m_contactList;d;){var e=d,d=d.next;this.m_world.m_contactManager.Destroy(e.contact)}this.m_contactList=null}},box2d.b2Body.prototype.IsActive=function(){return(this.m_flags&box2d.b2BodyFlag.e_activeFlag)===box2d.b2BodyFlag.e_activeFlag},box2d.b2Body.prototype.SetFixedRotation=function(a){(this.m_flags&box2d.b2BodyFlag.e_fixedRotationFlag)===box2d.b2BodyFlag.e_fixedRotationFlag!==a&&(a?this.m_flags|=box2d.b2BodyFlag.e_fixedRotationFlag:this.m_flags&=~box2d.b2BodyFlag.e_fixedRotationFlag,this.m_angularVelocity=0,this.ResetMassData())},box2d.b2Body.prototype.IsFixedRotation=function(){return(this.m_flags&box2d.b2BodyFlag.e_fixedRotationFlag)===box2d.b2BodyFlag.e_fixedRotationFlag},box2d.b2Body.prototype.GetFixtureList=function(){return this.m_fixtureList},box2d.b2Body.prototype.GetJointList=function(){return this.m_jointList},box2d.b2Body.prototype.GetContactList=function(){return this.m_contactList},box2d.b2Body.prototype.GetNext=function(){return this.m_next},box2d.b2Body.prototype.GetUserData=function(){return this.m_userData},box2d.b2Body.prototype.SetUserData=function(a){this.m_userData=a},box2d.b2Body.prototype.GetWorld=function(){return this.m_world},box2d.b2Body.prototype.SynchronizeFixtures=function(){var a=box2d.b2Body.prototype.SynchronizeFixtures.s_xf1;a.q.SetAngleRadians(this.m_sweep.a0),box2d.b2MulRV(a.q,this.m_sweep.localCenter,a.p),box2d.b2SubVV(this.m_sweep.c0,a.p,a.p);for(var b=this.m_world.m_contactManager.m_broadPhase,c=this.m_fixtureList;c;c=c.m_next)c.Synchronize(b,a,this.m_xf)},box2d.b2Body.prototype.SynchronizeFixtures.s_xf1=new box2d.b2Transform,box2d.b2Body.prototype.SynchronizeTransform=function(){this.m_xf.q.SetAngleRadians(this.m_sweep.a),box2d.b2MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),box2d.b2SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)},box2d.b2Body.prototype.ShouldCollide=function(a){if(this.m_type!==box2d.b2BodyType.b2_dynamicBody&&a.m_type!==box2d.b2BodyType.b2_dynamicBody)return!1;for(var b=this.m_jointList;b;b=b.next)if(b.other===a&&!1===b.joint.m_collideConnected)return!1;return!0},box2d.b2Body.prototype.Advance=function(a){this.m_sweep.Advance(a),this.m_sweep.c.Copy(this.m_sweep.c0),this.m_sweep.a=this.m_sweep.a0,this.m_xf.q.SetAngleRadians(this.m_sweep.a),box2d.b2MulRV(this.m_xf.q,this.m_sweep.localCenter,this.m_xf.p),box2d.b2SubVV(this.m_sweep.c,this.m_xf.p,this.m_xf.p)},box2d.b2Body.prototype.Dump=function(){if(box2d.DEBUG){var a=this.m_islandIndex,b=(box2d.b2Log("if (true)\n"),box2d.b2Log("{\n"),box2d.b2Log("  /*box2d.b2BodyDef*/ var bd = new box2d.b2BodyDef();\n"),"");switch(this.m_type){case box2d.b2BodyType.b2_staticBody:b="box2d.b2BodyType.b2_staticBody";break;case box2d.b2BodyType.b2_kinematicBody:b="box2d.b2BodyType.b2_kinematicBody";break;case box2d.b2BodyType.b2_dynamicBody:b="box2d.b2BodyType.b2_dynamicBody";break;default:box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1)}box2d.b2Log("  bd.type = %s;\n",b),box2d.b2Log("  bd.position.SetXY(%.15f, %.15f);\n",this.m_xf.p.x,this.m_xf.p.y),box2d.b2Log("  bd.angle = %.15f;\n",this.m_sweep.a),box2d.b2Log("  bd.linearVelocity.SetXY(%.15f, %.15f);\n",this.m_linearVelocity.x,this.m_linearVelocity.y),box2d.b2Log("  bd.angularVelocity = %.15f;\n",this.m_angularVelocity),box2d.b2Log("  bd.linearDamping = %.15f;\n",this.m_linearDamping),box2d.b2Log("  bd.angularDamping = %.15f;\n",this.m_angularDamping),box2d.b2Log("  bd.allowSleep = %s;\n",this.m_flags&box2d.b2BodyFlag.e_autoSleepFlag?"true":"false"),box2d.b2Log("  bd.awake = %s;\n",this.m_flags&box2d.b2BodyFlag.e_awakeFlag?"true":"false"),box2d.b2Log("  bd.fixedRotation = %s;\n",this.m_flags&box2d.b2BodyFlag.e_fixedRotationFlag?"true":"false"),box2d.b2Log("  bd.bullet = %s;\n",this.m_flags&box2d.b2BodyFlag.e_bulletFlag?"true":"false"),box2d.b2Log("  bd.active = %s;\n",this.m_flags&box2d.b2BodyFlag.e_activeFlag?"true":"false"),box2d.b2Log("  bd.gravityScale = %.15f;\n",this.m_gravityScale),box2d.b2Log("\n"),box2d.b2Log("  bodies[%d] = this.m_world.CreateBody(bd);\n",this.m_islandIndex),box2d.b2Log("\n");for(var c=this.m_fixtureList;c;c=c.m_next)box2d.b2Log("  if (true)\n"),box2d.b2Log("  {\n"),c.Dump(a),box2d.b2Log("  }\n");box2d.b2Log("}\n")}},box2d.b2Body.prototype.GetControllerList=function(){return this.m_controllerList},box2d.b2Body.prototype.GetControllerCount=function(){return this.m_controllerCount},goog.provide("box2d.b2World"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Draw"),goog.require("box2d.b2ContactManager"),goog.require("box2d.b2ContactSolver"),goog.require("box2d.b2Island"),goog.require("box2d.b2Body"),goog.require("box2d.b2Math"),goog.require("box2d.b2Collision"),goog.require("box2d.b2TimeStep"),goog.require("box2d.b2WorldCallbacks"),goog.require("box2d.b2JointFactory"),box2d.b2WorldFlag={e_none:0,e_newFixture:1,e_locked:2,e_clearForces:4},goog.exportProperty(box2d.b2WorldFlag,"e_none",box2d.b2WorldFlag.e_none),goog.exportProperty(box2d.b2WorldFlag,"e_newFixture",box2d.b2WorldFlag.e_newFixture),goog.exportProperty(box2d.b2WorldFlag,"e_locked",box2d.b2WorldFlag.e_locked),goog.exportProperty(box2d.b2WorldFlag,"e_clearForces",box2d.b2WorldFlag.e_clearForces),box2d.b2World=function(a){this.m_flags=box2d.b2WorldFlag.e_clearForces,this.m_contactManager=new box2d.b2ContactManager,this.m_gravity=a.Clone(),this.m_out_gravity=new box2d.b2Vec2,this.m_allowSleep=!0,this.m_destructionListener=null,this.m_debugDraw=null,this.m_warmStarting=!0,this.m_continuousPhysics=!0,this.m_subStepping=!1,this.m_stepComplete=!0,this.m_profile=new box2d.b2Profile,this.m_island=new box2d.b2Island,this.s_stack=new Array},box2d.b2World.prototype.m_flags=box2d.b2WorldFlag.e_none,box2d.b2World.prototype.m_contactManager=null,box2d.b2World.prototype.m_bodyList=null,box2d.b2World.prototype.m_jointList=null,box2d.b2World.prototype.m_bodyCount=0,box2d.b2World.prototype.m_jointCount=0,box2d.b2World.prototype.m_gravity=null,box2d.b2World.prototype.m_out_gravity=null,box2d.b2World.prototype.m_allowSleep=!0,box2d.b2World.prototype.m_destructionListener=null,box2d.b2World.prototype.m_debugDraw=null,box2d.b2World.prototype.m_inv_dt0=0,box2d.b2World.prototype.m_warmStarting=!0,box2d.b2World.prototype.m_continuousPhysics=!0,box2d.b2World.prototype.m_subStepping=!1,box2d.b2World.prototype.m_stepComplete=!0,box2d.b2World.prototype.m_profile=null,box2d.b2World.prototype.m_island=null,box2d.b2World.prototype.s_stack=null,box2d.b2World.prototype.m_controllerList=null,box2d.b2World.prototype.m_controllerCount=0,box2d.b2World.prototype.SetAllowSleeping=function(a){if(a!==this.m_allowSleep&&(this.m_allowSleep=a,!1===this.m_allowSleep))for(var b=this.m_bodyList;b;b=b.m_next)b.SetAwake(!0)},box2d.b2World.prototype.GetAllowSleeping=function(){return this.m_allowSleep},box2d.b2World.prototype.SetWarmStarting=function(a){this.m_warmStarting=a},box2d.b2World.prototype.GetWarmStarting=function(){return this.m_warmStarting},box2d.b2World.prototype.SetContinuousPhysics=function(a){this.m_continuousPhysics=a},box2d.b2World.prototype.GetContinuousPhysics=function(){return this.m_continuousPhysics},box2d.b2World.prototype.SetSubStepping=function(a){this.m_subStepping=a},box2d.b2World.prototype.GetSubStepping=function(){return this.m_subStepping},box2d.b2World.prototype.GetBodyList=function(){return this.m_bodyList},box2d.b2World.prototype.GetJointList=function(){return this.m_jointList},box2d.b2World.prototype.GetContactList=function(){return this.m_contactManager.m_contactList},box2d.b2World.prototype.GetBodyCount=function(){return this.m_bodyCount},box2d.b2World.prototype.GetJointCount=function(){return this.m_jointCount},box2d.b2World.prototype.GetContactCount=function(){return this.m_contactManager.m_contactCount},box2d.b2World.prototype.SetGravity=function(a,b){if(b=b||!0,(this.m_gravity.x!==a.x||this.m_gravity.y!==a.y)&&(this.m_gravity.Copy(a),b))for(var c=this.m_bodyList;c;c=c.m_next)c.SetAwake(!0)},box2d.b2World.prototype.GetGravity=function(a){return(a=a||this.m_out_gravity).Copy(this.m_gravity)},box2d.b2World.prototype.IsLocked=function(){return 0<(this.m_flags&box2d.b2WorldFlag.e_locked)},box2d.b2World.prototype.SetAutoClearForces=function(a){a?this.m_flags|=box2d.b2WorldFlag.e_clearForces:this.m_flags&=~box2d.b2WorldFlag.e_clearForces},box2d.b2World.prototype.GetAutoClearForces=function(){return(this.m_flags&box2d.b2WorldFlag.e_clearForces)===box2d.b2WorldFlag.e_clearForces},box2d.b2World.prototype.GetContactManager=function(){return this.m_contactManager},box2d.b2World.prototype.GetProfile=function(){return this.m_profile},box2d.b2World.prototype.SetDestructionListener=function(a){this.m_destructionListener=a},box2d.b2World.prototype.SetContactFilter=function(a){this.m_contactManager.m_contactFilter=a},box2d.b2World.prototype.SetContactListener=function(a){this.m_contactManager.m_contactListener=a},box2d.b2World.prototype.SetDebugDraw=function(a){this.m_debugDraw=a},box2d.b2World.prototype.CreateBody=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.IsLocked()),this.IsLocked()?null:((a=new box2d.b2Body(a,this)).m_prev=null,a.m_next=this.m_bodyList,this.m_bodyList&&(this.m_bodyList.m_prev=a),this.m_bodyList=a,++this.m_bodyCount,a)},box2d.b2World.prototype.DestroyBody=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_bodyCount),box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.IsLocked()),!this.IsLocked()){for(var b=a.m_jointList;b;){var c=b,b=b.next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeJoint(c.joint),this.DestroyJoint(c.joint),a.m_jointList=b}a.m_jointList=null;for(var d=a.m_controllerList;d;){var e=d,d=d.nextController;e.controller.RemoveBody(a)}for(var f=a.m_contactList;f;){var g=f,f=f.next;this.m_contactManager.Destroy(g.contact)}a.m_contactList=null;for(var h=a.m_fixtureList;h;){var i=h,h=h.m_next;this.m_destructionListener&&this.m_destructionListener.SayGoodbyeFixture(i),i.DestroyProxies(this.m_contactManager.m_broadPhase),i.Destroy(),a.m_fixtureList=h,--a.m_fixtureCount}a.m_fixtureList=null,a.m_fixtureCount=0,a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),a===this.m_bodyList&&(this.m_bodyList=a.m_next),--this.m_bodyCount}},box2d.b2World.prototype.CreateJoint=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.IsLocked()),this.IsLocked())return null;var b=box2d.b2JointFactory.Create(a,null),c=(b.m_prev=null,b.m_next=this.m_jointList,this.m_jointList&&(this.m_jointList.m_prev=b),this.m_jointList=b,++this.m_jointCount,(b.m_edgeA.joint=b).m_edgeA.other=b.m_bodyB,b.m_edgeA.prev=null,b.m_edgeA.next=b.m_bodyA.m_jointList,b.m_bodyA.m_jointList&&(b.m_bodyA.m_jointList.prev=b.m_edgeA),b.m_bodyA.m_jointList=b.m_edgeA,(b.m_edgeB.joint=b).m_edgeB.other=b.m_bodyA,b.m_edgeB.prev=null,b.m_edgeB.next=b.m_bodyB.m_jointList,b.m_bodyB.m_jointList&&(b.m_bodyB.m_jointList.prev=b.m_edgeB),b.m_bodyB.m_jointList=b.m_edgeB,a.bodyA),d=a.bodyB;if(!1===a.collideConnected)for(var e=d.GetContactList();e;)e.other===c&&e.contact.FlagForFiltering(),e=e.next;return b},box2d.b2World.prototype.DestroyJoint=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.IsLocked()),!this.IsLocked()){var b=a.m_collideConnected,c=(a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),a===this.m_jointList&&(this.m_jointList=a.m_next),a.m_bodyA),d=a.m_bodyB;if(c.SetAwake(!0),d.SetAwake(!0),a.m_edgeA.prev&&(a.m_edgeA.prev.next=a.m_edgeA.next),a.m_edgeA.next&&(a.m_edgeA.next.prev=a.m_edgeA.prev),a.m_edgeA===c.m_jointList&&(c.m_jointList=a.m_edgeA.next),a.m_edgeA.prev=null,a.m_edgeA.next=null,a.m_edgeB.prev&&(a.m_edgeB.prev.next=a.m_edgeB.next),a.m_edgeB.next&&(a.m_edgeB.next.prev=a.m_edgeB.prev),a.m_edgeB===d.m_jointList&&(d.m_jointList=a.m_edgeB.next),a.m_edgeB.prev=null,a.m_edgeB.next=null,box2d.b2JointFactory.Destroy(a,null),box2d.ENABLE_ASSERTS&&box2d.b2Assert(0<this.m_jointCount),--this.m_jointCount,!1===b)for(var e=d.GetContactList();e;)e.other===c&&e.contact.FlagForFiltering(),e=e.next}},box2d.b2World.prototype.Solve=function(a){for(var b=this.m_controllerList;b;b=b.m_next)b.Step(a);this.m_profile.solveInit=0,this.m_profile.solveVelocity=0,this.m_profile.solvePosition=0;var c=this.m_island;c.Initialize(this.m_bodyCount,this.m_contactManager.m_contactCount,this.m_jointCount,null,this.m_contactManager.m_contactListener);for(var d=this.m_bodyList;d;d=d.m_next)d.m_flags&=~box2d.b2BodyFlag.e_islandFlag;for(var e=this.m_contactManager.m_contactList;e;e=e.m_next)e.m_flags&=~box2d.b2ContactFlag.e_islandFlag;for(var f=this.m_jointList;f;f=f.m_next)f.m_islandFlag=!1;for(var g=this.m_bodyCount,h=this.s_stack,i=this.m_bodyList;i;i=i.m_next)if(!(i.m_flags&box2d.b2BodyFlag.e_islandFlag)&&!1!==i.IsAwake()&&!1!==i.IsActive()&&i.GetType()!==box2d.b2BodyType.b2_staticBody){c.Clear();var j=0;for((h[j++]=i).m_flags|=box2d.b2BodyFlag.e_islandFlag;0<j;){d=h[--j];if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!0===d.IsActive()),c.AddBody(d),d.SetAwake(!0),d.GetType()!==box2d.b2BodyType.b2_staticBody){for(var k=d.m_contactList;k;k=k.next){var m,n,l=k.contact;l.m_flags&box2d.b2ContactFlag.e_islandFlag||!1===l.IsEnabled()||!1===l.IsTouching()||(m=l.m_fixtureA.m_isSensor,n=l.m_fixtureB.m_isSensor,m)||n||(c.AddContact(l),l.m_flags|=box2d.b2ContactFlag.e_islandFlag,(o=k.other).m_flags&box2d.b2BodyFlag.e_islandFlag)||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(j<g),(h[j++]=o).m_flags|=box2d.b2BodyFlag.e_islandFlag)}for(var o,p=d.m_jointList;p;p=p.next)!0!==p.joint.m_islandFlag&&!1!==(o=p.other).IsActive()&&(c.AddJoint(p.joint),p.joint.m_islandFlag=!0,o.m_flags&box2d.b2BodyFlag.e_islandFlag||(box2d.ENABLE_ASSERTS&&box2d.b2Assert(j<g),(h[j++]=o).m_flags|=box2d.b2BodyFlag.e_islandFlag))}}var q=new box2d.b2Profile;c.Solve(q,a,this.m_gravity,this.m_allowSleep),this.m_profile.solveInit+=q.solveInit,this.m_profile.solveVelocity+=q.solveVelocity,this.m_profile.solvePosition+=q.solvePosition;for(var r=0;r<c.m_bodyCount;++r)(d=c.m_bodies[r]).GetType()===box2d.b2BodyType.b2_staticBody&&(d.m_flags&=~box2d.b2BodyFlag.e_islandFlag)}for(r=0;r<h.length&&h[r];++r)h[r]=null;for(var s=new box2d.b2Timer,d=this.m_bodyList;d;d=d.m_next)0!=(d.m_flags&box2d.b2BodyFlag.e_islandFlag)&&d.GetType()!==box2d.b2BodyType.b2_staticBody&&d.SynchronizeFixtures();this.m_contactManager.FindNewContacts(),this.m_profile.broadphase=s.GetMilliseconds()},box2d.b2World.prototype.SolveTOI=function(a){var b=this.m_island;if(b.Initialize(2*box2d.b2_maxTOIContacts,box2d.b2_maxTOIContacts,0,null,this.m_contactManager.m_contactListener),this.m_stepComplete){for(var c=this.m_bodyList;c;c=c.m_next)c.m_flags&=~box2d.b2BodyFlag.e_islandFlag,c.m_sweep.alpha0=0;for(var d=this.m_contactManager.m_contactList;d;d=d.m_next)d.m_flags&=~(box2d.b2ContactFlag.e_toiFlag|box2d.b2ContactFlag.e_islandFlag),d.m_toiCount=0,d.m_toi=1}for(;;){for(var e=null,f=1,d=this.m_contactManager.m_contactList;d;d=d.m_next)if(!1!==d.IsEnabled()&&!(d.m_toiCount>box2d.b2_maxSubSteps)){var g=1;if(d.m_flags&box2d.b2ContactFlag.e_toiFlag)g=d.m_toi;else{var h=d.GetFixtureA(),i=d.GetFixtureB();if(h.IsSensor()||i.IsSensor())continue;var j=h.GetBody(),k=i.GetBody(),l=j.m_type,m=k.m_type,n=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(l===box2d.b2BodyType.b2_dynamicBody||m===box2d.b2BodyType.b2_dynamicBody),j.IsAwake()&&l!==box2d.b2BodyType.b2_staticBody),o=k.IsAwake()&&m!==box2d.b2BodyType.b2_staticBody;if(!1===n&&!1===o)continue;n=j.IsBullet()||l!==box2d.b2BodyType.b2_dynamicBody,o=k.IsBullet()||m!==box2d.b2BodyType.b2_dynamicBody;if(!1===n&&!1===o)continue;l=j.m_sweep.alpha0,m=(j.m_sweep.alpha0<k.m_sweep.alpha0?(l=k.m_sweep.alpha0,j.m_sweep.Advance(l)):k.m_sweep.alpha0<j.m_sweep.alpha0&&(l=j.m_sweep.alpha0,k.m_sweep.Advance(l)),box2d.ENABLE_ASSERTS&&box2d.b2Assert(l<1),d.GetChildIndexA()),n=d.GetChildIndexB(),o=box2d.b2World.prototype.SolveTOI.s_toi_input,m=(o.proxyA.SetShape(h.GetShape(),m),o.proxyB.SetShape(i.GetShape(),n),o.sweepA.Copy(j.m_sweep),o.sweepB.Copy(k.m_sweep),o.tMax=1,box2d.b2World.prototype.SolveTOI.s_toi_output),n=(box2d.b2TimeOfImpact(m,o),m.t),g=m.state===box2d.b2TOIOutputState.e_touching?box2d.b2Min(l+(1-l)*n,1):1;d.m_toi=g,d.m_flags|=box2d.b2ContactFlag.e_toiFlag}g<f&&(e=d,f=g)}if(null===e||1-10*box2d.b2_epsilon<f){this.m_stepComplete=!0;break}var h=e.GetFixtureA(),i=e.GetFixtureB(),j=h.GetBody(),k=i.GetBody(),x=box2d.b2World.prototype.SolveTOI.s_backup1.Copy(j.m_sweep),y=box2d.b2World.prototype.SolveTOI.s_backup2.Copy(k.m_sweep);if(j.Advance(f),k.Advance(f),e.Update(this.m_contactManager.m_contactListener),e.m_flags&=~box2d.b2ContactFlag.e_toiFlag,++e.m_toiCount,!1!==e.IsEnabled()&&!1!==e.IsTouching()){j.SetAwake(!0),k.SetAwake(!0),b.Clear(),b.AddBody(j),b.AddBody(k),b.AddContact(e),j.m_flags|=box2d.b2BodyFlag.e_islandFlag,k.m_flags|=box2d.b2BodyFlag.e_islandFlag,e.m_flags|=box2d.b2ContactFlag.e_islandFlag;for(var z=0;z<2;++z)if((A=0===z?j:k).m_type===box2d.b2BodyType.b2_dynamicBody)for(var B=A.m_contactList;B&&b.m_bodyCount!==b.m_bodyCapacity&&b.m_contactCount!==b.m_contactCapacity;B=B.next){var D,F,E,C=B.contact;C.m_flags&box2d.b2ContactFlag.e_islandFlag||(D=B.other).m_type===box2d.b2BodyType.b2_dynamicBody&&!1===A.IsBullet()&&!1===D.IsBullet()||(E=C.m_fixtureA.m_isSensor,F=C.m_fixtureB.m_isSensor,E)||F||(E=box2d.b2World.prototype.SolveTOI.s_backup.Copy(D.m_sweep),0==(D.m_flags&box2d.b2BodyFlag.e_islandFlag)&&D.Advance(f),C.Update(this.m_contactManager.m_contactListener),!1!==C.IsEnabled()&&!1!==C.IsTouching()?(C.m_flags|=box2d.b2ContactFlag.e_islandFlag,b.AddContact(C),D.m_flags&box2d.b2BodyFlag.e_islandFlag||(D.m_flags|=box2d.b2BodyFlag.e_islandFlag,D.m_type!==box2d.b2BodyType.b2_staticBody&&D.SetAwake(!0),b.AddBody(D))):(D.m_sweep.Copy(E),D.SynchronizeTransform()))}var H=box2d.b2World.prototype.SolveTOI.s_subStep;H.dt=(1-f)*a.dt,H.inv_dt=1/H.dt,H.dtRatio=1,H.positionIterations=20,H.velocityIterations=a.velocityIterations,H.warmStarting=!1,b.SolveTOI(H,j.m_islandIndex,k.m_islandIndex);for(var A,z=0;z<b.m_bodyCount;++z)if((A=b.m_bodies[z]).m_flags&=~box2d.b2BodyFlag.e_islandFlag,A.m_type===box2d.b2BodyType.b2_dynamicBody){A.SynchronizeFixtures();for(B=A.m_contactList;B;B=B.next)B.contact.m_flags&=~(box2d.b2ContactFlag.e_toiFlag|box2d.b2ContactFlag.e_islandFlag)}if(this.m_contactManager.FindNewContacts(),this.m_subStepping){this.m_stepComplete=!1;break}}else e.SetEnabled(!1),j.m_sweep.Copy(x),k.m_sweep.Copy(y),j.SynchronizeTransform(),k.SynchronizeTransform()}},box2d.b2World.prototype.SolveTOI.s_subStep=new box2d.b2TimeStep,box2d.b2World.prototype.SolveTOI.s_backup=new box2d.b2Sweep,box2d.b2World.prototype.SolveTOI.s_backup1=new box2d.b2Sweep,box2d.b2World.prototype.SolveTOI.s_backup2=new box2d.b2Sweep,box2d.b2World.prototype.SolveTOI.s_toi_input=new box2d.b2TOIInput,box2d.b2World.prototype.SolveTOI.s_toi_output=new box2d.b2TOIOutput,box2d.b2World.prototype.Step=function(a,b,c){var d=new box2d.b2Timer,e=(this.m_flags&box2d.b2WorldFlag.e_newFixture&&(this.m_contactManager.FindNewContacts(),this.m_flags&=~box2d.b2WorldFlag.e_newFixture),this.m_flags|=box2d.b2WorldFlag.e_locked,box2d.b2World.prototype.Step.s_step),b=(e.dt=a,e.velocityIterations=b,e.positionIterations=c,e.inv_dt=0<a?1/a:0,e.dtRatio=this.m_inv_dt0*a,e.warmStarting=this.m_warmStarting,new box2d.b2Timer);this.m_contactManager.Collide(),this.m_profile.collide=b.GetMilliseconds(),this.m_stepComplete&&0<e.dt&&(b=new box2d.b2Timer,this.Solve(e),this.m_profile.solve=b.GetMilliseconds()),this.m_continuousPhysics&&0<e.dt&&(b=new box2d.b2Timer,this.SolveTOI(e),this.m_profile.solveTOI=b.GetMilliseconds()),0<e.dt&&(this.m_inv_dt0=e.inv_dt),this.m_flags&box2d.b2WorldFlag.e_clearForces&&this.ClearForces(),this.m_flags&=~box2d.b2WorldFlag.e_locked,this.m_profile.step=d.GetMilliseconds()},box2d.b2World.prototype.Step.s_step=new box2d.b2TimeStep,box2d.b2World.prototype.ClearForces=function(){for(var a=this.m_bodyList;a;a=a.m_next)a.m_force.SetZero(),a.m_torque=0},box2d.b2World.prototype.QueryAABB=function(a,b){var c=this.m_contactManager.m_broadPhase;c.Query(function(b){b=c.GetUserData(b),box2d.ENABLE_ASSERTS&&box2d.b2Assert(b instanceof box2d.b2FixtureProxy),b=b.fixture;return a instanceof box2d.b2QueryCallback?a.ReportFixture(b):a(b)},b)},box2d.b2World.prototype.QueryShape=function(a,b,c){var d=this.m_contactManager.m_broadPhase,f=box2d.b2World.prototype.QueryShape.s_aabb;b.ComputeAABB(f,c,0),d.Query(function(e){e=d.GetUserData(e),box2d.ENABLE_ASSERTS&&box2d.b2Assert(e instanceof box2d.b2FixtureProxy),e=e.fixture;return!box2d.b2TestOverlapShape(b,0,e.GetShape(),0,c,e.GetBody().GetTransform())||(a instanceof box2d.b2QueryCallback?a.ReportFixture(e):a(e))},f)},box2d.b2World.prototype.QueryShape.s_aabb=new box2d.b2AABB,box2d.b2World.prototype.QueryPoint=function(a,b){var c=this.m_contactManager.m_broadPhase,e=box2d.b2World.prototype.QueryPoint.s_aabb;e.lowerBound.SetXY(b.x-box2d.b2_linearSlop,b.y-box2d.b2_linearSlop),e.upperBound.SetXY(b.x+box2d.b2_linearSlop,b.y+box2d.b2_linearSlop),c.Query(function(d){d=c.GetUserData(d),box2d.ENABLE_ASSERTS&&box2d.b2Assert(d instanceof box2d.b2FixtureProxy),d=d.fixture;return!d.TestPoint(b)||(a instanceof box2d.b2QueryCallback?a.ReportFixture(d):a(d))},e)},box2d.b2World.prototype.QueryPoint.s_aabb=new box2d.b2AABB,box2d.b2World.prototype.RayCast=function(a,b,c){var d=this.m_contactManager.m_broadPhase,f=box2d.b2World.prototype.RayCast.s_input;f.maxFraction=1,f.p1.Copy(b),f.p2.Copy(c),d.RayCast(function(e,f){var m,f=d.GetUserData(f),h=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(f instanceof box2d.b2FixtureProxy),f.fixture),j=box2d.b2World.prototype.RayCast.s_output;return h.RayCast(j,e,f.childIndex)?(f=j.fraction,(m=box2d.b2World.prototype.RayCast.s_point).SetXY((1-f)*b.x+f*c.x,(1-f)*b.y+f*c.y),a instanceof box2d.b2RayCastCallback?a.ReportFixture(h,m,j.normal,f):a(h,m,j.normal,f)):e.maxFraction},f)},box2d.b2World.prototype.RayCast.s_input=new box2d.b2RayCastInput,box2d.b2World.prototype.RayCast.s_output=new box2d.b2RayCastOutput,box2d.b2World.prototype.RayCast.s_point=new box2d.b2Vec2,box2d.b2World.prototype.RayCastOne=function(a,b){var d=null,e=1;return this.RayCast(function(a,b,c,f){return f<e&&(e=f,d=a),e},a,b),d},box2d.b2World.prototype.RayCastAll=function(a,b,c){return c.length=0,this.RayCast(function(a){return c.push(a),1},a,b),c},box2d.b2World.prototype.DrawShape=function(a,b){var c=a.GetShape();switch(c.m_type){case box2d.b2ShapeType.e_circleShape:var d=c instanceof box2d.b2CircleShape?c:null,e=d.m_p,g=box2d.b2Vec2.UNITX;this.m_debugDraw.DrawSolidCircle(e,d.m_radius,g,b);break;case box2d.b2ShapeType.e_edgeShape:var e=c instanceof box2d.b2EdgeShape?c:null,i=e.m_vertex1,j=e.m_vertex2;this.m_debugDraw.DrawSegment(i,j,b);break;case box2d.b2ShapeType.e_chainShape:for(var d=c instanceof box2d.b2ChainShape?c:null,l=d.m_count,i=(m=d.m_vertices)[0],n=0;n<l;++n){j=m[n];this.m_debugDraw.DrawSegment(i,j,b),this.m_debugDraw.DrawCircle(j,.05,b),i=j}break;case box2d.b2ShapeType.e_polygonShape:var g=c instanceof box2d.b2PolygonShape?c:null,e=g.m_count,m=g.m_vertices;this.m_debugDraw.DrawSolidPolygon(m,e,b)}},box2d.b2World.prototype.DrawJoint=function(a){var b=a.GetBodyA(),c=a.GetBodyB(),b=b.m_xf,c=c.m_xf,f=b.p,g=c.p,h=a.GetAnchorA(box2d.b2World.prototype.DrawJoint.s_p1),i=a.GetAnchorB(box2d.b2World.prototype.DrawJoint.s_p2),j=box2d.b2World.prototype.DrawJoint.s_color.SetRGB(.5,.8,.8);switch(a.m_type){case box2d.b2JointType.e_distanceJoint:this.m_debugDraw.DrawSegment(h,i,j);break;case box2d.b2JointType.e_pulleyJoint:var k=a instanceof box2d.b2PulleyJoint?a:null,l=k.GetGroundAnchorA(box2d.b2World.prototype.DrawJoint.s_s1),k=k.GetGroundAnchorB(box2d.b2World.prototype.DrawJoint.s_s2);this.m_debugDraw.DrawSegment(l,h,j),this.m_debugDraw.DrawSegment(k,i,j),this.m_debugDraw.DrawSegment(l,k,j);break;case box2d.b2JointType.e_mouseJoint:this.m_debugDraw.DrawSegment(h,i,j);break;default:this.m_debugDraw.DrawSegment(f,h,j),this.m_debugDraw.DrawSegment(h,i,j),this.m_debugDraw.DrawSegment(g,i,j)}},box2d.b2World.prototype.DrawJoint.s_p1=new box2d.b2Vec2,box2d.b2World.prototype.DrawJoint.s_p2=new box2d.b2Vec2,box2d.b2World.prototype.DrawJoint.s_color=new box2d.b2Color(.5,.8,.8),box2d.b2World.prototype.DrawJoint.s_s1=new box2d.b2Vec2,box2d.b2World.prototype.DrawJoint.s_s2=new box2d.b2Vec2,box2d.b2World.prototype.DrawDebugData=function(){if(null!==this.m_debugDraw){var a=this.m_debugDraw.GetFlags(),b=box2d.b2World.prototype.DrawDebugData.s_color.SetRGB(0,0,0);if(a&box2d.b2DrawFlags.e_shapeBit)for(var c=this.m_bodyList;c;c=c.m_next){var d=c.m_xf;this.m_debugDraw.PushTransform(d);for(var e=c.GetFixtureList();e;e=e.m_next)!1===c.IsActive()?b.SetRGB(.5,.5,.3):c.GetType()===box2d.b2BodyType.b2_staticBody?b.SetRGB(.5,.9,.5):c.GetType()===box2d.b2BodyType.b2_kinematicBody?b.SetRGB(.5,.5,.9):!1===c.IsAwake()?b.SetRGB(.6,.6,.6):b.SetRGB(.9,.7,.7),this.DrawShape(e,b);this.m_debugDraw.PopTransform(d)}if(a&box2d.b2DrawFlags.e_jointBit)for(var f=this.m_jointList;f;f=f.m_next)this.DrawJoint(f);if(a&box2d.b2DrawFlags.e_aabbBit){b.SetRGB(.9,.3,.9);for(var g=this.m_contactManager.m_broadPhase,h=box2d.b2World.prototype.DrawDebugData.s_vs,c=this.m_bodyList;c;c=c.m_next)if(!1!==c.IsActive())for(e=c.GetFixtureList();e;e=e.m_next)for(var i=0;i<e.m_proxyCount;++i){var j=e.m_proxies[i],j=g.GetFatAABB(j.proxy);h[0].SetXY(j.lowerBound.x,j.lowerBound.y),h[1].SetXY(j.upperBound.x,j.lowerBound.y),h[2].SetXY(j.upperBound.x,j.upperBound.y),h[3].SetXY(j.lowerBound.x,j.upperBound.y),this.m_debugDraw.DrawPolygon(h,4,b)}}if(a&box2d.b2DrawFlags.e_centerOfMassBit)for(c=this.m_bodyList;c;c=c.m_next)(d=box2d.b2World.prototype.DrawDebugData.s_xf).q.Copy(c.m_xf.q),d.p.Copy(c.GetWorldCenter()),this.m_debugDraw.DrawTransform(d);if(a&box2d.b2DrawFlags.e_controllerBit)for(var l=this.m_controllerList;l;l=l.m_next)l.Draw(this.m_debugDraw)}},box2d.b2World.prototype.DrawDebugData.s_color=new box2d.b2Color(0,0,0),box2d.b2World.prototype.DrawDebugData.s_vs=box2d.b2Vec2.MakeArray(4),box2d.b2World.prototype.DrawDebugData.s_xf=new box2d.b2Transform,box2d.b2World.prototype.SetBroadPhase=function(a){var b=this.m_contactManager.m_broadPhase;this.m_contactManager.m_broadPhase=a;for(var c=this.m_bodyList;c;c=c.m_next)for(var d=c.m_fixtureList;d;d=d.m_next)d.m_proxy=a.CreateProxy(b.GetFatAABB(d.m_proxy),d)},box2d.b2World.prototype.GetProxyCount=function(){return this.m_contactManager.m_broadPhase.GetProxyCount()},box2d.b2World.prototype.GetTreeHeight=function(){return this.m_contactManager.m_broadPhase.GetTreeHeight()},box2d.b2World.prototype.GetTreeBalance=function(){return this.m_contactManager.m_broadPhase.GetTreeBalance()},box2d.b2World.prototype.GetTreeQuality=function(){return this.m_contactManager.m_broadPhase.GetTreeQuality()},box2d.b2World.prototype.ShiftOrigin=function(a){if(box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1===this.IsLocked()),!this.IsLocked()){for(var b=this.m_bodyList;b;b=b.m_next)b.m_xf.p.SelfSub(a),b.m_sweep.c0.SelfSub(a),b.m_sweep.c.SelfSub(a);for(var c=this.m_jointList;c;c=c.m_next)c.ShiftOrigin(a);this.m_contactManager.m_broadPhase.ShiftOrigin(a)}},box2d.b2World.prototype.Dump=function(){if(box2d.DEBUG&&(this.m_flags&box2d.b2WorldFlag.e_locked)!==box2d.b2WorldFlag.e_locked){box2d.b2Log("/** @type {box2d.b2Vec2} */ var g = new box2d.b2Vec2(%.15f, %.15f);\n",this.m_gravity.x,this.m_gravity.y),box2d.b2Log("this.m_world.SetGravity(g);\n"),box2d.b2Log("/** @type {Array.<box2d.b2Body>} */ var bodies = new Array(%d);\n",this.m_bodyCount),box2d.b2Log("/** @type {Array.<box2d.b2Joint>} */ var joints = new Array(%d);\n",this.m_jointCount);for(var a=0,b=this.m_bodyList;b;b=b.m_next)b.m_islandIndex=a,b.Dump(),++a;for(var a=0,c=this.m_jointList;c;c=c.m_next)c.m_index=a,++a;for(c=this.m_jointList;c;c=c.m_next)c.m_type!==box2d.b2JointType.e_gearJoint&&(box2d.b2Log("if (true)\n"),box2d.b2Log("{\n"),c.Dump(),box2d.b2Log("}\n"));for(c=this.m_jointList;c;c=c.m_next)c.m_type===box2d.b2JointType.e_gearJoint&&(box2d.b2Log("if (true)\n"),box2d.b2Log("{\n"),c.Dump(),box2d.b2Log("}\n"))}},box2d.b2World.prototype.AddController=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(null===a.m_world,"Controller can only be a member of one world"),a.m_world=this,a.m_next=this.m_controllerList,a.m_prev=null,this.m_controllerList&&(this.m_controllerList.m_prev=a),this.m_controllerList=a,++this.m_controllerCount,a},box2d.b2World.prototype.RemoveController=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.m_world===this,"Controller is not a member of this world"),a.m_prev&&(a.m_prev.m_next=a.m_next),a.m_next&&(a.m_next.m_prev=a.m_prev),this.m_controllerList===a&&(this.m_controllerList=a.m_next),--this.m_controllerCount,a.m_prev=null,a.m_next=null,a.m_world=null},goog.provide("box2d.b2AreaJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2AreaJointDef=function(){goog.base(this,box2d.b2JointType.e_areaJoint),this.bodies=new Array},goog.inherits(box2d.b2AreaJointDef,box2d.b2JointDef),box2d.b2AreaJointDef.prototype.world=null,box2d.b2AreaJointDef.prototype.bodies=null,box2d.b2AreaJointDef.prototype.frequencyHz=0,box2d.b2AreaJointDef.prototype.dampingRatio=0,box2d.b2AreaJointDef.prototype.AddBody=function(a){this.bodies.push(a),1===this.bodies.length?this.bodyA=a:2===this.bodies.length&&(this.bodyB=a)},box2d.b2AreaJoint=function(a){goog.base(this,a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=a.bodies.length,"You cannot create an area joint with less than three bodies."),this.m_bodies=a.bodies,this.m_frequencyHz=a.frequencyHz,this.m_dampingRatio=a.dampingRatio,this.m_targetLengths=box2d.b2MakeNumberArray(a.bodies.length),this.m_normals=box2d.b2Vec2.MakeArray(a.bodies.length),this.m_joints=new Array(a.bodies.length),this.m_deltas=box2d.b2Vec2.MakeArray(a.bodies.length),this.m_delta=new box2d.b2Vec2;var b=new box2d.b2DistanceJointDef;b.frequencyHz=a.frequencyHz,b.dampingRatio=a.dampingRatio;for(var c=this.m_targetArea=0,d=this.m_bodies.length;c<d;++c){var e=this.m_bodies[c],f=this.m_bodies[(c+1)%d],g=e.GetWorldCenter(),h=f.GetWorldCenter();this.m_targetLengths[c]=box2d.b2DistanceVV(g,h),this.m_targetArea+=box2d.b2CrossVV(g,h),b.Initialize(e,f,g,h),this.m_joints[c]=a.world.CreateJoint(b)}this.m_targetArea*=.5},goog.inherits(box2d.b2AreaJoint,box2d.b2Joint),box2d.b2AreaJoint.prototype.m_bodies=null,box2d.b2AreaJoint.prototype.m_frequencyHz=0,box2d.b2AreaJoint.prototype.m_dampingRatio=0,box2d.b2AreaJoint.prototype.m_impulse=0,box2d.b2AreaJoint.prototype.m_targetLengths=null,box2d.b2AreaJoint.prototype.m_targetArea=0,box2d.b2AreaJoint.prototype.m_normals=null,box2d.b2AreaJoint.prototype.m_joints=null,box2d.b2AreaJoint.prototype.m_deltas=null,box2d.b2AreaJoint.prototype.m_delta=null,box2d.b2AreaJoint.prototype.GetAnchorA=function(a){return a.SetZero()},box2d.b2AreaJoint.prototype.GetAnchorB=function(a){return a.SetZero()},box2d.b2AreaJoint.prototype.GetReactionForce=function(a,b){return b.SetZero()},box2d.b2AreaJoint.prototype.GetReactionTorque=function(){return 0},box2d.b2AreaJoint.prototype.SetFrequency=function(a){this.m_frequencyHz=a;for(var b=0,c=this.m_joints.length;b<c;++b)this.m_joints[b].SetFrequency(a)},box2d.b2AreaJoint.prototype.GetFrequency=function(){return this.m_frequencyHz},box2d.b2AreaJoint.prototype.SetDampingRatio=function(a){this.m_dampingRatio=a;for(var b=0,c=this.m_joints.length;b<c;++b)this.m_joints[b].SetDampingRatio(a)},box2d.b2AreaJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio},box2d.b2AreaJoint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log("Area joint dumping is not supported.\n")},box2d.b2AreaJoint.prototype.InitVelocityConstraints=function(a){for(var b=0,c=this.m_bodies.length;b<c;++b){var d=this.m_bodies[(b+c-1)%c],e=this.m_bodies[(b+1)%c],d=a.positions[d.m_islandIndex].c,e=a.positions[e.m_islandIndex].c,h=this.m_deltas[b];box2d.b2SubVV(e,d,h)}if(a.step.warmStarting){this.m_impulse*=a.step.dtRatio;for(b=0,c=this.m_bodies.length;b<c;++b){var i=this.m_bodies[b],j=a.velocities[i.m_islandIndex].v,h=this.m_deltas[b];j.x+=i.m_invMass*h.y*.5*this.m_impulse,j.y+=i.m_invMass*-h.x*.5*this.m_impulse}}else this.m_impulse=0},box2d.b2AreaJoint.prototype.SolveVelocityConstraints=function(a){for(var b=0,c=0,d=0,e=this.m_bodies.length;d<e;++d){var f=this.m_bodies[d],g=a.velocities[f.m_islandIndex].v;b+=(h=this.m_deltas[d]).GetLengthSquared()/f.GetMass(),c+=box2d.b2CrossVV(g,h)}var i=-2*c/b;this.m_impulse+=i;for(d=0,e=this.m_bodies.length;d<e;++d){var f=this.m_bodies[d],g=a.velocities[f.m_islandIndex].v,h=this.m_deltas[d];g.x+=f.m_invMass*h.y*.5*i,g.y+=f.m_invMass*-h.x*.5*i}},box2d.b2AreaJoint.prototype.SolvePositionConstraints=function(a){for(var b=0,c=0,d=0,e=this.m_bodies.length;d<e;++d){var f=this.m_bodies[d],g=this.m_bodies[(d+1)%e],h=a.positions[f.m_islandIndex].c,g=a.positions[g.m_islandIndex].c,k=(j=box2d.b2SubVV(g,h,this.m_delta)).GetLength();k<box2d.b2_epsilon&&(k=1),this.m_normals[d].x=j.y/k,this.m_normals[d].y=-j.x/k,b+=k,c+=box2d.b2CrossVV(h,g)}for(var m=.5*(this.m_targetArea-(c*=.5))/b,n=!0,d=0,e=this.m_bodies.length;d<e;++d){var j,f=this.m_bodies[d],h=a.positions[f.m_islandIndex].c,p=((j=box2d.b2AddVV(this.m_normals[d],this.m_normals[(d+1)%e],this.m_delta)).SelfMul(m),j.GetLengthSquared());p>box2d.b2Sq(box2d.b2_maxLinearCorrection)&&j.SelfMul(box2d.b2_maxLinearCorrection/box2d.b2Sqrt(p)),p>box2d.b2Sq(box2d.b2_linearSlop)&&(n=!1),h.x+=j.x,h.y+=j.y}return n},goog.provide("box2d.b2BuoyancyController"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Controller"),goog.require("box2d.b2Math"),goog.require("box2d.b2WorldCallbacks"),box2d.b2BuoyancyController=function(){goog.base(this),this.normal=new box2d.b2Vec2(0,1),this.velocity=new box2d.b2Vec2(0,0),this.gravity=new box2d.b2Vec2(0,0)},goog.inherits(box2d.b2BuoyancyController,box2d.b2Controller),box2d.b2BuoyancyController.prototype.normal=null,box2d.b2BuoyancyController.prototype.offset=0,box2d.b2BuoyancyController.prototype.density=0,box2d.b2BuoyancyController.prototype.velocity=null,box2d.b2BuoyancyController.prototype.linearDrag=0,box2d.b2BuoyancyController.prototype.angularDrag=0,box2d.b2BuoyancyController.prototype.useDensity=!1,box2d.b2BuoyancyController.prototype.useWorldGravity=!0,box2d.b2BuoyancyController.prototype.gravity=null,box2d.b2BuoyancyController.prototype.Step=function(){if(this.m_bodyList){this.useWorldGravity&&this.gravity.Copy(this.GetWorld().GetGravity());for(var a=this.m_bodyList;a;a=a.nextBody){var b=a.body;if(!1!==b.IsAwake()){for(var k,c=new box2d.b2Vec2,d=new box2d.b2Vec2,e=0,f=0,g=b.GetFixtureList();g;g=g.m_next){var j,h=new box2d.b2Vec2,i=g.GetShape().ComputeSubmergedArea(this.normal,this.offset,b.GetTransform(),h);e+=i,c.x+=i*h.x,c.y+=i*h.y;f+=i*(j=this.useDensity?g.GetDensity():1),d.x+=i*h.x*j,d.y+=i*h.y*j}c.x/=e,c.y/=e,d.x/=f,d.y/=f,e<box2d.b2_epsilon||((k=box2d.b2NegV(this.gravity,new box2d.b2Vec2)).SelfMul(this.density*e),b.ApplyForce(k,d),(k=b.GetLinearVelocityFromWorldPoint(c,new box2d.b2Vec2)).SelfSub(this.velocity),k.SelfMul(-this.linearDrag*e),b.ApplyForce(k,c),b.ApplyTorque(-b.GetInertia()/b.GetMass()*e*b.GetAngularVelocity()*this.angularDrag))}}}},box2d.b2BuoyancyController.prototype.Draw=function(a){var b=100,c=new box2d.b2Vec2,d=new box2d.b2Vec2,b=(c.x=this.normal.x*this.offset+this.normal.y*b,c.y=this.normal.y*this.offset-this.normal.x*b,d.x=this.normal.x*this.offset-this.normal.y*b,d.y=this.normal.y*this.offset+this.normal.x*b,new box2d.b2Color(0,0,.8));a.DrawSegment(c,d,b)},goog.provide("box2d.b2TensorDampingController"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Controller"),goog.require("box2d.b2Math"),box2d.b2TensorDampingController=function(){goog.base(this),this.T=new box2d.b2Mat22,this.maxTimestep=0},goog.inherits(box2d.b2TensorDampingController,box2d.b2Controller),box2d.b2TensorDampingController.prototype.T=new box2d.b2Mat22,box2d.b2TensorDampingController.prototype.maxTimestep=0,box2d.b2TensorDampingController.prototype.Step=function(a){var b=a.dt;if(!(b<=box2d.b2_epsilon)){b>this.maxTimestep&&0<this.maxTimestep&&(b=this.maxTimestep);for(var c=this.m_bodyList;c;c=c.nextBody){var e,d=c.body;d.IsAwake()&&(e=d.GetWorldVector(box2d.b2MulMV(this.T,d.GetLocalVector(d.GetLinearVelocity(),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1),box2d.b2TensorDampingController.prototype.Step.s_damping),d.SetLinearVelocity(box2d.b2AddVV(d.GetLinearVelocity(),box2d.b2MulSV(b,e,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t1)))}}},box2d.b2TensorDampingController.prototype.Step.s_damping=new box2d.b2Vec2,box2d.b2TensorDampingController.prototype.SetAxisAligned=function(a,b){this.T.ex.x=-a,this.T.ex.y=0,this.T.ey.x=0,this.T.ey.y=-b,this.maxTimestep=0<a||0<b?1/box2d.b2Max(a,b):0},goog.provide("box2d.b2DistanceJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2DistanceJointDef=function(){goog.base(this,box2d.b2JointType.e_distanceJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2},goog.inherits(box2d.b2DistanceJointDef,box2d.b2JointDef),box2d.b2DistanceJointDef.prototype.localAnchorA=null,box2d.b2DistanceJointDef.prototype.localAnchorB=null,box2d.b2DistanceJointDef.prototype.length=1,box2d.b2DistanceJointDef.prototype.frequencyHz=0,box2d.b2DistanceJointDef.prototype.dampingRatio=0,box2d.b2DistanceJointDef.prototype.Initialize=function(a,b,c,d){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(c,this.localAnchorA),this.bodyB.GetLocalPoint(d,this.localAnchorB),this.length=box2d.b2DistanceVV(c,d),this.frequencyHz=0,this.dampingRatio=0},box2d.b2DistanceJoint=function(a){goog.base(this,a),this.m_u=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_frequencyHz=a.frequencyHz,this.m_dampingRatio=a.dampingRatio,this.m_localAnchorA=a.localAnchorA.Clone(),this.m_localAnchorB=a.localAnchorB.Clone(),this.m_length=a.length},goog.inherits(box2d.b2DistanceJoint,box2d.b2Joint),box2d.b2DistanceJoint.prototype.m_frequencyHz=0,box2d.b2DistanceJoint.prototype.m_dampingRatio=0,box2d.b2DistanceJoint.prototype.m_bias=0,box2d.b2DistanceJoint.prototype.m_localAnchorA=null,box2d.b2DistanceJoint.prototype.m_localAnchorB=null,box2d.b2DistanceJoint.prototype.m_gamma=0,box2d.b2DistanceJoint.prototype.m_impulse=0,box2d.b2DistanceJoint.prototype.m_length=0,box2d.b2DistanceJoint.prototype.m_indexA=0,box2d.b2DistanceJoint.prototype.m_indexB=0,box2d.b2DistanceJoint.prototype.m_u=null,box2d.b2DistanceJoint.prototype.m_rA=null,box2d.b2DistanceJoint.prototype.m_rB=null,box2d.b2DistanceJoint.prototype.m_localCenterA=null,box2d.b2DistanceJoint.prototype.m_localCenterB=null,box2d.b2DistanceJoint.prototype.m_invMassA=0,box2d.b2DistanceJoint.prototype.m_invMassB=0,box2d.b2DistanceJoint.prototype.m_invIA=0,box2d.b2DistanceJoint.prototype.m_invIB=0,box2d.b2DistanceJoint.prototype.m_mass=0,box2d.b2DistanceJoint.prototype.m_qA=null,box2d.b2DistanceJoint.prototype.m_qB=null,box2d.b2DistanceJoint.prototype.m_lalcA=null,box2d.b2DistanceJoint.prototype.m_lalcB=null,box2d.b2DistanceJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2DistanceJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2DistanceJoint.prototype.GetReactionForce=function(a,b){return b.SetXY(a*this.m_impulse*this.m_u.x,a*this.m_impulse*this.m_u.y)},box2d.b2DistanceJoint.prototype.GetReactionTorque=function(){return 0},box2d.b2DistanceJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2DistanceJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2DistanceJoint.prototype.SetLength=function(a){this.m_length=a},box2d.b2DistanceJoint.prototype.GetLength=function(){return this.m_length},box2d.b2DistanceJoint.prototype.SetFrequency=function(a){this.m_frequencyHz=a},box2d.b2DistanceJoint.prototype.GetFrequency=function(){return this.m_frequencyHz},box2d.b2DistanceJoint.prototype.SetDampingRatio=function(a){this.m_dampingRatio=a},box2d.b2DistanceJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio},box2d.b2DistanceJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2DistanceJointDef*/ var jd = new box2d.b2DistanceJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.length = %.15f;\n",this.m_length),box2d.b2Log("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),box2d.b2Log("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},box2d.b2DistanceJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var t,b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.velocities[this.m_indexA].v,e=a.velocities[this.m_indexA].w,f=a.positions[this.m_indexB].c,g=a.positions[this.m_indexB].a,h=a.velocities[this.m_indexB].v,i=a.velocities[this.m_indexB].w,c=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(g),c=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(c,this.m_lalcA,this.m_rA),box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB),this.m_u.x=f.x+this.m_rB.x-b.x-this.m_rA.x,this.m_u.y=f.y+this.m_rB.y-b.y-this.m_rA.y,this.m_u.GetLength()),g=(c>box2d.b2_linearSlop?this.m_u.SelfMul(1/c):this.m_u.SetZero(),box2d.b2CrossVV(this.m_rA,this.m_u)),f=box2d.b2CrossVV(this.m_rB,this.m_u),b=this.m_invMassA+this.m_invIA*g*g+this.m_invMassB+this.m_invIB*f*f;this.m_mass=0!==b?1/b:0,0<this.m_frequencyHz?(g=c-this.m_length,f=2*box2d.b2_pi*this.m_frequencyHz,c=2*this.m_mass*this.m_dampingRatio*f,f=this.m_mass*f*f,t=a.step.dt,this.m_gamma=t*(c+t*f),this.m_gamma=0!==this.m_gamma?1/this.m_gamma:0,this.m_bias=g*t*f*this.m_gamma,b+=this.m_gamma,this.m_mass=0!==b?1/b:0):(this.m_gamma=0,this.m_bias=0),a.step.warmStarting?(this.m_impulse*=a.step.dtRatio,c=box2d.b2MulSV(this.m_impulse,this.m_u,box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P),d.SelfMulSub(this.m_invMassA,c),e-=this.m_invIA*box2d.b2CrossVV(this.m_rA,c),h.SelfMulAdd(this.m_invMassB,c),i+=this.m_invIB*box2d.b2CrossVV(this.m_rB,c)):this.m_impulse=0,a.velocities[this.m_indexA].w=e,a.velocities[this.m_indexB].w=i},box2d.b2DistanceJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA),g=box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB),g=box2d.b2DotVV(this.m_u,box2d.b2SubVV(g,f,box2d.b2Vec2.s_t0)),f=-this.m_mass*(g+this.m_bias+this.m_gamma*this.m_impulse),g=(this.m_impulse+=f,box2d.b2MulSV(f,this.m_u,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P));b.SelfMulSub(this.m_invMassA,g),c-=this.m_invIA*box2d.b2CrossVV(this.m_rA,g),d.SelfMulAdd(this.m_invMassB,g),e+=this.m_invIB*box2d.b2CrossVV(this.m_rB,g),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2,box2d.b2DistanceJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2DistanceJoint.prototype.SolvePositionConstraints=function(a){if(0<this.m_frequencyHz)return!0;var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=(this.m_qA.SetAngleRadians(c),this.m_qB.SetAngleRadians(e),box2d.b2MulRV(this.m_qA,this.m_lalcA,this.m_rA)),g=box2d.b2MulRV(this.m_qB,this.m_lalcB,this.m_rB),h=this.m_u;h.x=d.x+g.x-b.x-f.x,h.y=d.y+g.y-b.y-f.y;var j=this.m_u.Normalize()-this.m_length,j=box2d.b2Clamp(j,-box2d.b2_maxLinearCorrection,box2d.b2_maxLinearCorrection),k=-this.m_mass*j,k=box2d.b2MulSV(k,h,box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P);return b.SelfMulSub(this.m_invMassA,k),c-=this.m_invIA*box2d.b2CrossVV(f,k),d.SelfMulAdd(this.m_invMassB,k),e+=this.m_invIB*box2d.b2CrossVV(g,k),a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,box2d.b2Abs(j)<box2d.b2_linearSlop},box2d.b2DistanceJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2,goog.provide("box2d.b2FrictionJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2FrictionJointDef=function(){goog.base(this,box2d.b2JointType.e_frictionJoint),this.localAnchorA=new box2d.b2Vec2,this.localAnchorB=new box2d.b2Vec2},goog.inherits(box2d.b2FrictionJointDef,box2d.b2JointDef),box2d.b2FrictionJointDef.prototype.localAnchorA=null,box2d.b2FrictionJointDef.prototype.localAnchorB=null,box2d.b2FrictionJointDef.prototype.maxForce=0,box2d.b2FrictionJointDef.prototype.maxTorque=0,box2d.b2FrictionJointDef.prototype.Initialize=function(a,b,c){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(c,this.localAnchorA),this.bodyB.GetLocalPoint(c,this.localAnchorB)},box2d.b2FrictionJoint=function(a){goog.base(this,a),this.m_localAnchorA=a.localAnchorA.Clone(),this.m_localAnchorB=a.localAnchorB.Clone(),this.m_linearImpulse=(new box2d.b2Vec2).SetZero(),this.m_maxForce=a.maxForce,this.m_maxTorque=a.maxTorque,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_linearMass=(new box2d.b2Mat22).SetZero(),this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22},goog.inherits(box2d.b2FrictionJoint,box2d.b2Joint),box2d.b2FrictionJoint.prototype.m_localAnchorA=null,box2d.b2FrictionJoint.prototype.m_localAnchorB=null,box2d.b2FrictionJoint.prototype.m_linearImpulse=null,box2d.b2FrictionJoint.prototype.m_angularImpulse=0,box2d.b2FrictionJoint.prototype.m_maxForce=0,box2d.b2FrictionJoint.prototype.m_maxTorque=0,box2d.b2FrictionJoint.prototype.m_indexA=0,box2d.b2FrictionJoint.prototype.m_indexB=0,box2d.b2FrictionJoint.prototype.m_rA=null,box2d.b2FrictionJoint.prototype.m_rB=null,box2d.b2FrictionJoint.prototype.m_localCenterA=null,box2d.b2FrictionJoint.prototype.m_localCenterB=null,box2d.b2FrictionJoint.prototype.m_invMassA=0,box2d.b2FrictionJoint.prototype.m_invMassB=0,box2d.b2FrictionJoint.prototype.m_invIA=0,box2d.b2FrictionJoint.prototype.m_invIB=0,box2d.b2FrictionJoint.prototype.m_linearMass=null,box2d.b2FrictionJoint.prototype.m_angularMass=0,box2d.b2FrictionJoint.prototype.m_qA=null,box2d.b2FrictionJoint.prototype.m_qB=null,box2d.b2FrictionJoint.prototype.m_lalcA=null,box2d.b2FrictionJoint.prototype.m_lalcB=null,box2d.b2FrictionJoint.prototype.m_K=null,box2d.b2FrictionJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexA].a,c=a.velocities[this.m_indexA].v,d=a.velocities[this.m_indexA].w,e=a.positions[this.m_indexB].a,f=a.velocities[this.m_indexB].v,g=a.velocities[this.m_indexB].w,b=this.m_qA.SetAngleRadians(b),e=this.m_qB.SetAngleRadians(e),b=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(b,this.m_lalcA,this.m_rA)),e=(box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(e,this.m_lalcB,this.m_rB)),l=this.m_invMassA,m=this.m_invMassB,n=this.m_invIA,o=this.m_invIB,p=this.m_K;p.ex.x=l+m+n*b.y*b.y+o*e.y*e.y,p.ex.y=-n*b.x*b.y-o*e.x*e.y,p.ey.x=p.ex.y,p.ey.y=l+m+n*b.x*b.x+o*e.x*e.x,p.GetInverse(this.m_linearMass),this.m_angularMass=n+o,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),a.step.warmStarting?(this.m_linearImpulse.SelfMul(a.step.dtRatio),this.m_angularImpulse*=a.step.dtRatio,b=this.m_linearImpulse,c.SelfMulSub(l,b),d-=n*(box2d.b2CrossVV(this.m_rA,b)+this.m_angularImpulse),f.SelfMulAdd(m,b),g+=o*(box2d.b2CrossVV(this.m_rB,b)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),a.velocities[this.m_indexA].w=d,a.velocities[this.m_indexB].w=g},box2d.b2FrictionJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=this.m_invMassA,g=this.m_invMassB,h=this.m_invIA,i=this.m_invIB,j=a.step.dt,l=-this.m_angularMass*(e-c),m=this.m_angularImpulse,n=j*this.m_maxTorque,m=(this.m_angularImpulse=box2d.b2Clamp(this.m_angularImpulse+l,-n,n),c-=h*(l=this.m_angularImpulse-m),e+=i*l,box2d.b2SubVV(box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2Vec2.s_t0),box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2Vec2.s_t1),box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot)),l=box2d.b2MulMV(this.m_linearMass,m,box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV).SelfNeg(),m=box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV.Copy(this.m_linearImpulse),n=(this.m_linearImpulse.SelfAdd(l),j*this.m_maxForce);this.m_linearImpulse.GetLengthSquared()>n*n&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(n)),box2d.b2SubVV(this.m_linearImpulse,m,l),b.SelfMulSub(f,l),c-=h*box2d.b2CrossVV(this.m_rA,l),d.SelfMulAdd(g,l),e+=i*box2d.b2CrossVV(this.m_rB,l),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2,box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_impulseV=new box2d.b2Vec2,box2d.b2FrictionJoint.prototype.SolveVelocityConstraints.s_oldImpulseV=new box2d.b2Vec2,box2d.b2FrictionJoint.prototype.SolvePositionConstraints=function(){return!0},box2d.b2FrictionJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2FrictionJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2FrictionJoint.prototype.GetReactionForce=function(a,b){return b.SetXY(a*this.m_linearImpulse.x,a*this.m_linearImpulse.y)},box2d.b2FrictionJoint.prototype.GetReactionTorque=function(a){return a*this.m_angularImpulse},box2d.b2FrictionJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2FrictionJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2FrictionJoint.prototype.SetMaxForce=function(a){this.m_maxForce=a},box2d.b2FrictionJoint.prototype.GetMaxForce=function(){return this.m_maxForce},box2d.b2FrictionJoint.prototype.SetMaxTorque=function(a){this.m_maxTorque=a},box2d.b2FrictionJoint.prototype.GetMaxTorque=function(){return this.m_maxTorque},box2d.b2FrictionJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2FrictionJointDef*/ var jd = new box2d.b2FrictionJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.maxForce = %.15f;\n",this.m_maxForce),box2d.b2Log("  jd.maxTorque = %.15f;\n",this.m_maxTorque),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2MouseJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2MouseJointDef=function(){goog.base(this,box2d.b2JointType.e_mouseJoint),this.target=new box2d.b2Vec2},goog.inherits(box2d.b2MouseJointDef,box2d.b2JointDef),box2d.b2MouseJointDef.prototype.target=null,box2d.b2MouseJointDef.prototype.maxForce=0,box2d.b2MouseJointDef.prototype.frequencyHz=5,box2d.b2MouseJointDef.prototype.dampingRatio=.7,box2d.b2MouseJoint=function(a){goog.base(this,a),this.m_localAnchorB=new box2d.b2Vec2,this.m_targetA=new box2d.b2Vec2,this.m_impulse=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_mass=new box2d.b2Mat22,this.m_C=new box2d.b2Vec2,this.m_qB=new box2d.b2Rot,this.m_lalcB=new box2d.b2Vec2,this.m_K=new box2d.b2Mat22,box2d.ENABLE_ASSERTS&&box2d.b2Assert(a.target.IsValid()),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.maxForce)&&0<=a.maxForce),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.frequencyHz)&&0<=a.frequencyHz),box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a.dampingRatio)&&0<=a.dampingRatio),this.m_targetA.Copy(a.target),box2d.b2MulTXV(this.m_bodyB.GetTransform(),this.m_targetA,this.m_localAnchorB),this.m_maxForce=a.maxForce,this.m_impulse.SetZero(),this.m_frequencyHz=a.frequencyHz,this.m_dampingRatio=a.dampingRatio,this.m_beta=0,this.m_gamma=0},goog.inherits(box2d.b2MouseJoint,box2d.b2Joint),box2d.b2MouseJoint.prototype.m_localAnchorB=null,box2d.b2MouseJoint.prototype.m_targetA=null,box2d.b2MouseJoint.prototype.m_frequencyHz=0,box2d.b2MouseJoint.prototype.m_dampingRatio=0,box2d.b2MouseJoint.prototype.m_beta=0,box2d.b2MouseJoint.prototype.m_impulse=null,box2d.b2MouseJoint.prototype.m_maxForce=0,box2d.b2MouseJoint.prototype.m_gamma=0,box2d.b2MouseJoint.prototype.m_indexA=0,box2d.b2MouseJoint.prototype.m_indexB=0,box2d.b2MouseJoint.prototype.m_rB=null,box2d.b2MouseJoint.prototype.m_localCenterB=null,box2d.b2MouseJoint.prototype.m_invMassB=0,box2d.b2MouseJoint.prototype.m_invIB=0,box2d.b2MouseJoint.prototype.m_mass=null,box2d.b2MouseJoint.prototype.m_C=null,box2d.b2MouseJoint.prototype.m_qB=null,box2d.b2MouseJoint.prototype.m_lalcB=null,box2d.b2MouseJoint.prototype.m_K=null,box2d.b2MouseJoint.prototype.SetTarget=function(a){!1===this.m_bodyB.IsAwake()&&this.m_bodyB.SetAwake(!0),this.m_targetA.Copy(a)},box2d.b2MouseJoint.prototype.GetTarget=function(a){return a.Copy(this.m_targetA)},box2d.b2MouseJoint.prototype.SetMaxForce=function(a){this.m_maxForce=a},box2d.b2MouseJoint.prototype.GetMaxForce=function(){return this.m_maxForce},box2d.b2MouseJoint.prototype.SetFrequency=function(a){this.m_frequencyHz=a},box2d.b2MouseJoint.prototype.GetFrequency=function(){return this.m_frequencyHz},box2d.b2MouseJoint.prototype.SetDampingRatio=function(a){this.m_dampingRatio=a},box2d.b2MouseJoint.prototype.GetDampingRatio=function(){return this.m_dampingRatio},box2d.b2MouseJoint.prototype.InitVelocityConstraints=function(a){this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexB].c,c=a.positions[this.m_indexB].a,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,c=this.m_qB.SetAngleRadians(c),g=this.m_bodyB.GetMass(),h=2*box2d.b2_pi*this.m_frequencyHz,i=2*g*this.m_dampingRatio*h,g=g*h*h,h=a.step.dt,i=(box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2_epsilon<i+h*g),this.m_gamma=h*(i+h*g),0!==this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_beta=h*g*this.m_gamma,box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(c,this.m_lalcB,this.m_rB),this.m_K);i.ex.x=this.m_invMassB+this.m_invIB*this.m_rB.y*this.m_rB.y+this.m_gamma,i.ex.y=-this.m_invIB*this.m_rB.x*this.m_rB.y,i.ey.x=i.ex.y,i.ey.y=this.m_invMassB+this.m_invIB*this.m_rB.x*this.m_rB.x+this.m_gamma,i.GetInverse(this.m_mass),this.m_C.x=b.x+this.m_rB.x-this.m_targetA.x,this.m_C.y=b.y+this.m_rB.y-this.m_targetA.y,this.m_C.SelfMul(this.m_beta),e*=.98,a.step.warmStarting?(this.m_impulse.SelfMul(a.step.dtRatio),d.x+=this.m_invMassB*this.m_impulse.x,d.y+=this.m_invMassB*this.m_impulse.y,e+=this.m_invIB*box2d.b2CrossVV(this.m_rB,this.m_impulse)):this.m_impulse.SetZero(),a.velocities[this.m_indexB].w=e},box2d.b2MouseJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexB].v,c=a.velocities[this.m_indexB].w,d=box2d.b2AddVCrossSV(b,c,this.m_rB,box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot),d=box2d.b2MulMV(this.m_mass,box2d.b2AddVV(d,box2d.b2AddVV(this.m_C,box2d.b2MulSV(this.m_gamma,this.m_impulse,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0).SelfNeg(),box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse),f=box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this.m_impulse),g=(this.m_impulse.SelfAdd(d),a.step.dt*this.m_maxForce);this.m_impulse.GetLengthSquared()>g*g&&this.m_impulse.SelfMul(g/this.m_impulse.GetLength()),box2d.b2SubVV(this.m_impulse,f,d),b.SelfMulAdd(this.m_invMassB,d),c+=this.m_invIB*box2d.b2CrossVV(this.m_rB,d),a.velocities[this.m_indexB].w=c},box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2,box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec2,box2d.b2MouseJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d.b2Vec2,box2d.b2MouseJoint.prototype.SolvePositionConstraints=function(){return!0},box2d.b2MouseJoint.prototype.GetAnchorA=function(a){return a.Copy(this.m_targetA)},box2d.b2MouseJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2MouseJoint.prototype.GetReactionForce=function(a,b){return box2d.b2MulSV(a,this.m_impulse,b)},box2d.b2MouseJoint.prototype.GetReactionTorque=function(){return 0},box2d.b2MouseJoint.prototype.Dump=function(){box2d.DEBUG&&box2d.b2Log("Mouse joint dumping is not supported.\n")},box2d.b2MouseJoint.prototype.ShiftOrigin=function(a){this.m_targetA.SelfSub(a)},goog.provide("box2d.b2ConstantForceController"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Controller"),goog.require("box2d.b2Math"),box2d.b2ConstantForceController=function(){goog.base(this),this.F=new box2d.b2Vec2(0,0)},goog.inherits(box2d.b2ConstantForceController,box2d.b2Controller),box2d.b2ConstantAccelController.prototype.F=null,box2d.b2ConstantForceController.prototype.Step=function(){for(var a=this.m_bodyList;a;a=a.nextBody){var b=a.body;b.IsAwake()&&b.ApplyForce(this.F,b.GetWorldCenter())}},goog.provide("box2d.b2PulleyJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Joint"),goog.require("box2d.b2Math"),box2d.b2_minPulleyLength=2,box2d.b2PulleyJointDef=function(){goog.base(this,box2d.b2JointType.e_pulleyJoint),this.collideConnected=!0,this.groundAnchorA=new box2d.b2Vec2(-1,1),this.groundAnchorB=new box2d.b2Vec2(1,1),this.localAnchorA=new box2d.b2Vec2(-1,0),this.localAnchorB=new box2d.b2Vec2(1,0)},goog.inherits(box2d.b2PulleyJointDef,box2d.b2JointDef),box2d.b2PulleyJointDef.prototype.groundAnchorA=null,box2d.b2PulleyJointDef.prototype.groundAnchorB=null,box2d.b2PulleyJointDef.prototype.localAnchorA=null,box2d.b2PulleyJointDef.prototype.localAnchorB=null,box2d.b2PulleyJointDef.prototype.lengthA=0,box2d.b2PulleyJointDef.prototype.lengthB=0,box2d.b2PulleyJointDef.prototype.ratio=1,box2d.b2PulleyJointDef.prototype.Initialize=function(a,b,c,d,e,f,g){this.bodyA=a,this.bodyB=b,this.groundAnchorA.Copy(c),this.groundAnchorB.Copy(d),this.bodyA.GetLocalPoint(e,this.localAnchorA),this.bodyB.GetLocalPoint(f,this.localAnchorB),this.lengthA=box2d.b2DistanceVV(e,c),this.lengthB=box2d.b2DistanceVV(f,d),this.ratio=g,box2d.ENABLE_ASSERTS&&box2d.b2Assert(this.ratio>box2d.b2_epsilon)},box2d.b2PulleyJoint=function(a){goog.base(this,a),this.m_groundAnchorA=new box2d.b2Vec2,this.m_groundAnchorB=new box2d.b2Vec2,this.m_localAnchorA=new box2d.b2Vec2,this.m_localAnchorB=new box2d.b2Vec2,this.m_uA=new box2d.b2Vec2,this.m_uB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_groundAnchorA.Copy(a.groundAnchorA),this.m_groundAnchorB.Copy(a.groundAnchorB),this.m_localAnchorA.Copy(a.localAnchorA),this.m_localAnchorB.Copy(a.localAnchorB),this.m_lengthA=a.lengthA,this.m_lengthB=a.lengthB,box2d.ENABLE_ASSERTS&&box2d.b2Assert(0!==a.ratio),this.m_ratio=a.ratio,this.m_constant=a.lengthA+this.m_ratio*a.lengthB,this.m_impulse=0},goog.inherits(box2d.b2PulleyJoint,box2d.b2Joint),box2d.b2PulleyJoint.prototype.m_groundAnchorA=null,box2d.b2PulleyJoint.prototype.m_groundAnchorB=null,box2d.b2PulleyJoint.prototype.m_lengthA=0,box2d.b2PulleyJoint.prototype.m_lengthB=0,box2d.b2PulleyJoint.prototype.m_localAnchorA=null,box2d.b2PulleyJoint.prototype.m_localAnchorB=null,box2d.b2PulleyJoint.prototype.m_constant=0,box2d.b2PulleyJoint.prototype.m_ratio=0,box2d.b2PulleyJoint.prototype.m_impulse=0,box2d.b2PulleyJoint.prototype.m_indexA=0,box2d.b2PulleyJoint.prototype.m_indexB=0,box2d.b2PulleyJoint.prototype.m_uA=null,box2d.b2PulleyJoint.prototype.m_uB=null,box2d.b2PulleyJoint.prototype.m_rA=null,box2d.b2PulleyJoint.prototype.m_rB=null,box2d.b2PulleyJoint.prototype.m_localCenterA=null,box2d.b2PulleyJoint.prototype.m_localCenterB=null,box2d.b2PulleyJoint.prototype.m_invMassA=0,box2d.b2PulleyJoint.prototype.m_invMassB=0,box2d.b2PulleyJoint.prototype.m_invIA=0,box2d.b2PulleyJoint.prototype.m_invIB=0,box2d.b2PulleyJoint.prototype.m_mass=0,box2d.b2PulleyJoint.prototype.m_qA=null,box2d.b2PulleyJoint.prototype.m_qB=null,box2d.b2PulleyJoint.prototype.m_lalcA=null,box2d.b2PulleyJoint.prototype.m_lalcB=null,box2d.b2PulleyJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.velocities[this.m_indexA].v,e=a.velocities[this.m_indexA].w,f=a.positions[this.m_indexB].c,g=a.positions[this.m_indexB].a,h=a.velocities[this.m_indexB].v,i=a.velocities[this.m_indexB].w,c=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(g),c=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(c,this.m_lalcA,this.m_rA),box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB),this.m_uA.Copy(b).SelfAdd(this.m_rA).SelfSub(this.m_groundAnchorA),this.m_uB.Copy(f).SelfAdd(this.m_rB).SelfSub(this.m_groundAnchorB),this.m_uA.GetLength()),g=this.m_uB.GetLength(),b=(c>10*box2d.b2_linearSlop?this.m_uA.SelfMul(1/c):this.m_uA.SetZero(),10*box2d.b2_linearSlop<g?this.m_uB.SelfMul(1/g):this.m_uB.SetZero(),box2d.b2CrossVV(this.m_rA,this.m_uA)),f=box2d.b2CrossVV(this.m_rB,this.m_uB),c=this.m_invMassA+this.m_invIA*b*b,g=this.m_invMassB+this.m_invIB*f*f;this.m_mass=c+this.m_ratio*this.m_ratio*g,0<this.m_mass&&(this.m_mass=1/this.m_mass),a.step.warmStarting?(this.m_impulse*=a.step.dtRatio,b=box2d.b2MulSV(-this.m_impulse,this.m_uA,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA),f=box2d.b2MulSV(-this.m_ratio*this.m_impulse,this.m_uB,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB),d.SelfMulAdd(this.m_invMassA,b),e+=this.m_invIA*box2d.b2CrossVV(this.m_rA,b),h.SelfMulAdd(this.m_invMassB,f),i+=this.m_invIB*box2d.b2CrossVV(this.m_rB,f)):this.m_impulse=0,a.velocities[this.m_indexA].w=e,a.velocities[this.m_indexB].w=i},box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PA=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.InitVelocityConstraints.s_PB=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=box2d.b2AddVCrossSV(b,c,this.m_rA,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA),g=box2d.b2AddVCrossSV(d,e,this.m_rB,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB),f=-box2d.b2DotVV(this.m_uA,f)-this.m_ratio*box2d.b2DotVV(this.m_uB,g),g=-this.m_mass*f,f=(this.m_impulse+=g,box2d.b2MulSV(-g,this.m_uA,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA)),g=box2d.b2MulSV(-this.m_ratio*g,this.m_uB,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB);b.SelfMulAdd(this.m_invMassA,f),c+=this.m_invIA*box2d.b2CrossVV(this.m_rA,f),d.SelfMulAdd(this.m_invMassB,g),e+=this.m_invIB*box2d.b2CrossVV(this.m_rB,g),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpA=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_vpB=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PA=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.SolveVelocityConstraints.s_PB=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.SolvePositionConstraints=function(a){var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(e),f=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(f,this.m_lalcA,this.m_rA)),g=(box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(g,this.m_lalcB,this.m_rB)),j=this.m_uA.Copy(b).SelfAdd(f).SelfSub(this.m_groundAnchorA),k=this.m_uB.Copy(d).SelfAdd(g).SelfSub(this.m_groundAnchorB),l=j.GetLength(),m=k.GetLength(),n=(l>10*box2d.b2_linearSlop?j.SelfMul(1/l):j.SetZero(),10*box2d.b2_linearSlop<m?k.SelfMul(1/m):k.SetZero(),box2d.b2CrossVV(f,j)),o=box2d.b2CrossVV(g,k),n=this.m_invMassA+this.m_invIA*n*n,o=this.m_invMassB+this.m_invIB*o*o,n=n+this.m_ratio*this.m_ratio*o,o=(0<n&&(n=1/n),this.m_constant-l-this.m_ratio*m),l=box2d.b2Abs(o),m=-n*o,n=box2d.b2MulSV(-m,j,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA),o=box2d.b2MulSV(-this.m_ratio*m,k,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB);return b.SelfMulAdd(this.m_invMassA,n),c+=this.m_invIA*box2d.b2CrossVV(f,n),d.SelfMulAdd(this.m_invMassB,o),e+=this.m_invIB*box2d.b2CrossVV(g,o),a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,l<box2d.b2_linearSlop},box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PA=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.SolvePositionConstraints.s_PB=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2PulleyJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2PulleyJoint.prototype.GetReactionForce=function(a,b){return b.SetXY(a*this.m_impulse*this.m_uB.x,a*this.m_impulse*this.m_uB.y)},box2d.b2PulleyJoint.prototype.GetReactionTorque=function(){return 0},box2d.b2PulleyJoint.prototype.GetGroundAnchorA=function(a){return a.Copy(this.m_groundAnchorA)},box2d.b2PulleyJoint.prototype.GetGroundAnchorB=function(a){return a.Copy(this.m_groundAnchorB)},box2d.b2PulleyJoint.prototype.GetLengthA=function(){return this.m_lengthA},box2d.b2PulleyJoint.prototype.GetLengthB=function(){return this.m_lengthB},box2d.b2PulleyJoint.prototype.GetRatio=function(){return this.m_ratio},box2d.b2PulleyJoint.prototype.GetCurrentLengthA=function(){var a=this.m_bodyA.GetWorldPoint(this.m_localAnchorA,box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p),b=this.m_groundAnchorA;return box2d.b2DistanceVV(a,b)},box2d.b2PulleyJoint.prototype.GetCurrentLengthA.s_p=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.GetCurrentLengthB=function(){var a=this.m_bodyB.GetWorldPoint(this.m_localAnchorB,box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p),b=this.m_groundAnchorB;return box2d.b2DistanceVV(a,b)},box2d.b2PulleyJoint.prototype.GetCurrentLengthB.s_p=new box2d.b2Vec2,box2d.b2PulleyJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2PulleyJointDef*/ var jd = new box2d.b2PulleyJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.groundAnchorA.SetXY(%.15f, %.15f);\n",this.m_groundAnchorA.x,this.m_groundAnchorA.y),box2d.b2Log("  jd.groundAnchorB.SetXY(%.15f, %.15f);\n",this.m_groundAnchorB.x,this.m_groundAnchorB.y),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.lengthA = %.15f;\n",this.m_lengthA),box2d.b2Log("  jd.lengthB = %.15f;\n",this.m_lengthB),box2d.b2Log("  jd.ratio = %.15f;\n",this.m_ratio),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},box2d.b2PulleyJoint.prototype.ShiftOrigin=function(a){this.m_groundAnchorA.SelfSub(a),this.m_groundAnchorB.SelfSub(a)},goog.provide("box2d.b2CircleShape"),goog.require("box2d.b2Shape"),box2d.b2CircleShape=function(a){goog.base(this,box2d.b2ShapeType.e_circleShape,a||0),this.m_p=new box2d.b2Vec2},goog.inherits(box2d.b2CircleShape,box2d.b2Shape),box2d.b2CircleShape.prototype.m_p=null,box2d.b2CircleShape.prototype.Clone=function(){return(new box2d.b2CircleShape).Copy(this)},box2d.b2CircleShape.prototype.Copy=function(a){return goog.base(this,"Copy",a),box2d.ENABLE_ASSERTS&&box2d.b2Assert(a instanceof box2d.b2CircleShape),this.m_p.Copy(a.m_p),this},box2d.b2CircleShape.prototype.GetChildCount=function(){return 1},box2d.b2CircleShape.prototype.TestPoint=function(a,b){a=box2d.b2MulXV(a,this.m_p,box2d.b2CircleShape.prototype.TestPoint.s_center),b=box2d.b2SubVV(b,a,box2d.b2CircleShape.prototype.TestPoint.s_d);return box2d.b2DotVV(b,b)<=box2d.b2Sq(this.m_radius)},box2d.b2CircleShape.prototype.TestPoint.s_center=new box2d.b2Vec2,box2d.b2CircleShape.prototype.TestPoint.s_d=new box2d.b2Vec2,box2d.b2CircleShape.prototype.RayCast=function(a,b,c){var c=box2d.b2MulXV(c,this.m_p,box2d.b2CircleShape.prototype.RayCast.s_position),c=box2d.b2SubVV(b.p1,c,box2d.b2CircleShape.prototype.RayCast.s_s),f=box2d.b2DotVV(c,c)-box2d.b2Sq(this.m_radius),g=box2d.b2SubVV(b.p2,b.p1,box2d.b2CircleShape.prototype.RayCast.s_r),h=box2d.b2DotVV(c,g),i=box2d.b2DotVV(g,g),f=h*h-i*f;return!(f<0||i<box2d.b2_epsilon)&&0<=(h=-(h+box2d.b2Sqrt(f)))&&h<=b.maxFraction*i&&(a.fraction=h/=i,box2d.b2AddVMulSV(c,h,g,a.normal).SelfNormalize(),!0)},box2d.b2CircleShape.prototype.RayCast.s_position=new box2d.b2Vec2,box2d.b2CircleShape.prototype.RayCast.s_s=new box2d.b2Vec2,box2d.b2CircleShape.prototype.RayCast.s_r=new box2d.b2Vec2,box2d.b2CircleShape.prototype.ComputeAABB=function(a,b){b=box2d.b2MulXV(b,this.m_p,box2d.b2CircleShape.prototype.ComputeAABB.s_p);a.lowerBound.SetXY(b.x-this.m_radius,b.y-this.m_radius),a.upperBound.SetXY(b.x+this.m_radius,b.y+this.m_radius)},box2d.b2CircleShape.prototype.ComputeAABB.s_p=new box2d.b2Vec2,box2d.b2CircleShape.prototype.ComputeMass=function(a,b){var c=box2d.b2Sq(this.m_radius);a.mass=b*box2d.b2_pi*c,a.center.Copy(this.m_p),a.I=a.mass*(.5*c+box2d.b2DotVV(this.m_p,this.m_p))},box2d.b2CircleShape.prototype.SetupDistanceProxy=function(a){a.m_vertices=new Array(1,!0),a.m_vertices[0]=this.m_p,a.m_count=1,a.m_radius=this.m_radius},box2d.b2CircleShape.prototype.ComputeSubmergedArea=function(a,b,c,d){var h,g,c=box2d.b2MulXV(c,this.m_p,new box2d.b2Vec2),b=-(box2d.b2DotVV(a,c)-b);return b<-this.m_radius+box2d.b2_epsilon?0:b>this.m_radius?(d.Copy(c),box2d.b2_pi*this.m_radius*this.m_radius):(h=b*b,b=(g=this.m_radius*this.m_radius)*(box2d.b2Asin(b/this.m_radius)+box2d.b2_pi/2)+b*box2d.b2Sqrt(g-h),g=-2/3*box2d.b2Pow(g-h,1.5)/b,d.x=c.x+a.x*g,d.y=c.y+a.y*g,b)},box2d.b2CircleShape.prototype.Dump=function(){box2d.b2Log("    /*box2d.b2CircleShape*/ var shape = new box2d.b2CircleShape();\n"),box2d.b2Log("    shape.m_radius = %.15f;\n",this.m_radius),box2d.b2Log("    shape.m_p.SetXY(%.15f, %.15f);\n",this.m_p.x,this.m_p.y)},goog.provide("box2d.b2Rope"),goog.require("box2d.b2Math"),goog.require("box2d.b2Draw"),box2d.b2RopeDef=function(){this.vertices=new Array,this.masses=new Array,this.gravity=new box2d.b2Vec2},box2d.b2RopeDef.prototype.vertices=null,box2d.b2RopeDef.prototype.count=0,box2d.b2RopeDef.prototype.masses=null,box2d.b2RopeDef.prototype.gravity=null,box2d.b2RopeDef.prototype.damping=.1,box2d.b2RopeDef.prototype.k2=.9,box2d.b2RopeDef.prototype.k3=.1,box2d.b2Rope=function(){this.m_gravity=new box2d.b2Vec2},box2d.b2Rope.prototype.m_count=0,box2d.b2Rope.prototype.m_ps=null,box2d.b2Rope.prototype.m_p0s=null,box2d.b2Rope.prototype.m_vs=null,box2d.b2Rope.prototype.m_ims=null,box2d.b2Rope.prototype.m_Ls=null,box2d.b2Rope.prototype.m_as=null,box2d.b2Rope.prototype.m_gravity=null,box2d.b2Rope.prototype.m_damping=0,box2d.b2Rope.prototype.m_k2=1,box2d.b2Rope.prototype.m_k3=.1,box2d.b2Rope.prototype.GetVertexCount=function(){return this.m_count},box2d.b2Rope.prototype.GetVertices=function(){return this.m_ps},box2d.b2Rope.prototype.Initialize=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(3<=a.count),this.m_count=a.count,this.m_ps=box2d.b2Vec2.MakeArray(this.m_count),this.m_p0s=box2d.b2Vec2.MakeArray(this.m_count),this.m_vs=box2d.b2Vec2.MakeArray(this.m_count),this.m_ims=box2d.b2MakeNumberArray(this.m_count);for(var b=0;b<this.m_count;++b){this.m_ps[b].Copy(a.vertices[b]),this.m_p0s[b].Copy(a.vertices[b]),this.m_vs[b].SetZero();var c=a.masses[b];this.m_ims[b]=0<c?1/c:0}var d=this.m_count-1,e=this.m_count-2;this.m_Ls=box2d.b2MakeNumberArray(d),this.m_as=box2d.b2MakeNumberArray(e);for(b=0;b<d;++b){var f=this.m_ps[b],g=this.m_ps[b+1];this.m_Ls[b]=box2d.b2DistanceVV(f,g)}for(b=0;b<e;++b){var f=this.m_ps[b],g=this.m_ps[b+1],h=this.m_ps[b+2],i=box2d.b2SubVV(g,f,box2d.b2Vec2.s_t0),h=box2d.b2SubVV(h,g,box2d.b2Vec2.s_t1),k=box2d.b2CrossVV(i,h),i=box2d.b2DotVV(i,h);this.m_as[b]=box2d.b2Atan2(k,i)}this.m_gravity.Copy(a.gravity),this.m_damping=a.damping,this.m_k2=a.k2,this.m_k3=a.k3},box2d.b2Rope.prototype.Step=function(a,b){if(0!==a){for(var c=Math.exp(-a*this.m_damping),d=0;d<this.m_count;++d)this.m_p0s[d].Copy(this.m_ps[d]),0<this.m_ims[d]&&this.m_vs[d].SelfMulAdd(a,this.m_gravity),this.m_vs[d].SelfMul(c),this.m_ps[d].SelfMulAdd(a,this.m_vs[d]);for(d=0;d<b;++d)this.SolveC2(),this.SolveC3(),this.SolveC2();for(var e=1/a,d=0;d<this.m_count;++d)box2d.b2MulSV(e,box2d.b2SubVV(this.m_ps[d],this.m_p0s[d],box2d.b2Vec2.s_t0),this.m_vs[d])}},box2d.b2Rope.prototype.SolveC2=function(){for(var a=this.m_count-1,b=0;b<a;++b){var j,c=this.m_ps[b],d=this.m_ps[b+1],e=box2d.b2SubVV(d,c,box2d.b2Rope.s_d),f=e.Normalize(),g=this.m_ims[b],h=this.m_ims[b+1];g+h!==0&&(j=h/(g+h),c.SelfMulSub(this.m_k2*(g/(g+h))*(this.m_Ls[b]-f),e),d.SelfMulAdd(this.m_k2*j*(this.m_Ls[b]-f),e))}},box2d.b2Rope.s_d=new box2d.b2Vec2,box2d.b2Rope.prototype.SetAngleRadians=function(a){for(var b=this.m_count-2,c=0;c<b;++c)this.m_as[c]=a},box2d.b2Rope.prototype.SolveC3=function(){for(var a=this.m_count-2,b=0;b<a;++b){var c=this.m_ps[b],d=this.m_ps[b+1],e=this.m_ps[b+2],f=this.m_ims[b],g=this.m_ims[b+1],h=this.m_ims[b+2],i=box2d.b2SubVV(d,c,box2d.b2Rope.s_d1),j=box2d.b2SubVV(e,d,box2d.b2Rope.s_d2),k=i.GetLengthSquared(),l=j.GetLengthSquared();if(k*l!=0){var m=box2d.b2CrossVV(i,j),n=box2d.b2DotVV(i,j),o=box2d.b2Atan2(m,n),m=box2d.b2MulSV(-1/k,i.SelfSkew(),box2d.b2Rope.s_Jd1),n=box2d.b2MulSV(1/l,j.SelfSkew(),box2d.b2Rope.s_Jd2),k=box2d.b2NegV(m,box2d.b2Rope.s_J1),i=box2d.b2SubVV(m,n,box2d.b2Rope.s_J2),l=n;if(0!=(j=f*box2d.b2DotVV(k,k)+g*box2d.b2DotVV(i,i)+h*box2d.b2DotVV(l,l))){for(var j=1/j,v=o-this.m_as[b];v>box2d.b2_pi;)v=(o-=2*box2d.b2_pi)-this.m_as[b];for(;v<-box2d.b2_pi;)v=(o+=2*box2d.b2_pi)-this.m_as[b];m=-this.m_k3*j*v;c.SelfMulAdd(f*m,k),d.SelfMulAdd(g*m,i),e.SelfMulAdd(h*m,l)}}}},box2d.b2Rope.s_d1=new box2d.b2Vec2,box2d.b2Rope.s_d2=new box2d.b2Vec2,box2d.b2Rope.s_Jd1=new box2d.b2Vec2,box2d.b2Rope.s_Jd2=new box2d.b2Vec2,box2d.b2Rope.s_J1=new box2d.b2Vec2,box2d.b2Rope.s_J2=new box2d.b2Vec2,box2d.b2Rope.prototype.Draw=function(a){for(var b=new box2d.b2Color(.4,.5,.7),c=0;c<this.m_count-1;++c)a.DrawSegment(this.m_ps[c],this.m_ps[c+1],b)},goog.provide("box2d.b2WheelJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),box2d.b2WheelJointDef=function(){goog.base(this,box2d.b2JointType.e_wheelJoint),this.localAnchorA=new box2d.b2Vec2(0,0),this.localAnchorB=new box2d.b2Vec2(0,0),this.localAxisA=new box2d.b2Vec2(1,0)},goog.inherits(box2d.b2WheelJointDef,box2d.b2JointDef),box2d.b2WheelJointDef.prototype.localAnchorA=null,box2d.b2WheelJointDef.prototype.localAnchorB=null,box2d.b2WheelJointDef.prototype.localAxisA=null,box2d.b2WheelJointDef.prototype.enableMotor=!1,box2d.b2WheelJointDef.prototype.maxMotorTorque=0,box2d.b2WheelJointDef.prototype.motorSpeed=0,box2d.b2WheelJointDef.prototype.frequencyHz=2,box2d.b2WheelJointDef.prototype.dampingRatio=.7,box2d.b2WheelJointDef.prototype.Initialize=function(a,b,c,d){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(c,this.localAnchorA),this.bodyB.GetLocalPoint(c,this.localAnchorB),this.bodyA.GetLocalVector(d,this.localAxisA)},box2d.b2WheelJoint=function(a){goog.base(this,a),this.m_frequencyHz=a.frequencyHz,this.m_dampingRatio=a.dampingRatio,this.m_localAnchorA=a.localAnchorA.Clone(),this.m_localAnchorB=a.localAnchorB.Clone(),this.m_localXAxisA=a.localAxisA.Clone(),this.m_localYAxisA=box2d.b2CrossOneV(this.m_localXAxisA,new box2d.b2Vec2),this.m_maxMotorTorque=a.maxMotorTorque,this.m_motorSpeed=a.motorSpeed,this.m_enableMotor=a.enableMotor,this.m_localCenterA=new box2d.b2Vec2,this.m_localCenterB=new box2d.b2Vec2,this.m_ax=new box2d.b2Vec2,this.m_ay=new box2d.b2Vec2,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_lalcA=new box2d.b2Vec2,this.m_lalcB=new box2d.b2Vec2,this.m_rA=new box2d.b2Vec2,this.m_rB=new box2d.b2Vec2,this.m_ax.SetZero(),this.m_ay.SetZero()},goog.inherits(box2d.b2WheelJoint,box2d.b2Joint),box2d.b2WheelJoint.prototype.m_frequencyHz=0,box2d.b2WheelJoint.prototype.m_dampingRatio=0,box2d.b2WheelJoint.prototype.m_localAnchorA=null,box2d.b2WheelJoint.prototype.m_localAnchorB=null,box2d.b2WheelJoint.prototype.m_localXAxisA=null,box2d.b2WheelJoint.prototype.m_localYAxisA=null,box2d.b2WheelJoint.prototype.m_impulse=0,box2d.b2WheelJoint.prototype.m_motorImpulse=0,box2d.b2WheelJoint.prototype.m_springImpulse=0,box2d.b2WheelJoint.prototype.m_maxMotorTorque=0,box2d.b2WheelJoint.prototype.m_motorSpeed=0,box2d.b2WheelJoint.prototype.m_enableMotor=!1,box2d.b2WheelJoint.prototype.m_indexA=0,box2d.b2WheelJoint.prototype.m_indexB=0,box2d.b2WheelJoint.prototype.m_localCenterA=null,box2d.b2WheelJoint.prototype.m_localCenterB=null,box2d.b2WheelJoint.prototype.m_invMassA=0,box2d.b2WheelJoint.prototype.m_invMassB=0,box2d.b2WheelJoint.prototype.m_invIA=0,box2d.b2WheelJoint.prototype.m_invIB=0,box2d.b2WheelJoint.prototype.m_ax=null,box2d.b2WheelJoint.prototype.m_ay=null,box2d.b2WheelJoint.prototype.m_sAx=0,box2d.b2WheelJoint.prototype.m_sBx=0,box2d.b2WheelJoint.prototype.m_sAy=0,box2d.b2WheelJoint.prototype.m_sBy=0,box2d.b2WheelJoint.prototype.m_mass=0,box2d.b2WheelJoint.prototype.m_motorMass=0,box2d.b2WheelJoint.prototype.m_springMass=0,box2d.b2WheelJoint.prototype.m_bias=0,box2d.b2WheelJoint.prototype.m_gamma=0,box2d.b2WheelJoint.prototype.m_qA=null,box2d.b2WheelJoint.prototype.m_qB=null,box2d.b2WheelJoint.prototype.m_lalcA=null,box2d.b2WheelJoint.prototype.m_lalcB=null,box2d.b2WheelJoint.prototype.m_rA=null,box2d.b2WheelJoint.prototype.m_rB=null,box2d.b2WheelJoint.prototype.GetMotorSpeed=function(){return this.m_motorSpeed},box2d.b2WheelJoint.prototype.GetMaxMotorTorque=function(){return this.m_maxMotorTorque},box2d.b2WheelJoint.prototype.SetSpringFrequencyHz=function(a){this.m_frequencyHz=a},box2d.b2WheelJoint.prototype.GetSpringFrequencyHz=function(){return this.m_frequencyHz},box2d.b2WheelJoint.prototype.SetSpringDampingRatio=function(a){this.m_dampingRatio=a},box2d.b2WheelJoint.prototype.GetSpringDampingRatio=function(){return this.m_dampingRatio},box2d.b2WheelJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=this.m_invMassA,c=this.m_invMassB,d=this.m_invIA,e=this.m_invIB,f=a.positions[this.m_indexA].c,g=a.positions[this.m_indexA].a,h=a.velocities[this.m_indexA].v,i=a.velocities[this.m_indexA].w,j=a.positions[this.m_indexB].c,k=a.positions[this.m_indexB].a,l=a.velocities[this.m_indexB].v,m=a.velocities[this.m_indexB].w,g=this.m_qA.SetAngleRadians(g),k=this.m_qB.SetAngleRadians(k),p=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(g,this.m_lalcA,this.m_rA)),k=(box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB),box2d.b2MulRV(k,this.m_lalcB,this.m_rB)),j=box2d.b2SubVV(box2d.b2AddVV(j,k,box2d.b2Vec2.s_t0),box2d.b2AddVV(f,p,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d);box2d.b2MulRV(g,this.m_localYAxisA,this.m_ay),this.m_sAy=box2d.b2CrossVV(box2d.b2AddVV(j,p,box2d.b2Vec2.s_t0),this.m_ay),this.m_sBy=box2d.b2CrossVV(k,this.m_ay),this.m_mass=b+c+d*this.m_sAy*this.m_sAy+e*this.m_sBy*this.m_sBy,0<this.m_mass&&(this.m_mass=1/this.m_mass),this.m_springMass=0,this.m_bias=0,(this.m_gamma=0)<this.m_frequencyHz?(box2d.b2MulRV(g,this.m_localXAxisA,this.m_ax),this.m_sAx=box2d.b2CrossVV(box2d.b2AddVV(j,p,box2d.b2Vec2.s_t0),this.m_ax),this.m_sBx=box2d.b2CrossVV(k,this.m_ax),0<(f=b+c+d*this.m_sAx*this.m_sAx+e*this.m_sBx*this.m_sBx)&&(this.m_springMass=1/f,g=box2d.b2DotVV(j,this.m_ax),p=2*box2d.b2_pi*this.m_frequencyHz,k=2*this.m_springMass*this.m_dampingRatio*p,b=this.m_springMass*p*p,c=a.step.dt,this.m_gamma=c*(k+c*b),0<this.m_gamma&&(this.m_gamma=1/this.m_gamma),this.m_bias=g*c*b*this.m_gamma,this.m_springMass=f+this.m_gamma,0<this.m_springMass)&&(this.m_springMass=1/this.m_springMass)):this.m_springImpulse=0,this.m_enableMotor?(this.m_motorMass=d+e,0<this.m_motorMass&&(this.m_motorMass=1/this.m_motorMass)):(this.m_motorMass=0,this.m_motorImpulse=0),a.step.warmStarting?(this.m_impulse*=a.step.dtRatio,this.m_springImpulse*=a.step.dtRatio,this.m_motorImpulse*=a.step.dtRatio,j=box2d.b2AddVV(box2d.b2MulSV(this.m_impulse,this.m_ay,box2d.b2Vec2.s_t0),box2d.b2MulSV(this.m_springImpulse,this.m_ax,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P),p=this.m_impulse*this.m_sAy+this.m_springImpulse*this.m_sAx+this.m_motorImpulse,k=this.m_impulse*this.m_sBy+this.m_springImpulse*this.m_sBx+this.m_motorImpulse,h.SelfMulSub(this.m_invMassA,j),i-=this.m_invIA*p,l.SelfMulAdd(this.m_invMassB,j),m+=this.m_invIB*k):(this.m_impulse=0,this.m_springImpulse=0,this.m_motorImpulse=0),a.velocities[this.m_indexA].w=i,a.velocities[this.m_indexB].w=m},box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_d=new box2d.b2Vec2,box2d.b2WheelJoint.prototype.InitVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2WheelJoint.prototype.SolveVelocityConstraints=function(a){var b=this.m_invMassA,c=this.m_invMassB,d=this.m_invIA,e=this.m_invIB,f=a.velocities[this.m_indexA].v,g=a.velocities[this.m_indexA].w,h=a.velocities[this.m_indexB].v,i=a.velocities[this.m_indexB].w,j=box2d.b2DotVV(this.m_ax,box2d.b2SubVV(h,f,box2d.b2Vec2.s_t0))+this.m_sBx*i-this.m_sAx*g,k=-this.m_springMass*(j+this.m_bias+this.m_gamma*this.m_springImpulse),l=(this.m_springImpulse+=k,box2d.b2MulSV(k,this.m_ax,box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P)),m=k*this.m_sAx,n=k*this.m_sBx,j=(f.SelfMulSub(b,l),g-=d*m,h.SelfMulAdd(c,l),(i+=e*n)-g-this.m_motorSpeed),k=-this.m_motorMass*j,o=this.m_motorImpulse,p=a.step.dt*this.m_maxMotorTorque,j=(this.m_motorImpulse=box2d.b2Clamp(this.m_motorImpulse+k,-p,p),g-=d*(k=this.m_motorImpulse-o),i+=e*k,box2d.b2DotVV(this.m_ay,box2d.b2SubVV(h,f,box2d.b2Vec2.s_t0))+this.m_sBy*i-this.m_sAy*g),k=-this.m_mass*j,l=(this.m_impulse+=k,box2d.b2MulSV(k,this.m_ay,box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P)),m=k*this.m_sAy,n=k*this.m_sBy;f.SelfMulSub(b,l),g-=d*m,h.SelfMulAdd(c,l),i+=e*n,a.velocities[this.m_indexA].w=g,a.velocities[this.m_indexB].w=i},box2d.b2WheelJoint.prototype.SolveVelocityConstraints.s_P=new box2d.b2Vec2,box2d.b2WheelJoint.prototype.SolvePositionConstraints=function(a){var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.positions[this.m_indexB].c,e=a.positions[this.m_indexB].a,f=this.m_qA.SetAngleRadians(c),g=this.m_qB.SetAngleRadians(e),h=(box2d.b2SubVV(this.m_localAnchorA,this.m_localCenterA,this.m_lalcA),box2d.b2MulRV(f,this.m_lalcA,this.m_rA));box2d.b2SubVV(this.m_localAnchorB,this.m_localCenterB,this.m_lalcB);var g=box2d.b2MulRV(g,this.m_lalcB,this.m_rB),k=box2d.b2AddVV(box2d.b2SubVV(d,b,box2d.b2Vec2.s_t0),box2d.b2SubVV(g,h,box2d.b2Vec2.s_t1),box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d),f=box2d.b2MulRV(f,this.m_localYAxisA,this.m_ay),h=box2d.b2CrossVV(box2d.b2AddVV(k,h,box2d.b2Vec2.s_t0),f),g=box2d.b2CrossVV(g,f),k=box2d.b2DotVV(k,this.m_ay),p=this.m_invMassA+this.m_invMassB+this.m_invIA*this.m_sAy*this.m_sAy+this.m_invIB*this.m_sBy*this.m_sBy,p=0!==p?-k/p:0,f=box2d.b2MulSV(p,f,box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P),h=p*h,p=p*g;return b.SelfMulSub(this.m_invMassA,f),c-=this.m_invIA*h,d.SelfMulAdd(this.m_invMassB,f),e+=this.m_invIB*p,a.positions[this.m_indexA].a=c,a.positions[this.m_indexB].a=e,box2d.b2Abs(k)<=box2d.b2_linearSlop},box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_d=new box2d.b2Vec2,box2d.b2WheelJoint.prototype.SolvePositionConstraints.s_P=new box2d.b2Vec2,box2d.b2WheelJoint.prototype.GetDefinition=function(a){return box2d.ENABLE_ASSERTS&&box2d.b2Assert(!1),a},box2d.b2WheelJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetWorldPoint(this.m_localAnchorA,a)},box2d.b2WheelJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetWorldPoint(this.m_localAnchorB,a)},box2d.b2WheelJoint.prototype.GetReactionForce=function(a,b){return b.x=a*(this.m_impulse*this.m_ay.x+this.m_springImpulse*this.m_ax.x),b.y=a*(this.m_impulse*this.m_ay.y+this.m_springImpulse*this.m_ax.y),b},box2d.b2WheelJoint.prototype.GetReactionTorque=function(a){return a*this.m_motorImpulse},box2d.b2WheelJoint.prototype.GetLocalAnchorA=function(a){return a.Copy(this.m_localAnchorA)},box2d.b2WheelJoint.prototype.GetLocalAnchorB=function(a){return a.Copy(this.m_localAnchorB)},box2d.b2WheelJoint.prototype.GetLocalAxisA=function(a){return a.Copy(this.m_localXAxisA)},box2d.b2WheelJoint.prototype.GetJointTranslation=function(){var a=this.m_bodyA,b=this.m_bodyB,c=a.GetWorldPoint(this.m_localAnchorA,new box2d.b2Vec2),b=b.GetWorldPoint(this.m_localAnchorB,new box2d.b2Vec2),b=box2d.b2SubVV(b,c,new box2d.b2Vec2),c=a.GetWorldVector(this.m_localXAxisA,new box2d.b2Vec2);return box2d.b2DotVV(b,c)},box2d.b2WheelJoint.prototype.GetJointSpeed=function(){var a=this.m_bodyA.m_angularVelocity;return this.m_bodyB.m_angularVelocity-a},box2d.b2WheelJoint.prototype.IsMotorEnabled=function(){return this.m_enableMotor},box2d.b2WheelJoint.prototype.EnableMotor=function(a){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_enableMotor=a},box2d.b2WheelJoint.prototype.SetMotorSpeed=function(a){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_motorSpeed=a},box2d.b2WheelJoint.prototype.SetMaxMotorTorque=function(a){this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_maxMotorTorque=a},box2d.b2WheelJoint.prototype.GetMotorTorque=function(a){return a*this.m_motorImpulse},box2d.b2WheelJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2WheelJointDef*/ var jd = new box2d.b2WheelJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.localAnchorA.SetXY(%.15f, %.15f);\n",this.m_localAnchorA.x,this.m_localAnchorA.y),box2d.b2Log("  jd.localAnchorB.SetXY(%.15f, %.15f);\n",this.m_localAnchorB.x,this.m_localAnchorB.y),box2d.b2Log("  jd.localAxisA.Set(%.15f, %.15f);\n",this.m_localXAxisA.x,this.m_localXAxisA.y),box2d.b2Log("  jd.enableMotor = %s;\n",this.m_enableMotor?"true":"false"),box2d.b2Log("  jd.motorSpeed = %.15f;\n",this.m_motorSpeed),box2d.b2Log("  jd.maxMotorTorque = %.15f;\n",this.m_maxMotorTorque),box2d.b2Log("  jd.frequencyHz = %.15f;\n",this.m_frequencyHz),box2d.b2Log("  jd.dampingRatio = %.15f;\n",this.m_dampingRatio),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d.b2MotorJoint"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Math"),box2d.b2MotorJointDef=function(){goog.base(this,box2d.b2JointType.e_motorJoint),this.linearOffset=new box2d.b2Vec2(0,0)},goog.inherits(box2d.b2MotorJointDef,box2d.b2JointDef),box2d.b2MotorJointDef.prototype.linearOffset=null,box2d.b2MotorJointDef.prototype.angularOffset=0,box2d.b2MotorJointDef.prototype.maxForce=1,box2d.b2MotorJointDef.prototype.maxTorque=1,box2d.b2MotorJointDef.prototype.correctionFactor=.3,box2d.b2MotorJointDef.prototype.Initialize=function(a,b){this.bodyA=a,this.bodyB=b,this.bodyA.GetLocalPoint(this.bodyB.GetPosition(),this.linearOffset);a=this.bodyA.GetAngleRadians(),b=this.bodyB.GetAngleRadians();this.angularOffset=b-a},box2d.b2MotorJoint=function(a){goog.base(this,a),this.m_linearOffset=a.linearOffset.Clone(),this.m_linearImpulse=new box2d.b2Vec2(0,0),this.m_maxForce=a.maxForce,this.m_maxTorque=a.maxTorque,this.m_correctionFactor=a.correctionFactor,this.m_rA=new box2d.b2Vec2(0,0),this.m_rB=new box2d.b2Vec2(0,0),this.m_localCenterA=new box2d.b2Vec2(0,0),this.m_localCenterB=new box2d.b2Vec2(0,0),this.m_linearError=new box2d.b2Vec2(0,0),this.m_linearMass=new box2d.b2Mat22,this.m_qA=new box2d.b2Rot,this.m_qB=new box2d.b2Rot,this.m_K=new box2d.b2Mat22},goog.inherits(box2d.b2MotorJoint,box2d.b2Joint),box2d.b2MotorJoint.prototype.m_linearOffset=null,box2d.b2MotorJoint.prototype.m_angularOffset=0,box2d.b2MotorJoint.prototype.m_linearImpulse=null,box2d.b2MotorJoint.prototype.m_angularImpulse=0,box2d.b2MotorJoint.prototype.m_maxForce=0,box2d.b2MotorJoint.prototype.m_maxTorque=0,box2d.b2MotorJoint.prototype.m_correctionFactor=.3,box2d.b2MotorJoint.prototype.m_indexA=0,box2d.b2MotorJoint.prototype.m_indexB=0,box2d.b2MotorJoint.prototype.m_rA=null,box2d.b2MotorJoint.prototype.m_rB=null,box2d.b2MotorJoint.prototype.m_localCenterA=null,box2d.b2MotorJoint.prototype.m_localCenterB=null,box2d.b2MotorJoint.prototype.m_linearError=null,box2d.b2MotorJoint.prototype.m_angularError=0,box2d.b2MotorJoint.prototype.m_invMassA=0,box2d.b2MotorJoint.prototype.m_invMassB=0,box2d.b2MotorJoint.prototype.m_invIA=0,box2d.b2MotorJoint.prototype.m_invIB=0,box2d.b2MotorJoint.prototype.m_linearMass=null,box2d.b2MotorJoint.prototype.m_angularMass=0,box2d.b2MotorJoint.prototype.m_qA=null,box2d.b2MotorJoint.prototype.m_qB=null,box2d.b2MotorJoint.prototype.m_K=null,box2d.b2MotorJoint.prototype.GetAnchorA=function(a){return this.m_bodyA.GetPosition(a)},box2d.b2MotorJoint.prototype.GetAnchorB=function(a){return this.m_bodyB.GetPosition(a)},box2d.b2MotorJoint.prototype.GetReactionForce=function(a,b){return box2d.b2MulSV(a,this.m_linearImpulse,b)},box2d.b2MotorJoint.prototype.GetReactionTorque=function(a){return a*this.m_angularImpulse},box2d.b2MotorJoint.prototype.SetCorrectionFactor=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a)&&0<=a&&a<=1),this._correctionFactor=a},box2d.b2MotorJoint.prototype.GetCorrectionFactor=function(){return this.m_correctionFactor},box2d.b2MotorJoint.prototype.SetLinearOffset=function(a){box2d.b2IsEqualToV(a,this.m_linearOffset)||(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_linearOffset.Copy(a))},box2d.b2MotorJoint.prototype.GetLinearOffset=function(a){return a.Copy(this.m_linearOffset)},box2d.b2MotorJoint.prototype.SetAngularOffset=function(a){a!==this.m_angularOffset&&(this.m_bodyA.SetAwake(!0),this.m_bodyB.SetAwake(!0),this.m_angularOffset=a)},box2d.b2MotorJoint.prototype.GetAngularOffset=function(){return this.m_angularOffset},box2d.b2MotorJoint.prototype.SetMaxForce=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a)&&0<=a),this.m_maxForce=a},box2d.b2MotorJoint.prototype.GetMaxForce=function(){return this.m_maxForce},box2d.b2MotorJoint.prototype.SetMaxTorque=function(a){box2d.ENABLE_ASSERTS&&box2d.b2Assert(box2d.b2IsValid(a)&&0<=a),this.m_maxTorque=a},box2d.b2MotorJoint.prototype.GetMaxTorque=function(){return this.m_maxTorque},box2d.b2MotorJoint.prototype.InitVelocityConstraints=function(a){this.m_indexA=this.m_bodyA.m_islandIndex,this.m_indexB=this.m_bodyB.m_islandIndex,this.m_localCenterA.Copy(this.m_bodyA.m_sweep.localCenter),this.m_localCenterB.Copy(this.m_bodyB.m_sweep.localCenter),this.m_invMassA=this.m_bodyA.m_invMass,this.m_invMassB=this.m_bodyB.m_invMass,this.m_invIA=this.m_bodyA.m_invI,this.m_invIB=this.m_bodyB.m_invI;var b=a.positions[this.m_indexA].c,c=a.positions[this.m_indexA].a,d=a.velocities[this.m_indexA].v,e=a.velocities[this.m_indexA].w,f=a.positions[this.m_indexB].c,g=a.positions[this.m_indexB].a,h=a.velocities[this.m_indexB].v,i=a.velocities[this.m_indexB].w,j=this.m_qA.SetAngleRadians(c),k=this.m_qB.SetAngleRadians(g),l=box2d.b2MulRV(j,box2d.b2NegV(this.m_localCenterA,box2d.b2Vec2.s_t0),this.m_rA),k=box2d.b2MulRV(k,box2d.b2NegV(this.m_localCenterB,box2d.b2Vec2.s_t0),this.m_rB),n=this.m_invMassA,o=this.m_invMassB,p=this.m_invIA,q=this.m_invIB,r=this.m_K;r.ex.x=n+o+p*l.y*l.y+q*k.y*k.y,r.ex.y=-p*l.x*l.y-q*k.x*k.y,r.ey.x=r.ex.y,r.ey.y=n+o+p*l.x*l.x+q*k.x*k.x,r.GetInverse(this.m_linearMass),this.m_angularMass=p+q,0<this.m_angularMass&&(this.m_angularMass=1/this.m_angularMass),box2d.b2SubVV(box2d.b2SubVV(box2d.b2AddVV(f,k,box2d.b2Vec2.s_t0),box2d.b2AddVV(b,l,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t2),box2d.b2MulRV(j,this.m_linearOffset,box2d.b2Vec2.s_t3),this.m_linearError),this.m_angularError=g-c-this.m_angularOffset,a.step.warmStarting?(this.m_linearImpulse.SelfMul(a.step.dtRatio),this.m_angularImpulse*=a.step.dtRatio,r=this.m_linearImpulse,d.SelfMulSub(n,r),e-=p*(box2d.b2CrossVV(l,r)+this.m_angularImpulse),h.SelfMulAdd(o,r),i+=q*(box2d.b2CrossVV(k,r)+this.m_angularImpulse)):(this.m_linearImpulse.SetZero(),this.m_angularImpulse=0),a.velocities[this.m_indexA].w=e,a.velocities[this.m_indexB].w=i},box2d.b2MotorJoint.prototype.SolveVelocityConstraints=function(a){var b=a.velocities[this.m_indexA].v,c=a.velocities[this.m_indexA].w,d=a.velocities[this.m_indexB].v,e=a.velocities[this.m_indexB].w,f=this.m_invMassA,g=this.m_invMassB,h=this.m_invIA,i=this.m_invIB,j=a.step.dt,k=a.step.inv_dt,l=e-c+k*this.m_correctionFactor*this.m_angularError,m=-this.m_angularMass*l,n=this.m_angularImpulse,o=j*this.m_maxTorque,p=(this.m_angularImpulse=box2d.b2Clamp(this.m_angularImpulse+m,-o,o),c-=h*(m=this.m_angularImpulse-n),e+=i*m,this.m_rA),q=this.m_rB,l=box2d.b2AddVV(box2d.b2SubVV(box2d.b2AddVV(d,box2d.b2CrossSV(e,q,box2d.b2Vec2.s_t0),box2d.b2Vec2.s_t0),box2d.b2AddVV(b,box2d.b2CrossSV(c,p,box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t1),box2d.b2Vec2.s_t2),box2d.b2MulSV(k*this.m_correctionFactor,this.m_linearError,box2d.b2Vec2.s_t3),box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot),m=box2d.b2MulMV(this.m_linearMass,l,box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse).SelfNeg(),n=box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse.Copy(this.m_linearImpulse),o=(this.m_linearImpulse.SelfAdd(m),j*this.m_maxForce);this.m_linearImpulse.GetLengthSquared()>o*o&&(this.m_linearImpulse.Normalize(),this.m_linearImpulse.SelfMul(o)),box2d.b2SubVV(this.m_linearImpulse,n,m),b.SelfMulSub(f,m),c-=h*box2d.b2CrossVV(p,m),d.SelfMulAdd(g,m),e+=i*box2d.b2CrossVV(q,m),a.velocities[this.m_indexA].w=c,a.velocities[this.m_indexB].w=e},box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_Cdot=new box2d.b2Vec2,box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_impulse=new box2d.b2Vec2,box2d.b2MotorJoint.prototype.SolveVelocityConstraints.s_oldImpulse=new box2d.b2Vec2,box2d.b2MotorJoint.prototype.SolvePositionConstraints=function(){return!0},box2d.b2MotorJoint.prototype.Dump=function(){var a,b;box2d.DEBUG&&(a=this.m_bodyA.m_islandIndex,b=this.m_bodyB.m_islandIndex,box2d.b2Log("  /*box2d.b2MotorJointDef*/ var jd = new box2d.b2MotorJointDef();\n"),box2d.b2Log("  jd.bodyA = bodies[%d];\n",a),box2d.b2Log("  jd.bodyB = bodies[%d];\n",b),box2d.b2Log("  jd.collideConnected = %s;\n",this.m_collideConnected?"true":"false"),box2d.b2Log("  jd.linearOffset.SetXY(%.15f, %.15f);\n",this.m_linearOffset.x,this.m_linearOffset.y),box2d.b2Log("  jd.angularOffset = %.15f;\n",this.m_angularOffset),box2d.b2Log("  jd.maxForce = %.15f;\n",this.m_maxForce),box2d.b2Log("  jd.maxTorque = %.15f;\n",this.m_maxTorque),box2d.b2Log("  jd.correctionFactor = %.15f;\n",this.m_correctionFactor),box2d.b2Log("  joints[%d] = this.m_world.CreateJoint(jd);\n",this.m_index))},goog.provide("box2d"),goog.require("box2d.b2Settings"),goog.require("box2d.b2Draw"),goog.require("box2d.b2Timer"),goog.require("box2d.b2CircleShape"),goog.require("box2d.b2EdgeShape"),goog.require("box2d.b2ChainShape"),goog.require("box2d.b2PolygonShape"),goog.require("box2d.b2BroadPhase"),goog.require("box2d.b2Distance"),goog.require("box2d.b2DynamicTree"),goog.require("box2d.b2TimeOfImpact"),goog.require("box2d.b2Body"),goog.require("box2d.b2Fixture"),goog.require("box2d.b2WorldCallbacks"),goog.require("box2d.b2TimeStep"),goog.require("box2d.b2World"),goog.require("box2d.b2Contact"),goog.require("box2d.b2AreaJoint"),goog.require("box2d.b2DistanceJoint"),goog.require("box2d.b2FrictionJoint"),goog.require("box2d.b2GearJoint"),goog.require("box2d.b2MotorJoint"),goog.require("box2d.b2MouseJoint"),goog.require("box2d.b2PrismaticJoint"),goog.require("box2d.b2PulleyJoint"),goog.require("box2d.b2RevoluteJoint"),goog.require("box2d.b2RopeJoint"),goog.require("box2d.b2WeldJoint"),goog.require("box2d.b2WheelJoint"),goog.require("box2d.b2Rope"),goog.require("box2d.b2BuoyancyController"),goog.require("box2d.b2ConstantAccelController"),goog.require("box2d.b2ConstantForceController"),goog.require("box2d.b2GravityController"),goog.require("box2d.b2TensorDampingController"),Phaser.Physics.Box2D=function(a,b){this.game=a,this.version="1.0.2",this.ptmRatio=50,this.world=new box2d.b2World(new box2d.b2Vec2(0,0)),this.debugDraw=new Phaser.Physics.Box2D.DefaultDebugDraw(this.mpx(1)),this.world.SetDebugDraw(this.debugDraw),this.contactListener=new Phaser.Physics.Box2D.DefaultContactListener,this.world.SetContactListener(this.contactListener),this.nextBodyId=0,this.nextFixtureId=0,this.gravity=new Phaser.Physics.Box2D.PointProxy(this,this.world,this.world.GetGravity,this.world.SetGravity),this.friction=.2,this.restitution=0,this.density=1,this.frameRate=1/60,this.velocityIterations=8,this.positionIterations=3,this.useElapsedTime=!1,this.paused=!1,this.particleSystem=null;a=new box2d.b2BodyDef;this.mouseJointBody=this.world.CreateBody(a),this.mouseJoint=null,b.hasOwnProperty("mpx")&&b.hasOwnProperty("pxm")&&(this.mpx=b.mpx,this.pxm=b.pxm),this.walls={left:null,right:null,top:null,bottom:null},this.onBodyAdded=new Phaser.Signal,this.onBodyRemoved=new Phaser.Signal,this._toRemove=[]},Phaser.Physics.Box2D.worldBoundsFilterCategory=32768,Phaser.Physics.Box2D.prototype={getNextBodyId:function(){var a=this.nextBodyId;return this.nextBodyId+=1,a},getNextFixtureId:function(){var a=this.nextFixtureId;return this.nextFixtureId+=1,a},removeBodyNextStep:function(a){this._toRemove.push(a)},preUpdate:function(){for(var a=this._toRemove.length;a--;)this.removeBody(this._toRemove[a]);this._toRemove.length=0},enable:function(a,b){void 0===b&&(b=!0);var c=1;if(Array.isArray(a))for(c=a.length;c--;)a[c]instanceof Phaser.Group?this.enable(a[c].children,b):(this.enableBody(a[c]),b&&a[c].hasOwnProperty("children")&&0<a[c].children.length&&this.enable(a[c],!0));else a instanceof Phaser.Group?this.enable(a.children,b):(this.enableBody(a),b&&a.hasOwnProperty("children")&&0<a.children.length&&this.enable(a.children,!0))},enableBody:function(a){a.hasOwnProperty("body")&&null===a.body&&(a.body=new Phaser.Physics.Box2D.Body(this.game,a,a.x,a.y,2),a.anchor.set(.5))},setBoundsToWorld:function(a,b,c,d,e,f){void 0===e&&(e=1),this.setBounds(this.game.world.bounds.x,this.game.world.bounds.y,this.game.world.bounds.width,this.game.world.bounds.height,a=void 0===a?!0:a,b=void 0===b?!0:b,c=void 0===c?!0:c,d=void 0===d?!0:d,e=void 0===f?4294967295:e,f)},setBounds:function(a,b,c,d,e,f,g,h,i,j){void 0===e&&(e=!0),void 0===f&&(f=!0),void 0===g&&(g=!0),void 0===h&&(h=!0),void 0===i&&(i=1),void 0===j&&(j=4294967295),this.walls.left&&this.removeBody(this.walls.left),this.walls.right&&this.removeBody(this.walls.right),this.walls.top&&this.removeBody(this.walls.top),this.walls.bottom&&this.removeBody(this.walls.bottom);var i=new box2d.b2PolygonShape,j=new box2d.b2FixtureDef,m=(j.shape=i,j.filter.categoryBits=Phaser.Physics.Box2D.worldBoundsFilterCategory,j.filter.maskBits=65535,this.pxm(100)),n=this.game.world.bounds;e&&(this.walls.left=this.createBody(0,0,0),i.SetAsOrientedBox(m,this.pxm(n.height)+m,new box2d.b2Vec2(m,0),0),this.walls.left.data.CreateFixture(j).id=this.getNextFixtureId()),f&&(this.walls.right=this.createBody(0,0,0),i.SetAsOrientedBox(m,this.pxm(n.height)+m,new box2d.b2Vec2(this.pxm(-n.width)-m,0),0),this.walls.right.data.CreateFixture(j).id=this.getNextFixtureId()),g&&(this.walls.top=this.createBody(0,0,0),i.SetAsOrientedBox(this.pxm(n.width)+m,m,new box2d.b2Vec2(0,m),0),this.walls.top.data.CreateFixture(j).id=this.getNextFixtureId()),h&&(this.walls.bottom=this.createBody(0,0,0),i.SetAsOrientedBox(this.pxm(n.width)+m,m,new box2d.b2Vec2(0,this.pxm(-n.height)-m),0),this.walls.bottom.data.CreateFixture(j).id=this.getNextFixtureId())},pause:function(){this.paused=!0},resume:function(){this.paused=!1},update:function(){this.paused||(this.useElapsedTime?this.world.Step(this.game.time.physicsElapsed,this.velocityIterations,this.positionIterations):this.world.Step(this.frameRate,this.velocityIterations,this.positionIterations))},reset:function(){this.clear()},clear:function(){var a=this.world.GetGravity().Clone();this.world=new box2d.b2World(a),this.world.SetDebugDraw(this.debugDraw),this.world.SetContactListener(this.contactListener),this._toRemove=[]},destroy:function(){this.clear(),this.gravity=null,this.world=null,this.game=null},createBody:function(a,b,c){return new Phaser.Physics.Box2D.Body(this.game,null,a,b,c,this)},createCircle:function(a,b,c,d,e){return this.createBody(a,b,2).setCircle(c,d,e)},createRectangle:function(a,b,c,d,e,f,g){return this.createBody(a,b,2).setRectangle(c,d,e,f,g)},createPolygon:function(a,b,c,d,e){return this.createBody(a,b,2).setPolygon(c,d,e)},addBody:function(a){return!a.data.world&&(a.data=this.world.CreateBody(a.bodyDef),a.data.world=this.world,a.data.parent=a,this.onBodyAdded.dispatch(a),!0)},removeBody:function(a){return a.data.world==this.world&&(this.world.DestroyBody(a.data),this.onBodyRemoved.dispatch(a)),a},getBodies:function(){for(var a=[],b=this.world.GetBodyList();b;b=b.GetNext())a.push(b);return a},getBody:function(a){return a instanceof box2d.b2Body?a:a instanceof Phaser.Physics.Box2D.Body?a.data:a.body&&a.body.type===Phaser.Physics.BOX2D?a.body.data:null},toJSON:function(){return this.world.toJSON()},mpx:function(a){return a*this.ptmRatio},pxm:function(a){return a/this.ptmRatio},renderDebugDraw:function(a){var b;this.game.physics.box2d&&((b=this.game.physics.box2d).debugDraw.start(a),b.world.DrawDebugData(),b.debugDraw.stop())},renderBodyInfo:function(a,b){a.line("Position: x: "+b.x.toFixed(3)+" y: "+b.y.toFixed(3)),a.line("Rotation: "+b.rotation.toFixed(3)+" degrees"),a.line("Velocity: x: "+b.velocity.x.toFixed(3)+" y: "+b.velocity.y.toFixed(3)),a.line("Angular velocity: "+b.angularVelocity.toFixed(3)+" degrees/sec")},getFixturesAtPoint:function(a,b,c,d){void 0===c&&(c=!1),void 0===d&&(d=!1);var a=this.pxm(-a),b=this.pxm(-b),g=new box2d.b2Vec2(a,b),a=new box2d.b2AABB,b=new box2d.b2Vec2,j=(b.SetXY(.001,.001),box2d.b2SubVV(g,b,a.lowerBound),box2d.b2AddVV(g,b,a.upperBound),[]);return this.world.QueryAABB(function(a){return!(!d||a.GetBody().GetType()===box2d.b2BodyType.b2_dynamicBody)||!a.TestPoint(g)||(j.push(a),!c)},a),j},getBodiesAtPoint:function(a,b,c,d){var e=this.getFixturesAtPoint(a,b,c=void 0===c?!1:c,d=void 0===d?!1:d);if(e.length<1)return e;for(var f=[],g=0;g<e.length;g++)f.push(e[g].GetBody().parent);return f.filter(function(a,b){return f.indexOf(a)===b}),f},mouseDragStart:function(a){this.mouseDragEnd();var c,b=this.getFixturesAtPoint(a.x,a.y,!0,!0);b.length<1||(c=this.pxm(-a.x),a=this.pxm(-a.y),c=new box2d.b2Vec2(c,a),(a=new box2d.b2MouseJointDef).bodyA=this.mouseJointBody,a.bodyB=b[0].GetBody(),a.target.Copy(c),a.maxForce=1e3*a.bodyB.GetMass(),this.mouseJoint=this.world.CreateJoint(a),a.bodyB.SetAwake(!0))},mouseDragMove:function(a){var b;this.mouseJoint&&(b=this.pxm(-a.x),a=this.pxm(-a.y),b=new box2d.b2Vec2(b,a),this.mouseJoint.SetTarget(b))},mouseDragEnd:function(){this.mouseJoint&&(this.world.DestroyJoint(this.mouseJoint),this.mouseJoint=null)},distanceJoint:function(a,b,c,d,e,f,g,h,i){void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=0),d=this.pxm(-(d=void 0===d?0:d)),e=this.pxm(-e),f=this.pxm(-f),g=this.pxm(-g),a.body&&(a=a.body),b.body&&(b=b.body);var j=new box2d.b2DistanceJointDef;return j.bodyA=a.data,j.bodyB=b.data,j.localAnchorA.SetXY(d,e),j.localAnchorB.SetXY(f,g),c=null==c?(a=new box2d.b2Vec2,b=new box2d.b2Vec2,j.bodyA.GetWorldPoint(j.localAnchorA,a),j.bodyB.GetWorldPoint(j.localAnchorB,b),a.SelfSub(b),a.Length()):this.pxm(c),j.length=c,j.frequencyHz=h,j.dampingRatio=i,this.world.CreateJoint(j)},ropeJoint:function(a,b,c,d,e,f,g){void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),d=this.pxm(-(d=void 0===d?0:d)),e=this.pxm(-e),f=this.pxm(-f),g=this.pxm(-g),a.body&&(a=a.body),b.body&&(b=b.body);var h=new box2d.b2RopeJointDef;return h.bodyA=a.data,h.bodyB=b.data,h.localAnchorA.SetXY(d,e),h.localAnchorB.SetXY(f,g),c=null==c?(a=new box2d.b2Vec2,b=new box2d.b2Vec2,h.bodyA.GetWorldPoint(h.localAnchorA,a),h.bodyB.GetWorldPoint(h.localAnchorB,b),a.SelfSub(b),a.Length()):this.pxm(c),h.maxLength=c,this.world.CreateJoint(h)},revoluteJoint:function(a,b,c,d,e,f,g,h,i,j,k,l){void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=!1),void 0===j&&(j=0),void 0===k&&(k=0),void 0===l&&(l=!1),c=this.pxm(-(c=void 0===c?0:c)),d=this.pxm(-d),e=this.pxm(-e),f=this.pxm(-f),a.body&&(a=a.body),b.body&&(b=b.body);var m=new box2d.b2RevoluteJointDef;return m.bodyA=a.data,m.bodyB=b.data,m.localAnchorA.SetXY(c,d),m.localAnchorB.SetXY(e,f),m.motorSpeed=Phaser.Math.degToRad(-g),m.maxMotorTorque=h,m.enableMotor=i,m.lowerAngle=Phaser.Math.degToRad(j),m.upperAngle=Phaser.Math.degToRad(k),m.enableLimit=l,this.world.CreateJoint(m)},prismaticJoint:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){void 0===c&&(c=1),void 0===d&&(d=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=0),void 0===j&&(j=0),void 0===l&&(l=0),void 0===m&&(m=0),void 0===n&&(n=!1),void 0===k&&(k=!1),void 0===o&&(o=0),c*=-1,d*=-1,e=this.pxm(-(e=void 0===e?0:e)),f=this.pxm(-f),g=this.pxm(-g),h=this.pxm(-h),i=this.pxm(i),l=this.pxm(l),m=this.pxm(m),a.body&&(a=a.body),b.body&&(b=b.body);var p=new box2d.b2PrismaticJointDef;return p.bodyA=a.data,p.bodyB=b.data,p.localAxisA.SetXY(c,d),p.localAnchorA.SetXY(e,f),p.localAnchorB.SetXY(g,h),p.motorSpeed=i,p.maxMotorForce=j,p.enableMotor=k,p.lowerTranslation=l,p.upperTranslation=m,p.enableLimit=n,p.referenceAngle=Phaser.Math.degToRad(-o),this.world.CreateJoint(p)},frictionJoint:function(a,b,c,d,e,f,g,h){void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===d&&(d=0),e=this.pxm(-(e=void 0===e?0:e)),f=this.pxm(-f),g=this.pxm(-g),h=this.pxm(-h),a.body&&(a=a.body),b.body&&(b=b.body);var i=new box2d.b2FrictionJointDef;return i.bodyA=a.data,i.bodyB=b.data,i.localAnchorA.SetXY(e,f),i.localAnchorB.SetXY(g,h),i.maxForce=c,i.maxTorque=d,this.world.CreateJoint(i)},weldJoint:function(a,b,c,d,e,f,g,h){void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),c=this.pxm(-(c=void 0===c?0:c)),d=this.pxm(-d),e=this.pxm(-e),f=this.pxm(-f),a.body&&(a=a.body),b.body&&(b=b.body);var i=new box2d.b2WeldJointDef;return i.bodyA=a.data,i.bodyB=b.data,i.localAnchorA.SetXY(c,d),i.localAnchorB.SetXY(e,f),i.frequencyHz=g,i.dampingRatio=h,this.world.CreateJoint(i)},motorJoint:function(a,b,c,d,e,f,g,h){void 0===g&&(g=0),void 0===h&&(h=0),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=1),f=this.pxm(-(f=void 0===f?0:f)),g=this.pxm(-g),a.body&&(a=a.body),b.body&&(b=b.body);var i=new box2d.b2MotorJointDef;return i.bodyA=a.data,i.bodyB=b.data,i.linearOffset.SetXY(f,g),i.maxForce=c,i.maxTorque=d,i.angularOffset=Phaser.Math.degToRad(-h),i.correctionFactor=e,this.world.CreateJoint(i)},wheelJoint:function(a,b,c,d,e,f,g,h,i,j,k,l,m){void 0===g&&(g=0),void 0===h&&(h=1),void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===k&&(k=0),void 0===l&&(l=0),void 0===m&&(m=!1),void 0===i&&(i=0),void 0===j&&(j=0),g*=-1,h*=-1,c=this.pxm(-(c=void 0===c?0:c)),d=this.pxm(-d),e=this.pxm(-e),f=this.pxm(-f),a.body&&(a=a.body),b.body&&(b=b.body);var n=new box2d.b2WheelJointDef;return n.bodyA=a.data,n.bodyB=b.data,n.localAxisA.SetXY(g,h),n.localAnchorA.SetXY(c,d),n.localAnchorB.SetXY(e,f),n.motorSpeed=Phaser.Math.degToRad(-k),n.maxMotorTorque=l,n.enableMotor=m,n.frequencyHz=i,n.dampingRatio=j,this.world.CreateJoint(n)},pulleyJoint:function(a,b,c,d,e,f,g,h,i,j,k,l,m){void 0===d&&(d=0),void 0===e&&(e=0),void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=0),void 0===j&&(j=0),void 0===k&&(k=1),void 0===l&&(l=100),void 0===m&&(m=100),c=this.pxm(-(c=void 0===c?0:c)),d=this.pxm(-d),e=this.pxm(-e),f=this.pxm(-f),g=this.pxm(-g),h=this.pxm(-h),i=this.pxm(-i),j=this.pxm(-j),l=this.pxm(l),m=this.pxm(m),a.body&&(a=a.body),b.body&&(b=b.body);var n=new box2d.b2PulleyJointDef;return n.bodyA=a.data,n.bodyB=b.data,n.localAnchorA.SetXY(c,d),n.localAnchorB.SetXY(e,f),n.groundAnchorA.SetXY(g,h),n.groundAnchorB.SetXY(i,j),n.lengthA=l,n.lengthB=m,n.ratio=k,this.world.CreateJoint(n)},gearJoint:function(a,b,c){void 0===c&&(c=1);var d=new box2d.b2GearJointDef;return d.joint1=a,d.joint2=b,d.ratio=-c,d.bodyA=a.GetBodyA(),d.bodyB=b.GetBodyB(),this.world.CreateJoint(d)},clearTilemapLayerBodies:function(a,b){b=a.getLayer(b);for(var c=a.layers[b].bodies.length;c--;)a.layers[b].bodies[c].destroy();a.layers[b].bodies.length=0},convertTilemap:function(a,b,c,d){b=a.getLayer(b),void 0===c&&(c=!0),void 0===d&&(d=!0),this.clearTilemapLayerBodies(a,b);for(var e=0,f=0,g=0,h=0,i=a.layers[b].height;h<i;h++)for(var e=0,j=0,k=a.layers[b].width;j<k;j++){var m,n,l=a.layers[b].data[h][j];l&&-1<l.index&&l.collides&&(d?(m=a.getTileRight(b,j,h),0===e&&(f=l.x*l.width,g=l.y*l.height,e=l.width),m&&m.collides?e+=l.width:((n=new Phaser.Physics.Box2D.Body(this.game,null,f,g,0)).addRectangle(e,l.height,e/2,l.height/2,0),c&&this.addBody(n),a.layers[b].bodies.push(n),e=0)):((n=this.createBody(l.x*l.width,l.y*l.height,0,!1)).addRectangle(l.width,l.height,l.width/2,l.height/2,0),c&&this.addBody(n),a.layers[b].bodies.push(n)))}return a.layers[b].bodies},raycast:function(a,b,c,d,e,f){void 0===e&&(e=!0),void 0===f&&(f=null),a=this.pxm(-a),b=this.pxm(-b),c=this.pxm(-c),d=this.pxm(-d);var a=new box2d.b2Vec2(a,b),b=new box2d.b2Vec2(c,d),i=[],j=new Phaser.Physics.Box2D.RayCastCallback(this,e,f);this.world.RayCast(j,a,b);for(var k=0;k<j.hits.length;k++){var l=j.hits[k];l.point={x:this.mpx(-l.point.x),y:this.mpx(-l.point.y)},l.normal={x:-l.normal.x,y:-l.normal.y},i.push(l)}return i},queryAABB:function(a,b,c,d){a=this.pxm(-a),b=this.pxm(-b),c=this.pxm(c),d=this.pxm(d);var e=new box2d.b2AABB,c=(e.lowerBound.SetXY(a-c,b-d),e.upperBound.SetXY(a,b),new Phaser.Physics.Box2D.QueryCallback(this));return this.world.QueryAABB(c,e),c.hits},queryFixture:function(a){var b=new Phaser.Physics.Box2D.QueryCallback(this);return this.world.QueryShape(b,a.GetShape(),a.GetBody().GetTransform()),b.hits},setPTMRatio:function(a){this.ptmRatio=a,this.debugDraw=new Phaser.Physics.Box2D.DefaultDebugDraw(this.ptmRatio),this.world.SetDebugDraw(this.debugDraw)}},Phaser.Physics.Box2D.RayCastCallback=function(a,b,c){this.world=a,this.closestHitOnly=b,this.filterFunction=c,this.hits=[]},goog.inherits(Phaser.Physics.Box2D.RayCastCallback,box2d.b2RayCastCallback),Phaser.Physics.Box2D.RayCastCallback.prototype.ReportFixture=function(a,b,c,d){if(null!==this.filterFunction){var e={x:this.world.mpx(-b.x),y:this.world.mpx(-b.y)},f={x:-c.x,y:-c.y},g=a.GetBody().parent;if(!this.filterFunction.call(this,g,a,e,f))return-1}this.closestHitOnly&&(this.hits=[]);g={};return g.body=a.GetBody().parent,g.fixture=a,g.point={x:b.x,y:b.y},g.normal={x:c.x,y:c.y},this.hits.push(g),this.closestHitOnly?d:1},Phaser.Physics.Box2D.QueryCallback=function(a){this.world=a,this.hits=[]},goog.inherits(Phaser.Physics.Box2D.QueryCallback,box2d.b2QueryCallback),Phaser.Physics.Box2D.QueryCallback.prototype.ReportFixture=function(a){var b={};return b.body=a.GetBody().parent,b.fixture=a,this.hits.push(b),!0},Phaser.Physics.Box2D.renderBody=function(a,b,c,d){c=c||"rgb(255,255,255)",void 0===d&&(d=!0);var d=b.data,f=d.GetTransform(),g=b.world,b=(f.p.x+=-b.game.camera.x/g.ptmRatio,f.p.y-=-b.game.camera.y/g.ptmRatio,g.debugDraw.start(a),g.debugDraw.PushTransform(f),Phaser.Color.webToColor(c)),i=g.debugDraw.color;i.r=b.r/255,i.g=b.g/255,i.b=b.b/255;for(var j=d.GetFixtureList();j;j=j.GetNext())g.world.DrawShape(j,i);g.debugDraw.PopTransform(),g.debugDraw.stop()},Phaser.Physics.Box2D.Body=function(a,b,c,d,e,f){void 0===b&&(b=null),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=2),void 0===f&&(f=a.physics.box2d),this.game=a,this.world=f,this.id=this.world.getNextBodyId(),this.sprite=b,this.type=Phaser.Physics.BOX2D,this.offset=new Phaser.Point,this.bodyDef=new box2d.b2BodyDef,this.bodyDef.position.SetXY(-this.world.pxm(c),-this.world.pxm(d)),0===e?this.bodyDef.type=box2d.b2BodyType.b2_staticBody:1===e?this.bodyDef.type=box2d.b2BodyType.b2_kinematicBody:2===e?this.bodyDef.type=box2d.b2BodyType.b2_dynamicBody:3===e&&(this.bodyDef.type=box2d.b2BodyType.b2_bulletBody),this.data=this.world.world.CreateBody(this.bodyDef),this.data.world=this.world.world,(this.data.parent=this).velocity=new Phaser.Physics.Box2D.PointProxy(this.world,this.data,this.data.GetLinearVelocity,this.data.SetLinearVelocity),this.removeNextStep=!1,this._fixtureContactCallbacks={},this._fixtureContactCallbackContext={},this._bodyContactCallbacks={},this._bodyContactCallbackContext={},this._categoryContactCallbacks={},this._categoryContactCallbackContext={},this._fixturePresolveCallbacks={},this._fixturePresolveCallbackContext={},this._bodyPresolveCallbacks={},this._bodyPresolveCallbackContext={},this._categoryPresolveCallbacks={},this._categoryPresolveCallbackContext={},this._fixturePostsolveCallbacks={},this._fixturePostsolveCallbackContext={},this._bodyPostsolveCallbacks={},this._bodyPostsolveCallbackContext={},this._categoryPostsolveCallbacks={},this._categoryPostsolveCallbackContext={},b&&this.setRectangleFromSprite(b)},Phaser.Physics.Box2D.Body.prototype={setBodyContactCallback:function(a,b,c){var d=-1;a.id?d=a.id:a.body&&(d=a.body.id),-1<d&&(null===b?(delete this._bodyContactCallbacks[d],delete this._bodyContactCallbackContext[d]):(this._bodyContactCallbacks[d]=b,this._bodyContactCallbackContext[d]=c))},setFixtureContactCallback:function(a,b,c){a=a.id;-1<a&&(null===b?(delete this._fixtureContactCallbacks[a],delete this._fixtureContactCallbackContext[a]):(this._fixtureContactCallbacks[a]=b,this._fixtureContactCallbackContext[a]=c))},setCategoryContactCallback:function(a,b,c){null===b?(delete this._categoryContactCallbacks[a],delete this._categoryContactCallbacksContext[a]):(this._categoryContactCallbacks[a]=b,this._categoryContactCallbackContext[a]=c)},setBodyPresolveCallback:function(a,b,c){var d=-1;a.id?d=a.id:a.body&&(d=a.body.id),-1<d&&(null===b?(delete this._bodyPresolveCallbacks[d],delete this._bodyPresolveCallbackContext[d]):(this._bodyPresolveCallbacks[d]=b,this._bodyPresolveCallbackContext[d]=c))},setFixturePresolveCallback:function(a,b,c){a=a.id;-1<a&&(null===b?(delete this._fixturePresolveCallbacks[a],delete this._fixturePresolveCallbackContext[a]):(this._fixturePresolveCallbacks[a]=b,this._fixturePresolveCallbackContext[a]=c))},setCategoryPresolveCallback:function(a,b,c){null===b?(delete this._categoryPresolveCallbacks[a],delete this._categoryPresolveCallbacksContext[a]):(this._categoryPresolveCallbacks[a]=b,this._categoryPresolveCallbackContext[a]=c)},setBodyPostsolveCallback:function(a,b,c){var d=-1;a.id?d=a.id:a.body&&(d=a.body.id),-1<d&&(null===b?(delete this._bodyPostsolveCallbacks[d],delete this._bodyPostsolveCallbackContext[d]):(this._bodyPostsolveCallbacks[d]=b,this._bodyPostsolveCallbackContext[d]=c))},setFixturePostsolveCallback:function(a,b,c){a=a.id;-1<a&&(null===b?(delete this._fixturePostsolveCallbacks[a],delete this._fixturePostsolveCallbackContext[a]):(this._fixturePostsolveCallbacks[a]=b,this._fixturePostsolveCallbackContext[a]=c))},setCategoryPostsolveCallback:function(a,b,c){null===b?(delete this._categoryPostsolveCallbacks[a],delete this._categoryPostsolveCallbacksContext[a]):(this._categoryPostsolveCallbacks[a]=b,this._categoryPostsolveCallbackContext[a]=c)},setCollisionCategory:function(a,b){if(void 0===b)for(var c=this.data.GetFixtureList();c;c=c.GetNext())c.GetFilterData().categoryBits=a;else b.GetFilterData().categoryBits=a},setCollisionMask:function(a,b){if(void 0===b)for(var c=this.data.GetFixtureList();c;c=c.GetNext())c.GetFilterData().maskBits=a;else b.GetFilterData().maskBits=a},applyForce:function(a,b){this.data.ApplyForce(new box2d.b2Vec2(-a,-b),this.data.GetWorldCenter(),!0)},setZeroRotation:function(){this.data.SetAngularVelocity(0)},setZeroVelocity:function(){this.data.SetLinearVelocity(box2d.b2Vec2.ZERO)},setZeroDamping:function(){this.data.SetLinearDamping(0),this.data.SetAngularDamping(0)},toLocalPoint:function(a,b){return a.x=this.world.pxm(-b.x),a.y=this.world.pxm(-b.y),this.data.GetLocalPoint(a,a),a.x=this.world.mpx(-a.x),a.y=this.world.mpx(-a.y),a},toWorldPoint:function(a,b){return a.x=this.world.pxm(-b.x),a.y=this.world.pxm(-b.y),this.data.GetWorldPoint(a,a),a.x=this.world.mpx(-a.x),a.y=this.world.mpx(-a.y),a},toLocalVector:function(a,b){return a.x=this.world.pxm(-b.x),a.y=this.world.pxm(-b.y),this.data.GetLocalVector(a,a),a.x=this.world.mpx(-a.x),a.y=this.world.mpx(-a.y),a},toWorldVector:function(a,b){a.x=this.world.pxm(-b.x),a.y=this.world.pxm(-b.y),this.data.GetWorldVector(a,a),a.x=this.world.mpx(-a.x),a.y=this.world.mpx(-a.y)},rotateLeft:function(a){this.data.SetAngularVelocity(this.world.pxm(-a))},rotateRight:function(a){this.data.SetAngularVelocity(this.world.pxm(a))},moveForward:function(a){var a=this.world.pxm(a),c=new box2d.b2Vec2;this.toWorldVector(c,{x:0,y:a}),this.data.SetLinearVelocity(c)},moveBackward:function(a){var a=this.world.pxm(-a),c=new box2d.b2Vec2;this.toWorldVector(c,{x:0,y:a}),this.data.SetLinearVelocity(c)},thrust:function(a){var a=this.world.pxm(a)*this.data.GetMass(),c=new box2d.b2Vec2;this.toWorldVector(c,{x:0,y:a}),this.data.ApplyForce(c,this.data.GetWorldCenter(),!0)},reverse:function(a){var a=-this.world.pxm(a)*this.data.GetMass(),c=new box2d.b2Vec2;this.toWorldVector(c,{x:0,y:a}),this.data.ApplyForce(c,this.data.GetWorldCenter(),!0)},moveLeft:function(a){this.velocity.x=-a},moveRight:function(a){this.velocity.x=a},moveUp:function(a){this.velocity.y=-a},moveDown:function(a){this.velocity.y=a},preUpdate:function(){this.removeNextStep&&(this.removeFromWorld(),this.removeNextStep=!1)},postUpdate:function(){this.sprite&&(this.sprite.x=this.world.mpx(-this.data.GetPosition().x),this.sprite.y=this.world.mpx(-this.data.GetPosition().y),this.sprite.rotation=this.data.GetAngle())},kill:function(){this.data.SetActive(!1)},reset:function(a,b){this.data.SetPositionXY(this.world.pxm(-a),this.world.pxm(-b)),this.data.SetActive(!0)},removeFromWorld:function(){this.data.world===this.game.physics.box2d.world&&this.game.physics.box2d.removeBodyNextStep(this)},destroy:function(){this.removeFromWorld(),this._bodyCallbacks={},this._bodyCallbackContext={},this._categoryCallbacks={},this._categoryCallbackContext={},this.sprite=null},clearFixtures:function(){for(var a=[],b=this.data.GetFixtureList();b;b=b.GetNext())a.push(b);for(var c=a.length;c--;)this.data.DestroyFixture(a[c])},addCircle:function(a,b,c){a=new box2d.b2CircleShape(this.world.pxm(a)),a.m_p.SetXY(this.world.pxm(-b),this.world.pxm(-c)),b=new box2d.b2FixtureDef,b.shape=a,b.friction=this.world.friction,b.restitution=this.world.restitution,b.density=this.world.density,c=this.data.CreateFixture(b);return c.id=this.world.getNextFixtureId(),c},addRectangle:function(a,b,c,d,e){void 0===b&&(b=16),void 0===c&&(c=0),void 0===d&&(d=0),void 0===e&&(e=0),a=this.world.pxm(a=void 0===a?16:a),b=this.world.pxm(b);var f=new box2d.b2PolygonShape,a=(f.SetAsOrientedBox(.5*a,.5*b,new box2d.b2Vec2(this.world.pxm(-c),this.world.pxm(-d)),e),new box2d.b2FixtureDef),b=(a.shape=f,a.friction=this.world.friction,a.restitution=this.world.restitution,a.density=this.world.density,this.data.CreateFixture(a));return b.id=this.world.getNextFixtureId(),b},addEdge:function(a,b,c,d){var e=new box2d.b2EdgeShape,a=(e.Set(new box2d.b2Vec2(this.world.pxm(-a),this.world.pxm(-b)),new box2d.b2Vec2(this.world.pxm(-c),this.world.pxm(-d))),new box2d.b2FixtureDef),b=(a.shape=e,a.friction=this.world.friction,a.restitution=this.world.restitution,a.density=this.world.density,this.data.CreateFixture(a));return b.id=this.world.getNextFixtureId(),b},addChain:function(a,b,c,d){if(void 0===a)return null;if(a.length<4)return null;void 0===b&&(b=0),void 0===c&&(c=(a.length-b)/2);for(var e=[],f=b;f<b+c;f++)e.push(new box2d.b2Vec2(this.world.pxm(-a[2*f]),this.world.pxm(-a[2*f+1])));var g=new box2d.b2ChainShape,d=(d?g.CreateLoop(e,e.length):g.CreateChain(e,e.length),new box2d.b2FixtureDef),g=(d.shape=g,d.friction=this.world.friction,d.restitution=this.world.restitution,d.density=this.world.density,this.data.CreateFixture(d));return g.id=this.world.getNextFixtureId(),g},addLoop:function(a,b,c){return this.addChain(a,b,c,!0)},addPolygon:function(a,b,c){if(void 0===a)return null;if(a.length<6)return null;void 0===b&&(b=0),void 0===c&&(c=(a.length-b)/2);for(var d=[],e=b;e<b+c;e++)d.push({x:this.world.pxm(-a[2*e]),y:this.world.pxm(-a[2*e+1])});var f=new Phaser.Physics.Box2D.Polygon;f.setFromXYObjects(d);for(var g=f.decompose(d),h=null,e=0;e<g.length;e++){var i=new box2d.b2PolygonShape,j=(i.Set(g[e],g[e].length),new box2d.b2FixtureDef);j.shape=i,j.friction=this.world.friction,j.restitution=this.world.restitution,j.density=this.world.density,(h=this.data.CreateFixture(j)).id=this.world.getNextFixtureId()}return h},removeFixture:function(a){return a.GetBody()==this.data&&(this.data.DestroyFixture(a),!0)},setCircle:function(a,b,c){return void 0===a&&(a=32),void 0===b&&(b=0),void 0===c&&(c=0),this.clearFixtures(),this.addCircle(a,b,c)},setRectangle:function(a,b,c,d,e){return this.clearFixtures(),this.addRectangle(a,b,c,d,e)},setRectangleFromSprite:function(a){return void 0===a&&(a=this.sprite),this.clearFixtures(),this.addRectangle(a.width,a.height,0,0,a.rotation)},setEdge:function(a,b,c,d){return void 0===a&&(a=0),void 0===b&&(b=0),void 0===c&&(c=0),void 0===d&&(d=0),this.clearFixtures(),this.addEdge(a,b,c,d)},setChain:function(a,b,c,d){return void 0===a||a.length<4?null:(void 0===b&&(b=0),void 0===c&&(c=(a.length-b)/2),this.clearFixtures(),this.addChain(a,b,c,d))},setLoop:function(a,b,c){return this.setChain(a,b,c,!0)},setPolygon:function(a,b,c){return void 0===a||a.length<4?null:(void 0===b&&(b=0),void 0===c&&(c=(a.length-b)/2),this.clearFixtures(),this.addPolygon(a,b,c))},loadPolygon:function(a,b,c){void 0===c&&(c=null);for(var d=this.game.cache.getPhysicsData(a,b),e=0;e<d.length;e++){for(var f=[],g=0;g<d[e].shape.length;g+=2)f.push(new box2d.b2Vec2(this.world.pxm(-d[e].shape[g]),this.world.pxm(-d[e].shape[g+1])));if(c)for(var h=this.world.pxm(-.5*c.width),i=this.world.pxm(-.5*c.height),j=0;j<f.length;j++)f[j].x-=h,f[j].y-=i;var k=new box2d.b2PolygonShape,l=(k.Set(f,f.length),new box2d.b2FixtureDef);l.shape=k,l.friction=d[e].friction,l.restitution=d[e].bounce,l.density=d[e].density,l.filter.categoryBits=d[e].filter.categoryBits,l.filter.maskBits=d[e].filter.maskBits,this.data.CreateFixture(l).id=this.world.getNextFixtureId()}return!0},containsPoint:function(a){for(var b=this.world.pxm(-a.x),a=this.world.pxm(-a.y),d=new box2d.b2Vec2(b,a),e=this.data.GetFixtureList();e;e=e.GetNext())if(e.TestPoint(d))return!0;return!1}},Phaser.Physics.Box2D.Body.prototype.constructor=Phaser.Physics.Box2D.Body,Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"static",{get:function(){return this.data.GetType()===box2d.b2BodyType.b2_staticBody},set:function(a){a&&this.data.GetType()!==box2d.b2BodyType.b2_staticBody?this.data.SetType(box2d.b2BodyType.b2_staticBody):a||this.data.GetType()!==box2d.b2BodyType.b2_staticBody||this.data.SetType(box2d.b2BodyType.b2_dynamicBody)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"dynamic",{get:function(){return this.data.GetType()===box2d.b2BodyType.b2_dynamicBody},set:function(a){a&&this.data.GetType()!==box2d.b2BodyType.b2_dynamicBody?this.data.SetType(box2d.b2BodyType.b2_dynamicBody):a||this.data.GetType()!==box2d.b2BodyType.b2_dynamicBody||this.data.SetType(box2d.b2BodyType.b2_staticBody)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"kinematic",{get:function(){return this.data.GetType()===box2d.b2BodyType.b2_kinematicBody},set:function(a){a&&this.data.GetType()!==box2d.b2BodyType.b2_kinematicBody?this.data.SetType(box2d.b2BodyType.b2_kinematicBody):a||this.data.GetType()!==box2d.b2BodyType.b2_kinematicBody||this.data.SetType(box2d.b2BodyType.b2_staticBody)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"angle",{get:function(){return Phaser.Math.wrapAngle(Phaser.Math.radToDeg(this.data.GetAngle()))},set:function(a){this.data.SetAngle(Phaser.Math.degToRad(Phaser.Math.wrapAngle(a)))}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"linearDamping",{get:function(){return this.data.GetLinearDamping()},set:function(a){this.data.SetLinearDamping(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"angularDamping",{get:function(){return this.data.GetAngularDamping()},set:function(a){this.data.SetAngularDamping(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"angularVelocity",{get:function(){return this.data.GetAngularVelocity()},set:function(a){this.data.SetAngularVelocity(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"fixedRotation",{get:function(){return this.data.IsFixedRotation()},set:function(a){this.data.SetFixedRotation(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"gravityScale",{get:function(){return this.data.GetGravityScale()},set:function(a){this.data.SetGravityScale(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"friction",{get:function(){var a=this.data.GetFixtureList();return a?a.GetFriction():0},set:function(a){for(var b=this.data.GetFixtureList();b;b=b.GetNext())b.SetFriction(a),b.Refilter()}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"restitution",{get:function(){var a=this.data.GetFixtureList();return a?a.GetRestitution():0},set:function(a){for(var b=this.data.GetFixtureList();b;b=b.GetNext())b.SetRestitution(a),b.Refilter()}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"sensor",{get:function(){var a=this.data.GetFixtureList();return a?a.IsSensor():0},set:function(a){for(var b=this.data.GetFixtureList();b;b=b.GetNext())b.SetSensor(a),b.Refilter()}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"bullet",{get:function(){return this.data.IsBullet()},set:function(a){this.data.SetBullet(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"mass",{get:function(){return this.data.GetMass()},set:function(a){if(0===a)this.data.SetType(box2d.b2BodyType.b2_staticBody);else{this.data.GetType()!==box2d.b2BodyType.b2_dynamicBody&&this.data.SetType(box2d.b2BodyType.b2_dynamicBody);for(var c=a/this.data.GetMass(),d=this.data.GetFixtureList();d;d=d.GetNext()){var e=d.GetDensity();d.SetDensity(e*c)}this.data.ResetMassData()}}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"rotation",{get:function(){return this.data.GetAngle()},set:function(a){this.data.SetAngle(a)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"x",{get:function(){return this.world.mpx(-this.data.GetPosition().x)},set:function(a){this.data.SetPositionXY(this.world.pxm(-a),this.data.GetPosition().y)}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"y",{get:function(){return this.world.mpx(-this.data.GetPosition().y)},set:function(a){this.data.SetPositionXY(this.data.GetPosition().x,this.world.pxm(-a))}}),Object.defineProperty(Phaser.Physics.Box2D.Body.prototype,"collideWorldBounds",{get:function(){for(var a=this.data.GetFixtureList();a;a=a.GetNext())if(a.GetFilterData().maskBits&Phaser.Physics.Box2D.worldBoundsFilterCategory)return!0;return!1},set:function(a){for(var b=this.data.GetFixtureList();b;b=b.GetNext()){var c=b.GetFilterData();a?c.maskBits|=Phaser.Physics.Box2D.worldBoundsFilterCategory:c.maskBits&=~Phaser.Physics.Box2D.worldBoundsFilterCategory}}}),Phaser.Physics.Box2D.PointProxy=function(a,b,c,d){this.world=a,this.object=b,this.gettor=c,this.settor=d},Phaser.Physics.Box2D.PointProxy.prototype.constructor=Phaser.Physics.Box2D.PointProxy,Object.defineProperty(Phaser.Physics.Box2D.PointProxy.prototype,"x",{get:function(){return this.world.mpx(-this.gettor.call(this.object).x)},set:function(a){var b=this.gettor.call(this.object);b.x=this.world.pxm(-a),this.settor.call(this.object,b)}}),Object.defineProperty(Phaser.Physics.Box2D.PointProxy.prototype,"y",{get:function(){return this.world.mpx(-this.gettor.call(this.object).y)},set:function(a){var b=this.gettor.call(this.object);b.y=this.world.pxm(-a),this.settor.call(this.object,b)}}),Phaser.Physics.Box2D.DefaultDebugDraw=function(a){this.context=null,this.pixelsPerMeter=a,this.flags=box2d.b2DrawFlags.e_shapeBit},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.color=new box2d.b2Color(1,1,1),Phaser.Physics.Box2D.DefaultDebugDraw.prototype.SetFlags=function(a){this.flags=a},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.GetFlags=function(){return this.flags},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.start=function(a){this.context=a,this.context.save(),this.context.scale(-1,-1),this.context.scale(this.pixelsPerMeter,this.pixelsPerMeter)},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.stop=function(){this.context.restore()},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.PushTransform=function(a){var b=this.context;b.save(),b.translate(a.p.x,a.p.y),b.rotate(a.q.GetAngleRadians())},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.PopTransform=function(){this.context.restore()},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawPolygon=function(a,b,c){if(b){var d=this.context;d.lineWidth=1/this.pixelsPerMeter,d.beginPath(),d.moveTo(a[0].x,a[0].y);for(var e=1;e<b;e++)d.lineTo(a[e].x,a[e].y);d.closePath(),d.strokeStyle=c.MakeStyleString(1),d.stroke()}},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawSolidPolygon=function(a,b,c){if(b){var d=this.context;d.lineWidth=1/this.pixelsPerMeter,d.beginPath(),d.moveTo(a[0].x,a[0].y);for(var e=1;e<b;e++)d.lineTo(a[e].x,a[e].y);d.closePath(),d.fillStyle=c.MakeStyleString(.5),d.fill(),d.strokeStyle=c.MakeStyleString(1),d.stroke()}},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawCircle=function(a,b,c){var d;b&&((d=this.context).beginPath(),d.arc(a.x,a.y,b,0,2*Math.PI,!0),d.strokeStyle=c.MakeStyleString(1),d.stroke())},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawSolidCircle=function(a,b,c,d){var e,f;b&&((e=this.context).lineWidth=1/this.pixelsPerMeter,f=a.x,a=a.y,e.beginPath(),e.arc(f,a,b,0,2*Math.PI,!0),e.moveTo(f,a),e.lineTo(f+c.x*b,a+c.y*b),e.fillStyle=d.MakeStyleString(.5),e.fill(),e.strokeStyle=d.MakeStyleString(1),e.stroke())},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawSegment=function(a,b,c){var d=this.context;d.lineWidth=1/this.pixelsPerMeter,d.beginPath(),d.moveTo(a.x,a.y),d.lineTo(b.x,b.y),d.strokeStyle=c.MakeStyleString(1),d.stroke()},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawTransform=function(a){var b=this.context;b.lineWidth=1/this.pixelsPerMeter,this.PushTransform(a),b.beginPath(),b.moveTo(0,0),b.lineTo(1,0),b.strokeStyle=box2d.b2Color.RED.MakeStyleString(1),b.stroke(),b.beginPath(),b.moveTo(0,0),b.lineTo(0,1),b.strokeStyle=box2d.b2Color.GREEN.MakeStyleString(1),b.stroke(),this.PopTransform(a)},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawPoint=function(a,b,c){var d=this.context,c=(d.fillStyle=c.MakeStyleString(),b/2);d.fillRect(a.x-c,a.y-c,b,b)},Phaser.Physics.Box2D.DefaultDebugDraw.prototype.DrawAABB=function(a,b){var c=this.context,b=(c.strokeStyle=b.MakeStyleString(),a.lowerBound.x),e=a.lowerBound.y,f=a.upperBound.x-a.lowerBound.x,a=a.upperBound.y-a.lowerBound.y;c.strokeRect(b,e,f,a)},Object.defineProperty(Phaser.Physics.Box2D.DefaultDebugDraw.prototype,"shapes",{get:function(){return this.flags&box2d.b2DrawFlags.e_shapeBit},set:function(a){a?this.flags|=box2d.b2DrawFlags.e_shapeBit:this.flags&=~box2d.b2DrawFlags.e_shapeBit}}),Object.defineProperty(Phaser.Physics.Box2D.DefaultDebugDraw.prototype,"joints",{get:function(){return this.flags&box2d.b2DrawFlags.e_jointBit},set:function(a){a?this.flags|=box2d.b2DrawFlags.e_jointBit:this.flags&=~box2d.b2DrawFlags.e_jointBit}}),Object.defineProperty(Phaser.Physics.Box2D.DefaultDebugDraw.prototype,"aabbs",{get:function(){return this.flags&box2d.b2DrawFlags.e_aabbBit},set:function(a){a?this.flags|=box2d.b2DrawFlags.e_aabbBit:this.flags&=~box2d.b2DrawFlags.e_aabbBit}}),Object.defineProperty(Phaser.Physics.Box2D.DefaultDebugDraw.prototype,"pairs",{get:function(){return this.flags&box2d.b2DrawFlags.e_pairBit},set:function(a){a?this.flags|=box2d.b2DrawFlags.e_pairBit:this.flags&=~box2d.b2DrawFlags.e_pairBit}}),Object.defineProperty(Phaser.Physics.Box2D.DefaultDebugDraw.prototype,"centerOfMass",{get:function(){return this.flags&box2d.b2DrawFlags.e_centerOfMassBit},set:function(a){a?this.flags|=box2d.b2DrawFlags.e_centerOfMassBit:this.flags&=~box2d.b2DrawFlags.e_centerOfMassBit}}),Phaser.Physics.Box2D.DefaultContactListener=function(){},Phaser.Physics.Box2D.DefaultContactListener.prototype.BeginContact=function(a){this.handleContactBeginOrEnd(a,!0)},Phaser.Physics.Box2D.DefaultContactListener.prototype.EndContact=function(a){this.handleContactBeginOrEnd(a,!1)},Phaser.Physics.Box2D.DefaultContactListener.prototype.handleContactBeginOrEnd=function(a,b){var k,l,c=a.GetFixtureA(),d=a.GetFixtureB(),e=c.GetBody(),f=d.GetBody(),g=c.GetFilterData().categoryBits,h=d.GetFilterData().categoryBits,e=e.parent,f=f.parent;void 0!==e&&void 0!==f&&(k=e.id,l=f.id,e._bodyContactCallbacks[l]&&e._bodyContactCallbacks[l].call(e._bodyContactCallbackContext[l],e,f,c,d,b,a),f._bodyContactCallbacks[k]&&f._bodyContactCallbacks[k].call(f._bodyContactCallbackContext[k],f,e,d,c,b,a),e._fixtureContactCallbacks[d.id]&&e._fixtureContactCallbacks[d.id].call(e._fixtureContactCallbackContext[d.id],e,f,c,d,b,a),f._fixtureContactCallbacks[c.id]&&f._fixtureContactCallbacks[c.id].call(f._fixtureContactCallbackContext[c.id],f,e,d,c,b,a),e._fixtureContactCallbacks[c.id]&&e._fixtureContactCallbacks[c.id].call(e._fixtureContactCallbackContext[c.id],e,f,c,d,b,a),f._fixtureContactCallbacks[d.id]&&f._fixtureContactCallbacks[d.id].call(f._fixtureContactCallbackContext[d.id],f,e,d,c,b,a),e._categoryContactCallbacks[h]&&e._categoryContactCallbacks[h].call(e._categoryContactCallbackContext[h],e,f,c,d,b,a),f._categoryContactCallbacks[g]&&f._categoryContactCallbacks[g].call(f._categoryContactCallbackContext[g],f,e,d,c,b,a),e._categoryContactCallbacks[g]&&e._categoryContactCallbacks[g].call(e._categoryContactCallbackContext[g],e,f,c,d,b,a),f._categoryContactCallbacks[h])&&f._categoryContactCallbacks[h].call(f._categoryContactCallbackContext[h],f,e,d,c,b,a)},Phaser.Physics.Box2D.DefaultContactListener.prototype.PreSolve=function(a,b){var k,l,c=a.GetFixtureA(),d=a.GetFixtureB(),e=c.GetBody(),f=d.GetBody(),g=c.GetFilterData().categoryBits,h=d.GetFilterData().categoryBits,e=e.parent,f=f.parent;void 0!==e&&void 0!==f&&(k=e.id,l=f.id,e._bodyPresolveCallbacks[l]&&e._bodyPresolveCallbacks[l].call(e._bodyPresolveCallbackContext[l],e,f,c,d,a,b),f._bodyPresolveCallbacks[k]&&f._bodyPresolveCallbacks[k].call(f._bodyPresolveCallbackContext[k],f,e,d,c,a,b),e._fixturePresolveCallbacks[d.id]&&e._fixturePresolveCallbacks[d.id].call(e._fixturePresolveCallbackContext[d.id],e,f,c,d,a,b),f._fixturePresolveCallbacks[c.id]&&f._fixturePresolveCallbacks[c.id].call(f._fixturePresolveCallbackContext[c.id],f,e,d,c,a,b),e._categoryPresolveCallbacks[h]&&e._categoryPresolveCallbacks[h].call(e._categoryPresolveCallbackContext[h],e,f,c,d,a,b),f._categoryPresolveCallbacks[g])&&f._categoryPresolveCallbacks[g].call(f._categoryPresolveCallbackContext[g],f,e,d,c,a,b)},Phaser.Physics.Box2D.DefaultContactListener.prototype.PostSolve=function(a,b){var k,l,c=a.GetFixtureA(),d=a.GetFixtureB(),e=c.GetBody(),f=d.GetBody(),g=c.GetFilterData().categoryBits,h=d.GetFilterData().categoryBits,e=e.parent,f=f.parent;void 0!==e&&void 0!==f&&(k=e.id,l=f.id,e._bodyPostsolveCallbacks[l]&&e._bodyPostsolveCallbacks[l].call(e._bodyPostsolveCallbackContext[l],e,f,c,d,a,b),f._bodyPostsolveCallbacks[k]&&f._bodyPostsolveCallbacks[k].call(f._bodyPostsolveCallbackContext[k],f,e,d,c,a,b),e._fixturePostsolveCallbacks[d.id]&&e._fixturePostsolveCallbacks[d.id].call(e._fixturePostsolveCallbackContext[d.id],e,f,c,d,a,b),f._fixturePostsolveCallbacks[c.id]&&f._fixturePostsolveCallbacks[c.id].call(f._fixturePostsolveCallbackContext[c.id],f,e,d,c,a,b),e._categoryPostsolveCallbacks[h]&&e._categoryPostsolveCallbacks[h].call(e._categoryPostsolveCallbackContext[h],e,f,c,d,a,b),f._categoryPostsolveCallbacks[g])&&f._categoryPostsolveCallbacks[g].call(f._categoryPostsolveCallbackContext[g],f,e,d,c,a,b)},Phaser.Physics.Box2D.Polygon=function(){this.vertices=[]},Phaser.Physics.Box2D.Polygon.prototype.setFromFlatXYCoords=function(a){this.vertices=[];for(var b=0;b<a.length/2;b++)this.vertices.push({x:a[2*b],y:a[2*b+1]})},Phaser.Physics.Box2D.Polygon.prototype.setFromXYObjects=function(a){this.vertices=a.concat()},Phaser.Physics.Box2D.Polygon.prototype.addVertex=function(a){this.vertices.push(a)},Phaser.Physics.Box2D.Polygon.prototype.at=function(a){var b=this.vertices.length;return this.vertices[a<0?a%b+b:a%b]},Phaser.Physics.Box2D.Polygon.prototype.indicesAreAdjacent=function(a,b){return(a%=this.vertices.length)==(b%=this.vertices.length)||(a=Math.abs(a-b))<2||a==this.vertices.length-1},Phaser.Physics.Box2D.Polygon.prototype.areaInTriangle=function(a,b,c){return a=this.at(a),b=this.at(b),c=this.at(c),.5*((b.x-a.x)*(c.y-a.y)-(c.x-a.x)*(b.y-a.y))},Phaser.Physics.Box2D.Polygon.prototype.left=function(a,b,c){return 0<this.areaInTriangle(a,b,c)},Phaser.Physics.Box2D.Polygon.prototype.leftOn=function(a,b,c){return 0<=this.areaInTriangle(a,b,c)},Phaser.Physics.Box2D.Polygon.prototype.right=function(a,b,c){return this.areaInTriangle(a,b,c)<0},Phaser.Physics.Box2D.Polygon.prototype.rightOn=function(a,b,c){return this.areaInTriangle(a,b,c)<=0},Phaser.Physics.Box2D.Polygon.sqdist=function(a,b){var c=b.x-a.x,b=b.y-a.y;return c*c+b*b},Phaser.Physics.Box2D.Polygon.prototype.makeCCW=function(){for(var a=0,b=1,c=this.vertices.length;b<c;b++)(this.at(b).y<this.at(a).y||this.at(b).y===this.at(a).y&&this.at(b).x>this.at(a).x)&&(a=b);return!this.left(a-1,a,a+1)&&(this.vertices.reverse(),!0)},Phaser.Physics.Box2D.Polygon.prototype.isConvex=function(){for(var a=!1,b=!1,c=0,d=this.vertices.length;c<d;c++){var e=c;0<this.areaInTriangle(this.vertices[e],this.vertices[(c+1)%d],this.vertices[(c+2)%d])?a=!0:b=!0}return b^a},Phaser.Physics.Box2D.Polygon.prototype.isReflex=function(a){return this.right(a-1,a,a+1)},Phaser.Physics.Box2D.Polygon.areVecsEqual=function(a,b){return a.x==b.x&&a.y==b.y},Phaser.Physics.Box2D.Polygon.linesCross=function(a,b,c,d){var e,g,f;return Phaser.Physics.Box2D.Polygon.areVecsEqual(b,c)||Phaser.Physics.Box2D.Polygon.areVecsEqual(a,c)||Phaser.Physics.Box2D.Polygon.areVecsEqual(b,d)||Phaser.Physics.Box2D.Polygon.areVecsEqual(a,d)||(e={},box2d.b2SubVV(b,a,e),box2d.b2CrossVS(e,1,e),f=box2d.b2DotVV(e,a),g=box2d.b2DotVV(e,c),e=box2d.b2DotVV(e,d),f<g&&f<e)||g<f&&e<f||(e={},box2d.b2SubVV(d,c,e),box2d.b2CrossVS(e,1,e),g=box2d.b2DotVV(e,c),f=box2d.b2DotVV(e,a),d=box2d.b2DotVV(e,b),g<f&&g<d)||f<g&&d<g?null:{x:a.x+(c=(g-f)/(d-f))*(b.x-a.x),y:a.y+c*(b.y-a.y)}},Phaser.Physics.Box2D.Polygon.prototype.canSee=function(a,b){if(this.indicesAreAdjacent(a,b))return!1;if(this.leftOn(a+1,a,b)&&this.rightOn(a-1,a,b))return!1;for(var c=0;c<this.vertices.length;++c)if((c+1)%this.vertices.length!=a&&c!=a&&this.leftOn(a,b,c+1)&&this.rightOn(a,b,c)&&Phaser.Physics.Box2D.Polygon.linesCross(this.at(a),this.at(b),this.at(c),this.at(c+1)))return!1;return!0},Phaser.Physics.Box2D.Polygon.prototype.subPolygon=function(a,b){var c=new Phaser.Physics.Box2D.Polygon;if(a<b)for(var d=a;d<b+1;d++)c.addVertex(this.at(d));else{for(d=a;d<this.vertices.length;d++)c.addVertex(this.at(d));for(d=0;d<b+1;d++)c.addVertex(this.at(d))}return c},Phaser.Physics.Box2D.Polygon.prototype.decomposeOptimal=function(a){if(1<(a=void 0===a?0:a))return this.vertices;this.makeCCW();for(var d,b=[],c=[],e=Number.MAX_VALUE,f=0;f<this.vertices.length;f++)if(this.isReflex(f))for(var g=0;g<this.vertices.length;g++)this.canSee(f,g)&&(c=this.subPolygon(f,g).decompose(a+1),d=this.subPolygon(g,f).decompose(a+1),c.length+d.length<e)&&(e=(b=c.concat(d)).length);return 0===b.length&&b.push(this.vertices),b},Phaser.Physics.Box2D.Polygon.prototype.decompose=function(a){void 0===a&&(a=0),this.makeCCW();for(var b,c,n,d=[],e=Number.MAX_VALUE,f=!1,g=0;g<this.vertices.length;g++)if(this.isReflex(g))for(var k,j,f=!0,h=this.at(g),i=0;i<this.vertices.length;i++)this.canSee(g,i)&&(j=(k=(j=this.at(i)).x-h.x)*k*(k=j.y-h.y)*k)<e&&(b=g,c=i,e=j);return!f&&8<this.vertices.length&&(b=0,c=Math.floor(this.vertices.length/2),f=!0),f&&(n=this.subPolygon(b,c).decompose(a+1),a=this.subPolygon(c,b).decompose(a+1),d=n.concat(a)),0===d.length&&d.push(this.vertices),d};(global=>{function NOOP(){}var NativePromise=global.Promise,nativePromiseSupported=NativePromise&&"resolve"in NativePromise&&"reject"in NativePromise&&"all"in NativePromise&&"race"in NativePromise&&(()=>{var resolve;return new NativePromise(function(r){resolve=r}),"function"==typeof resolve})(),PENDING=("undefined"!=typeof exports&&exports?(exports.Promise=nativePromiseSupported?NativePromise:Promise,exports.Polyfill=Promise):"function"==typeof define&&define.amd?define(function(){return nativePromiseSupported?NativePromise:Promise}):nativePromiseSupported||(global.Promise=Promise),"pending"),SEALED="sealed",FULFILLED="fulfilled",REJECTED="rejected";function isArray(value){return"[object Array]"===Object.prototype.toString.call(value)}var asyncTimer,asyncSetTimer="undefined"!=typeof setImmediate?setImmediate:setTimeout,asyncQueue=[];function asyncFlush(){for(var i=0;i<asyncQueue.length;i++)asyncQueue[i][0](asyncQueue[i][1]);asyncTimer=!(asyncQueue=[])}function asyncCall(callback,arg){asyncQueue.push([callback,arg]),asyncTimer||(asyncTimer=!0,asyncSetTimer(asyncFlush,0))}function invokeResolver(resolver,promise){function rejectPromise(reason){reject(promise,reason)}try{resolver(function(value){resolve(promise,value)},rejectPromise)}catch(e){rejectPromise(e)}}function invokeCallback(subscriber){var owner=subscriber.owner,settled=owner.state_,owner=owner.data_,callback=subscriber[settled],subscriber=subscriber.then;if("function"==typeof callback){settled=FULFILLED;try{owner=callback(owner)}catch(e){reject(subscriber,e)}}handleThenable(subscriber,owner)||(settled===FULFILLED&&resolve(subscriber,owner),settled===REJECTED&&reject(subscriber,owner))}function handleThenable(promise,value){var resolved;try{if(promise===value)throw new TypeError("A promises callback cannot return that same promise.");if(value&&("function"==typeof value||"object"==typeof value)){var then=value.then;if("function"==typeof then)return then.call(value,function(val){resolved||(resolved=!0,(value!==val?resolve:fulfill)(promise,val))},function(reason){resolved||(resolved=!0,reject(promise,reason))}),1}}catch(e){return resolved||reject(promise,e),1}}function resolve(promise,value){promise!==value&&handleThenable(promise,value)||fulfill(promise,value)}function fulfill(promise,value){promise.state_===PENDING&&(promise.state_=SEALED,promise.data_=value,asyncCall(publishFulfillment,promise))}function reject(promise,reason){promise.state_===PENDING&&(promise.state_=SEALED,promise.data_=reason,asyncCall(publishRejection,promise))}function publish(promise){var callbacks=promise.then_;promise.then_=void 0;for(var i=0;i<callbacks.length;i++)invokeCallback(callbacks[i])}function publishFulfillment(promise){promise.state_=FULFILLED,publish(promise)}function publishRejection(promise){promise.state_=REJECTED,publish(promise)}function Promise(resolver){if("function"!=typeof resolver)throw new TypeError("Promise constructor takes a function argument");if(this instanceof Promise==!1)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[],invokeResolver(resolver,this)}Promise.prototype={constructor:Promise,state_:PENDING,then_:null,data_:void 0,then:function(onFulfillment,onRejection){onFulfillment={owner:this,then:new this.constructor(NOOP),fulfilled:onFulfillment,rejected:onRejection};return this.state_===FULFILLED||this.state_===REJECTED?asyncCall(invokeCallback,onFulfillment):this.then_.push(onFulfillment),onFulfillment.then},catch:function(onRejection){return this.then(null,onRejection)}},Promise.all=function(promises){if(isArray(promises))return new this(function(resolve,reject){var results=[],remaining=0;for(var promise,i=0;i<promises.length;i++)(promise=promises[i])&&"function"==typeof promise.then?promise.then((index=>(remaining++,function(value){results[index]=value,--remaining||resolve(results)}))(i),reject):results[i]=promise;remaining||resolve(results)});throw new TypeError("You must pass an array to Promise.all().")},Promise.race=function(promises){if(isArray(promises))return new this(function(resolve,reject){for(var promise,i=0;i<promises.length;i++)(promise=promises[i])&&"function"==typeof promise.then?promise.then(resolve,reject):resolve(promise)});throw new TypeError("You must pass an array to Promise.race().")},Promise.resolve=function(value){return value&&"object"==typeof value&&value.constructor===this?value:new this(function(resolve){resolve(value)})},Promise.reject=function(reason){return new this(function(resolve,reject){reject(reason)})}})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);var SceneList,WheelyScale,Fabrique,PanelList,Wheely,__extends=this&&this.__extends||(()=>{var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(d,b){d.__proto__=b}:function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])}))(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}})(),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P=P||Promise)(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){var value;result.done?resolve(result.value):((value=result.value)instanceof P?value:new P(function(resolve){resolve(value)})).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]},g={next:verb(0),throw:verb(1),return:verb(2)};return"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){var op=[n,v];if(f)throw new TypeError("Generator is already executing.");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,(op=t?[2&op[0],t.value]:op)[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=0<(t=_.trys).length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else{if(!(t&&_.label<t[2])){t[2]&&_.ops.pop(),_.trys.pop();continue}_.label=t[2],_.ops.push(op)}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}}},Constants=((SceneList=>{SceneList.Boot="Boot",SceneList.Menu="Menu",SceneList.LevelBuilder="LevelBuilder",SceneList.Comix1="Comix1",SceneList.Comix2="Comix2"})(SceneList=SceneList||{}),(Wheely=>{(Client=>{var Main=(_super=>{function Main(){var _this=_super.call(this,{enableDebug:!1,width:Constants.GAME_WIDTH,height:Constants.GAME_HEIGHT,renderer:Phaser.AUTO,parent:Constants.DIV_ID,transparent:!1,antialias:!0,preserveDrawingBuffer:!1,physicsConfig:null,seed:"",state:null,forceSetTimeOut:!1})||this;return _this.soundStarted=!1,_this.pausedByPanel=!1,(Main.instance=_this).clearBeforeRender=!1,Phaser.Device.whenReady(function(){var event=_this.device.desktop?"click":"touchstart";document.getElementById("content").addEventListener(event,function(e){_this.gameResumed(e)}),WheelyScale.ScaleHelper.init(_this)}),h5branding.Branding.analyticsEnabled=!1,h5branding.SplashLoader.getInstance({gameId:"0095b1d5dcb645d88971010491627362",gameName:Constants.GAME_TITLE,gameTitle:Constants.GAME_TITLE,libs:[],version:version}).create().then(function(){_this.state.add("game",{create:_this.stateCreator.bind(_this),preload:_this.statePreloader.bind(_this)},!0)}),_this}return __extends(Main,_super),Main.prototype.statePreloader=function(){},Main.prototype.stateCreator=function(){this.plugins.add(PhaserSuperStorage.StoragePlugin),this.plugins.add(PhaserCachebuster.CacheBuster),this.plugins.add(PhaserSpine.SpinePlugin),this.storage.forcePromises=!0,this.state.add(Client.Boot.Name,Client.Boot,!1),this.state.add(Client.Menu.Name,Client.Menu,!1),this.state.add(Client.Comix1.Name,Client.Comix1,!1),this.state.add(Client.Comix2.Name,Client.Comix2,!1),this.state.add(Client.LevelBuilder.Name,Client.LevelBuilder,!1),this.state.start(Client.Boot.Name),this.state.remove("game"),this.sceneEffect=this.add.graphics(0,0),this.sceneEffect.beginFill(16777215,1),this.sceneEffect.drawRect(0,0,Client.Variables.SW,Client.Variables.SH),this.sceneEffect.alpha=0,this.stage.addChild(this.sceneEffect),this.state.onStateChange.add(this.changeSceneEffect,this)},Main.prototype.changeSceneEffect=function(){this.state.current!==SceneList.Menu&&this.state.current!==SceneList.LevelBuilder&&!this.state||(Client.SoundManager.removeAllSFXLoop(),this.sceneEffect.alpha=1,this.add.tween(this.sceneEffect).to({alpha:0},500,Phaser.Easing.Linear.None,!0))},Main.instance=null,Main.showDebugBox2d=!1,Main.disablePause=!1,Main})(Phaser.Game);Client.Main=Main})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var ButtonSound=(_super=>{function ButtonSound(_id,_x,_y,_key,callback,callbackContext){_x=_super.call(this,Client.Main.instance,_x,_y,_key,callback,callbackContext)||this;return _x.anchor.setTo(.5),_x.id=_id,_x.setButtonFrames(),_x.id===Client.SoundType.Music?(_x._onOverFrame="btnMusic instance 10002",_x._onDownFrame="btnMusic instance 10003"):(_x._onOverFrame="btnSFX instance 10002",_x._onDownFrame="btnSFX instance 10003"),_x.events.onInputOver.add(_x.over,_x),_x.forceOut=!0,_x}return __extends(ButtonSound,_super),ButtonSound.prototype.addSprite=function(_tileNameOn,_tileNameOff){this.tileNameOn=_tileNameOn,this.tileNameOff=_tileNameOff,this.graphic=Client.Main.instance.add.sprite(0,0,this.key,this.getFrame()),this.graphic.anchor.setTo(.5),this.addChild(this.graphic)},ButtonSound.prototype.onInputUpHandler=function(sprite,pointer,isOver){!0===isOver&&(Client.SoundManager.setEnabled(this.id),Client.SoundManager.playSFX("btnClick"),this.setButtonFrames()),this.scale.setTo(1)},ButtonSound.prototype.over=function(){Client.SoundManager.playSFX("btnOver")},ButtonSound.prototype.getFrame=function(){return!0===Client.SoundManager.getEnabled(this.id)?this.tileNameOn:this.tileNameOff},ButtonSound.prototype.setButtonFrames=function(){this.id===Client.SoundType.Music?!1===Client.SoundManager.getEnabled(this.id)?this._onOutFrame="btnMusic instance 10001":this._onOutFrame="btnMusic instance 10000":!1===Client.SoundManager.getEnabled(this.id)?this._onOutFrame="btnSFX instance 10001":this._onOutFrame="btnSFX instance 10000",this.frameName=this._onOutFrame},ButtonSound.prototype.destroy=function(){_super.prototype.destroy.call(this),this.graphic=null},ButtonSound})(Phaser.Button);Client.ButtonSound=ButtonSound})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var ButtonWalkthrough=(_super=>{function ButtonWalkthrough(game,_x,_y){game=_super.call(this,game,_x,_y,"ui","btnWalkthrough instance 10000")||this;return game.anchor.setTo(.5),game.inputEnabled=!0,game.input.start(0,!0),game.input.useHandCursor=!0,game.events.onInputOver.add(game.onInputOverHandler,game),game.events.onInputOut.add(game.onInputOutHandler,game),game.events.onInputUp.add(game.onInputUpHandler,game),game.events.onRemovedFromWorld.add(game.removedFromWorld,game),game.text=new Client.DancingText(Client.Main.instance,game,-55,2,14,"WALKTHROUGH",16),game.visible=!1,game.inputEnabled=!1,game}return __extends(ButtonWalkthrough,_super),ButtonWalkthrough.prototype.update=function(){this.text.update()},ButtonWalkthrough.prototype.removedFromWorld=function(){this.inputEnabled=!1},ButtonWalkthrough.prototype.onInputOverHandler=function(sprite,pointer){this.text.startDancing(),Client.SoundManager.playSFX("btnOver"),this.frameName="btnWalkthrough instance 10001"},ButtonWalkthrough.prototype.onInputOutHandler=function(sprite,pointer){this.frameName="btnWalkthrough instance 10000"},ButtonWalkthrough.prototype.onInputUpHandler=function(sprite,pointer,isOver){!0===isOver&&window.open(Constants.WALKTHROUGH_URL,"_blank")},ButtonWalkthrough.prototype.destroy=function(){_super.prototype.destroy.call(this),this.text.free(),this.text=null},ButtonWalkthrough})(Phaser.Image);Client.ButtonWalkthrough=ButtonWalkthrough})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var LevelSelectButton=(_super=>{function LevelSelectButton(_id,game,_x,_y,key,callback,callbackContext,overFrame,outFrame,downFrame,upFrame){game=_super.call(this,game,_x,_y,key,callback,callbackContext,overFrame,outFrame,downFrame,upFrame)||this;return game.id=_id,game.anchor.set(.5),game.name=""+_id,game.onInputOver.add(game.over,game),game.onInputOut.add(game.out,game),game.levelText=game.game.make.sprite(-18,-26,"ui","numbers instance "+(_id-1+1e4)),game.addChild(game.levelText),game}return __extends(LevelSelectButton,_super),LevelSelectButton.prototype.addStars=function(){var star,countStars=0;return 1===Client.DataManager.getInstance().saveObj["questFlag"+this.id]&&((star=this.game.make.sprite(0,17,"ui","star instance 10000")).anchor.setTo(.5),star.scale.setTo(.55),this.addChild(star),countStars+=1),1===Client.DataManager.getInstance().saveObj["questWheel"+this.id]&&((star=this.game.make.sprite(-18,13,"ui","star instance 10000")).anchor.setTo(.5),star.scale.setTo(.55),star.angle=-9,this.addChild(star),countStars+=1),1===Client.DataManager.getInstance().saveObj["questCar"+this.id]&&((star=this.game.make.sprite(18,13,"ui","star instance 10000")).anchor.setTo(.5),star.scale.setTo(.55),star.angle=9,this.addChild(star),countStars+=1),star=null,countStars},LevelSelectButton.prototype.addLock=function(){this.lock=this.game.make.sprite(32,-29,"ui","lock instance 10000"),this.lock.anchor.set(.5),this.addChild(this.lock)},LevelSelectButton.prototype.over=function(){Client.SoundManager.playSFX("btnOver"),this.scale.setTo(1.1)},LevelSelectButton.prototype.out=function(){this.scale.setTo(1)},LevelSelectButton.prototype.destroy=function(){_super.prototype.destroy.call(this),this.lock=null,this.levelText=null},LevelSelectButton})(Phaser.Button);Client.LevelSelectButton=LevelSelectButton})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var DataManager=(()=>{function DataManager(game){this.scores=[],this.currentLevel=1,this.game=game}return DataManager.getInstance=function(game){return DataManager.instance=DataManager.instance?DataManager.instance:new DataManager(game)},DataManager.prototype.init=function(){var _this=this;this.loadData("w6_svData").then(function(values){null==values?(_this.saveObj=_this.getSaveObj(),_this.save()):(values=JSON.parse(values),_this.saveObj=values,_this.scores=_this.saveObj.sc,_this.currentLevel=_this.saveObj.lvl)})},DataManager.prototype.getSaveObj=function(){return{m:1,fx:1,sc:this.scores,lvl:this.currentLevel,pl:1}},DataManager.prototype.clearData=function(){this.game.storage.clear()},DataManager.prototype.save=function(){this.game.storage.setItem("w6_svData",JSON.stringify(this.saveObj))},DataManager.prototype.saveData=function(key,value){this.saveObj[key]=value,this.save()},DataManager.prototype.loadData=function(key){return this.game.storage.getItem(key)},DataManager.prototype.getData=function(key,defaultValue){return __awaiter(this,void 0,void 0,function(){var saved,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.loadData(key)];case 1:return saved=_a.sent(),result=defaultValue,[2,result=null===saved&&void 0===saved?result:JSON.parse(saved)]}})})},DataManager.prototype.saveScore=function(key,level,value){this.keepOldScore(level-1,value)||(this.setScore(level-1,value),this.save())},DataManager.prototype.setScore=function(level,value){this.scores[level]=value},DataManager.prototype.keepOldScore=function(level,value){level=this.scores[level];return-1!==level&&void 0!==level&&!(level<value)},DataManager.prototype.keepOldLevel=function(level){return!(level>this.currentLevel)},DataManager.prototype.saveLevel=function(level){this.keepOldLevel(level)||(this.currentLevel=level,this.saveObj.lvl=this.currentLevel,this.save())},DataManager.prototype.calcData=function(key,start,end){for(var total=0,i=0;i<this.scores.length;i++)total+=this.scores[i];return total},DataManager})();Client.DataManager=DataManager})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var LevelManager=(()=>{function LevelManager(game){this.game=game}return LevelManager.getInstance=function(game){return LevelManager.instance=LevelManager.instance?LevelManager.instance:new LevelManager(game)},LevelManager.prototype.init=function(){this.currentMenuScreen=0,this.currentLevel=6},LevelManager})();Client.LevelManager=LevelManager})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var NapeVec2=(()=>{function NapeVec2(x,y){void 0===x&&(x=0),void 0===y&&(y=0),this.x=0,this.y=0,this.x=x,this.y=y}return Object.defineProperty(NapeVec2.prototype,"angle",{get:function(){return this.x===this.y&&0===this.x?0:Math.atan2(this.y,this.x)},set:function(angle){var l=length;this.x=l*Math.cos(angle),this.y=l*Math.sin(angle)},enumerable:!1,configurable:!0}),Object.defineProperty(NapeVec2.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},set:function(length){length/=Math.sqrt(this.x*this.x+this.y*this.y);this.x*=length,this.y*=length},enumerable:!1,configurable:!0}),NapeVec2.prototype.normalise=function(){var d=this.x*this.x+this.y*this.y,d=1/Math.sqrt(d);return this.x*=d,this.y*=d,this},NapeVec2.prototype.muleq=function(scalar){return this.setxy(this.x*scalar,this.y*scalar)},NapeVec2.prototype.setxy=function(x,y){return this.x=x,this.y=y,this},NapeVec2.prototype.getBox2db2Vec2=function(coef){return void 0===coef&&(coef=1),new box2d.b2Vec2(this.x*coef,this.y*coef)},NapeVec2})();Client.NapeVec2=NapeVec2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var NativeChanges=(()=>{function NativeChanges(){}return NativeChanges.setGraphicsChildrensMask=function(_game,_default){!0===(_default=void 0===_default?!0:_default)?_game.renderType===Phaser.CANVAS?this.setDefaultMaskCanvas(_game):_game.renderType===Phaser.WEBGL&&this.setDefaultMaskWebGL(_game):_game.renderType===Phaser.CANVAS?this.setGraphicsChildrensMaskCanvas(_game):_game.renderType===Phaser.WEBGL&&this.setGraphicsChildrensMaskWebGL(_game)},NativeChanges.setGraphicsChildrensMaskCanvas=function(game){game.renderer.renderSession.maskManager.pushMask=function(maskDataInc,renderSession){var context=renderSession.context;context.save(),context.beginPath();for(var q=0;q<maskDataInc.children.length;q++){var maskData=maskDataInc.children[q],cacheAlpha=maskData.alpha,transform=maskData.worldTransform,resolution=renderSession.resolution;context.setTransform(transform.a*resolution,transform.b*resolution,transform.c*resolution,transform.d*resolution,transform.tx*resolution,transform.ty*resolution),PIXI.CanvasGraphics.renderGraphicsMask(maskDataInc.children[q],context),maskData.worldAlpha=cacheAlpha}context.clip()},PIXI.CanvasGraphics.renderGraphicsMask=function(graphics,context){var len=graphics.graphicsData.length;if(0!==len)for(var i=0;i<len;i++){var x,h,y,xe,w,ox,oy,ye,data=graphics.graphicsData[i],shape=data.shape;if(data.type===Phaser.POLYGON){var points=shape.points;context.moveTo(points[0],points[1]);for(var j=1;j<points.length/2;j++)context.lineTo(points[2*j],points[2*j+1]);points[0]===points[points.length-2]&&points[1]===points[points.length-1]&&context.closePath()}else data.type===Phaser.RECTANGLE?(context.rect(shape.x,shape.y,shape.width,shape.height),context.closePath()):data.type===Phaser.CIRCLE?(context.arc(shape.x,shape.y,shape.radius,0,2*Math.PI),context.closePath()):data.type===Phaser.ELLIPSE?(ox=(w=2*shape.width)/2*.5522848,oy=(h=2*shape.height)/2*.5522848,xe=(x=shape.x-w/2)+w,ye=(y=shape.y-h/2)+h,w=x+w/2,context.moveTo(x,h=y+h/2),context.bezierCurveTo(x,h-oy,w-ox,y,w,y),context.bezierCurveTo(w+ox,y,xe,h-oy,xe,h),context.bezierCurveTo(xe,h+oy,w+ox,ye,w,ye),context.bezierCurveTo(w-ox,ye,x,h+oy,x,h),context.closePath()):data.type===Phaser.ROUNDEDRECTANGLE&&(y=shape.x,xe=shape.y,w=shape.width,ox=shape.height,ye=shape.radius,oy=Math.min(w,ox)/2|0,context.moveTo(y,xe+(ye=oy<ye?oy:ye)),context.lineTo(y,xe+ox-ye),context.quadraticCurveTo(y,xe+ox,y+ye,xe+ox),context.lineTo(y+w-ye,xe+ox),context.quadraticCurveTo(y+w,xe+ox,y+w,xe+ox-ye),context.lineTo(y+w,xe+ye),context.quadraticCurveTo(y+w,xe,y+w-ye,xe),context.lineTo(y+ye,xe),context.quadraticCurveTo(y,xe,y,xe+ye),context.closePath())}}},NativeChanges.setGraphicsChildrensMaskWebGL=function(game){game.renderer.maskManager.pushMask=function(maskDataInc,renderSession){for(var gl=renderSession.gl,qq=0,q=0;q<maskDataInc.children.length;q++){var maskData=maskDataInc.children[q];maskData.dirty&&PIXI.WebGLGraphics.updateGraphics(maskData,gl),void 0!==maskData._webGL[gl.id]&&void 0!==maskData._webGL[gl.id].data&&0!==maskData._webGL[gl.id].data.length&&(qq+=1,renderSession.stencilManager.pushStencil(maskData,maskData._webGL[gl.id].data[0],renderSession))}0!==qq&&renderSession.stencilManager.count++},game.renderer.renderSession.stencilManager.pushStencil=function(graphics,webGLData,renderSession){var gl=this.gl,graphics=(this.bindGraphics(graphics,webGLData,renderSession),0===this.stencilStack.length&&(gl.enable(gl.STENCIL_TEST),gl.clear(gl.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(webGLData),this.count);gl.colorMask(!1,!1,!1,!1),gl.stencilFunc(gl.ALWAYS,0,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INVERT),1===webGLData.mode?(gl.drawElements(gl.TRIANGLE_FAN,webGLData.indices.length-4,gl.UNSIGNED_SHORT,0),this.reverse?(gl.stencilFunc(gl.EQUAL,255-graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)):(gl.stencilFunc(gl.EQUAL,graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)),gl.drawElements(gl.TRIANGLE_FAN,4,gl.UNSIGNED_SHORT,2*(webGLData.indices.length-4)),this.reverse?gl.stencilFunc(gl.EQUAL,255-(graphics+1),255):gl.stencilFunc(gl.EQUAL,graphics+1,255),this.reverse=!this.reverse):(this.reverse?(gl.stencilFunc(gl.EQUAL,graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)):(gl.stencilFunc(gl.EQUAL,255-graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)),gl.drawElements(gl.TRIANGLE_STRIP,webGLData.indices.length,gl.UNSIGNED_SHORT,0),this.reverse?gl.stencilFunc(gl.EQUAL,graphics+1,255):gl.stencilFunc(gl.EQUAL,255-(graphics+1),255)),gl.colorMask(!0,!0,!0,!0),gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP)},game.renderer.maskManager.popMask=function(maskDataInc,renderSession){for(var gl=this.gl,qq=!0,q=0;q<maskDataInc.children.length;q++){var maskData=maskDataInc.children[q];void 0!==maskData._webGL[gl.id]&&void 0!==maskData._webGL[gl.id].data&&0!==maskData._webGL[gl.id].data.length&&(!0===qq&&(qq=!1,renderSession.stencilManager.count--),renderSession.stencilManager.popStencil(maskData,maskData._webGL[gl.id].data[0],renderSession))}},game.renderer.renderSession.stencilManager.popStencil=function(graphics,webGLData,renderSession){var level,gl=this.gl;this.stencilStack.pop(),0===this.stencilStack.length?gl.disable(gl.STENCIL_TEST):(level=this.count,this.bindGraphics(graphics,webGLData,renderSession),gl.colorMask(!1,!1,!1,!1),1===webGLData.mode?(this.reverse=!this.reverse,this.reverse?(gl.stencilFunc(gl.EQUAL,255-(level+1),255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)):(gl.stencilFunc(gl.EQUAL,level+1,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)),gl.drawElements(gl.TRIANGLE_FAN,4,gl.UNSIGNED_SHORT,2*(webGLData.indices.length-4)),gl.stencilFunc(gl.ALWAYS,0,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INVERT),gl.drawElements(gl.TRIANGLE_FAN,webGLData.indices.length-4,gl.UNSIGNED_SHORT,0)):(this.reverse?(gl.stencilFunc(gl.EQUAL,level+1,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)):(gl.stencilFunc(gl.EQUAL,255-(level+1),255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)),gl.drawElements(gl.TRIANGLE_STRIP,webGLData.indices.length,gl.UNSIGNED_SHORT,0)),this.reverse?gl.stencilFunc(gl.EQUAL,level,255):gl.stencilFunc(gl.EQUAL,255-level,255),gl.colorMask(!0,!0,!0,!0),gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP))}},NativeChanges.setDefaultMaskCanvas=function(game){game.renderer.renderSession.maskManager.pushMask=function(maskData,renderSession){var context=renderSession.context,cacheAlpha=(context.save(),maskData.alpha),transform=maskData.worldTransform,renderSession=renderSession.resolution;context.setTransform(transform.a*renderSession,transform.b*renderSession,transform.c*renderSession,transform.d*renderSession,transform.tx*renderSession,transform.ty*renderSession),PIXI.CanvasGraphics.renderGraphicsMask(maskData,context),context.clip(),maskData.worldAlpha=cacheAlpha},PIXI.CanvasGraphics.renderGraphicsMask=function(graphics,context){var len=graphics.graphicsData.length;if(0!==len){context.beginPath();for(var i=0;i<len;i++){var x,h,y,xe,w,ox,oy,ye,data=graphics.graphicsData[i],shape=data.shape;if(data.type===Phaser.POLYGON){var points=shape.points;context.moveTo(points[0],points[1]);for(var j=1;j<points.length/2;j++)context.lineTo(points[2*j],points[2*j+1]);points[0]===points[points.length-2]&&points[1]===points[points.length-1]&&context.closePath()}else data.type===Phaser.RECTANGLE?(context.rect(shape.x,shape.y,shape.width,shape.height),context.closePath()):data.type===Phaser.CIRCLE?(context.arc(shape.x,shape.y,shape.radius,0,2*Math.PI),context.closePath()):data.type===Phaser.ELLIPSE?(ox=(w=2*shape.width)/2*.5522848,oy=(h=2*shape.height)/2*.5522848,xe=(x=shape.x-w/2)+w,ye=(y=shape.y-h/2)+h,w=x+w/2,context.moveTo(x,h=y+h/2),context.bezierCurveTo(x,h-oy,w-ox,y,w,y),context.bezierCurveTo(w+ox,y,xe,h-oy,xe,h),context.bezierCurveTo(xe,h+oy,w+ox,ye,w,ye),context.bezierCurveTo(w-ox,ye,x,h+oy,x,h),context.closePath()):data.type===Phaser.ROUNDEDRECTANGLE&&(y=shape.x,xe=shape.y,w=shape.width,ox=shape.height,ye=shape.radius,oy=Math.min(w,ox)/2|0,context.moveTo(y,xe+(ye=oy<ye?oy:ye)),context.lineTo(y,xe+ox-ye),context.quadraticCurveTo(y,xe+ox,y+ye,xe+ox),context.lineTo(y+w-ye,xe+ox),context.quadraticCurveTo(y+w,xe+ox,y+w,xe+ox-ye),context.lineTo(y+w,xe+ye),context.quadraticCurveTo(y+w,xe,y+w-ye,xe),context.lineTo(y+ye,xe),context.quadraticCurveTo(y,xe,y,xe+ye),context.closePath())}}}},NativeChanges.setDefaultMaskWebGL=function(game){game.renderer.maskManager.pushMask=function(maskData,renderSession){var gl=renderSession.gl;maskData.dirty&&PIXI.WebGLGraphics.updateGraphics(maskData,gl),void 0!==maskData._webGL[gl.id]&&void 0!==maskData._webGL[gl.id].data&&0!==maskData._webGL[gl.id].data.length&&renderSession.stencilManager.pushStencil(maskData,maskData._webGL[gl.id].data[0],renderSession)},game.renderer.renderSession.stencilManager.pushStencil=function(graphics,webGLData,renderSession){var gl=this.gl,graphics=(this.bindGraphics(graphics,webGLData,renderSession),0===this.stencilStack.length&&(gl.enable(gl.STENCIL_TEST),gl.clear(gl.STENCIL_BUFFER_BIT),this.reverse=!0,this.count=0),this.stencilStack.push(webGLData),this.count);gl.colorMask(!1,!1,!1,!1),gl.stencilFunc(gl.ALWAYS,0,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INVERT),1===webGLData.mode?(gl.drawElements(gl.TRIANGLE_FAN,webGLData.indices.length-4,gl.UNSIGNED_SHORT,0),this.reverse?(gl.stencilFunc(gl.EQUAL,255-graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)):(gl.stencilFunc(gl.EQUAL,graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)),gl.drawElements(gl.TRIANGLE_FAN,4,gl.UNSIGNED_SHORT,2*(webGLData.indices.length-4)),this.reverse?gl.stencilFunc(gl.EQUAL,255-(graphics+1),255):gl.stencilFunc(gl.EQUAL,graphics+1,255),this.reverse=!this.reverse):(this.reverse?(gl.stencilFunc(gl.EQUAL,graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)):(gl.stencilFunc(gl.EQUAL,255-graphics,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)),gl.drawElements(gl.TRIANGLE_STRIP,webGLData.indices.length,gl.UNSIGNED_SHORT,0),this.reverse?gl.stencilFunc(gl.EQUAL,graphics+1,255):gl.stencilFunc(gl.EQUAL,255-(graphics+1),255)),gl.colorMask(!0,!0,!0,!0),gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP),this.count++},game.renderer.maskManager.popMask=function(maskData,renderSession){var gl=this.gl;void 0!==maskData._webGL[gl.id]&&void 0!==maskData._webGL[gl.id].data&&0!==maskData._webGL[gl.id].data.length&&renderSession.stencilManager.popStencil(maskData,maskData._webGL[gl.id].data[0],renderSession)},game.renderer.renderSession.stencilManager.popStencil=function(graphics,webGLData,renderSession){var level,gl=this.gl;this.stencilStack.pop(),this.count--,0===this.stencilStack.length?gl.disable(gl.STENCIL_TEST):(level=this.count,this.bindGraphics(graphics,webGLData,renderSession),gl.colorMask(!1,!1,!1,!1),1===webGLData.mode?(this.reverse=!this.reverse,this.reverse?(gl.stencilFunc(gl.EQUAL,255-(level+1),255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)):(gl.stencilFunc(gl.EQUAL,level+1,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)),gl.drawElements(gl.TRIANGLE_FAN,4,gl.UNSIGNED_SHORT,2*(webGLData.indices.length-4)),gl.stencilFunc(gl.ALWAYS,0,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INVERT),gl.drawElements(gl.TRIANGLE_FAN,webGLData.indices.length-4,gl.UNSIGNED_SHORT,0)):(this.reverse?(gl.stencilFunc(gl.EQUAL,level+1,255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.DECR)):(gl.stencilFunc(gl.EQUAL,255-(level+1),255),gl.stencilOp(gl.KEEP,gl.KEEP,gl.INCR)),gl.drawElements(gl.TRIANGLE_STRIP,webGLData.indices.length,gl.UNSIGNED_SHORT,0)),this.reverse?gl.stencilFunc(gl.EQUAL,level,255):gl.stencilFunc(gl.EQUAL,255-level,255),gl.colorMask(!0,!0,!0,!0),gl.stencilOp(gl.KEEP,gl.KEEP,gl.KEEP))}},NativeChanges})();Client.NativeChanges=NativeChanges})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(()=>{function Constants(){}return Constants.DIV_ID="content",Constants.GAME_SCALE=1,Constants.CALCULATED_WIDTH=0,Constants.CALCULATED_HEIGHT=0,Constants.GAME_WIDTH=800,Constants.GAME_HEIGHT=600,Constants.LANDSCAPE_LOCKED=!0,Constants.PORTRAIT_LOCKED=!1,Constants.GAMEDISTRIBUTION_ID="0095b1d5dcb645d88971010491627362",Constants.GAMEDISTRIBUTION_USER="ABD36C6C-E74B-4BA7-BE87-0AB01F98D30D-s1",Constants.GAME_KEY="48645f2f5c76f7832584caa1f053c592",Constants.SECRET_KEY="69d3d3877fed0534f0a2b3bb2df162a91d08fa93",Constants.GOOGLE_ID="UA-85519155-27",Constants.GOOGLE_APP_NAME="Wheely 6",Constants.LOGO_URL="http://kizi.com/?ch=3235&utm_source=GameDistribution",Constants.WALKTHROUGH_URL="http://kizi.com/videos/wheely-6-full-walkthrough/?ch=3236&utm_source=GameDistribution",Constants.GAME_TITLE="Wheely 6",Constants})()),Atlases=((WheelyScale=>{var ScaleHelper=(()=>{function ScaleHelper(){}return ScaleHelper.init=function(aGame){this.game=aGame,this.dom=document.getElementById(this.dom_id),this.game.scale.scaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.USER_SCALE,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.windowConstraints.right="layout",this.game.scale.windowConstraints.bottom="visual",this.resize(),window.addEventListener("resize",function(e){return ScaleHelper.resize()})},ScaleHelper.resize=function(){var windowWidth,windowHeight,g_w,g_sw,g_sh,gw,gh,g_h;Wheely.Client.Boot.inBoot||(windowWidth=window.innerWidth,g_w=this.game_w,g_h=this.game_h,g_sw=this.game_sw,g_sh=this.game_sh,(windowHeight=window.innerHeight)/windowWidth<g_h/g_w?windowHeight/windowWidth<g_sh/g_w?gw=(gh=windowHeight*g_h/g_sh)*g_w/g_h:gh=(gw=windowWidth)*g_h/g_w:windowHeight/windowWidth<g_h/g_sw?gw=(gh=windowHeight)*g_w/g_h:gh=(gw=windowWidth*g_w/g_sw)*g_h/g_w,g_h=Math.min(gw/g_sw,gh/g_sh),WheelyScale.ScaleHelper.game.scale.setUserScale(g_h,g_h,0,0),this.dtx=(windowWidth-gw)/2,this.dty=(windowHeight-gh)/2,this.gameViewW=this.game_w+2*this.dtx/g_h,this.gameViewW>this.game_w&&(this.gameViewW=this.game_w),this.gameViewH=this.game_h+2*this.dty/g_h,this.gameViewH>this.game_h&&(this.gameViewH=this.game_h),this.dom.style.marginLeft=Math.round(this.dtx).toString()+"px",this.dom.style.marginTop=Math.round(this.dty).toString()+"px",this.dom.style.maxWidth=String(gw)+"px",this.dom.style.maxHeight=String(gh)+"px",WheelyScale.ScaleHelper.game.scale.refresh(),Constants.LANDSCAPE_LOCKED?windowHeight<windowWidth?this.handleCorrect():this.handleIncorrect():Constants.PORTRAIT_LOCKED&&(windowWidth<windowHeight?this.handleCorrect():this.handleIncorrect()),setTimeout("window.scrollTo(0,0)",1e3))},ScaleHelper.handleCorrect=function(){this.dom.style.display="block",document.getElementById("orientation").style.display="none"},ScaleHelper.handleIncorrect=function(){this.dom.style.display="none",document.getElementById("orientation").style.display="block",this.game.state.current===SceneList.LevelBuilder&&Wheely.Client.LevelBuilder.instance.paused()},ScaleHelper.dom_id=Constants.DIV_ID,ScaleHelper.game_w=Constants.GAME_WIDTH,ScaleHelper.game_h=Constants.GAME_HEIGHT,ScaleHelper.game_sw=Constants.GAME_WIDTH,ScaleHelper.game_sh=Constants.GAME_HEIGHT,ScaleHelper.dtx=0,ScaleHelper.dty=0,ScaleHelper})();WheelyScale.ScaleHelper=ScaleHelper})(WheelyScale=WheelyScale||{}),(Wheely=>{(Client=>{var SimpleTween=(()=>{function SimpleTween(){this.working=!1,this.counter=0,this.smartRotation=!1,this.tweenDetails=new Array}return SimpleTween.prototype.start=function(target,duration,properties,smartRotation){void 0===smartRotation&&(smartRotation=!1),0!==this.tweenDetails.length&&this.stop(),this.smartRotation=smartRotation,this.target=target,this.working=!0,this.counter=0,this.duration=duration;for(var _i=0,_a=Object.keys(properties);_i<_a.length;_i++){var start,end,itemName=_a[_i];(start=this.target[itemName])!==(end=properties[itemName])&&this.tweenDetails.push({propertyName:itemName,start:start,change:end-start})}},SimpleTween.prototype.stop=function(){this.working=!1,this.tweenDetails.splice(0,this.tweenDetails.length),null!==this.target&&(this.target.name="use")},SimpleTween.prototype.update=function(){if(!1!==this.working){this.counter+=1,this.percent=this.counter/this.duration;for(var rotation,i=0;i<this.tweenDetails.length;i++)!0!==this.smartRotation||"angle"!==this.tweenDetails[i].propertyName&&"skX"!==this.tweenDetails[i].propertyName&&"skY"!==this.tweenDetails[i].propertyName?this.target[this.tweenDetails[i].propertyName]=this.tweenDetails[i].start+this.tweenDetails[i].change*this.percent:(180<(rotation=this.tweenDetails[i].change%360)?rotation-=360:rotation<-180&&(rotation+=360),this.target[this.tweenDetails[i].propertyName]=this.tweenDetails[i].start+rotation*this.percent);1<=this.percent&&this.stop()}},SimpleTween.prototype.free=function(){this.target=null,this.tweenDetails=[],this.tweenDetails=null},SimpleTween})();Client.SimpleTween=SimpleTween})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var MatrixSprite=(_super=>{function MatrixSprite(game,_x,_y,_key,_frame){game=_super.call(this,game,_x,_y,_key=void 0===_key?null:_key,_frame=void 0===_frame?null:_frame)||this;return game.a=1,game.b=0,game.c=0,game.d=1,game.tx=0,game.ty=0,game.tx=_x,game.ty=_y,game.updateTransform=function(parent){if(!parent&&!this.parent&&!this.game)return this;var p=this.parent,parent=(parent?p=parent:this.parent||(p=this.game.world),p.worldTransform),wt=this.worldTransform,tx=this.tx,ty=this.ty;if((this.pivot.x||this.pivot.y)&&(tx-=this.pivot.x*this.a+this.pivot.y*this.c,ty-=this.pivot.x*this.b+this.pivot.y*this.d),wt.a=this.a*parent.a+this.b*parent.c,wt.b=this.a*parent.b+this.b*parent.d,wt.c=this.c*parent.a+this.d*parent.c,wt.d=this.c*parent.b+this.d*parent.d,wt.tx=tx*parent.a+ty*parent.c+parent.tx,wt.ty=tx*parent.b+ty*parent.d+parent.ty,this.worldAlpha=this.alpha*p.worldAlpha,this.worldPosition.set(wt.tx,wt.ty),this.worldScale.set(this.scale.x*Math.sqrt(wt.a*wt.a+wt.c*wt.c),this.scale.y*Math.sqrt(wt.b*wt.b+wt.d*wt.d)),this.worldRotation=Math.atan2(-wt.c,wt.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,wt,parent),!this._cacheAsBitmap){for(var i=0;i<this.children.length;i++)this.children[i].updateTransform();return this}},game}return __extends(MatrixSprite,_super),MatrixSprite.prototype.setParam=function(a,b,c,d,tx,ty){this.position.setTo(tx,ty),this.a=a,this.b=b,this.c=c,this.d=d,this.tx=tx,this.ty=ty},MatrixSprite})(Phaser.Sprite);Client.MatrixSprite=MatrixSprite})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var SAGroup=(_super=>{function SAGroup(game,_x,_y){game=_super.call(this,game)||this;return game.skX=0,game.skY=0,game._srB=0,game._srC=0,game._crA=1,game._crD=1,game._cachedRotX=0,game._cachedRotY=0,game.x=_x,game.y=_y,game.updateTransform=function(parent){if(!parent&&!this.parent&&!this.game)return this;var a,d,tx,ty,p=this.parent,parent=(parent?p=parent:this.parent||(p=this.game.world),p.worldTransform),wt=this.worldTransform,rotY=this.rotation+this.skY*(Math.PI/180),rotX=this.rotation+this.skX*(Math.PI/180);if(rotY%Phaser.Math.PI2||rotX%Phaser.Math.PI2?(rotX===this._cachedRotX&&rotY===this._cachedRotY||(this._cachedRotX=rotX,this._cachedRotY=rotY,this._crA=Math.cos(rotY),this._srB=Math.sin(rotY),this._srC=Math.sin(-rotX),this._crD=Math.cos(rotX)),a=this._crA*this.scale.x,rotY=this._srB*this.scale.x,rotX=this._srC*this.scale.y,d=this._crD*this.scale.y,tx=this.position.x,ty=this.position.y,(this.pivot.x||this.pivot.y)&&(tx-=this.pivot.x*a+this.pivot.y*rotX,ty-=this.pivot.x*rotY+this.pivot.y*d),wt.a=a*parent.a+rotY*parent.c,wt.b=a*parent.b+rotY*parent.d,wt.c=rotX*parent.a+d*parent.c,wt.d=rotX*parent.b+d*parent.d):(a=this.scale.x,d=this.scale.y,tx=this.position.x-this.pivot.x*a,ty=this.position.y-this.pivot.y*d,wt.a=a*parent.a,wt.b=a*parent.b,wt.c=d*parent.c,wt.d=d*parent.d),wt.tx=tx*parent.a+ty*parent.c+parent.tx,wt.ty=tx*parent.b+ty*parent.d+parent.ty,this.worldAlpha=this.alpha*p.worldAlpha,this.worldPosition.set(wt.tx,wt.ty),this.worldScale.set(this.scale.x*Math.sqrt(wt.a*wt.a+wt.c*wt.c),this.scale.y*Math.sqrt(wt.b*wt.b+wt.d*wt.d)),this.worldRotation=Math.atan2(-wt.c,wt.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,wt,parent),!this._cacheAsBitmap){for(var i=0;i<this.children.length;i++)this.children[i].updateTransform();return this}},game}return __extends(SAGroup,_super),Object.defineProperty(SAGroup.prototype,"scY",{get:function(){return this.scale.y},set:function(value){this.scale.y=value},enumerable:!1,configurable:!0}),Object.defineProperty(SAGroup.prototype,"scX",{get:function(){return this.scale.x},set:function(value){this.scale.x=value},enumerable:!1,configurable:!0}),SAGroup})(Phaser.Group);Client.SAGroup=SAGroup})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var SASprite=(_super=>{function SASprite(game,_x,_y,_key,_frame){game=_super.call(this,game,_x,_y,_key=void 0===_key?null:_key,_frame=void 0===_frame?null:_frame)||this;return game._skX=0,game._skY=0,game._srB=0,game._srC=0,game._crA=1,game._crD=1,game._cachedRotX=0,game._cachedRotY=0,game.updateTransform=function(parent){if(!parent&&!this.parent&&!this.game)return this;var a,d,tx,ty,p=this.parent,parent=(parent?p=parent:this.parent||(p=this.game.world),p.worldTransform),wt=this.worldTransform,rotY=this.rotation+this._skY*(Math.PI/180),rotX=this.rotation+this._skX*(Math.PI/180);if(rotY%Phaser.Math.PI2||rotX%Phaser.Math.PI2?(rotX===this._cachedRotX&&rotY===this._cachedRotY||(this._cachedRotX=rotX,this._cachedRotY=rotY,this._crA=Math.cos(rotY),this._srB=Math.sin(rotY),this._srC=Math.sin(-rotX),this._crD=Math.cos(rotX)),a=this._crA*this.scale.x,rotY=this._srB*this.scale.x,rotX=this._srC*this.scale.y,d=this._crD*this.scale.y,tx=this.position.x,ty=this.position.y,(this.pivot.x||this.pivot.y)&&(tx-=this.pivot.x*a+this.pivot.y*rotX,ty-=this.pivot.x*rotY+this.pivot.y*d),wt.a=a*parent.a+rotY*parent.c,wt.b=a*parent.b+rotY*parent.d,wt.c=rotX*parent.a+d*parent.c,wt.d=rotX*parent.b+d*parent.d):(a=this.scale.x,d=this.scale.y,tx=this.position.x-this.pivot.x*a,ty=this.position.y-this.pivot.y*d,wt.a=a*parent.a,wt.b=a*parent.b,wt.c=d*parent.c,wt.d=d*parent.d),wt.tx=tx*parent.a+ty*parent.c+parent.tx,wt.ty=tx*parent.b+ty*parent.d+parent.ty,this.worldAlpha=this.alpha*p.worldAlpha,this.worldPosition.set(wt.tx,wt.ty),this.worldScale.set(this.scale.x*Math.sqrt(wt.a*wt.a+wt.c*wt.c),this.scale.y*Math.sqrt(wt.b*wt.b+wt.d*wt.d)),this.worldRotation=Math.atan2(-wt.c,wt.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,wt,parent),!this._cacheAsBitmap){for(var i=0;i<this.children.length;i++)this.children[i].updateTransform();return this}},game}return __extends(SASprite,_super),Object.defineProperty(SASprite.prototype,"skX",{get:function(){return this._skX},set:function(value){180<value?value=-(180-(value-180)):value<-180&&(value=180+(value+180)),this._skX=value},enumerable:!1,configurable:!0}),Object.defineProperty(SASprite.prototype,"skY",{get:function(){return this._skY},set:function(value){180<value?value=-(180-(value-180)):value<-180&&(value=180+(value+180)),this._skY=value},enumerable:!1,configurable:!0}),Object.defineProperty(SASprite.prototype,"scY",{get:function(){return this.scale.y},set:function(value){this.scale.y=value},enumerable:!1,configurable:!0}),Object.defineProperty(SASprite.prototype,"scX",{get:function(){return this.scale.x},set:function(value){this.scale.x=value},enumerable:!1,configurable:!0}),SASprite})(Phaser.Sprite);Client.SASprite=SASprite})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var ScaleSprite=(_super=>{function ScaleSprite(game,_x,_y,_key,_frame){return _super.call(this,game,_x,_y,_key=void 0===_key?null:_key,_frame=void 0===_frame?null:_frame)||this}return __extends(ScaleSprite,_super),Object.defineProperty(ScaleSprite.prototype,"pivotX",{get:function(){return this.pivot.x},set:function(value){this.pivot.x=value},enumerable:!1,configurable:!0}),Object.defineProperty(ScaleSprite.prototype,"pivotY",{get:function(){return this.pivot.y},set:function(value){this.pivot.y=value},enumerable:!1,configurable:!0}),Object.defineProperty(ScaleSprite.prototype,"scaleY",{get:function(){return this.scale.y},set:function(value){this.scale.y=value},enumerable:!1,configurable:!0}),Object.defineProperty(ScaleSprite.prototype,"scaleX",{get:function(){return this.scale.x},set:function(value){this.scale.x=value},enumerable:!1,configurable:!0}),ScaleSprite})(Phaser.Sprite);Client.ScaleSprite=ScaleSprite})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var SkewGroup=(_super=>{function SkewGroup(game,_x,_y){game=_super.call(this,game)||this;return game.skewX=0,game.skewY=0,game._srB=0,game._srC=0,game._crA=1,game._crD=1,game._cachedRotX=0,game._cachedRotY=0,game.x=_x,game.y=_y,game.updateTransform=function(parent){if(!parent&&!this.parent&&!this.game)return this;var a,d,tx,ty,p=this.parent,parent=(parent?p=parent:this.parent||(p=this.game.world),p.worldTransform),wt=this.worldTransform,rotY=this.rotation+this.skewY,rotX=this.rotation+this.skewX;if(rotY%Phaser.Math.PI2||rotX%Phaser.Math.PI2?(rotX===this._cachedRotX&&rotY===this._cachedRotY||(this._cachedRotX=rotX,this._cachedRotY=rotY,this._crA=Math.cos(rotY),this._srB=Math.sin(rotY),this._srC=Math.sin(-rotX),this._crD=Math.cos(rotX)),a=this._crA*this.scale.x,rotY=this._srB*this.scale.x,rotX=this._srC*this.scale.y,d=this._crD*this.scale.y,tx=this.position.x,ty=this.position.y,(this.pivot.x||this.pivot.y)&&(tx-=this.pivot.x*a+this.pivot.y*rotX,ty-=this.pivot.x*rotY+this.pivot.y*d),wt.a=a*parent.a+rotY*parent.c,wt.b=a*parent.b+rotY*parent.d,wt.c=rotX*parent.a+d*parent.c,wt.d=rotX*parent.b+d*parent.d):(a=this.scale.x,d=this.scale.y,tx=this.position.x-this.pivot.x*a,ty=this.position.y-this.pivot.y*d,wt.a=a*parent.a,wt.b=a*parent.b,wt.c=d*parent.c,wt.d=d*parent.d),wt.tx=tx*parent.a+ty*parent.c+parent.tx,wt.ty=tx*parent.b+ty*parent.d+parent.ty,this.worldAlpha=this.alpha*p.worldAlpha,this.worldPosition.set(wt.tx,wt.ty),this.worldScale.set(this.scale.x*Math.sqrt(wt.a*wt.a+wt.c*wt.c),this.scale.y*Math.sqrt(wt.b*wt.b+wt.d*wt.d)),this.worldRotation=Math.atan2(-wt.c,wt.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,wt,parent),!this._cacheAsBitmap){for(var i=0;i<this.children.length;i++)this.children[i].updateTransform();return this}},game}return __extends(SkewGroup,_super),Object.defineProperty(SkewGroup.prototype,"scaleY",{get:function(){return this.scale.y},set:function(value){this.scale.y=value},enumerable:!1,configurable:!0}),Object.defineProperty(SkewGroup.prototype,"scaleX",{get:function(){return this.scale.x},set:function(value){this.scale.x=value},enumerable:!1,configurable:!0}),SkewGroup})(Phaser.Group);Client.SkewGroup=SkewGroup})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var SkewSprite=(_super=>{function SkewSprite(game,_x,_y,_key,_frame){game=_super.call(this,game,_x,_y,_key=void 0===_key?null:_key,_frame=void 0===_frame?null:_frame)||this;return game.skewX=0,game.skewY=0,game._srB=0,game._srC=0,game._crA=1,game._crD=1,game._cachedRotX=0,game._cachedRotY=0,game.updateTransform=function(parent){if(!parent&&!this.parent&&!this.game)return this;var a,d,tx,ty,p=this.parent,parent=(parent?p=parent:this.parent||(p=this.game.world),p.worldTransform),wt=this.worldTransform,rotY=this.rotation+this.skewY,rotX=this.rotation+this.skewX;if(rotY%Phaser.Math.PI2||rotX%Phaser.Math.PI2?(rotX===this._cachedRotX&&rotY===this._cachedRotY||(this._cachedRotX=rotX,this._cachedRotY=rotY,this._crA=Math.cos(rotY),this._srB=Math.sin(rotY),this._srC=Math.sin(-rotX),this._crD=Math.cos(rotX)),a=this._crA*this.scale.x,rotY=this._srB*this.scale.x,rotX=this._srC*this.scale.y,d=this._crD*this.scale.y,tx=this.position.x,ty=this.position.y,(this.pivot.x||this.pivot.y)&&(tx-=this.pivot.x*a+this.pivot.y*rotX,ty-=this.pivot.x*rotY+this.pivot.y*d),wt.a=a*parent.a+rotY*parent.c,wt.b=a*parent.b+rotY*parent.d,wt.c=rotX*parent.a+d*parent.c,wt.d=rotX*parent.b+d*parent.d):(a=this.scale.x,d=this.scale.y,tx=this.position.x-this.pivot.x*a,ty=this.position.y-this.pivot.y*d,wt.a=a*parent.a,wt.b=a*parent.b,wt.c=d*parent.c,wt.d=d*parent.d),wt.tx=tx*parent.a+ty*parent.c+parent.tx,wt.ty=tx*parent.b+ty*parent.d+parent.ty,this.worldAlpha=this.alpha*p.worldAlpha,this.worldPosition.set(wt.tx,wt.ty),this.worldScale.set(this.scale.x*Math.sqrt(wt.a*wt.a+wt.c*wt.c),this.scale.y*Math.sqrt(wt.b*wt.b+wt.d*wt.d)),this.worldRotation=Math.atan2(-wt.c,wt.d),this._currentBounds=null,this.transformCallback&&this.transformCallback.call(this.transformCallbackContext,wt,parent),!this._cacheAsBitmap){for(var i=0;i<this.children.length;i++)this.children[i].updateTransform();return this}},game}return __extends(SkewSprite,_super),Object.defineProperty(SkewSprite.prototype,"scaleY",{get:function(){return this.scale.y},set:function(value){this.scale.y=value},enumerable:!1,configurable:!0}),Object.defineProperty(SkewSprite.prototype,"scaleX",{get:function(){return this.scale.x},set:function(value){this.scale.x=value},enumerable:!1,configurable:!0}),SkewSprite})(Phaser.Sprite);Client.SkewSprite=SkewSprite})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{(SoundType=>{SoundType[SoundType.Music="music"]="Music",SoundType[SoundType.SFX="sfx"]="SFX"})(SoundType=Client.SoundType||(Client.SoundType={}));var SoundType,SoundManager=(()=>{function SoundManager(){}return SoundManager.init=function(aGame){SoundManager.game=aGame,SoundManager.toggleSound("m",SoundManager.enabMusic),SoundManager.toggleSound("fx",SoundManager.enabSFX)},SoundManager.toggleSound=function(key,soundProp){Client.DataManager.getInstance().saveObj[key]},SoundManager.playMusic=function(name,volume){void 0===volume&&(volume=1),null===SoundManager.music?(SoundManager.music=SoundManager.game.add.audio(name,volume,!0),!0===SoundManager.enabMusic&&SoundManager.music.play()):(SoundManager.music.volume=volume,!0!==SoundManager.enabMusic||SoundManager.music.key!==name&&(SoundManager.music.destroy(),SoundManager.music=SoundManager.game.add.audio(name,volume,!0),!0!==SoundManager.enabMusic)||SoundManager.music.play())},SoundManager.stopMusic=function(){null!==SoundManager.music&&SoundManager.music.stop()},SoundManager.playSFX=function(name,loop,volume){void 0===loop&&(loop=!1),void 0===volume&&(volume=1),!1===SoundManager.enabSFX?!0===loop&&void 0===SoundManager.sfxLoop[name]&&(SoundManager.sfxLoop[name]=SoundManager.game.add.audio(name,volume,!0)):!0===loop?void 0===SoundManager.sfxLoop[name]?SoundManager.sfxLoop[name]=SoundManager.game.add.audio(name,volume,!0).play():SoundManager.sfxLoop[name].play():SoundManager.game.add.audio(name,volume).play()},SoundManager.stopSFXLoop=function(name){void 0!==SoundManager.sfxLoop[name]&&SoundManager.sfxLoop[name].stop()},SoundManager.stopAllSFXLoop=function(){for(var _i=0,_a=Object.keys(SoundManager.sfxLoop);_i<_a.length;_i++){var item=_a[_i];SoundManager.sfxLoop[item].stop()}},SoundManager.changeEnabledMusic=function(){!0===SoundManager.enabMusic?(null!==SoundManager.music&&SoundManager.music.pause(),Client.DataManager.getInstance().saveData("m",1)):(null!==SoundManager.music&&(!0===SoundManager.music.paused?SoundManager.music.resume():SoundManager.music.play()),Client.DataManager.getInstance().saveData("m",0)),SoundManager.enabMusic=!SoundManager.enabMusic},SoundManager.changeEnabledSFX=function(){if(!0===SoundManager.enabSFX){for(var _i=0,_a=Object.keys(this.sfxLoop);_i<_a.length;_i++){var item=_a[_i];this.sfxLoop[item].pause()}Client.DataManager.getInstance().saveData("fx",1)}else{for(var _b=0,_c=Object.keys(this.sfxLoop);_b<_c.length;_b++){item=_c[_b];!0===this.sfxLoop[item].paused?this.sfxLoop[item].resume():this.sfxLoop[item].play()}Client.DataManager.getInstance().saveData("fx",0)}SoundManager.enabSFX=!SoundManager.enabSFX},SoundManager.setEnabled=function(id){id===SoundType.Music?SoundManager.changeEnabledMusic():SoundManager.changeEnabledSFX()},SoundManager.getEnabled=function(id){return id===SoundType.Music?SoundManager.enabMusic:SoundManager.enabSFX},SoundManager.removeAllSFXLoop=function(){for(var _i=0,_a=Object.keys(SoundManager.sfxLoop);_i<_a.length;_i++){var item=_a[_i];SoundManager.sfxLoop[item].destroy()}SoundManager.sfxLoop={}},SoundManager.enabMusic=!0,SoundManager.enabSFX=!0,SoundManager.game=null,SoundManager.music=null,SoundManager.sfxLoop={},SoundManager})();Client.SoundManager=SoundManager})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Tools=(()=>{function Tools(){}return Tools.random=function(min,max){return Math.floor(Math.random()*(max-min+1))+min},Tools.roundDec=function(numIn,decimalPlaces){void 0===decimalPlaces&&(decimalPlaces=0);decimalPlaces=Math.pow(10,decimalPlaces);return Math.round(numIn*decimalPlaces)/decimalPlaces},Tools.clamp=function(val,min,max){return Math.max(min,Math.min(max,val))},Tools.toDeg=function(rad){return rad*(180/Math.PI)},Tools.toRad=function(deg){return deg*(Math.PI/180)},Tools.getInstance=function(name){for(var args=[],_i=1;_i<arguments.length;_i++)args[_i-1]=arguments[_i];name=Object.create(window.Wheely.Client[name].prototype);return name.constructor.apply(name,args),name},Tools.rotatePointByAngle=function(anchorX,anchorY,rotatedX,rotatedY,angleRad){var cos=Math.cos(angleRad),angleRad=Math.sin(angleRad);return new Phaser.Point(anchorX+(rotatedX-anchorX)*cos-(rotatedY-anchorY)*angleRad,anchorY+(rotatedX-anchorX)*angleRad+(rotatedY-anchorY)*cos)},Tools.distance=function(x1,y1,x2,y2){return Math.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))},Tools.percentTo=function(current,total){return current/total*100},Tools.percentToF=function(current,total){return current/total},Tools.percentFrom=function(percent,total){return percent*total/100},Tools.angleOfPoints=function(x1,y1,x2,y2){return 180*Math.atan2(-(y2-y1),-(x2-x1))/Math.PI},Tools})();Client.Tools=Tools})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var DancingText=(()=>{function DancingText(game,_addTo,_x,_y,offX,text,size){this.m_maxTextYDelta=5,this.m_danceSpeed=2,this.m_danceOffset=5,this.m_maxDanceCount=10,this.active=!1,this.m_dancingTexts=new Array,this.m_dancingTextsDirections=new Array,this.m_dancingTextsDancesCount=new Array,this.m_dancingTextsDelays=new Array,this.x=_x,this.y=_y;for(var m_currXOffset=0,i=0;i<text.length;i++){var char=text.charAt(i);" "===char?m_currXOffset+=offX:((char=new Phaser.BitmapText(game,this.x+m_currXOffset,this.y,"walkthrough",char,size)).anchor.setTo(.5),m_currXOffset+=offX,_addTo.addChild(char),this.m_dancingTexts.push(char),this.m_dancingTextsDirections.push(-1),this.m_dancingTextsDelays.push(0),this.m_dancingTextsDancesCount.push(0))}}return DancingText.prototype.stopDancing=function(){for(var i=0;i<this.m_dancingTexts.length;i++)this.m_dancingTexts[i].y=this.y;this.active=!1},DancingText.prototype.startDancing=function(){this.stopDancing();for(var i=0;i<this.m_dancingTextsDelays.length;i++)this.m_dancingTextsDelays[i]=5*i,this.m_dancingTextsDancesCount[i]=0;this.active=!0},DancingText.prototype.updateTextDance=function(){for(var newTF,anyDance=!1,i=0;i<this.m_dancingTexts.length;i++)((newTF=this.m_dancingTexts[i]).y<this.y-this.m_maxTextYDelta||newTF.y>this.y+this.m_maxTextYDelta)&&(this.m_dancingTextsDirections[i]*=-1,this.m_dancingTextsDancesCount[i]+=1),this.m_dancingTextsDelays[i]-=Math.abs(this.m_danceSpeed),this.m_dancingTextsDelays[i]<0&&this.m_dancingTextsDancesCount[i]<this.m_maxDanceCount?(this.m_dancingTextsDelays[i]=0,newTF.y+=this.m_dancingTextsDirections[i]*this.m_danceSpeed,anyDance=!0):this.m_dancingTextsDancesCount[i]>=this.m_maxDanceCount&&newTF.y!==this.y&&(newTF.y+=this.m_dancingTextsDirections[i]*this.m_danceSpeed,anyDance=!0);anyDance||this.stopDancing()},DancingText.prototype.update=function(){!1!==this.active&&this.updateTextDance()},DancingText.prototype.free=function(){this.m_dancingTexts=[],this.m_dancingTexts=null,this.m_dancingTextsDirections=[],this.m_dancingTextsDirections=null,this.m_dancingTextsDancesCount=[],this.m_dancingTextsDancesCount=null,this.m_dancingTextsDelays=[],this.m_dancingTextsDelays=null},DancingText})();Client.DancingText=DancingText})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Variables=(()=>{function Variables(){}return Variables.SW=800,Variables.SH=600,Variables.content="game-container",Variables})();Client.Variables=Variables})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(()=>{function Atlases(){}return Atlases.preloadList=[],Atlases.list=["ui","wheely","level1","comix1","level2","level3","level4","level5","dragon","level6","level7","level8","level9","level9_2","level10","level11","level12","level13","level14","comix2"],Atlases})()),Images=(()=>{function Images(){}return Images.preloadList=[],Images.list=["kiziLogo","menuBg","bgLevel1_1","bgLevel2_1","bgLevel2_2","bgLevel3_1","bgLevel3_2","bgLevel3_3","bgLevel4_1","bgLevel5_1","bgLevel5_2","bgLevel5_3","bgLevel6_1","bgLevel6_2","bgLevel6_3","bgLevel7_1","bgLevel7_2","bgLevel8_1","bgLevel8_2","bgLevel10_1","bgLevel10_2","bgLevel11_1","bgLevel11_2","bgLevel12_1","bgLevel12_2","bgLevel13_1","bgLevel14_1","bgLevel14_2","credits"],Images})(),Sounds=(()=>{function Sounds(){}return Sounds.preloadList=["click"],Sounds.list=["btnClick","btnOver","main_1","main_2","levelFail","levelWin","whelly_start","whelly_stop","questClick","spring","eShock","sfx_filmStart","sfx_spell","sfx_wheelyMagic","sfx_ambient","sfx_buy","sfx_no","s_dialog","s_engineStart","sfx_womanGladness","s_bridge","s_wheelyMagic","sfx_bubles","sfx_dragonWings","sfx_dry","sfx_lever","s_lightning","sfx_villageAmbience","sfx_wheel","s_lvl3_magicExplosion","s_sword1","sfx_lance","sfx_mace","sfx_pitFall","sfx_princess","sfx_spellTransform","sfx_crowdSurprized","sfx_trumpet","sfx_waking","sfx_whiteWizard","sfx_win","s_lvl4_bucketFall","s_lvl4_elevatorNoise","s_lvl4_gateDown","s_lvl4_gateUp","s_lvl4_playingCards","s_lvl4_secretStoneClick","s_lvl4_shrub","s_lvl4_wardenSalute","s_wheelyDrowned","s_lvl5_ambient","s_lvl5_arrowHit","s_lvl5_arrowShoot","s_lvl5_bearScratch","s_lvl5_bell","s_lvl5_birdEvent","s_lvl5_loadBow","s_lvl5_lwFall","s_lvl5_robinAgression","s_lvl5_robinFriction","s_lvl5_robinStars","s_lvl5_takeArrow","s_lvl5_trollAttack","s_lvl5_trollWakeUp","s_lvl5_woodWallUp","s_lvl6_checken","s_lvl6_rubeGladness","s_lvl6_swordDrag","s_lvl6_wheelyHexed","s_lvl10_bridgeCreak","s_lvl10_bridgeFall","s_lvl10_cloudSpell","s_lvl10_createBridge","s_lvl10_frogEating","s_lvl10_frogJump","s_lvl10_frogroaks","s_lvl10_gnatNoise","s_lvl10_runeClick","s_lvl7_armMove","s_lvl7_platformMove","s_lvl7_pressButton","s_lvl7_wheelyFall","s_8_acid","s_lvl8_ambient","s_lvl8_closeDoors","s_lvl8_closeStep","s_lvl8_cube2Complite","s_lvl8_cube3FloorMove","s_lvl8_cube5Complite","s_lvl8_drumRotate","s_lvl8_flamethrower","s_lvl8_frostBeam","s_lvl8_frostHammer","s_lvl8_frostMashine","s_lvl8_hammerHit","s_lvl8_openDoors","s_lvl8_openStep","s_lvl8_platformMove","s_lvl8_platformStart","s_lvl8_platformStop","s_lvl8_saws","s_lvl8_secretShelf","s_lvl8_squareRotate","s_lvl8_trianglesRotate","s_lvl8_water","s_lvl8_wheelyCrushed","s_barrelFire","s_boxFire","s_platformMove","s_waterNoize","sfx_closeDoor","sfx_freezeNoise","sfx_helmet","s_gear","s_lvl12_gear","s_lvl12_milldust","s_lvl12_stoneMill","s_lvl12_water1","s_lvl12_water11","s_lvl12_water2","s_lvl12_water22","s_lvl12_wheelLock","s_lvl12_woodLock","s_lvl11_arrowShield","s_lvl11_catapultMove","s_lvl11_catapultRelease","s_lvl11_dragCatapult","s_lvl11_fallStone","s_lvl11_gateDestroy","s_lvl11_hitWarden","s_lvl11_prepareCatapult","s_lvl11_shootBow","s_lvl11_takeStone","slvl11_arrowWheely","s_lvl13_shelves","s_enemymagAttack","s_dragonFire","s_l13_electricSparks","s_l13_skeletonDeath","s_lvl13_ballCrush","s_lvl13_bat","s_lvl13_batAttack","s_lvl13_batDeath","s_lvl13_batDissolved","s_lvl13_batEmergency","s_lvl13_ghostDeath","s_skeleton","s_skeletonWalk","s_sword2","s_wheelyFlame","s14_dragonSneezing","s_dust","s_pressMove","s_romanticMelody","s_whistling"],Sounds})();(Wheely=>{(Client=>{var BasicElement=(()=>{function BasicElement(){}return BasicElement.prototype.update=function(){},BasicElement.prototype.free=function(){},BasicElement})();Client.BasicElement=BasicElement})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var BasicSimpleAnim=(_super=>{function BasicSimpleAnim(game){var _this=_super.call(this)||this;return _this.activeAnim=!1,_this.currAnim="",_this.counterAnim=0,_this.loopAnim=0,_this}return __extends(BasicSimpleAnim,_super),BasicSimpleAnim.prototype.playAnim=function(value,loop){void 0===loop&&(loop=0),this.currAnim=value,this.loopAnim=loop,this.activeAnim=!0,this.counterAnim=0,this.setParts(this.currAnim)},BasicSimpleAnim.prototype.setParts=function(value){},BasicSimpleAnim.prototype.update=function(){this.updateAnimation()},BasicSimpleAnim.prototype.updateAnimation=function(){},BasicSimpleAnim.prototype.setPart=function(part,properties,smartRotation){if(void 0===smartRotation&&(smartRotation=!1),part)for(var _i=0,_a=Object.keys(properties);_i<_a.length;_i++){var rotation,itemName=_a[_i];!0!==smartRotation||"angle"!==properties[itemName]&&"skX"!==properties[itemName]&&"skY"!==properties[itemName]?part[itemName]=properties[itemName]:(180<(rotation=properties[itemName]%360)?rotation-=360:rotation<-180&&(rotation+=360),part[itemName]=rotation)}},BasicSimpleAnim.prototype.animComplete=function(){0<this.loopAnim?(--this.loopAnim,this.counterAnim=0,this.setParts(this.currAnim)):0===this.loopAnim?this.activeAnim=!1:this.loopAnim<0&&(this.counterAnim=0,this.setParts(this.currAnim)),this.onAnimComplete()},BasicSimpleAnim.prototype.onAnimComplete=function(){},BasicSimpleAnim})(Client.BasicElement);Client.BasicSimpleAnim=BasicSimpleAnim})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var ChangeHeroDir=(_super=>{function ChangeHeroDir(game,atlas,_x,_y,springOffY){void 0===springOffY&&(springOffY=60);var _this=_super.call(this)||this;return _this.counterWheels=0,_this.m_active=!1,_this.m_currWallsTime=0,_this.springHeight=60,_this.springHeight=springOffY,_this.startY=_y,_this.graphiSpringLeft=Client.GameManager.instance.layerElements.create(_x-25,_y+_this.springHeight,atlas,"changeDirSpring instance 10000"),_this.graphiSpringLeft.anchor.setTo(.5,1),_this.graphiSpringRight=Client.GameManager.instance.layerElements.create(_x+25,_y+_this.springHeight,atlas,"changeDirSpring instance 10000"),_this.graphiSpringRight.anchor.setTo(.5,1),_this.graphic=Client.GameManager.instance.layerElements.create(_x,_y,atlas,"changeDirTop instance 10000"),_this.graphic.anchor.setTo(.5),_this.graphic.inputEnabled=!0,_this.graphic.input.useHandCursor=!0,_this.graphic.events.onInputOver.add(_this.onInputOver,_this),_this.graphic.events.onInputOut.add(_this.onInputOut,_this),_this.halfBtnHeight=_this.springHeight,_this.graphic.input.enableDrag(!0),_this.graphic.input.boundsRect=new Phaser.Rectangle(_x-_this.graphic.width/2,_y-_this.graphic.height/2,_this.graphic.width,_this.springHeight+_this.graphic.height/2+2),_this.graphic.input.setDragLock(!1,!0),_this.graphic.events.onDragUpdate.add(_this.dragUpdate,_this),_this.graphic.events.onInputUp.add(_this.mouseUp,_this),_this.tween=game.add.tween(_this.graphic),_this.tween.to({y:[_this.startY-15,_this.startY]},300,Phaser.Easing.Linear.None),_this.tween.onUpdateCallback(_this.dragUpdate,_this),_this.tween.onComplete.add(_this.tweenComp,_this),_this.body=new Phaser.Physics.Box2D.Body(game,null,_x,_y-5,0),_this.body.setRectangle(120,10),_this.body.sensor=!0,_this.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelBack,_this.onBodyContact,_this),_this.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelFront,_this.onBodyContact,_this),_this}return __extends(ChangeHeroDir,_super),ChangeHeroDir.prototype.onBodyContact=function(b1,b2,f1,f2,begin){b1!==b2&&(!0===begin?(this.counterWheels+=1,2<this.counterWheels&&(this.counterWheels=2)):(--this.counterWheels,this.counterWheels<0&&(this.counterWheels=0)))},ChangeHeroDir.prototype.tweenComp=function(){this.graphic.y=this.startY,this.graphiSpringLeft.scale.y=1,this.graphiSpringRight.scale.y=1},ChangeHeroDir.prototype.dragUpdate=function(){var percent=(this.graphic.y-this.startY)/this.halfBtnHeight;this.graphiSpringLeft.scale.y=1-percent,this.graphiSpringRight.scale.y=this.graphiSpringLeft.scale.y},ChangeHeroDir.prototype.mouseUp=function(){var hero;this.graphic.y=this.startY,this.graphiSpringLeft.scale.y=1,this.graphiSpringRight.scale.y=1,this.tween.start(),Client.SoundManager.playSFX("car_spring"),2===this.counterWheels&&((hero=Client.GameManager.instance.hero).bodyWheelBack.angularVelocity=0,hero.bodyWheelBack.velocity.x=0,hero.bodyWheelBack.velocity.y=0,hero.bodyWheelFront.angularVelocity=0,hero.bodyWheelFront.velocity.x=0,hero.bodyWheelFront.velocity.y=0,hero.bodyBase.angularVelocity=0,hero.bodyBase.velocity.x=0,hero.bodyBase.velocity.y=0,hero.bodyBase.data.SetPosition(new box2d.b2Vec2(this.body.data.GetPosition().x,this.body.data.GetPosition().y+1.4)),hero.bodyWheelBack.y=hero.bodyBase.y+hero.wheelsOffY,hero.bodyWheelFront.y=hero.bodyBase.y+hero.wheelsOffY,this.destroyJoint(),this.joint=Client.Main.instance.physics.box2d.wheelJoint(this.body,hero.bodyBase,0,0,0,0,0,1),this.joint.m_collideConnected=!0,hero.setKeepAngle(!1),hero.bodyBase.angularVelocity=10.5*hero.currDirection,hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(0,15),hero.bodyBase.data.GetPosition()),this.heroEngineState=hero.getEnableMotor(),hero.setEnableMotor(!1,!1),this.m_currWallsTime=0,this.m_active=!0)},ChangeHeroDir.prototype.destroyJoint=function(){null!==this.joint&&(Client.Main.instance.physics.box2d.world.DestroyJoint(this.joint),this.joint=null)},ChangeHeroDir.prototype.update=function(){!1!==this.m_active&&(this.m_currWallsTime+=1,25===this.m_currWallsTime?Client.GameManager.instance.hero.changeDirection():60===this.m_currWallsTime&&(Client.GameManager.instance.hero.setKeepAngle(!0),this.destroyJoint(),Client.GameManager.instance.hero.setEnableMotor(this.heroEngineState,!1),this.m_active=!1))},ChangeHeroDir.prototype.onInputOut=function(){this.graphic.frameName="changeDirTop instance 10000",this.graphiSpringLeft.frameName="changeDirSpring instance 10000",this.graphiSpringRight.frameName="changeDirSpring instance 10000"},ChangeHeroDir.prototype.onInputOver=function(){this.graphic.frameName="changeDirTop instance 10001",this.graphiSpringLeft.frameName="changeDirSpring instance 10001",this.graphiSpringRight.frameName="changeDirSpring instance 10001"},ChangeHeroDir.prototype.free=function(){this.graphic=null,this.graphiSpringLeft=null,this.graphiSpringRight=null,this.tween=null,this.body=null,this.joint=null},ChangeHeroDir})(Client.BasicElement);Client.ChangeHeroDir=ChangeHeroDir})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var ClickStars=(_super=>{function ClickStars(_game,_x,_y){var _this=_super.call(this)||this;_this.array=new Array,_this.game=_game;for(var i=0;i<10;i++){var star=new Client.Star(_game,_x,_y);_this.array.push(star)}return _this}return __extends(ClickStars,_super),ClickStars.prototype.update=function(){for(var i=0;i<this.array.length;i++)this.array[i].update()},ClickStars})(Client.BasicElement);Client.ClickStars=ClickStars})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Finish=(_super=>{function Finish(_game,_x,_y,_active,_root,_wheelyJoy){void 0===_active&&(_active=!0),void 0===_root&&(_root=Client.GameManager.instance.layerBackground),void 0===_wheelyJoy&&(_wheelyJoy=!0);var _this=_super.call(this)||this;return _this.stop=!1,_this.wheelyJoy=!0,_this.finishTimer=0,_this.active=!1,_this.game=_game,_this.active=_active,_this.flag=_root.create(_x,_y-22,"ui"),_this.flag.animations.add("move",Phaser.Animation.generateFrameNames("flag instance 1",0,11,"",4),24,!0),_this.flag.play("move"),_this.game.physics.box2d.enable(_this.flag),_this.flag.body.setRectangle(10,80,10,22,0),_this.flag.body.kinematic=!0,_this.flag.body.sensor=!0,_this.flag.anchor.set(.5,.5),_this.flag.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.checkFinish,_this),_this.flagShtok=_this.game.make.sprite(8,-18,"ui","flagShtok instance 10000"),_this.flag.addChild(_this.flagShtok),_this.wheelyJoy=_wheelyJoy,_this}return __extends(Finish,_super),Finish.prototype.setContactHero=function(){Client.GameManager.instance.hero.bodyBase.setBodyContactCallback(this.flag.body,this.checkFinish,this)},Finish.prototype.checkFinish=function(body1,body2,fixture1,fixture2,begin){begin&&!0!==this.stop&&!1!==this.active&&(this.stop=!0,this.contacted())},Finish.prototype.update=function(){!0===this.stop&&(this.finishTimer+=1,60===this.finishTimer)&&Client.LevelBuilder.instance.levelComplete(),!1===this.stop&&Client.Tools.distance(this.flag.body.x,this.flag.body.y,Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y)<=40&&(!0===this.wheelyJoy&&this.contacted(),this.stop=!0)},Finish.prototype.contacted=function(){Client.SoundManager.playSFX("levelWin"),Client.GameManager.instance.finishPassed=!0,Client.GameManager.instance.hero.currState=Client.HeroState.finish},Finish})(Client.BasicElement);Client.Finish=Finish})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var AHeroPhysics=(()=>{function AHeroPhysics(game,_x,_y){var fixture;this.wheelsOffY=32,this.wheelsOffX=31,this.motorTorque=4,this.m_wheelsFriction=1,this.onGround=!0,this.backWheelOnGround=0,this.frontWheelOnGround=0,this.game=game,this.bodyBase=new Phaser.Physics.Box2D.Body(game,null,_x,_y),(fixture=this.bodyBase.setRectangle(102,24,0,10)).m_filter.categoryBits=Client.FilterGroups.CAR2,fixture.SetUserData("heroBaseBody"),(fixture=this.bodyBase.addCircle(12,50,10)).m_filter.categoryBits=Client.FilterGroups.CAR2,(fixture=this.bodyBase.addCircle(12,-50,10)).m_filter.categoryBits=Client.FilterGroups.CAR2,(fixture=this.bodyBase.addPolygon([-50,-2,-40,-22,40,-22,50,-2])).m_filter.categoryBits=Client.FilterGroups.CAR1,this.bodyBase.data.SetUserData("heroCorpus"),this.bodyBase.friction=0,this.bodyBase.mass=2.2,this.bodyWheelBack=new Phaser.Physics.Box2D.Body(game,null,_x-this.wheelsOffX,_y+this.wheelsOffY),(fixture=this.bodyWheelBack.setCircle(16)).m_filter.categoryBits=Client.FilterGroups.CAR2,fixture.m_filter.maskBits=~Client.FilterGroups.CAR1,fixture.m_restitution=0,this.bodyWheelBack.friction=this.m_wheelsFriction,this.bodyWheelBack.data.GetFixtureList().SetDensity(1),this.bodyWheelBack.bullet=!0,this.bodyWheelBack.setCategoryContactCallback(1,this.backWheelContact,this),this.bodyWheelFront=new Phaser.Physics.Box2D.Body(game,null,_x+this.wheelsOffX,_y+this.wheelsOffY),(fixture=this.bodyWheelFront.setCircle(16)).m_filter.categoryBits=Client.FilterGroups.CAR2,fixture.m_filter.maskBits=~Client.FilterGroups.CAR1,fixture.m_restitution=0,this.bodyWheelFront.friction=this.m_wheelsFriction,this.bodyWheelFront.data.GetFixtureList().SetDensity(1),this.bodyWheelFront.bullet=!0,this.bodyWheelFront.setCategoryContactCallback(1,this.frontWheelContact,this);this.jointBack=game.physics.box2d.wheelJoint(this.bodyBase,this.bodyWheelBack,-this.wheelsOffX,this.wheelsOffY,0,0,0,1,5,.3,0,this.motorTorque,!(fixture=null)),this.jointFront=game.physics.box2d.wheelJoint(this.bodyBase,this.bodyWheelFront,this.wheelsOffX,this.wheelsOffY,0,0,0,1,5,.3,0,this.motorTorque,!1)}return AHeroPhysics.prototype.backWheelContact=function(b1,b2,f1,f2,begin){b1!==b2&&!0!==b1.sensor&&!0!==b2.sensor&&(!0===begin?this.backWheelOnGround+=1:(--this.backWheelOnGround,this.backWheelOnGround<0&&(this.backWheelOnGround=0)),this.checkOnGround())},AHeroPhysics.prototype.frontWheelContact=function(b1,b2,f1,f2,begin){b1!==b2&&(!0===begin?this.frontWheelOnGround+=1:(--this.frontWheelOnGround,this.frontWheelOnGround<0&&(this.frontWheelOnGround=0)),this.checkOnGround())},AHeroPhysics.prototype.checkOnGround=function(){},AHeroPhysics.prototype.free=function(){this.bodyBase=null,this.bodyWheelBack=null,this.bodyWheelFront=null,this.jointBack=null,this.jointFront=null,this.game=null},AHeroPhysics})();Client.AHeroPhysics=AHeroPhysics})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{(HeroState=>{HeroState[HeroState.stand=0]="stand",HeroState[HeroState.acceleration=1]="acceleration",HeroState[HeroState.brake=2]="brake",HeroState[HeroState.bumpFront=3]="bumpFront",HeroState[HeroState.bumpBack=4]="bumpBack",HeroState[HeroState.bumpHead=5]="bumpHead",HeroState[HeroState.bumpStars=6]="bumpStars",HeroState[HeroState.finish=7]="finish"})(HeroState=Client.HeroState||(Client.HeroState={})),(EyesState=>{EyesState[EyesState.stand=0]="stand",EyesState[EyesState.lookUp=1]="lookUp",EyesState[EyesState.lookDown=2]="lookDown",EyesState[EyesState.bump=3]="bump",EyesState[EyesState.bumpForEver=4]="bumpForEver",EyesState[EyesState.big=5]="big",EyesState[EyesState.finish=6]="finish",EyesState[EyesState.lookForward=7]="lookForward",EyesState[EyesState.idle=8]="idle",EyesState[EyesState.turn=9]="turn",EyesState[EyesState.afraid=10]="afraid",EyesState[EyesState.tense=11]="tense",EyesState[EyesState.afraidTime=12]="afraidTime"})(EyesState=Client.EyesState||(Client.EyesState={}));var HeroState,EyesState,BHeroGraphic=(_super=>{function BHeroGraphic(game,_x,_y){_x=_super.call(this,game,_x,_y)||this;return _x._currDirection=0,_x.stopStates=!1,_x.backLightActive=!1,_x.totalBackLight=30,_x.startEyes=!1,_x.bumpHeadActive=!1,_x.bumpHeadCoun=0,_x.bumpHeadTotal=60,_x.blackForWheels=Client.GameManager.instance.layerElements.create(0,0,"wheely","blackForWeels2 instance 10000"),_x.blackForWheels.anchor.setTo(0,.09),_x.wheelBack=Client.GameManager.instance.layerElements.create(0,0,"wheely","car_weel instance 10000"),_x.wheelBack.anchor.setTo(.5),_x.wheelFront=Client.GameManager.instance.layerElements.create(0,0,"wheely","car_weel instance 10000"),_x.wheelFront.anchor.setTo(.5),_x.baseGroup=game.make.group(),Client.GameManager.instance.layerElements.add(_x.baseGroup),_x.graphicStartSmoke=_x.baseGroup.create(-58,27,"wheely","startSmoke instance 10000"),_x.graphicStartSmoke.anchor.setTo(1,.5),_x.graphicStartSmoke.animations.add("start",Phaser.Animation.generateFrameNames("startSmoke instance 1",0,20,"",4),30),_x.graphicStartSmoke.visible=!1,_x.graphicStartSmoke.animations.currentAnim.onComplete.addOnce(_x.hideStartSmoke,_x),_x.carFrameOut="car instance 10000",_x.carFrameOver="car instance 10001",_x.graphicCar=new Client.SkewSprite(game,-67,30,"wheely",_x.carFrameOut),_x.graphicCar.pivot.set(0,66),_x.baseGroup.add(_x.graphicCar),_x.clickGraphics=_x.game.make.graphics(0,0),_x.clickGraphics.beginFill(16711680,0),_x.clickGraphics.drawRect(-65,-32,130,64),_x.clickGraphics.endFill(),_x.baseGroup.addChild(_x.clickGraphics),_x.clickGraphics.inputEnabled=!0,_x.clickGraphics.input.useHandCursor=!0,_x.clickGraphics.events.onInputOver.add(_x.onInputOverHandler,_x),_x.clickGraphics.events.onInputOut.add(_x.onInputOutHandler,_x),_x.graphicBumpHead1=_x.baseGroup.create(-50,-55,"wheely"),_x.graphicBumpHead1.animations.add("bumpHead",Phaser.Animation.generateFrameNames("bumpHead instance 1",0,26,"",4),30,!0),_x.graphicBumpHead1.visible=!1,_x.graphicBumpHead2=_x.baseGroup.create(50,-55,"wheely"),_x.graphicBumpHead2.animations.add("bumpHead",Phaser.Animation.generateFrameNames("bumpHead instance 1",0,26,"",4),30,!0),_x.graphicBumpHead2.scale.x=-1,_x.graphicBumpHead2.visible=!1,_x.graphicBackLight=game.make.sprite(-2,32,"wheely","backLight instance 10000"),_x.graphicCar.addChild(_x.graphicBackLight),_x.graphicEyes=game.make.sprite(82,-10,"wheely"),_x.graphicEyes.animations.add("stand",Phaser.Animation.generateFrameNames("eyes instance 1",0,0,"",4)),_x.graphicEyes.animations.add("finish",Phaser.Animation.generateFrameNames("eyes instance 1",1,1,"",4)),_x.graphicEyes.animations.add("bump",Phaser.Animation.generateFrameNames("eyes instance 1",2,2,"",4)),_x.graphicEyes.animations.add("lookDown",Phaser.Animation.generateFrameNames("eyes instance 1",3,3,"",4)),_x.graphicEyes.animations.add("lookUp",Phaser.Animation.generateFrameNames("eyes instance 1",4,4,"",4)),_x.graphicEyes.animations.add("idle1",Phaser.Animation.generateFrameNames("eyes instance 1",5,177,"",4),30),_x.graphicEyes.animations.add("idle2",Phaser.Animation.generateFrameNames("eyes instance 1",178,273,"",4),30),_x.graphicEyes.animations.add("idle3",Phaser.Animation.generateFrameNames("eyes instance 1",274,324,"",4),30),_x.graphicEyes.animations.add("idle4",Phaser.Animation.generateFrameNames("eyes instance 1",325,333,"",4),30),_x.graphicEyes.animations.add("big",Phaser.Animation.generateFrameNames("eyes instance 1",334,334,"",4)),_x.graphicEyes.animations.add("turn",Phaser.Animation.generateFrameNames("eyes instance 1",335,393,"",4),24),_x.graphicEyes.animations.add("afraid",Phaser.Animation.generateFrameNames("eyes instance 1",394,400,"",4),24,!0),_x.graphicEyes.animations.add("tense",Phaser.Animation.generateFrameNames("eyes instance 1",402,402,"",4),24,!1),_x.graphicEyes.events.onAnimationComplete.add(_x.onAnimationComplete,_x),_x.graphicCar.addChild(_x.graphicEyes),_x.gas=new Client.ExhaustGas(Client.GameManager.instance.layerElements,3),_x}return __extends(BHeroGraphic,_super),BHeroGraphic.prototype.checkOnGround=function(){0<this.backWheelOnGround&&0<this.frontWheelOnGround?this.onGround=!0:this.onGround=!1},BHeroGraphic.prototype.onInputOverHandler=function(){this.graphicCar.frameName=this.carFrameOver},BHeroGraphic.prototype.onInputOutHandler=function(){this.graphicCar.frameName=this.carFrameOut},BHeroGraphic.prototype.setChildPos=function(heroAnchorX){this.graphicCar.pivot.x=this.graphicCar.width*heroAnchorX,this.graphicCar.x=this.graphicCar.pivot.x-64,this.blackForWheels.anchor.x=heroAnchorX,this.blackForWheels.pivot.x=-this.blackForWheels.width*(heroAnchorX-.5)},BHeroGraphic.prototype.goAnimation=function(anim){!0!==this.stopStates&&(Client.Main.instance.tweens.removeFrom(this.graphicCar,!1),this.graphicCar.scale.setTo(1),this.graphicCar.skewX=0,anim===HeroState.stand?(this.setChildPos(.5),this.currEyesState=EyesState.stand):anim===HeroState.finish?(this.setChildPos(.5),this.setClickable(!1),this.currEyesState=EyesState.finish,this.game.add.tween(this.graphicCar).to({skewX:[-.2,0,.2,0],scaleY:[1.2,1,1.2,1]},900,Phaser.Easing.Linear.None,!0,0,-1)):anim===HeroState.bumpFront?(this.setChildPos(0),this.currEyesState=EyesState.big,Client.Main.instance.add.tween(this.blackForWheels.scale).to({x:[.9,1]},1e3,Phaser.Easing.Linear.None,!0),Client.Main.instance.add.tween(this.graphicCar).to({scaleX:.9,scaleY:1.1},500,Phaser.Easing.Linear.None,!0).chain(Client.Main.instance.add.tween(this.graphicCar).to({scaleX:1,scaleY:1},500,Phaser.Easing.Linear.None))):anim===HeroState.bumpBack?(this.setChildPos(1),this.currEyesState=EyesState.big,Client.Main.instance.add.tween(this.blackForWheels.scale).to({x:[.9,1]},1e3,Phaser.Easing.Linear.None,!0),Client.Main.instance.add.tween(this.graphicCar).to({scaleX:.9,scaleY:1.1},500,Phaser.Easing.Linear.None,!0).chain(Client.Main.instance.add.tween(this.graphicCar).to({scaleX:1,scaleY:1},500,Phaser.Easing.Linear.None))):anim===HeroState.bumpHead?(this.setChildPos(.5),this.currEyesState=EyesState.big,Client.Main.instance.add.tween(this.graphicCar).to({scaleX:1.1,scaleY:.85},300,Phaser.Easing.Linear.None,!0).chain(Client.Main.instance.add.tween(this.graphicCar).to({scaleX:1,scaleY:1},500,Phaser.Easing.Linear.None)),this.graphicBumpHead1.visible=!0,this.graphicBumpHead1.animations.play("bumpHead"),this.graphicBumpHead2.visible=!0,this.graphicBumpHead2.animations.play("bumpHead"),this.bumpHeadActive=!0,this.bumpHeadCoun=0):anim===HeroState.bumpStars?(this.setChildPos(.5),this.graphicBumpHead1.visible=!0,this.graphicBumpHead1.animations.play("bumpHead"),this.graphicBumpHead2.visible=!0,this.graphicBumpHead2.animations.play("bumpHead"),this.currEyesState=EyesState.bumpForEver,this.setClickable(!1),this.stopStates=!0):anim===HeroState.acceleration?(this.setChildPos(.5),Client.Main.instance.add.tween(this.graphicCar).to({skewX:-.2},100,Phaser.Easing.Linear.None,!0).chain(Client.Main.instance.add.tween(this.graphicCar).to({skewX:0},300,Phaser.Easing.Linear.None)),this.currEyesState=EyesState.lookForward,null!==this.graphicStartSmoke&&(this.graphicStartSmoke.visible=!0,this.graphicStartSmoke.animations.play("start"))):anim===HeroState.brake&&(this.setChildPos(.5),Client.Main.instance.add.tween(this.graphicCar).to({skewX:.2},100,Phaser.Easing.Linear.None,!0).chain(Client.Main.instance.add.tween(this.graphicCar).to({skewX:0},300,Phaser.Easing.Linear.None)),this.currEyesState=EyesState.stand,this.countBackLight=0,this.backLightActive=!0,this.graphicBackLight.frameName="backLight instance 10001"))},BHeroGraphic.prototype.update=function(){this.baseGroup.x=this.bodyBase.x,this.baseGroup.y=this.bodyBase.y,this.baseGroup.rotation=this.bodyBase.rotation,this.blackForWheels.x=this.baseGroup.x,this.blackForWheels.y=this.baseGroup.y,this.blackForWheels.rotation=this.baseGroup.rotation,this.wheelBack.x=this.bodyWheelBack.x,this.wheelBack.y=this.bodyWheelBack.y,this.wheelBack.rotation=this.bodyWheelBack.rotation,this.wheelFront.x=this.bodyWheelFront.x,this.wheelFront.y=this.bodyWheelFront.y,this.wheelFront.rotation=this.bodyWheelFront.rotation,!0===this.startEyes&&(this.countEyes+=1,this.countEyes>=this.totalEyes)&&(this.startEyes=!1,this._currEyesState===EyesState.stand?this.currEyesState=EyesState.idle:this._currEyesState===EyesState.bump?this.currEyesState=EyesState.stand:this._currEyesState===EyesState.big?this.currEyesState=EyesState.bump:this._currEyesState===EyesState.afraidTime&&(this.currEyesState=EyesState.idle)),!0===this.backLightActive&&(this.countBackLight+=1,this.countBackLight>=this.totalBackLight)&&(this.backLightActive=!1,this.graphicBackLight.frameName="backLight instance 10000"),!0===this.bumpHeadActive&&(this.bumpHeadCoun+=1,this.bumpHeadCoun>=this.bumpHeadTotal)&&(this.bumpHeadActive=!1,this.graphicBumpHead1.animations.stop("bumpHead",!0),this.graphicBumpHead2.animations.stop("bumpHead",!0),this.graphicBumpHead1.visible=!1,this.graphicBumpHead2.visible=!1)},BHeroGraphic.prototype.hideStartSmoke=function(){this.graphicStartSmoke.visible=!1,this.graphicStartSmoke.destroy(),this.graphicStartSmoke=null},BHeroGraphic.prototype.onAnimationComplete=function(){this._currEyesState!==EyesState.idle&&this._currEyesState!==EyesState.turn||(this.currEyesState=EyesState.stand)},Object.defineProperty(BHeroGraphic.prototype,"currEyesState",{get:function(){return this._currEyesState},set:function(value){if(!0!==this.stopStates){if(this._currEyesState===EyesState.idle){if(value===EyesState.lookDown||value===EyesState.lookUp)return}else if(this._currEyesState===EyesState.bumpForEver)return;value!==this._currEyesState&&(this._currEyesState=value,this.countEyes=0,this.startEyes=!1,value===EyesState.stand?(this.graphicEyes.animations.play("stand"),this.totalEyes=Client.Tools.random(100,200),this.startEyes=!0):value===EyesState.idle?this.graphicEyes.animations.play("idle"+Client.Tools.random(1,4)):value===EyesState.finish?this.graphicEyes.animations.play("finish"):value===EyesState.lookDown?this.graphicEyes.animations.play("lookDown"):value===EyesState.lookUp?this.graphicEyes.animations.play("lookUp"):value===EyesState.lookForward?this.graphicEyes.animations.play("stand"):value===EyesState.bump?(this.graphicEyes.animations.play("bump"),this.totalEyes=30,this.startEyes=!0):value===EyesState.bumpForEver?this.graphicEyes.animations.play("bump"):value===EyesState.big?(this.graphicEyes.animations.play("big"),this.totalEyes=20,this.startEyes=!0):value===EyesState.turn?this.graphicEyes.animations.play("turn"):value===EyesState.afraid?this.graphicEyes.animations.play("afraid"):value===EyesState.afraidTime?(this.graphicEyes.animations.play("afraid"),this.totalEyes=30,this.startEyes=!0):value===EyesState.tense&&this.graphicEyes.animations.play("tense"))}},enumerable:!1,configurable:!0}),BHeroGraphic.prototype.setClickable=function(value){},BHeroGraphic.prototype.free=function(){_super.prototype.free.call(this),this._currEyesState=null,this.baseGroup=null,this.graphicCar=null,this.graphicEyes=null,this.graphicBumpHead1=null,this.graphicBumpHead2=null,this.graphicShok=null,this.wheelBack=null,this.wheelFront=null,this.blackForWheels=null,this.graphicStartSmoke=null,this.graphicBackLight=null,this.gas.free(),this.gas=null,this.clickGraphics=null},BHeroGraphic})(Client.AHeroPhysics);Client.BHeroGraphic=BHeroGraphic})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var BrokeHero=(()=>{function BrokeHero(game,_x,_y){this.parts=new Array;for(var temp,i=1;i<9;i++)temp=Client.GameManager.instance.layerElements.create(_x,_y,"wheely","car_BPart"+i+" instance 10000"),game.physics.box2d.enable(temp),temp.body.velocity.x=Client.Tools.random(-500,500),temp.body.velocity.y=Client.Tools.random(-500,500),temp.body.angularVelocity=Client.Tools.random(-20,20);temp=Client.GameManager.instance.layerElements.create(_x,_y,"wheely","eyes instance 10335"),game.physics.box2d.enable(temp),temp.body.velocity.x=Client.Tools.random(-500,500),temp.body.velocity.y=Client.Tools.random(-500,500),temp.body.angularVelocity=Client.Tools.random(-20,20)}return BrokeHero.prototype.free=function(){this.parts=[],this.parts=null},BrokeHero})();Client.BrokeHero=BrokeHero})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var ExhaustGas=(()=>{function ExhaustGas(_parent,_timeCreate){this.counterCreate=0,this.parentGroup=_parent,this.timeCreate=_timeCreate,this.gas=new Array}return ExhaustGas.prototype.updateCreation=function(x,y){if(this.counterCreate+=1,!(this.counterCreate<this.timeCreate)){for(var i=this.counterCreate=0;i<this.gas.length;i++)if(!1===this.gas[i].visible)return void this.gas[i].start(x,y,Client.Tools.random(2,10)/10);var tempGas=new GasPart(x,y,"wheely","exhaustgas instance 10000");tempGas.start(x,y,Client.Tools.random(2,10)/10),this.parentGroup.addChild(tempGas),this.gas.push(tempGas)}},ExhaustGas.prototype.free=function(){this.gas=[],this.gas=null},ExhaustGas})(),GasPart=(Client.ExhaustGas=ExhaustGas,(_super=>{function GasPart(x,y,key,frame){x=_super.call(this,Client.Main.instance,x,y,key,frame)||this;return x.counter=0,x.anchor.setTo(.5),x}return __extends(GasPart,_super),GasPart.prototype.start=function(_x,_y,_scale){this.position.setTo(_x,_y),this.scale.setTo(_scale),this.visible=!0},GasPart.prototype.update=function(){!1!==this.visible&&(this.counter+=1,0<this.counter&&this.counter<=7?(this.x-=.25,this.y-=.375,this.scale.x+=.0375,this.scale.y=this.scale.x):8<this.counter&&this.counter<=14?(this.x-=.375,this.y-=.9,this.scale.x-=.0875,this.scale.y=this.scale.x):15===this.counter&&(this.counter=0,this.visible=!1))},GasPart})(Phaser.Sprite));Client.GasPart=GasPart})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Hero=(_super=>{function Hero(game,_x,_y,_direction){void 0===_direction&&(_direction=1);game=_super.call(this,game,_x,_y)||this;return game.m_keepAngle=!0,game.freeRotateAvaliable=!1,game.maxMotorSpeed=5,game.m_motorSpeed=0,game.m_boostOn=!1,game.m_boostAngularDamping=0,game.m_countBoost=0,game.m_boostWheelsFriction=4,game.m_On=!1,game.animationEnable=!0,game.counterFinish=0,game.stopUpdateMoving=!1,game.activeClick=!0,game._clicable=!0,11<=Client.LevelManager.getInstance().currentLevel&&game.addHelmet(),7<=Client.LevelManager.getInstance().currentLevel&&game.addSword(),13<=Client.LevelManager.getInstance().currentLevel&&game.addShield(),game.angleKeep=Client.Tools.toRad(45),game.currState=Client.HeroState.stand,game.currDirection=_direction,game.clickGraphics.events.onInputUp.add(game.onInputUpHandler,game),game}return __extends(Hero,_super),Object.defineProperty(Hero.prototype,"motorSpeed",{get:function(){return this.m_motorSpeed},set:function(value){this.m_motorSpeed=value*this.currDirection},enumerable:!1,configurable:!0}),Object.defineProperty(Hero.prototype,"currDirection",{get:function(){return this._currDirection},set:function(value){value!==this._currDirection&&(this._currDirection=value,1===this._currDirection?(this.currDriveWheel=this.jointBack,this.currBoostWheel=this.jointFront):(this.currDriveWheel=this.jointFront,this.currBoostWheel=this.jointBack),this.baseGroup.scale.x=this._currDirection,this.currDriveWheel.EnableMotor(!0),this.currBoostWheel.EnableMotor(!1),this.m_motorSpeed*=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(Hero.prototype,"currState",{get:function(){return this._currState},set:function(value){this._currState!==Client.HeroState.finish&&value!==this._currState&&(this._currState=value,!0!==this.animationEnable&&value!==Client.HeroState.finish||this.goAnimation(value),this.animationEnable=!0)},enumerable:!1,configurable:!0}),Hero.prototype.onInputUpHandler=function(sprite,pointer,isOver){!1!==isOver&&(Client.GameManager.instance.level.customAction(),!0===this.activeClick)&&this.setEnableMotor(!this.m_On)},Hero.prototype.getEnableMotor=function(){return this.m_On},Hero.prototype.setEnableMotor=function(value,sound){this.animationEnable=sound=void 0===sound?!0:sound,this.m_On!==value&&(!1===(this.m_On=value)?(!0===sound&&Client.SoundManager.playSFX("whelly_stop"),!1===this.freeRotateAvaliable?(this.bodyWheelBack.fixedRotation=!0,this.bodyWheelFront.fixedRotation=!0):this.currDriveWheel.EnableMotor(!1),this.motorSpeed=0,this.currState=Client.HeroState.brake,this.setWheelsFrictions(this.m_wheelsFriction)):(!0===sound&&Client.SoundManager.playSFX("whelly_start"),this.bodyWheelBack.fixedRotation=!1,!(this.bodyWheelFront.fixedRotation=!1)===this.m_boostOn?(this.currBoostWheel.EnableMotor(!0),this.motorSpeed=this.m_boostSpeed,this.setWheelsFrictions(this.m_boostWheelsFriction)):(this.motorSpeed=this.maxMotorSpeed,this.setWheelsFrictions(this.m_wheelsFriction)),this.currState=Client.HeroState.acceleration))},Hero.prototype.setWheelsFrictions=function(value){this.bodyWheelBack.friction=value,this.bodyWheelFront.friction=value},Hero.prototype.setWheelsRotateAvailable=function(value){this.freeRotateAvaliable=value,this.currState!==Client.HeroState.acceleration&&(!0===value&&(Client.GameManager.instance.hero.bodyWheelBack.fixedRotation=!value),this.currDriveWheel.EnableMotor(!value),Client.GameManager.instance.hero.bodyWheelFront.fixedRotation=!value)},Hero.prototype.update=function(){this.currState===Client.HeroState.finish&&(this.counterFinish+=1,50===this.counterFinish)&&Client.LevelBuilder.instance.levelComplete(),_super.prototype.update.call(this),!1===this.stopUpdateMoving&&this.updateMoving(),this.updateBoost(),this.currState!==Client.HeroState.bumpHead&&this.currEyesState!==Client.EyesState.turn&&this.currState!==Client.HeroState.bumpStars&&this.currEyesState!==Client.EyesState.afraid&&this.currEyesState!==Client.EyesState.finish&&(60<this.bodyBase.velocity.y?this.currEyesState=Client.EyesState.lookDown:this.bodyBase.velocity.y<-60?this.currEyesState=Client.EyesState.lookUp:this.currEyesState!==Client.EyesState.lookDown&&this.currEyesState!==Client.EyesState.lookUp||(!0===this.m_On&&this.currEyesState!==Client.EyesState.lookForward?this.currEyesState=Client.EyesState.lookForward:!1===this.m_On&&this.currEyesState!==Client.EyesState.stand&&(this.currEyesState=Client.EyesState.stand))),this.keepAngle()},Hero.prototype.updateMoving=function(){var newPoint;this.currState===Client.HeroState.acceleration&&(!1===this.freeRotateAvaliable&&this.currDriveWheel.SetMotorSpeed(this.motorSpeed),newPoint=this.baseGroup.toGlobal(new PIXI.Point(5*Math.random()-67-5*Math.random(),23+5*Math.random()-5*Math.random())),this.gas.updateCreation(newPoint.x+Client.Main.instance.camera.x,newPoint.y+Client.Main.instance.camera.y))},Hero.prototype.updateBoost=function(){!0===this.m_boostOn&&(this.currBoostWheel.SetMotorSpeed(this.motorSpeed),this.bodyBase.angularDamping=this.m_boostAngularDamping,!0===this.m_On)&&(this.m_countBoost+=1,this.m_countBoost>=this.m_totalCountBoost)&&(this.m_boostOn=!1,this.bodyBase.angularDamping=0,this.currBoostWheel.EnableMotor(!1),this.setWheelsFrictions(this.m_wheelsFriction),!0===this.m_On)&&(this.motorSpeed=this.maxMotorSpeed)},Hero.prototype.boost=function(speed,frames,angularDamping,friction){void 0===angularDamping&&(angularDamping=0),void 0===friction&&(friction=this.m_boostWheelsFriction),this.m_boostWheelsFriction=friction,this.m_countBoost=0,this.m_totalCountBoost=frames,this.m_boostSpeed=speed,!0!==this.m_boostOn&&(this.m_boostAngularDamping=angularDamping,(this.m_boostOn=!0)===this.m_On)&&(this.motorSpeed=this.m_boostSpeed,this.currBoostWheel.EnableMotor(!0),this.setWheelsFrictions(this.m_boostWheelsFriction))},Hero.prototype.dumping=function(dumping){this.bodyBase.velocity.x/=dumping=void 0===dumping?1:dumping,this.bodyWheelBack.angularVelocity/=dumping,this.bodyWheelFront.angularVelocity/=dumping},Hero.prototype.setKeepAngle=function(value){this.m_keepAngle=value},Hero.prototype.keepAngle=function(){!1!==this.m_keepAngle&&(this.bodyBase.rotation>this.angleKeep?this.bodyBase.rotation=this.angleKeep:this.bodyBase.rotation<-this.angleKeep&&(this.bodyBase.rotation=-this.angleKeep))},Hero.prototype.setVisibility=function(value){this.baseGroup.visible=value,this.blackForWheels.visible=value,this.wheelBack.visible=value,this.wheelFront.visible=value,this.bodyBase.data.SetActive(value),this.bodyWheelBack.data.SetActive(value),this.bodyWheelFront.data.SetActive(value),!0===this._clicable&&this.setClickable(value,!1)},Hero.prototype.setClickable=function(value,value2){!0===(value2=void 0===value2?!0:value2)&&(this._clicable=value),this.graphicCar.frameName=this.carFrameOut,!0===(this.clickGraphics.inputEnabled=value)&&(this.clickGraphics.input.useHandCursor=value)},Hero.prototype.setCollideWorldBounds=function(value){this.bodyBase.collideWorldBounds=value,this.bodyWheelBack.collideWorldBounds=value,this.bodyWheelFront.collideWorldBounds=value},Hero.prototype.clearVelosityX=function(){this.bodyBase.velocity.x=0,this.bodyWheelBack.velocity.x=0,this.bodyWheelFront.velocity.x=0,this.bodyWheelBack.angularVelocity=0,this.bodyWheelFront.angularVelocity=0},Hero.prototype.setPosition=function(x,y){this.bodyBase.x=x,this.bodyBase.y=y,this.bodyWheelBack.x=x-this.wheelsOffX,this.bodyWheelBack.y=y+this.wheelsOffY,this.bodyWheelFront.x=x+this.wheelsOffX,this.bodyWheelFront.y=y+this.wheelsOffY},Hero.prototype.addShock=function(){this.graphicCar.visible=!1,this.graphicShok=this.baseGroup.create(0,0,"wheely"),this.graphicShok.animations.add("shock",Phaser.Animation.generateFrameNames("carBody_shock instance 1",0,5,"",4),5),this.graphicShok.anchor.setTo(.5),this.graphicShok.events.onAnimationComplete.addOnce(this.addBurn,this),Client.SoundManager.playSFX("eShock"),this.graphicShok.animations.play("shock")},Hero.prototype.addLight=function(){this.baseGroup.create(27,-28,"wheely","light instance 10000")},Hero.prototype.addBurn=function(){this.graphicShok&&(this.graphicShok.destroy(),this.graphicCar.visible=!0),this.graphicCar.addChildAt(this.game.make.sprite(2,4,"wheely","burn2 instance 10000"),0)},Hero.prototype.addSword=function(){this.sword=this.game.make.sprite(-7,-63,"wheely","sword instance 10000"),this.sword.animations.add("appear",Phaser.Animation.generateFrameNames("sword instance 1",0,9,"",4),30,!1),this.sword.animations.add("hit",Phaser.Animation.generateFrameNames("sword instance 1",10,21,"",4),30,!1),this.sword.animations.add("hide",Phaser.Animation.generateFrameNames("sword instance 1",22,30,"",4),30,!1),this.graphicCar.addChild(this.sword)},Hero.prototype.addShield=function(){this.shield=this.game.make.sprite(-18,-16,"wheely","shield instance 10000"),this.shield.animations.add("start",Phaser.Animation.generateFrameNames("shield instance 1",0,12,"",4),30,!1),this.shield.animations.add("defense",Phaser.Animation.generateFrameNames("shield instance 1",13,25,"",4),30,!1),this.shield.animations.add("end",Phaser.Animation.generateFrameNames("shield instance 1",26,38,"",4),30,!1),this.graphicCar.addChild(this.shield)},Hero.prototype.addHelmet=function(){this.helmet=this.game.make.sprite(60,-17,"wheely","helmet instance 10000"),this.graphicCar.addChild(this.helmet)},Hero.prototype.changeDirection=function(updateRotation){void 0===updateRotation&&(updateRotation=!0),this.currDirection*=-1,this.currEyesState=Client.EyesState.turn,!0===updateRotation&&(this.bodyBase.rotation+=Client.Tools.toRad(360)*this.currDirection)},Hero.prototype.setActiveBodies=function(value){this.bodyBase.data.SetActive(value),this.bodyWheelBack.data.SetActive(value),this.bodyWheelFront.data.SetActive(value)},Hero.prototype.addAsid=function(){var sprite=this.game.make.sprite(0,0,"level9");sprite.animations.add("anim",Phaser.Animation.generateFrameNames("asid instance 1",0,17,"",4),24,!1),sprite.animations.play("anim"),this.graphicCar.addChildAt(sprite,0)},Hero.prototype.addHelmetLvl10=function(){this.helmet=this.game.make.sprite(59,10,"level10","shlem instance 10000"),this.graphicCar.addChild(this.helmet),this.helmet.visible=!1},Hero.prototype.showHelmet=function(){this.helmet.visible=!0,Client.SoundManager.playSFX("sfx_helmet"),this.game.add.tween(this.helmet).to({y:-17},100,"Linear",!0)},Hero.prototype.showBurn=function(){var burnWheely=this.game.make.sprite(2,4,"wheely","burn2 instance 10000");this.graphicCar.addChildAt(burnWheely,0)},Hero.prototype.free=function(){_super.prototype.free.call(this),this.sword=null,this.shield=null,this.helmet=null,this._currState=null,this.currDriveWheel=null,this.currBoostWheel=null},Hero})(Client.BHeroGraphic);Client.Hero=Hero})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var HeroShield=(_super=>{function HeroShield(game){var _this=_super.call(this,game)||this;return _this.active=!1,_this.tutorial=!0,_this.timer=0,_this.group=game.make.group(),_this.group.x=17,_this.group.y=-5,Client.GameManager.instance.hero.graphicCar.addChild(_this.group),_this.shieldBody=new Client.SASprite(game,0,0,"level12","shieldBody instance 10000"),_this.shieldBody.pivot.set(27,17),_this.shieldBody.inputEnabled=!0,_this.shieldBody.input.useHandCursor=!0,_this.shieldBody.events.onInputUp.add(_this.use,_this),_this.shieldBody.events.onInputOver.add(_this.over,_this),_this.shieldBody.events.onInputOut.add(_this.out,_this),_this.group.addChild(_this.shieldBody),_this.setParts("start"),_this}return __extends(HeroShield,_super),HeroShield.prototype.update=function(){_super.prototype.update.call(this),!0===this.tutorial&&(this.timer+=1,this.timer<=15?this.shieldBody.frameName="shieldBody instance 10001":this.shieldBody.frameName="shieldBody instance 10000",30<this.timer)&&(this.timer=0)},HeroShield.prototype.addArrow=function(_angle){var arrow=Client.Main.instance.make.sprite(Client.Main.instance.rnd.integerInRange(25,35),Client.Main.instance.rnd.integerInRange(-5,5),"level12","lvl11_arrow_mc instance 10000");arrow.anchor.set(.5),arrow.angle=Client.Main.instance.rnd.integerInRange(-95,-85),this.shieldBody.addChild(arrow),this.playAnim("defense")},HeroShield.prototype.use=function(){this.tutorial=!1,this.shieldBody.frameName="shieldBody instance 10000",Client.GameManager.instance.hero.setClickable(!0),this.playAnim("start")},HeroShield.prototype.over=function(){this.shieldBody.frameName="shieldBody instance 10001"},HeroShield.prototype.out=function(){this.shieldBody.frameName="shieldBody instance 10000"},HeroShield.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"start"===this.currAnim?1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,8,{x:38,y:8,skX:5,skY:5}):9===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,2,{x:34,skX:1,skY:1}):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,2,{x:36,skX:3,skY:3}):13===this.counterAnim?this.setPart(this.shieldBody,{x:36,y:8,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):14===this.counterAnim&&(this.animComplete(),this.active=!0):"defense"===this.currAnim?(this.active=!1,1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,5,{y:10}):6===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,3,{y:4}):9===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,2,{y:7}):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,2,{y:8}):13===this.counterAnim?this.setPart(this.shieldBody,{x:36,y:8,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):14===this.counterAnim&&(this.animComplete(),this.playAnim("end"))):"end"===this.currAnim&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,8,{x:4,y:24,skX:-37,skY:-37}):9===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,2,{x:7,y:21,skX:-32,skY:-32}):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.shieldBody,2,{x:4,y:24,skX:-37,skY:-37}):13===this.counterAnim&&this.animComplete()))},HeroShield.prototype.setParts=function(value){"start"===value?this.setPart(this.shieldBody,{x:1,y:22,angle:0,scX:1,scY:1,skX:-37,skY:-37,alpha:1}):"defense"===value?this.setPart(this.shieldBody,{x:36,y:8,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):"end"===value&&this.setPart(this.shieldBody,{x:38,y:8,angle:0,scX:1,scY:1,skX:5,skY:5,alpha:1})},HeroShield.prototype.free=function(){this.group=null,this.shieldBody=null},HeroShield})(Client.BasicSimpleAnim);Client.HeroShield=HeroShield})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Tail=(_super=>{function Tail(){var _this=_super.call(this)||this;return _this.active=!1,_this.counter=0,_this.graphics=new Array,_this}return __extends(Tail,_super),Tail.prototype.start=function(){this.active=!0,Client.SoundManager.playSFX("276_lvl10_s_boost")},Tail.prototype.stop=function(){this.active=!1},Tail.prototype.update=function(){if(!1!==this.active&&(this.counter+=1,!(this.counter<2))){for(var i=this.counter=0;i<this.graphics.length;i++)if(!1===this.graphics[i].visible)return this.graphics[i].x=Client.GameManager.instance.hero.baseGroup.x,this.graphics[i].y=Client.GameManager.instance.hero.baseGroup.y,this.graphics[i].alpha=1,this.graphics[i].visible=!0,this.graphics[i].rotation=Client.GameManager.instance.hero.baseGroup.rotation,void this.addTween(i);var partDust=Client.GameManager.instance.layerBackground.create(Client.GameManager.instance.hero.baseGroup.x,Client.GameManager.instance.hero.baseGroup.y,"wheely","tail instance 10000");partDust.anchor.setTo(.5),partDust.rotation=Client.GameManager.instance.hero.baseGroup.rotation,this.graphics.push(partDust),this.addTween(this.graphics.length-1)}},Tail.prototype.addTween=function(_id){Client.Main.instance.add.tween(this.graphics[_id]).to({alpha:0},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.graphics[_id].visible=!1},this)},Tail.prototype.free=function(){this.graphics=[],this.graphics=null},Tail})(Client.BasicElement);Client.Tail=Tail})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl1BasicCar=(_super=>{function Lvl1BasicCar(game){var _this=_super.call(this)||this;return _this.active=!1,_this.game=game,_this}return __extends(Lvl1BasicCar,_super),Lvl1BasicCar.prototype.addBody=function(frameName,x,y){this.graphicBody=Client.GameManager.instance.layerUpper.create(x,y,"level1",frameName),this.graphicBody.anchor.setTo(.5)},Lvl1BasicCar.prototype.addWheels=function(frameName,w1x,w2x,wy,wax,way){this.graphicWheel1=this.game.make.sprite(w1x,wy,"level1",frameName),this.graphicWheel1.anchor.setTo(wax,way),this.graphicBody.addChild(this.graphicWheel1),this.graphicWheel2=this.game.make.sprite(w2x,wy,"level1",frameName),this.graphicWheel2.anchor.setTo(wax,way),this.graphicBody.addChild(this.graphicWheel2)},Lvl1BasicCar.prototype.addTicketsAndGlasses=function(){},Lvl1BasicCar.prototype.move=function(){this.active=!0,Client.GameManager.instance.level.customAction(3)},Lvl1BasicCar.prototype.update=function(){!1!==this.active&&(this.graphicBody.x+=3,this.graphicWheel1.angle+=8,this.graphicWheel2.angle=this.graphicWheel1.angle,900<=this.graphicBody.x)&&(this.active=!1)},Lvl1BasicCar.prototype.free=function(){this.game=null,this.graphicBody=null,this.graphicEyes=null,this.graphicWheel1=null,this.graphicWheel2=null},Lvl1BasicCar})(Client.BasicElement);Client.Lvl1BasicCar=Lvl1BasicCar})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl1Car1=(_super=>{function Lvl1Car1(game,x,y){game=_super.call(this,game)||this;return game.addBody("car1 instance 10000",x,y),game.addWheels("wheel1 instance 10000",-37,32,43,.5,.52),game.graphicEyes=game.game.make.sprite(12,-32,"level1"),game.graphicEyes.animations.add("anim",Phaser.Animation.generateFrameNames("eyes1 instance 1",0,109,"",4),30,!0),game.graphicEyes.animations.play("anim"),game.graphicBody.addChild(game.graphicEyes),game}return __extends(Lvl1Car1,_super),Lvl1Car1.prototype.addTicketsAndGlasses=function(){var sprite=this.game.make.sprite(-30,-12,"level1");sprite.animations.add("anim",Phaser.Animation.generateFrameNames("tickets instance 1",0,13,"",4),30,!1).onComplete.addOnce(this.move,this),sprite.animations.play("anim"),this.graphicBody.addChild(sprite),(sprite=this.game.make.sprite(9,-33,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("glasses instance 1",0,12,"",4),30,!1),sprite.animations.play("anim"),this.graphicBody.addChild(sprite)},Lvl1Car1})(Client.Lvl1BasicCar);Client.Lvl1Car1=Lvl1Car1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl1Car2=(_super=>{function Lvl1Car2(game,x,y){game=_super.call(this,game)||this;return game.addBody("car2 instance 10000",x,y),game.addWheels("wheel2 instance 10000",-38,34,26,.47,.53),game.graphicEyes=game.game.make.sprite(10,-33,"level1"),game.graphicEyes.animations.add("anim",Phaser.Animation.generateFrameNames("eyes2 instance 1",0,93,"",4),30,!0),game.graphicEyes.animations.play("anim"),game.graphicBody.addChild(game.graphicEyes),game}return __extends(Lvl1Car2,_super),Lvl1Car2.prototype.addTicketsAndGlasses=function(){var sprite=this.game.make.sprite(-30,-20,"level1");sprite.animations.add("anim",Phaser.Animation.generateFrameNames("tickets instance 1",0,13,"",4),30,!1).onComplete.addOnce(this.move,this),sprite.animations.play("anim"),this.graphicBody.addChild(sprite),(sprite=this.game.make.sprite(9,-43,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("glasses instance 1",0,12,"",4),30,!1),sprite.animations.play("anim"),this.graphicBody.addChild(sprite)},Lvl1Car2})(Client.Lvl1BasicCar);Client.Lvl1Car2=Lvl1Car2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl1ChooseFilm=(_super=>{function Lvl1ChooseFilm(game){var _this=_super.call(this)||this,game=(_this.buttonsActives=!1,_this.btnFrameId=3,_this.active=!1,_this.direction=0,_this.speed=0,_this.currFilm=0,_this.hideHelp=!1,_this.fakeMove=0,_this.fakeCounter=0,_this.fakeDir=1,_this.films=game.make.group(),_this.films.x=274,_this.films.y=252,Client.GameManager.instance.layerBackground.add(_this.films),_this.films.create(0,0,"level1","film1 instance 10000"),_this.films.create(500,0,"level1","film2 instance 10000"),_this.films.create(500,0,"level1","film3 instance 10000"),game.make.graphics(0,0));return _this.films.addChild(game),game.beginFill(65280,.5),game.drawRoundedRect(0,0,202,128,20),game.endFill(),_this.films.mask=game,game=null,Client.GameManager.instance.layerBackground.create(273,250,"level1","filmRamka instance 10000"),_this.btnLeft=Client.GameManager.instance.layerBackground.create(230,308,"level1","btnCinema instance 10003"),_this.btnLeft.anchor.setTo(.5),_this.btnLeft.scale.x=-1,_this.btnLeft.events.onInputOut.add(_this.btnOut,_this),_this.btnLeft.events.onInputOver.add(_this.btnOver,_this),_this.btnLeft.events.onInputDown.add(_this.btnDown,_this),_this.btnLeft.events.onInputUp.add(_this.btnUp,_this),_this.btnLeft.name="btnCinema",_this.btnRight=Client.GameManager.instance.layerBackground.create(520,308,"level1","btnCinema instance 10003"),_this.btnRight.anchor.setTo(.5),_this.btnRight.events.onInputOut.add(_this.btnOut,_this),_this.btnRight.events.onInputOver.add(_this.btnOver,_this),_this.btnRight.events.onInputDown.add(_this.btnDown,_this),_this.btnRight.events.onInputUp.add(_this.btnUp,_this),_this.btnRight.name="btnCinema",_this.btnBuy=Client.GameManager.instance.layerBackground.create(374,380,"level1","btnCinemaBuy instance 10003"),_this.btnBuy.anchor.setTo(.5),_this.btnBuy.events.onInputOut.add(_this.btnOut,_this),_this.btnBuy.events.onInputOver.add(_this.btnOver,_this),_this.btnBuy.events.onInputDown.add(_this.btnDown,_this),_this.btnBuy.events.onInputUp.add(_this.btnUp,_this),_this.btnBuy.name="btnCinemaBuy",_this}return __extends(Lvl1ChooseFilm,_super),Lvl1ChooseFilm.prototype.btnOut=function(sprite){!1!==sprite.inputEnabled&&(sprite.frameName=sprite.name+" instance 1000"+this.btnFrameId)},Lvl1ChooseFilm.prototype.btnOver=function(sprite){!1!==sprite.inputEnabled&&(sprite.frameName=sprite.name+" instance 1000"+(this.btnFrameId+1))},Lvl1ChooseFilm.prototype.btnDown=function(sprite){if(0===this.btnFrameId)if("btnCinemaBuy"===sprite.name){if(2===this.currFilm)return this.btnBuy.inputEnabled=!1,this.btnBuy.frameName="btnCinemaBuy instance 10003",Client.GameManager.instance.level.customAction(2),Client.SoundManager.playSFX("sfx_buy"),void Client.SoundManager.playSFX("sfx_womanGladness");Client.SoundManager.playSFX("sfx_no"),Client.GameManager.instance.level.customAction(6)}else!1===this.hideHelp&&(this.hideHelp=!0,Client.GameManager.instance.level.customAction(5)),this.moveFilms(sprite.scale.x);sprite.frameName=sprite.name+" instance 1000"+(this.btnFrameId+2)},Lvl1ChooseFilm.prototype.btnUp=function(sprite,pointer,isOver){!0===isOver&&!0===sprite.inputEnabled&&this.btnOver(sprite)},Lvl1ChooseFilm.prototype.activate=function(){this.btnFrameId=0,this.btnLeft.inputEnabled=!0,this.btnLeft.input.useHandCursor=!0,this.btnLeft.frameName=this.btnLeft.name+" instance 1000"+this.btnFrameId,this.btnRight.inputEnabled=!0,this.btnRight.input.useHandCursor=!0,this.btnRight.frameName=this.btnRight.name+" instance 1000"+this.btnFrameId,this.btnBuy.inputEnabled=!0,this.btnBuy.input.useHandCursor=!0,this.btnBuy.frameName=this.btnBuy.name+" instance 1000"+this.btnFrameId},Lvl1ChooseFilm.prototype.moveFilms=function(dir){!1===this.active&&(this.active=!0,this.direction=-dir,this.speed=8*this.direction,this.currFilm+=dir,Client.SoundManager.playSFX("btnClick"),this.currFilm<0?this.currFilm=2:2<this.currFilm&&(this.currFilm=0),this.films.getChildAt(this.currFilm).x=203*dir)},Lvl1ChooseFilm.prototype.setBtnState=function(state){1===this.fakeDir?"out"===state?this.btnOut(this.btnRight):"over"===state?this.btnOver(this.btnRight):"down"===state&&this.btnDown(this.btnRight):-1===this.fakeDir?"out"===state?this.btnOut(this.btnLeft):"over"===state?this.btnOver(this.btnLeft):"down"===state&&this.btnDown(this.btnLeft):0===this.fakeDir&&("out"===state?this.btnOut(this.btnBuy):"over"===state?this.btnOver(this.btnBuy):"down"===state&&(Client.SoundManager.playSFX("sfx_buy"),this.btnDown(this.btnBuy)))},Lvl1ChooseFilm.prototype.update=function(){if(this.updateFake(),!1!==this.active){for(var i=0;i<this.films.children.length-1;i++)this.films.getChildAt(i).x+=this.speed;(this.direction<0&&this.films.getChildAt(this.currFilm).x<0||0<this.direction&&0<this.films.getChildAt(this.currFilm).x)&&(this.films.getChildAt(this.currFilm).x=0,this.active=!1)}},Lvl1ChooseFilm.prototype.updateFake=function(){0===this.fakeMove?(this.fakeCounter+=1,40<=this.fakeCounter&&(this.fakeCounter=0,this.fakeMove=1)):1===this.fakeMove&&(this.fakeCounter+=1,1===this.fakeCounter?this.setBtnState("over"):20===this.fakeCounter?(this.setBtnState("down"),this.moveFilms(this.fakeDir)):30===this.fakeCounter?this.setBtnState("out"):60===this.fakeCounter?this.setBtnState("over"):70===this.fakeCounter?(this.setBtnState("down"),this.moveFilms(this.fakeDir)):80===this.fakeCounter?(this.setBtnState("out"),Client.SoundManager.playSFX("s_dialog")):110===this.fakeCounter?(this.fakeDir=-1,this.setBtnState("over")):120===this.fakeCounter?(this.setBtnState("down"),this.moveFilms(this.fakeDir)):130===this.fakeCounter?this.setBtnState("out"):160===this.fakeCounter?(this.fakeDir=0,this.setBtnState("over")):170===this.fakeCounter?this.setBtnState("down"):180===this.fakeCounter?this.setBtnState("out"):210===this.fakeCounter&&(this.fakeMove=2,Client.GameManager.instance.level.customAction(1)))},Lvl1ChooseFilm.prototype.free=function(){this.btnLeft=null,this.btnRight=null,this.btnBuy=null,this.films=null},Lvl1ChooseFilm})(Client.BasicElement);Client.Lvl1ChooseFilm=Lvl1ChooseFilm})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl1CircleArrow=(_super=>{function Lvl1CircleArrow(game){var _this=_super.call(this)||this;return _this.counter=0,_this.circle=new Client.PunktirCircle(game,0,0,"level1","punktirCircle instance 10000"),Client.GameManager.instance.layerUpper.add(_this.circle),_this.circle.visible=!1,_this.arrow=Client.GameManager.instance.layerUpper.create(0,0,"level1","arrow instance 10000"),_this.arrow.anchor.setTo(.5),_this.arrow.rotation=Client.Tools.toRad(45),_this.arrow.visible=!1,_this.arrowSpeedX=2*Math.cos(-_this.arrow.rotation),_this.arrowSpeedY=2*Math.sin(-_this.arrow.rotation),_this}return __extends(Lvl1CircleArrow,_super),Lvl1CircleArrow.prototype.show=function(x,y){this.circle.x=x,this.circle.y=y,this.circle.visible=!0,this.arrow.x=x+60,this.arrow.y=y-60,this.arrow.visible=!0,this.counter=0},Lvl1CircleArrow.prototype.hide=function(){this.circle.visible=!1,this.arrow.visible=!1},Lvl1CircleArrow.prototype.update=function(){!1!==this.arrow.visible&&(this.counter+=1,0<this.counter&&this.counter<=10?(this.arrow.x-=this.arrowSpeedX,this.arrow.y-=this.arrowSpeedY):10<this.counter&&this.counter<=20?(this.arrow.x+=this.arrowSpeedX,this.arrow.y+=this.arrowSpeedY):21===this.counter&&(this.counter=0))},Lvl1CircleArrow.prototype.free=function(){this.circle=null,this.arrow=null},Lvl1CircleArrow})(Client.BasicElement);Client.Lvl1CircleArrow=Lvl1CircleArrow})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl1Girl=(_super=>{function Lvl1Girl(game,x,y){var _this=_super.call(this)||this;return _this.state=1,_this.active=!0,_this.game=game,_this.grBodyY=y+28,_this.graphicBody=new Client.SkewSprite(game,x,_this.grBodyY,"level1","girlCar instance 10000"),_this.graphicBody.anchor.setTo(.5,1),Client.GameManager.instance.layerElements.addChild(_this.graphicBody),_this.graphicEyes=game.make.sprite(5,-68,"level1"),_this.graphicEyes.animations.add("lookAround",Phaser.Animation.generateFrameNames("girleyes instance 1",0,114,"",4),30,!0),_this.graphicEyes.animations.add("niceFilm",Phaser.Animation.generateFrameNames("girleyes instance 1",115,160,"",4),30,!0),_this.graphicEyes.animations.add("angry",Phaser.Animation.generateFrameNames("girleyes instance 1",161,171,"",4),30,!1),_this.graphicEyes.animations.play("lookAround"),_this.graphicBody.addChild(_this.graphicEyes),_this.graphicWheel1=Client.GameManager.instance.layerElements.create(x-32,y+26,"level1","girlweel instance 10000"),_this.graphicWheel1.anchor.setTo(.5),_this.graphicWheel2=Client.GameManager.instance.layerElements.create(x+33,y+26,"level1","girlweel instance 10000"),_this.graphicWheel2.anchor.setTo(.5),_this.playAnimBody("idle"),_this}return __extends(Lvl1Girl,_super),Lvl1Girl.prototype.setAngry=function(){this.graphicEyes.animations.stop("angry",!0),this.graphicEyes.animations.play("angry")},Lvl1Girl.prototype.setState=function(value){this.state=value,this.active=!0},Lvl1Girl.prototype.update=function(){!1!==this.active&&(this.graphicBody.x+=1.5,this.graphicWheel1.x=this.graphicBody.x-32,this.graphicWheel2.x=this.graphicBody.x+33,this.graphicWheel1.angle+=8,this.graphicWheel2.angle=this.graphicWheel1.angle,1===this.state&&125<=this.graphicBody.x?(this.active=!1,this.addPopcorn(),Client.GameManager.instance.hero.setEnableMotor(!1)):2===this.state&&480<=this.graphicBody.x?(this.active=!1,Client.GameManager.instance.level.customAction(4),Client.GameManager.instance.hero.setEnableMotor(!1)):2===this.state&&900<=this.graphicBody.x&&(this.active=!1))},Lvl1Girl.prototype.addPopcorn=function(){var sprite=this.game.make.sprite(-5,-91,"level1");sprite.angle=8,sprite.animations.add("anim",Phaser.Animation.generateFrameNames("popcorn instance 1",0,22,"",4),30,!1).onComplete.addOnce(function(){this.playAnimBody("idle")},this),sprite.animations.play("anim"),this.graphicBody.addChild(sprite),sprite=null,this.playAnimBody("wiggle")},Lvl1Girl.prototype.addGlasses=function(){this.graphicEyes.animations.play("niceFilm");var sprite=this.game.make.sprite(0,-70,"level1");sprite.animations.add("anim",Phaser.Animation.generateFrameNames("glasses instance 1",0,12,"",4),30,!1),sprite.animations.play("anim"),this.graphicBody.addChild(sprite),sprite=null,this.playAnimBody("glasses")},Lvl1Girl.prototype.playAnimBody=function(value){this.game.tweens.removeFrom(this.graphicBody),"idle"===value?this.game.add.tween(this.graphicBody).to({scaleY:[1.05,1]},1300,Phaser.Easing.Linear.None,!0,0,-1):"wiggle"===value?this.game.add.tween(this.graphicBody).to({scaleY:[1.09,1,1.09,1],skewX:[Client.Tools.toRad(-6.2),0,Client.Tools.toRad(6.2),0]},800,Phaser.Easing.Linear.None,!0,0,-1):"glasses"===value&&this.game.add.tween(this.graphicBody).to({scaleY:[.95,1,1],y:[this.grBodyY+3,this.grBodyY-3,this.grBodyY]},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.playAnimBody("idle")},this)},Lvl1Girl.prototype.free=function(){this.game=null,this.graphicBody=null,this.graphicEyes=null,this.graphicWheel1=null,this.graphicWheel2=null},Lvl1Girl})(Client.BasicElement);Client.Lvl1Girl=Lvl1Girl})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl10Door=(_super=>{function Lvl10Door(_game){var _this=_super.call(this)||this;return _this.graphic=Client.GameManager.instance.layerElements.create(362,287,"level10","door instance 10000"),_this}return __extends(Lvl10Door,_super),Lvl10Door.prototype.close=function(){Client.SoundManager.playSFX("sfx_closeDoor"),Client.GameManager.instance.level.game.add.tween(this.graphic).to({y:398},300,"Linear",!0).onComplete.addOnce(function(){this.addDust(370,545)},this)},Lvl10Door.prototype.addDust=function(_x,_y){_x=Client.GameManager.instance.layerElements.create(_x,_y,"level10","dorrDust instance 10000"),_x.anchor.set(.5,1),_y=_x.animations.add("anim",Phaser.Animation.generateFrameNames("dorrDust instance 1",0,21,"",4),30,!1);_y.killOnComplete=!0,_y.play()},Lvl10Door.prototype.free=function(){_super.prototype.free.call(this),this.graphic=null},Lvl10Door})(Client.BasicElement);Client.Lvl10Door=Lvl10Door})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl10FireCar=(_super=>{function Lvl10FireCar(game){var _this=_super.call(this)||this;return _this.move=!1,_this.haveHelmet=!1,_this.group=new Phaser.Group(game),_this.group.x=77,_this.group.y=505,_this.group.scale.set(1.25),Client.GameManager.instance.layerElements.addChild(_this.group),_this.graphics=_this.group.create(0,63,"level10","fireCar instance 10000"),_this.graphics.anchor.set(.5,1),_this.graphics.animations.add("alive",Phaser.Animation.generateFrameNames("fireCar instance 1",0,71,"",4),30,!1).onComplete.addOnce(_this.addFire,_this),_this.graphics.animations.add("dead",Phaser.Animation.generateFrameNames("fireCar instance 1",89,154,"",4),30,!1),_this.wheel1=_this.group.create(-22,22,"level10","wheelFire instance 10000"),_this.wheel1.anchor.set(.5),_this.wheel1.visible=!1,_this.wheel2=_this.group.create(22,22,"level10","wheelFire instance 10000"),_this.wheel2.anchor.set(.5),_this.wheel2.visible=!1,_this}return __extends(Lvl10FireCar,_super),Lvl10FireCar.prototype.alive=function(){this.graphics.play("alive")},Lvl10FireCar.prototype.addFire=function(){this.move=!0,this.fire=this.group.create(-7,35,"level10","fire instance 10000",!0,0),this.fire.anchor.set(.5,1),Client.GameManager.instance.level.game.add.tween(this.fire.scale).to({y:1.1},150,"Linear",!0,0,-1,!0),this.scaleTween=Client.GameManager.instance.level.game.add.tween(this.graphics.scale).to({y:.98},200,"Linear",!0,0,-1,!0),this.moveTween=Client.GameManager.instance.level.game.add.tween(this.group).to({x:190},3500,"Linear",!0),this.wheel1.visible=!0,this.wheel2.visible=!0},Lvl10FireCar.prototype.update=function(){var distance=Client.Tools.distance(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y,this.group.x,this.group.y);this.move?(distance<125&&(Client.Main.instance.tweens.removeFrom(this.group),this.move=!1,Client.GameManager.instance.level.topActions.wheelyBurn=!0,Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.level.gameOver=!0),this.wheel1.angle+=1.5,this.wheel2.angle+=1.5,!0===Client.GameManager.instance.level.topActions.waterWork&&115<this.group.x&&(this.move=!1,this.wheel1.visible=!1,this.wheel2.visible=!1,this.fire.visible=!1,this.graphics.play("dead"),this.moveTween.stop(),this.scaleTween.stop(),Client.GameManager.instance.hero.currEyesState=Client.EyesState.stand,Client.GameManager.instance.hero.setCollideWorldBounds(!1))):!1===Client.GameManager.instance.level.gameOver&&!1===this.haveHelmet&&distance<60&&(this.haveHelmet=!0,this.hide(),Client.GameManager.instance.hero.showHelmet())},Lvl10FireCar.prototype.hide=function(){this.group.visible=!1},Lvl10FireCar.prototype.free=function(){_super.prototype.free.call(this),this.group=null,this.graphics=null,this.fire=null,this.wheel1=null,this.wheel2=null,this.moveTween=null,this.scaleTween=null},Lvl10FireCar})(Client.BasicElement);Client.Lvl10FireCar=Lvl10FireCar})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl10Ice=(_super=>{function Lvl10Ice(_game){var _this=_super.call(this,_game)||this;return _this.iceBody=new Phaser.Physics.Box2D.Body(_game,null,441,187,0),_this.iceBody.setRectangle(75,50),_this.group=new Phaser.Group(_game),_this.group.x=441,_this.group.y=187,Client.GameManager.instance.layerUpper.addChildAt(_this.group,0),_this.part11=new Client.SASprite(_game,0,0,"level10","part11 instance 10000"),_this.part11.pivot.set(42,33),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(_game,0,0,"level10","part10 instance 10000"),_this.part10.pivot.set(12,32),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(_game,0,0,"level10","part9 instance 10000"),_this.part9.pivot.set(26,25),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(_game,0,0,"level10","part8 instance 10000"),_this.part8.pivot.set(40,38),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(_game,0,0,"level10","part7 instance 10000"),_this.part7.pivot.set(6,9),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(_game,0,0,"level10","part6 instance 10000"),_this.part6.pivot.set(32,33),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(_game,0,0,"level10","part5 instance 10000"),_this.part5.pivot.set(16,7),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(_game,0,0,"level10","part4 instance 10000"),_this.part4.pivot.set(9,7),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(_game,0,0,"level10","part3 instance 10000"),_this.part3.pivot.set(5,5),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(_game,0,0,"level10","part2 instance 10000"),_this.part2.pivot.set(9,5),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(_game,0,0,"level10","part1 instance 10000"),_this.part1.pivot.set(18,4),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl10Ice,_super),Lvl10Ice.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.setPart(this.part1,{x:36,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:-5,y:30,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:16,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:-23,y:12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:-30,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:5,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:4,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part8,{x:-16,y:14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:27,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part10,25,{x:-6,y:-7,skX:-5,skY:-5,scY:.74}),this.setPart(this.part11,{x:3,y:14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part7,13,{x:3,y:-8,skX:3,skY:-5,scX:1.15,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.part11,20,{y:18,scX:1.06,scY:.89})):19===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part7,7,{y:-6,skX:2,skY:-15,scY:.55,alpha:0}):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part4,5,{x:-24,y:15,scX:.96,scY:.63}),Client.GameManager.instance.level.setSimpleTween(this.part5,20,{y:48,scY:.52}),this.setPart(this.part7,{x:3,y:-6,angle:0,scX:1.15,scY:.55,skX:2,skY:-15,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part8,20,{y:25,scY:.71}),Client.GameManager.instance.level.setSimpleTween(this.part10,25,{x:-21,y:21,skX:-36,skY:-33,scY:.62}),Client.GameManager.instance.level.setSimpleTween(this.part11,45,{y:45,scX:1.35,scY:.13})):27===this.counterAnim?this.part7.visible=!1:31===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-22,y:19,skX:7,skY:7,scX:.85,scY:.39,alpha:0}):41===this.counterAnim?this.setPart(this.part4,{x:-22,y:19,angle:0,scX:.85,scY:.39,skX:7,skY:7,alpha:0}):42===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part9,33,{y:42,scX:1.9,scY:.35}):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part5,10,{skX:1,skY:1,scX:1.3,scY:.38}),Client.GameManager.instance.level.setSimpleTween(this.part8,29,{x:-19,y:41,scX:1.25,scY:.28})):49===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,8,{x:14,y:11,skX:-5,skY:-19,scY:.65}),Client.GameManager.instance.level.setSimpleTween(this.part6,32,{y:40,scX:1.21,scY:.29})):51===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-9,y:37,skX:-6,scY:.78}),Client.GameManager.instance.level.setSimpleTween(this.part10,20,{x:-31,y:41,skX:-122,skY:-118,scY:.44})):56===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part5,7,{y:49,scY:.25,alpha:0}):57===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:13,y:20,scY:.36,alpha:0}):63===this.counterAnim?this.setPart(this.part5,{x:-30,y:49,angle:0,scX:1.3,scY:.25,skX:1,skY:1,alpha:0}):64===this.counterAnim?(this.setPart(this.part3,{x:13,y:20,angle:0,scX:1,scY:.36,skX:-5,skY:-19,alpha:0}),this.part5.visible=!1):65===this.counterAnim?this.part3.visible=!1:66===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:-12,y:42,skX:-4,skY:6,scY:.64,alpha:0}):71===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,10,{x:35,y:47,scY:.45}),Client.GameManager.instance.level.setSimpleTween(this.part10,20,{x:-32,y:46,skX:-100,skY:-157,scX:.91,scY:.57}),Client.GameManager.instance.level.setSimpleTween(this.part11,20,{y:47,scX:1.6,scY:.08})):75===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part8,24,{y:47,scX:1.48,scY:.12}),Client.GameManager.instance.level.setSimpleTween(this.part9,19,{y:47,scX:2.52,scY:.15})):76===this.counterAnim?this.setPart(this.part2,{x:-12,y:42,angle:0,scX:1,scY:.64,skX:-4,skY:6,alpha:0}):77===this.counterAnim?this.part2.visible=!1:81===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part6,18,{y:46,scX:1.57,scY:.11})):91===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part10,10,{y:47,skX:-95,skY:-167,scX:.88,scY:.61,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part11,10,{scX:1.66,scY:.07,alpha:0})):94===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part9,9,{alpha:0}):96===this.counterAnim?this.setPart(this.part1,{x:35,y:47,angle:0,scX:1,scY:.45,skX:0,skY:0,alpha:0}):97===this.counterAnim?this.part1.visible=!1:99===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part6,6,{y:47,scY:.08,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part8,4,{alpha:0})):101===this.counterAnim?(this.setPart(this.part10,{x:-32,y:47,angle:0,scX:.88,scY:.61,skX:-95,skY:-167,alpha:0}),this.setPart(this.part11,{x:3,y:47,angle:0,scX:1.66,scY:.07,skX:0,skY:0,alpha:0})):102===this.counterAnim?(this.part10.visible=!1,this.part11.visible=!1):103===this.counterAnim?(this.setPart(this.part8,{x:-19,y:47,angle:0,scX:1.48,scY:.12,skX:0,skY:0,alpha:0}),this.setPart(this.part9,{x:27,y:47,angle:0,scX:2.52,scY:.15,skX:0,skY:0,alpha:0})):104===this.counterAnim?(this.part8.visible=!1,this.part9.visible=!1):105===this.counterAnim?this.setPart(this.part6,{x:5,y:47,angle:0,scX:1.57,scY:.08,skX:0,skY:0,alpha:0}):106===this.counterAnim&&this.animComplete())},Lvl10Ice.prototype.animComplete=function(){_super.prototype.animComplete.call(this),this.iceBody.sensor=!0,Client.GameManager.instance.level.addWater()},Lvl10Ice.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:36,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:-5,y:30,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:16,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:-23,y:12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:-30,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:5,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:4,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part8,{x:-16,y:14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:27,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part10,{x:-4,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part11,{x:3,y:14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl10Ice.prototype.free=function(){_super.prototype.free.call(this),this.group=null,this.part1=null,this.part2=null,this.part3=null,this.part4=null,this.part5=null,this.part6=null,this.part7=null,this.part8=null,this.part9=null,this.part10=null,this.part11=null,this.iceBody=null},Lvl10Ice})(Client.BasicSimpleAnim);Client.Lvl10Ice=Lvl10Ice})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl10Press=(_super=>{function Lvl10Press(_game){var _this=_super.call(this,_game)||this,body=(_this.used=!1,_this.crush=!1,_this.crushNow=!1,_this.group=new Phaser.Group(_game),_this.group.x=502,_this.group.y=416,Client.GameManager.instance.layerElements.addChild(_this.group),_this.part6=new Client.SASprite(_game,0,0,"level10","pressPart2 instance 10000"),_this.part6.pivot.set(87,16),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(_game,0,0,"level10","pressPart1 instance 10000"),_this.part5.pivot.set(87,15),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(_game,0,0,"level10","pressPart2 instance 10000"),_this.part4.pivot.set(87,16),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(_game,0,0,"level10","pressPart1 instance 10000"),_this.part3.pivot.set(87,15),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(_game,0,0,"level10","pressPart3 instance 10000"),_this.part2.pivot.set(19,10),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(_game,0,0,"level10","pressPart3 instance 10000"),_this.part1.pivot.set(19,10),_this.group.addChild(_this.part1),_this.press=new Client.SASprite(_game,0,0,"level10","press instance 10000"),_this.press.pivot.set(94,39),_this.group.addChild(_this.press),_this.setParts("down"),_this.wheel1=Client.GameManager.instance.layerElements.create(420,290,"level10","wheel instance 10000"),_this.wheel1.anchor.set(.5),_this.wheel2=Client.GameManager.instance.layerElements.create(396,330,"level10","wheel instance 10000"),_this.wheel2.anchor.set(.5),Client.GameManager.instance.layerElements.create(398,296,"level10","shadow instance 10000"),_this.pressBody=new Phaser.Physics.Box2D.Body(_game,null,_this.press.world.x+94,_this.press.world.y+39,1),_this.pressBody.setRectangle(185,71),_this.pressBody.sensor=!0,_this.botPress=Client.GameManager.instance.layerUpper.create(514,556,"level10","pressSensor_mc instance 10000"),_game.physics.box2d.enable(_this.botPress),_this.botPress.body.fixedRotation=!0,new Phaser.Physics.Box2D.Body(_game,null,514,576,0));body.setRectangle(20,20),body.sensor=!0;return _game.physics.box2d.wheelJoint(body,_this.botPress.body,0,-20,0,0,0,1,4,.3,0),_this.botPress.body.setBodyContactCallback(Client.GameManager.instance.level.redStone.body,_this.contact,_this),_this.botPress.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelBack,_this.contact,_this),_this.pressBody.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.crushHero,_this),_this.arrow1=Client.GameManager.instance.layerBackground.create(435,516,"level10","arrow1 instance 10000"),_this.arrow1.pivot.set(14,31),_this.arrow2=Client.GameManager.instance.layerBackground.create(413,450,"level10","arrow2 instance 10000"),_this.arrow2.pivot.set(5.5,22),_this}return __extends(Lvl10Press,_super),Lvl10Press.prototype.contact=function(){!1===this.used&&(this.used=!0,Client.SoundManager.playSFX("s_platformMove"),this.playAnim("down"),this.counterAnim=-25,Client.Main.instance.add.tween(this.arrow1).to({angle:-90},350,"Linear",!0,0,0,!0),Client.Main.instance.add.tween(this.arrow2).to({angle:45},250,"Linear",!0,0,0,!0))},Lvl10Press.prototype.crushHero=function(){!1===this.crush&&this.counterAnim<50&&(this.crush=!0)},Lvl10Press.prototype.addDust=function(_x,_y){_x=Client.GameManager.instance.layerElements.create(_x,_y,"level10","pressDust instance 10000"),_x.anchor.set(0,1),_y=_x.animations.add("anim",Phaser.Animation.generateFrameNames("pressDust instance 1",0,27,"",4),30,!1);_y.killOnComplete=!0,_y.play()},Lvl10Press.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"down"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.press,49,{y:102}),Client.GameManager.instance.level.setSimpleTween(this.part1,49,{x:87,y:-26,scX:1,scY:2.47}),Client.GameManager.instance.level.setSimpleTween(this.part2,49,{x:-37,y:-31,scX:1,scY:2.47}),Client.GameManager.instance.level.setSimpleTween(this.part3,49,{y:-75,skX:36,skY:36}),Client.GameManager.instance.level.setSimpleTween(this.part4,49,{y:-75,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.part5,49,{y:29,skX:36,skY:36}),Client.GameManager.instance.level.setSimpleTween(this.part6,49,{y:29,skX:-35,skY:-35})):50===this.counterAnim?(this.setPart(this.press,{x:23,y:102,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part1,{x:87,y:-26,angle:0,scX:1,scY:2.47,skX:0,skY:180,alpha:1}),this.setPart(this.part2,{x:-37,y:-31,angle:0,scX:1,scY:2.47,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:24,y:-75,angle:0,scX:1,scY:1,skX:36,skY:36,alpha:1}),this.setPart(this.part4,{x:24,y:-75,angle:0,scX:1,scY:1,skX:-35,skY:-35,alpha:1}),this.setPart(this.part5,{x:24,y:29,angle:0,scX:1,scY:1,skX:36,skY:36,alpha:1}),this.setPart(this.part6,{x:24,y:29,angle:0,scX:1,scY:1,skX:-35,skY:-35,alpha:1}),this.addDust(400,555),this.addDust(565,555)):76===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.press,15,{y:-13}),Client.GameManager.instance.level.setSimpleTween(this.part1,15,{x:98,y:-80,scX:1.11,scY:1.8}),Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-51,y:-86,scX:1.22,scY:1.8}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{y:-107,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{y:-107,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.part5,15,{y:-65,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part6,15,{y:-64,skX:-9,skY:-9})):91===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.press,176,{y:-90}),Client.GameManager.instance.level.setSimpleTween(this.part1,176,{x:107,y:-127,scX:1,scY:1.26}),Client.GameManager.instance.level.setSimpleTween(this.part2,176,{x:-53,y:-133,scX:1,scY:1.26}),Client.GameManager.instance.level.setSimpleTween(this.part3,176,{y:-128,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part4,176,{y:-128,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.part5,176,{y:-128,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part6,176,{y:-127,skX:8,skY:8})):267===this.counterAnim&&this.animComplete()),this.pressBody.x=this.press.world.x+94,this.pressBody.y=this.press.world.y+39)},Lvl10Press.prototype.setParts=function(value){"down"===value&&(this.setPart(this.press,{x:23,y:-90,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part1,{x:106,y:-127,angle:0,scX:1.23,scY:1.26,skX:0,skY:180,alpha:1}),this.setPart(this.part2,{x:-53,y:-131,angle:0,scX:1.35,scY:1.26,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:24,y:-128,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:24,y:-128,angle:0,scX:1,scY:1,skX:9,skY:9,alpha:1}),this.setPart(this.part5,{x:24,y:-128,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:24,y:-127,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}))},Lvl10Press.prototype.update=function(){_super.prototype.update.call(this),!0===this.crush&&!1===this.crushNow&&(this.crushNow=!0,Client.GameManager.instance.hero.setVisibility(!1),new Client.BrokeHero(Client.GameManager.instance.level.game,Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y),Client.GameManager.instance.level.gameOver=!0)},Lvl10Press.prototype.free=function(){_super.prototype.free.call(this),this.group=null,this.part1=null,this.part2=null,this.part3=null,this.part4=null,this.part5=null,this.part6=null,this.press=null,this.wheel1=null,this.wheel2=null,this.pressBody=null,this.botPress=null,this.arrow1=null,this.arrow2=null},Lvl10Press})(Client.BasicSimpleAnim);Client.Lvl10Press=Lvl10Press})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl10Spring=(_super=>{function Lvl10Spring(_game){var _this=_super.call(this)||this;return _this.startY=525,_this.counterWheels=0,_this.m_active=!1,_this.m_currWallsTime=0,_this.springHeight=45,_this.game=_game,_this.graphic=Client.GameManager.instance.layerUpper.create(720,_this.startY,"level10","spring instance 10000"),_this.graphic.anchor.setTo(.5),_this.graphic.inputEnabled=!0,_this.graphic.input.useHandCursor=!0,_this.graphic.events.onInputUp.add(_this.useSpring,_this),_this.halfBtnHeight=_this.springHeight,_this.tween=_this.game.add.tween(_this.graphic),_this.tween.to({y:[_this.startY-15,_this.startY]},300,Phaser.Easing.Linear.None),_this.tween.onComplete.add(_this.tweenComp,_this),_this.body=new Phaser.Physics.Box2D.Body(_this.game,null,720,_this.startY-20,0),_this.body.setRectangle(120,10),_this.body.sensor=!0,_this.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelBack,_this.onBodyContact,_this),_this.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelFront,_this.onBodyContact,_this),_this}return __extends(Lvl10Spring,_super),Lvl10Spring.prototype.onBodyContact=function(body1,body2,fixture1,fixture2,begin){body1!==body2&&(!0===begin?(this.counterWheels+=1,2<this.counterWheels&&(this.counterWheels=2)):(--this.counterWheels,this.counterWheels<0&&(this.counterWheels=0)))},Lvl10Spring.prototype.tweenComp=function(){this.graphic.y=this.startY},Lvl10Spring.prototype.useSpring=function(){var hero;this.graphic.y=this.startY,this.tween.start(),Client.SoundManager.playSFX("spring"),2===this.counterWheels&&((hero=Client.GameManager.instance.hero).bodyWheelFront.mass=.321,hero.bodyWheelBack.angularVelocity=0,hero.bodyWheelBack.velocity.x=0,hero.bodyWheelBack.velocity.y=0,hero.bodyWheelFront.angularVelocity=0,hero.bodyWheelFront.velocity.x=0,hero.bodyWheelFront.velocity.y=0,hero.bodyBase.angularVelocity=0,hero.bodyBase.velocity.x=0,hero.bodyBase.velocity.y=0,hero.bodyBase.data.SetPosition(new box2d.b2Vec2(this.body.data.GetPosition().x,this.body.data.GetPosition().y+1.4)),hero.bodyWheelBack.y=hero.bodyBase.y+hero.wheelsOffY,hero.bodyWheelFront.y=hero.bodyBase.y+hero.wheelsOffY,this.destroyJoint(),this.joint=Client.Main.instance.physics.box2d.wheelJoint(this.body,hero.bodyBase,0,0,0,0,0,1),this.joint.m_collideConnected=!0,hero.setKeepAngle(!1),hero.bodyBase.angularVelocity=10.5*hero.currDirection,hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(0,15),hero.bodyBase.data.GetPosition()),this.heroEngineState=hero.getEnableMotor(),hero.setEnableMotor(!1,!1),this.m_currWallsTime=0,this.m_active=!0)},Lvl10Spring.prototype.destroyJoint=function(){null!=this.joint&&(Client.Main.instance.physics.box2d.world.DestroyJoint(this.joint),this.joint=null)},Lvl10Spring.prototype.update=function(){!1!==this.m_active&&(this.m_currWallsTime+=1,25===this.m_currWallsTime?Client.GameManager.instance.hero.changeDirection():60===this.m_currWallsTime&&(Client.GameManager.instance.hero.setKeepAngle(!0),this.destroyJoint(),Client.GameManager.instance.hero.setEnableMotor(this.heroEngineState,!1),this.m_active=!1))},Lvl10Spring.prototype.free=function(){_super.prototype.free.call(this),this.game=null,this.body=null,this.graphic=null,this.tween=null,this.joint=null},Lvl10Spring})(Client.BasicElement);Client.Lvl10Spring=Lvl10Spring})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl10TopAction=(_super=>{function Lvl10TopAction(game){var _this=_super.call(this)||this,buttonFire=(_this.wheelyBurn=!1,_this.fire=new Array,_this.fireNow=!1,_this.frostNow=!1,_this.iceRockDestroy=!1,_this.waterFrozen=!1,_this.boxInfire=!1,_this.boxBurnTimer=0,_this.wheelyFrized=!1,_this.emptyPool=!1,_this.frozenWaterFrame=1e4,_this.underWater=!1,_this.active=!1,_this.counterWheelyBurn=!0,_this.counterBoxBurn=!0,_this.drake=game.make.button(75,73,"level10",_this.stopDrug,_this,"drake instance 10001","drake instance 10000","drake instance 10000","drake instance 10000"),_this.drake.anchor.set(.5),_this.drake.events.onInputDown.add(_this.startDrag,_this),Client.GameManager.instance.layerElements.addChild(_this.drake),_this.drake.inputEnabled=!0,_this.drake.input.enableDrag(),_this.drake.input.boundsRect=new Phaser.Rectangle(0,_this.drake.y-_this.drake.height/2,650,_this.drake.height),_this.drake.input.setDragLock(!0,!1),game.make.button(45,291,"level10",_this.endFire,_this,"fireButton instance 10001","fireButton instance 10000","fireButton instance 10002","fireButton instance 10000")),buttonFire=(buttonFire.onInputDown.add(_this.fireOn,_this),buttonFire.anchor.set(.5),Client.GameManager.instance.layerUpper.addChild(buttonFire),game.make.button(105,291,"level10",_this.endFrost,_this,"frostButton instance 10001","frostButton instance 10000","frostButton instance 10002","frostButton instance 10000")),buttonFire=(buttonFire.onInputDown.add(_this.frostOn,_this),buttonFire.anchor.set(.5),Client.GameManager.instance.layerUpper.addChild(buttonFire),_this.group=new Phaser.Group(game),Client.GameManager.instance.layerUpper.addChild(_this.group),_this.frozenWater=Client.GameManager.instance.layerUpper.create(168,237,"level10","frozenWater instance 10000",!0,0),_this.waterBody=new Phaser.Physics.Box2D.Body(game,null,272,247,0),_this.waterBody.setRectangle(204,20),_this.waterBody.sensor=!0,_this.waterSensor=new Phaser.Physics.Box2D.Body(game,null,290,300,0),_this.waterSensor.setRectangle(50,20),_this.waterSensor.sensor=!0,_this.waterSensor.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelFront,_this.wheelyDead,_this),_this.water=game.make.sprite(169,239,"level10","water instance 10000"),Client.GameManager.instance.layerUpper.addChildAt(_this.water,0),_this.waterBlur=game.make.sprite(150,215,"level10","waterBlur instance 10000"),Client.GameManager.instance.layerUpper.addChild(_this.waterBlur),new Phaser.Graphics(game,169,239));return buttonFire.beginFill(0,1),buttonFire.drawRect(0,0,208,91),buttonFire.endFill(),Client.GameManager.instance.layerUpper.addChild(buttonFire),_this.water.mask=buttonFire,Client.GameManager.instance.layerUpper.create(161,275,"level10","corals instance 10000",!0,0),_this.box=game.make.sprite(44,175,"level10","box instance 10000"),_this.box.inputEnabled=!0,Client.GameManager.instance.layerElements.addChildAt(_this.box,0),_this.iceRock=new Client.Lvl10Ice(game),Client.GameManager.instance.level.updateElements.push(_this.iceRock),_this.waterWheel=game.make.sprite(241,358,"level10","waterWheel instance 10000"),_this.waterWheel.anchor.set(.5),Client.GameManager.instance.layerUpper.addChild(_this.waterWheel),_this}return __extends(Lvl10TopAction,_super),Lvl10TopAction.prototype.activateWheel=function(){this.active=!0,this.waterWheel.inputEnabled=!0,this.waterWheel.input.useHandCursor=!0,this.waterWheel.events.onInputOver.add(this.over,this),this.waterWheel.events.onInputOut.add(this.out,this),this.waterWheel.events.onInputUp.add(this.up,this),this.waterWheel.frameName="waterWheel instance 10001"},Lvl10TopAction.prototype.over=function(){!0===this.active&&(this.waterWheel.frameName="waterWheel instance 10002")},Lvl10TopAction.prototype.out=function(){!0===this.active&&(this.waterWheel.frameName="waterWheel instance 10001")},Lvl10TopAction.prototype.up=function(){!0===this.active&&(this.waterWheel.inputEnabled=!1,Client.GameManager.instance.level.game.add.tween(this.waterWheel).to({angle:360},600,"Linear",!0).onComplete.addOnce(function(){this.waterWheel.frameName="waterWheel instance 10000"},this),Client.GameManager.instance.level.game.add.tween(this.water).to({y:330},2500,"Linear",!0).onComplete.addOnce(function(){this.waterWork=!1,Client.SoundManager.stopSFXLoop("s_waterNoize")},this),Client.GameManager.instance.level.game.add.tween(this.waterBlur).to({alpha:0},500,"Linear",!0),this.waterWork=!0,Client.SoundManager.playSFX("s_waterNoize",!0),this.emptyPool=!0)},Lvl10TopAction.prototype.wheelyDead=function(){this.underWater=!0,Client.SoundManager.playSFX("sfx_bubles",!0),Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.level.gameOver=!0},Lvl10TopAction.prototype.fireOn=function(){this.fireNow=!0,Client.SoundManager.playSFX("s_barrelFire",!0),!this.iceRockDestroy&&Math.abs(this.iceRock.group.x-this.drake.x)<50&&(0===this.iceRock.counterAnim?this.iceRock.playAnim("anim"):this.iceRock.activeAnim=!0)},Lvl10TopAction.prototype.endFire=function(){Client.SoundManager.stopSFXLoop("s_barrelFire"),this.fireNow=!1,this.iceRock.counterAnim<70&&(this.iceRock.activeAnim=!1)},Lvl10TopAction.prototype.frostOn=function(){Client.SoundManager.playSFX("sfx_freezeNoise",!0),this.frostNow=!0},Lvl10TopAction.prototype.endFrost=function(){Client.SoundManager.stopSFXLoop("sfx_freezeNoise"),this.frostNow=!1},Lvl10TopAction.prototype.startDrag=function(){this.drag=!0},Lvl10TopAction.prototype.stopDrug=function(){this.drag=!1},Lvl10TopAction.prototype.update=function(){if(!0===this.fireNow){for(var i=0;i<1;i++)null!=(firePart=null===(firePart=this.group.getFirstDead(!1,0,0,"level10","fireParticle instance 10000"))&&this.group.length<30?this.group.create(0,0,"level10","fireParticle instance 10000"):firePart)&&this.createParticle(firePart,"fireParticle",17);!1===this.wheelyBurn&&Math.abs(this.drake.y-Client.GameManager.instance.hero.bodyBase.y)<155&&Math.abs(this.drake.x-Client.GameManager.instance.hero.bodyBase.x)<60&&(Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.level.gameOver=!0,this.wheelyBurn=!0,Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid,Client.GameManager.instance.hero.showBurn(),Client.SoundManager.playSFX("s_wheelyFlame")),Math.abs(265-this.drake.x)<105&&1e4<this.frozenWaterFrame&&(this.frozenWaterFrame-=.5,this.frozenWater.frameName="frozenWater instance "+Math.round(this.frozenWaterFrame),this.waterFrozen=!1,this.waterBody.sensor=!0),0<this.box.alpha&&Math.abs(90-this.drake.x)<40&&(this.boxInfire=!0)}if(!0===this.frostNow){for(i=0;i<1;i++)null!=(firePart=null===(firePart=this.group.getFirstDead(!1,0,0,"level10","frostParticle instance 10000"))&&this.group.length<30?this.group.create(0,0,"level10","frostParticle instance 10000"):firePart)&&this.createParticle(firePart,"frostParticle",14);!this.wheelyBurn&&!this.wheelyFrized&&Math.abs(this.drake.y-Client.GameManager.instance.hero.bodyBase.y)<155&&Math.abs(this.drake.x-Client.GameManager.instance.hero.bodyBase.x)<60&&(this.wheelyFrized=!0,Client.GameManager.instance.level.freeze()),!this.emptyPool&&!this.waterFrozen&&Math.abs(265-this.drake.x)<105&&(this.frozenWaterFrame<10073?(this.frozenWaterFrame+=.5,this.frozenWater.frameName="frozenWater instance "+Math.floor(this.frozenWaterFrame)):(this.waterFrozen=!0,this.waterBody.sensor=!1))}if(!0===Client.GameManager.instance.level.gameOver&&(90===Client.GameManager.instance.level.gameOverDelay&&(this.wheelyBurn=!1),this.boubblsUpdate()),!0===this.boxInfire&&(!0===this.counterBoxBurn&&(this.counterBoxBurn=!1,Client.SoundManager.playSFX("s_wheelyFlame",!0)),this.burnObject(this.box.x+75*Math.random(),this.box.y+28+38*Math.random(),!0)),!0===this.wheelyBurn&&(!0===this.counterWheelyBurn&&(this.counterWheelyBurn=!1,Client.GameManager.instance.hero.showBurn(),Client.SoundManager.playSFX("s_wheelyFlame")),this.burnObject(Client.GameManager.instance.hero.bodyBase.x-60+120*Math.random(),Client.GameManager.instance.hero.bodyBase.y-30+60*Math.random())),!0===this.waterWork)for(var firePart,i=0;i<1;i++)null!=(firePart=null===(firePart=this.group.getFirstDead(!1,0,0,"level10","waterParticle instance 10000"))&&this.group.length<30?this.group.create(0,0,"level10","waterParticle instance 10000"):firePart)&&(this.createParticle(firePart,"waterParticle",14),firePart.angle=Client.GameManager.instance.level.game.rnd.between(100,110),firePart.x=this.waterWheel.x-40-5+10*Math.random(),firePart.y=this.waterWheel.y+100)},Lvl10TopAction.prototype.createParticle=function(_particle,_name,_maxFrame){_particle.animations.add("idle",Phaser.Animation.generateFrameNames(_name+" instance 1",0,_maxFrame,"",4),40,!1).killOnComplete=!0,_particle.play("idle"),_particle.anchor.set(.5,0),_particle.scale.set(Math.random()+1),_particle.x=this.drake.world.x-5+10*Math.random(),_particle.y=this.drake.y+this.drake.height/2-20-10*(_particle.scale.x-1.5),_particle.angle=20*Math.random()-20*Math.random()},Lvl10TopAction.prototype.burnObject=function(_x,_y,box){void 0===box&&(box=!1),this.boxBurnTimer+=1,110===this.boxBurnTimer?!0===box&&(Client.SoundManager.stopSFXLoop("s_wheelyFlame"),Client.SoundManager.playSFX("s_boxFire")):120===this.boxBurnTimer&&Client.GameManager.instance.level.game.add.tween(this.box).to({alpha:0},200,Phaser.Easing.Linear.None,!0,0).onComplete.addOnce(function(){this.boxInfire=!1,this.box.inputEnabled=!1},this);for(var i=0;i<1;i++){var firePart=this.group.getFirstDead(!1,0,0,"level10","fireParticle instance 10000");null!=(firePart=null===firePart&&this.group.length<45?this.group.create(0,0,"level10","fireParticle instance 10000"):firePart)&&(firePart.animations.add("idle",Phaser.Animation.generateFrameNames("fireParticle instance 1",0,17,"",4),40,!1).killOnComplete=!0,firePart.play("idle"),firePart.anchor.set(.5,0),firePart.scale.set(Math.random()+1),firePart.scale.y*=-1,firePart.x=_x,firePart.y=_y)}},Lvl10TopAction.prototype.boubblsUpdate=function(){if(!1!==this.underWater)for(var i=0;i<1;i++){var boubble=this.group.getFirstDead(!1,0,0,"level10","frostParticle instance 10000");null!=(boubble=null===boubble&&this.group.length<5?this.group.create(0,0,"level10","frostParticle instance 10000"):boubble)&&(boubble.animations.add("idle",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),25,!1).killOnComplete=!0,boubble.play("idle"),boubble.anchor.set(.5,0),boubble.scale.set(Math.random()+.5),boubble.x=Client.GameManager.instance.hero.bodyBase.x-50+100*Math.random(),boubble.y=Client.GameManager.instance.hero.bodyBase.y+10*Math.random())}},Lvl10TopAction.prototype.free=function(){_super.prototype.free.call(this),this.drake=null,this.fire=[],this.fire=null,this.group=null,this.iceRock=null,this.box=null,this.frozenWater=null,this.waterBody=null,this.waterSensor=null,this.water=null,this.waterWheel=null,this.waterBlur=null},Lvl10TopAction})(Client.BasicElement);Client.Lvl10TopAction=Lvl10TopAction})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Car=(_super=>{function Lvl11Car(_x,_y){var _this=_super.call(this)||this,mask=(_this.findHero=!1,_this.crushHero=!1,_this.body=Client.GameManager.instance.layerElements.create(_x,_y,"level11","lvl12_carBody_mc instance 10000",!0,0),_this.body.anchor.set(.5,1),new Phaser.Graphics(Client.Main.instance,0,0));return mask.beginFill(0,0),mask.drawRect(-85,-55,170,110),mask.endFill(),_this.body.addChild(mask),_this.eye=Client.Main.instance.make.sprite(23,-108,"level11","eye instance 10000"),_this.eye.animations.add("wakeUp",Phaser.Animation.generateFrameNames("eye instance 1",1,18,"",4),30,!1).onComplete.addOnce(_this.showCloud,_this),_this.eye.animations.add("anger",Phaser.Animation.generateFrameNames("eye instance 1",19,64,"",4),30,!1).onComplete.addOnce(_this.goBack,_this),_this.eye.animations.add("endAnger",Phaser.Animation.generateFrameNames("eye instance 1",65,74,"",4),30,!1),_this.body.addChild(_this.eye),_this.wheel1=Client.Main.instance.make.sprite(45,-5,"level11","lvl12_carWheel_mc instance 10000"),_this.wheel1.anchor.set(.5),_this.body.addChild(_this.wheel1),_this.wheel2=Client.Main.instance.make.sprite(-45,-5,"level11","lvl12_carWheel_mc instance 10000"),_this.wheel2.anchor.set(.5),_this.body.addChild(_this.wheel2),Client.Main.instance.add.tween(_this.body.scale).to({y:.97},500,"Linear",!0,0,-1,!0),_this.zzz=Client.GameManager.instance.layerElements.create(_x+50,_y-130,"level11","zzz instance 10000"),_this.zzz.animations.add("anim",Phaser.Animation.generateFrameNames("zzz instance 1",0,79,"",4),30,!0),_this.zzz.play("anim"),_this.body.inputEnabled=!0,_this.wheel1.inputEnabled=!0,_this}return __extends(Lvl11Car,_super),Lvl11Car.prototype.showCloud=function(){this.fireCloud=Client.GameManager.instance.layerElements.create(this.body.x+50,this.body.y-100,"level11","fireCloud instance 10000"),this.fireCloud.anchor.set(0,1),this.fireCloud.scale.set(0),Client.Main.instance.add.tween(this.fireCloud.scale).to({x:1,y:1},200,Phaser.Easing.Back.In,!0),this.eye.play("anger")},Lvl11Car.prototype.wakeUp=function(){this.body.frameName="lvl12_carBody_mc instance 10001",this.zzz.animations.stop(),this.zzz.visible=!1,this.eye.play("wakeUp")},Lvl11Car.prototype.goBack=function(){this.fireCloud.visible=!1,Client.Main.instance.add.tween(this.body).to({x:-100},1500,"Linear",!0),Client.Main.instance.add.tween(this.wheel1).to({angle:-360},1500,"Linear",!0),Client.Main.instance.add.tween(this.wheel2).to({angle:-360},1500,"Linear",!0).onComplete.addOnce(this.pushHero,this)},Lvl11Car.prototype.pushHero=function(){this.findHero=!0,this.body.y=210,this.moveCar=Client.Main.instance.add.tween(this.body).to({x:380},1e3,Phaser.Easing.power2,!0,700),this.moveCar.onComplete.addOnce(this.goBack2,this),Client.Main.instance.add.tween(this.wheel1).to({angle:1e3},1e3,"Linear",!0,700),Client.Main.instance.add.tween(this.wheel2).to({angle:1e3},1e3,"Linear",!0,700)},Lvl11Car.prototype.goBack2=function(){this.eye.play("endAnger");var time=Math.floor(5e3*this.body.x/380);Client.Main.instance.add.tween(this.body).to({x:-100},time,Phaser.Easing.power2,!0,700).onComplete.addOnce(this.goBack2,this),Client.Main.instance.add.tween(this.wheel1).to({angle:-1e3},time,"Linear",!0,700),Client.Main.instance.add.tween(this.wheel2).to({angle:-1e3},time,"Linear",!0,700)},Lvl11Car.prototype.addContactEffect=function(){var effect=Client.GameManager.instance.layerUpper.create(this.body.x+80,this.body.y-25,"level11","millerHit_mc instance 10000");effect.anchor.set(.5),effect.animations.add("anim",Phaser.Animation.generateFrameNames("millerHit_mc instance 1",0,10,"",4),30,!1).killOnComplete=!0,effect.play("anim")},Lvl11Car.prototype.update=function(){!0===this.findHero&&!1===this.crushHero&&Client.Tools.distance(this.body.x,this.body.y,Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y)<100&&(Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.bodyBase.velocity.x=350,Client.GameManager.instance.hero.bodyBase.velocity.y=-50,Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,this.crushHero=!0,this.addContactEffect(),this.moveCar.stop(),this.goBack2(),Client.GameManager.instance.level.gameOver=!0)},Lvl11Car.prototype.free=function(){this.body=null,this.eye=null,this.wheel1=null,this.wheel2=null,this.zzz=null,this.fireCloud=null,this.moveCar=null},Lvl11Car})(Client.BasicElement);Client.Lvl11Car=Lvl11Car})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Door=(_super=>{function Lvl11Door(){var _this=_super.call(this)||this;return _this.connect=!1,_this.rotSpeed=.3,_this.playRope=!1,_this.rope1=new Client.Lvl11Rope(448,234,8),_this.rope1.angle=10,Client.GameManager.instance.layerBackground.addChild(_this.rope1),_this.rope2=new Client.Lvl11Rope(621,282,8),_this.rope2.angle=10,_this.rope2.scale.x=-1,Client.GameManager.instance.layerBackground.addChild(_this.rope2),_this.wheel1=Client.GameManager.instance.layerBackground.create(433,243,"level11","wheel instance 10000"),_this.wheel1.anchor.set(.5),_this.wheel1.angle=26,_this.wheel2=Client.GameManager.instance.layerBackground.create(640,280,"level11","wheel instance 10000"),_this.wheel2.anchor.set(.5),_this.wheel2.angle=14,_this.wheel3=Client.GameManager.instance.layerBackground.create(624,233,"level11","wheel instance 10000"),_this.wheel3.anchor.set(.5),_this.wheel3.angle=8,_this.wheel3.scale.set(1.09),_this.door=Client.GameManager.instance.layerUpper.create(624,230,"level11","door instance 10000"),_this.door.anchor.set(.5),_this.door.pivot.set(74,0),Client.Main.instance.physics.box2d.enable(_this.door),_this.door.body.setRectangle(188,20,-74,0),_this.door.body.kinematic=!0,_this.door.body.angle=99,_this}return __extends(Lvl11Door,_super),Lvl11Door.prototype.update=function(){!0===Client.GameManager.instance.level.ropeWheel.redWheelConnect?(this.wheel1.angle=Client.GameManager.instance.level.ropeWheel.wheel.angle,this.wheel2.angle=Client.GameManager.instance.level.ropeWheel.wheel.angle,this.wheel3.angle=-Client.GameManager.instance.level.ropeWheel.wheel.angle,0<this.door.body.angle?this.door.body.angle-=Client.GameManager.instance.level.rotateWheel.power/10*2:this.door.body.angle=0,!1===this.playRope&&(this.rope1.playAnim(),this.rope2.playAnim(),this.playRope=!0,Client.SoundManager.playSFX("s_lvl12_gear",!0))):(!0===this.playRope&&(this.playRope=!1,this.rope1.stopAnim(),this.rope2.stopAnim(),Client.SoundManager.stopSFXLoop("s_lvl12_gear")),this.wheel1.angle=26,this.wheel2.angle=14,this.wheel3.angle=8)},Lvl11Door.prototype.free=function(){this.rope1=null,this.rope2=null,this.wheel1=null,this.wheel2=null,this.wheel3=null,this.door=null},Lvl11Door})(Client.BasicElement);Client.Lvl11Door=Lvl11Door})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Flour=(_super=>{function Lvl11Flour(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=217.7,_this.group.y=531.2,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part3=new Client.SASprite(game,0,0,"level11","part3 instance 10000"),_this.part3.anchor.set(.5),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level11","part2 instance 10000"),_this.part2.anchor.set(.5),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level11","part1 instance 10000"),_this.part1.anchor.set(.5),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl11Flour,_super),Lvl11Flour.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,26,{x:-42,scX:1,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,136,{y:22}),Client.GameManager.instance.level.setSimpleTween(this.part3,31,{x:0,y:0,scY:1})):27===this.counterAnim?this.setPart(this.part1,{x:-42,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):32===this.counterAnim?this.setPart(this.part3,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):137===this.counterAnim&&this.animComplete())},Lvl11Flour.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-37,y:17,angle:0,scX:.61,scY:1,skX:0,skY:0,alpha:0}),this.setPart(this.part2,{x:-54,y:46,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:2,y:4,angle:0,scX:1,scY:.68,skX:0,skY:0,alpha:1}))},Lvl11Flour.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null},Lvl11Flour})(Client.BasicSimpleAnim);Client.Lvl11Flour=Lvl11Flour})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Lever=(_super=>{function Lvl11Lever(_game,_x,_y){var _this=_super.call(this)||this;return _this.lowLimit=-70,_this.topLimit=70,_this.ratio=0,_this.game=_game,_this.arm=_this.game.make.sprite(_x,_y,"level11","arm instance 10000"),_this.arm.pivot.set(36,72),Client.GameManager.instance.layerElements.addChild(_this.arm),_this.arm.angle=_this.lowLimit,_this.button=_this.game.make.sprite(35,-10,"level11","armHandlerBody instance 10000"),_this.button.anchor.set(.5),_this.button.inputEnabled=!0,_this.button.input.useHandCursor=!0,_this.arm.addChild(_this.button),_this.button.events.onInputDown.add(_this.down,_this),_this.button.events.onInputUp.add(_this.up,_this),_this.button.events.onInputOver.add(_this.over,_this),_this.button.events.onInputOut.add(_this.out,_this),_this}return __extends(Lvl11Lever,_super),Lvl11Lever.prototype.down=function(){this.buttonDown=!0},Lvl11Lever.prototype.up=function(){this.buttonDown=!1},Lvl11Lever.prototype.over=function(){this.button.frameName="armHandlerBody instance 10001"},Lvl11Lever.prototype.out=function(){this.button.frameName="armHandlerBody instance 10000"},Lvl11Lever.prototype.getRatio=function(){return this.ratio},Lvl11Lever.prototype.update=function(){var angle,temp;!0===this.buttonDown&&(angle=Phaser.Math.angleBetween(this.game.input.activePointer.x,this.game.input.activePointer.y,this.arm.x,this.arm.y),(angle=Client.Tools.toDeg(angle-Client.Tools.toRad(90)))>this.lowLimit)&&angle<this.topLimit&&(angle<this.lowLimit?angle=this.lowLimit:angle>this.topLimit&&(angle=this.topLimit),temp=0,temp=(this.arm.angle=angle)<0?Math.abs(this.lowLimit+Math.floor(Math.abs(angle))):Math.round(this.topLimit+angle),this.ratio=Math.round(100*temp/140)/100)},Lvl11Lever.prototype.free=function(){this.game=null,this.arm=null,this.button=null},Lvl11Lever})(Client.BasicElement);Client.Lvl11Lever=Lvl11Lever})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Mill=(_super=>{function Lvl11Mill(_x,_y){var _this=_super.call(this)||this;return _this.startAnim=!1,_this.wakeUpCar=!1,_this.counter=0,_this.musicPlay=!1,_this.millWheel=Client.GameManager.instance.layerElements.create(_x,_y,"level11","millWheel instance 10000",!0,0),_this.millWheel.anchor.set(.5),Client.GameManager.instance.layerElements.create(_x-11,_y+36,"level11","millstone instance 10000").anchor.set(.5),_this.flour=new Client.Lvl11Flour(Client.Main.instance),Client.GameManager.instance.level.updateElements.push(_this.flour),_this}return __extends(Lvl11Mill,_super),Lvl11Mill.prototype.update=function(){!0===Client.GameManager.instance.level.ropeWheel.millConnect?(!1===this.musicPlay&&(this.musicPlay=!0,Client.SoundManager.playSFX("s_lvl12_stoneMill",!0)),this.millWheel.angle=-Client.GameManager.instance.level.ropeWheel.wheel.angle,!0===Client.GameManager.instance.level.rotateWheel.rotateNow&&(!1===this.startAnim&&(this.startAnim=!0,this.flour.playAnim("anim")),!1===this.wakeUpCar)&&2<Client.GameManager.instance.level.rotateWheel.power&&(this.counter+=1,30===this.counter)&&(this.wakeUpCar=!0,this.clouds=new Client.Lvl11MillCloud(Client.Main.instance),Client.GameManager.instance.level.updateElements.push(this.clouds),this.clouds.playAnim("anim"),Client.GameManager.instance.level.car.wakeUp(),Client.SoundManager.playSFX("s_lvl12_milldust"))):!0===this.musicPlay&&(this.musicPlay=!1,Client.SoundManager.stopSFXLoop("s_lvl12_stoneMill"))},Lvl11Mill.prototype.free=function(){this.millWheel=null,this.flour=null,this.clouds=null},Lvl11Mill})(Client.BasicElement);Client.Lvl11Mill=Lvl11Mill})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11MillCloud=(_super=>{function Lvl11MillCloud(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=205,_this.group.y=510,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.cloud3=new Client.SASprite(game,0,0,"level11","cloud3 instance 10000"),_this.cloud3.anchor.set(.5),_this.group.addChild(_this.cloud3),_this.cloud2=new Client.SASprite(game,0,0,"level11","cloud2 instance 10000"),_this.cloud2.anchor.set(.5),_this.group.addChild(_this.cloud2),_this.cloud1=new Client.SASprite(game,0,0,"level11","cloud1 instance 10000"),_this.cloud1.anchor.set(.5),_this.group.addChild(_this.cloud1),_this.setParts("anim"),_this}return __extends(Lvl11MillCloud,_super),Lvl11MillCloud.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.cloud1,22,{x:-40,y:20,scX:.66,scY:.66}),Client.GameManager.instance.level.setSimpleTween(this.cloud2,19,{y:5,skX:-4,skY:-4,scX:.59,scY:.59,alpha:.98}),Client.GameManager.instance.level.setSimpleTween(this.cloud3,29,{x:-15,y:1,scX:.73,scY:.73})):20===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.cloud2,3,{y:4,skX:-3,skY:-3,scX:.63,scY:.63}):23===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.cloud1,17,{x:-41,y:10,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.cloud2,32,{y:0,skX:0,skY:0,scX:1,scY:1,alpha:1})):30===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.cloud3,20,{x:-17,y:-3,scX:1,scY:1,alpha:0}):40===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.cloud1,30,{skX:-10,skY:-10,scX:1.43,scY:1.43,alpha:0}):50===this.counterAnim?this.setPart(this.cloud3,{x:-17,y:-3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}):51===this.counterAnim?this.cloud3.visible=!1:55===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.cloud2,29,{scX:1.35,scY:1.35,alpha:0}):70===this.counterAnim?this.setPart(this.cloud1,{x:-41,y:10,angle:0,scX:1.43,scY:1.43,skX:-10,skY:-10,alpha:0}):71===this.counterAnim?this.cloud1.visible=!1:84===this.counterAnim&&this.animComplete())},Lvl11MillCloud.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.cloud1,{x:-39,y:36,angle:0,scX:.22,scY:.22,skX:0,skY:0,alpha:1}),this.setPart(this.cloud2,{x:7,y:7,angle:0,scX:.37,scY:.37,skX:-5,skY:-5,alpha:0}),this.setPart(this.cloud3,{x:-10,y:7,angle:0,scX:.2,scY:.2,skX:0,skY:0,alpha:1}))},Lvl11MillCloud.prototype.free=function(){this.group=null,this.cloud3=null,this.cloud2=null,this.cloud1=null},Lvl11MillCloud})(Client.BasicSimpleAnim);Client.Lvl11MillCloud=Lvl11MillCloud})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11RedWheel=(_super=>{function Lvl11RedWheel(_game,_x,_y){var _this=_super.call(this)||this;return _this.stopUpdate=!1,_this.stopFrame=0,_this.wheel=_game.make.button(_x,_y,"level11",_this.stopDrug,_this,"redWheel instance 10001","redWheel instance 10002","redWheel instance 10002","redWheel instance 10002"),_this.wheel.anchor.set(.5),Client.GameManager.instance.layerElements.addChildAt(_this.wheel,0),_this.wheel.input.enableDrag(),_this.wheel.input.boundsRect=new Phaser.Rectangle(_x-_this.wheel.width/2,_this.wheel.y-_this.wheel.height/2,230,_this.wheel.height),_this.wheel.input.setDragLock(!0,!1),_this}return __extends(Lvl11RedWheel,_super),Lvl11RedWheel.prototype.stopDrug=function(){},Lvl11RedWheel.prototype.update=function(){!1===this.stopUpdate?445<this.wheel.x&&(this.stopUpdate=!0,this.wheel.inputEnabled=!1,Client.GameManager.instance.level.ropeWheel.checkRedWheel()):(this.stopFrame+=1,1===this.stopFrame&&(this.wheel.frameName="redWheel instance 10000")),!0===Client.GameManager.instance.level.ropeWheel.redWheelConnect&&(this.wheel.angle=-Client.GameManager.instance.level.ropeWheel.wheel.angle)},Lvl11RedWheel.prototype.free=function(){this.wheel=null},Lvl11RedWheel})(Client.BasicElement);Client.Lvl11RedWheel=Lvl11RedWheel})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Rock=(_super=>{function Lvl11Rock(_x,_y){var _this=_super.call(this)||this;return _this.group=new Phaser.Group(Client.Main.instance),_this.group.x=_x,_this.group.y=_y,Client.GameManager.instance.layerElements.addChildAt(_this.group,0),Client.GameManager.instance.layerBackground.create(_x,_y+111,"level11","rockBack instance 10000"),_this.water1=_this.group.create(176,21,"level11","water2 instance 10000"),_this.water1.anchor.set(1,0),_this.tween1=Client.Main.instance.add.tween(_this.water1.scale).to({x:1.05},250,"Linear",!0,0,-1,!0),_this.water2=_this.group.create(160,3,"level11","water1 instance 10000"),_this.water2.anchor.set(1,0),_this.tween2=Client.Main.instance.add.tween(_this.water2.scale).to({x:.95},200,"Linear",!0,150,-1,!0),_this.group.create(152,6,"level11","rockwater instance 10000"),_this.rocks=Client.Main.instance.make.button(117,1,"level11",_this.crushRocks,_this,"rocksBody instance 10001","rocksBody instance 10000","rocksBody instance 10000","rocksBody instance 10000"),_this.group.addChild(_this.rocks),_this.group.create(66,0,"level11","rock instance 10000"),_this.group.create(-15,221,"level11","watersmoke instance 10000"),_this}return __extends(Lvl11Rock,_super),Lvl11Rock.prototype.crushRocks=function(){this.rocks.inputEnabled=!1,this.rocks.visible=!1,this.tween1.stop(),this.tween2.stop(),Client.Main.instance.add.tween(this.water2.scale).to({x:1.7,y:1.5},300,"Linear",!0,0),Client.Main.instance.add.tween(this.water1.scale).to({x:1.7,y:1.5},300,"Linear",!0,0).onComplete.addOnce(function(){Client.Main.instance.add.tween(this.water1.scale).to({x:1.4,y:1.5},400,"Linear",!0,300),Client.Main.instance.add.tween(this.water2.scale).to({x:1.4,y:1.5},400,"Linear",!0,300).onComplete.addOnce(function(){Client.Main.instance.add.tween(this.water1.scale).to({x:1.45},250,"Linear",!0,0,-1,!0),Client.Main.instance.add.tween(this.water2.scale).to({x:1.35},200,"Linear",!0,150,-1,!0)},this)},this),this.throwStones(),Client.GameManager.instance.level.rotateWheel.power=2.5,Client.SoundManager.stopSFXLoop("s_lvl12_water1"),Client.SoundManager.playSFX("s_lvl12_water2",!0)},Lvl11Rock.prototype.throwStones=function(){this.createStone(650,343,5,-50),this.createStone(664,293,3,-80),this.createStone(678,285,2,-100),this.createStone(667,272,1,-150)},Lvl11Rock.prototype.createStone=function(_x,_y,_type,_power){_x=this.group.create(_x-this.group.x,_y-this.group.y,"level11","lvl12_rock"+_type+"_mc instance 10000",!0,4);Client.Main.instance.physics.box2d.enable(_x),_x.body.velocity.x=_power,_x.body.sensor=!0},Lvl11Rock.prototype.free=function(){this.group=null,this.water1=null,this.water2=null,this.rocks=null,this.tween1=null,this.tween2=null},Lvl11Rock})(Client.BasicElement);Client.Lvl11Rock=Lvl11Rock})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11Rope=(_super=>{function Lvl11Rope(_x,_y,_length){void 0===_length&&(_length=6);var _this=_super.call(this,Client.Main.instance)||this;_this.rope=new Array,_this.x=_x,_this.y=_y;for(var i=0;i<_length;i++)_this.addRopePart(25.15*i);return _this}return __extends(Lvl11Rope,_super),Lvl11Rope.prototype.addRopePart=function(_x){_x=this.create(_x,0,"level11","ropePart instance 10000");_x.animations.add("move",Phaser.Animation.generateFrameNames("ropePart instance 1",0,7,"",4),30,!0),this.rope.push(_x)},Lvl11Rope.prototype.playAnim=function(){for(var i=0;i<this.rope.length;i++)this.rope[i].play("move")},Lvl11Rope.prototype.stopAnim=function(){for(var i=0;i<this.rope.length;i++)this.rope[i].animations.stop()},Lvl11Rope.prototype.destroy=function(){_super.prototype.destroy.call(this),this.group=null,this.rope=[],this.rope=null},Lvl11Rope})(Phaser.Group);Client.Lvl11Rope=Lvl11Rope})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11RopeWheel=(_super=>{function Lvl11RopeWheel(_x,_y){var _this=_super.call(this)||this;return _this.millConnect=!1,_this.redWheelConnect=!1,_this.maxAngle=60,_this.ropePlay=!1,_this.oldAngle=0,_this.specialRotate=!1,_this.connect=!1,_this.group=Client.GameManager.instance.layerElements.create(_x,_y),_this.rope1=new Client.Lvl11Rope(-144,-83),_this.rope1.angle=22,_this.group.addChild(_this.rope1),_this.rope2=new Client.Lvl11Rope(0,28),_this.rope2.angle=27,_this.rope2.scale.x=-1,_this.group.addChild(_this.rope2),_this.wheel=Client.Main.instance.make.sprite(-150,-62,"level11","bigWheel instance 10000"),_this.wheel.anchor.set(.5),_this.group.addChild(_this.wheel),_this}return __extends(Lvl11RopeWheel,_super),Lvl11RopeWheel.prototype.update=function(){this.group.angle=Math.round(this.maxAngle*Client.GameManager.instance.level.lever.getRatio()),!0===Client.GameManager.instance.level.rotateWheel.rotateNow?(this.wheel.angle=2*Client.GameManager.instance.level.rotateWheel.wheel.body.angle,!1===this.specialRotate&&(this.group.angle<2?(this.group.angle=1,this.wheel.angle=4,this.specialRotate=!0,this.millConnect=!0,Client.SoundManager.playSFX("s_lvl12_wheelLock")):this.group.angle>=this.maxAngle-2&&(this.group.angle=this.maxAngle-1,this.wheel.angle=8,this.specialRotate=!0,Client.SoundManager.playSFX("s_lvl12_wheelLock"),this.checkRedWheel())),2<this.group.angle&&this.group.angle<this.maxAngle-2&&this.disconnect(),!1===this.ropePlay&&(this.ropePlay=!0,this.rope1.playAnim(),this.rope2.playAnim())):(this.disconnect(),this.connect=!1,this.ropePlay=!1,this.rope1.stopAnim(),this.rope2.stopAnim())},Lvl11RopeWheel.prototype.checkRedWheel=function(){this.group.angle===this.maxAngle-1&&!0===Client.GameManager.instance.level.redWheel.stopUpdate&&(this.redWheelConnect=!0)},Lvl11RopeWheel.prototype.disconnect=function(){this.specialRotate=!1,this.redWheelConnect=!1,this.millConnect=!1},Lvl11RopeWheel.prototype.free=function(){_super.prototype.free.call(this),this.group=null,this.rope1=null,this.rope2=null,this.wheel=null},Lvl11RopeWheel})(Client.BasicElement);Client.Lvl11RopeWheel=Lvl11RopeWheel})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl11RotateWheel=(_super=>{function Lvl11RotateWheel(_x,_y){var _this=_super.call(this)||this,_x=(_this.rotateNow=!1,_this.power=1.5,_this.wheel=Client.GameManager.instance.layerElements.create(_x,_y,"level11","millWheel_mc instance 10000"),Client.Main.instance.physics.box2d.enable(_this.wheel),_this.wheel.body.setRectangle(8,190,0,0,Client.Tools.toRad(-15)),_this.wheel.body.addRectangle(8,190,0,0,Client.Tools.toRad(-60)),_this.wheel.body.addRectangle(8,190,0,0,Client.Tools.toRad(30)),_this.wheel.body.addRectangle(8,190,0,0,Client.Tools.toRad(75)),_this.wheel.body.addCircle(70,0,0),_this.wheel.body.restitution=.05,new Phaser.Physics.Box2D.Body(Client.Main.instance,null,_x,_y,0));return _x.setRectangle(20,20),_x.sensor=!0,Client.Main.instance.physics.box2d.revoluteJoint(_this.wheel.body,_x),_this.wheelJoint=Client.Main.instance.physics.box2d.wheelJoint(_this.wheel.body,_x,0,0,0,0,0,0,2,.1,1,4,!0),_this.blocker=Client.GameManager.instance.layerElements.create(512,395,"level11","blocker_mc instance 10000"),_this.blocker.anchor.set(.5,.5),_this.blocker.pivot.set(20,0),Client.Main.instance.physics.box2d.enable(_this.blocker),_this.blocker.body.setRectangle(45,10,-25,0),_this.blocker.body.mass=3.5,_this.blocker.body.data.SetUserData("DragBody"),_this.blocker.inputEnabled=!0,_this.blocker.input.useHandCursor=!0,_this.blocker.events.onInputOver.add(_this.over,_this),_this.blocker.events.onInputOut.add(_this.out,_this),_this.blocker.body.angle=-30,(_x=new Phaser.Physics.Box2D.Body(Client.Main.instance,null,505,406,0)).setRectangle(20,20),_x.sensor=!0,Client.Main.instance.physics.box2d.revoluteJoint(_this.blocker.body,_x),_this}return __extends(Lvl11RotateWheel,_super),Lvl11RotateWheel.prototype.over=function(){this.blocker.frameName="blocker_mc instance 10001"},Lvl11RotateWheel.prototype.out=function(){this.blocker.frameName="blocker_mc instance 10000"},Lvl11RotateWheel.prototype.update=function(){this.wheel.body.angularVelocity=this.power,this.blocker.body.angle<0&&-90<this.blocker.body.angle?this.rotateNow=!1:this.rotateNow=!0},Lvl11RotateWheel.prototype.free=function(){this.wheel=null,this.wheelJoint=null,this.blocker=null},Lvl11RotateWheel})(Client.BasicElement);Client.Lvl11RotateWheel=Lvl11RotateWheel})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12BgEye=(_super=>{function Lvl12BgEye(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=480,_this.group.y=412,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part2=new Client.SASprite(game,0,0,"level12","bgEyePart instance 10000"),_this.part2.pivot.set(43,53),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level12","bgEye instance 10000"),_this.part1.anchor.set(.7,.7),_this.part1.animations.add("anim",Phaser.Animation.generateFrameNames("bgEye instance 1",0,90,"",4),30,!0),_this.part1.play("anim"),_this.group.addChild(_this.part1),_this.part3=_this.group.create(-180,-90,"level12","bgEyeMain instance 10000"),_this.playAnim("anim",-1),_this}return __extends(Lvl12BgEye,_super),Lvl12BgEye.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,22,{x:-1,y:-32,skX:20,skY:20}),Client.GameManager.instance.level.setSimpleTween(this.part2,22,{y:10,scY:.92})):47===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,20,{x:-6,y:-35,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.part2,20,{y:3,scY:1.07})):67===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:-4,y:-33,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{y:6,scY:1})):76===this.counterAnim?(this.setPart(this.part1,{x:-4,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:0,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):94===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,22,{x:2,y:-39,skX:38,skY:38}):116===this.counterAnim?this.setPart(this.part1,{x:2,y:-39,angle:0,scX:1,scY:1,skX:38,skY:38,alpha:1}):134===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,11,{x:-5,y:-31,skX:-10,skY:-10}):145===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,10,{x:-4,y:-34,skX:3,skY:3}):155===this.counterAnim?this.setPart(this.part1,{x:-4,y:-34,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):166===this.counterAnim&&this.animComplete())},Lvl12BgEye.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-4,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:0,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl12BgEye.prototype.free=function(){this.group=null,this.part2=null,this.part1=null},Lvl12BgEye})(Client.BasicSimpleAnim);Client.Lvl12BgEye=Lvl12BgEye})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12Door=(_super=>{function Lvl12Door(game){var _this=_super.call(this)||this;return _this.direction=0,_this.oldAngle=0,_this.active=!1,_this.openSpeed=.5,_this.door=Client.GameManager.instance.layerElements.create(724,266,"level12","door instance 10000"),game.physics.box2d.enable(_this.door),_this.door.body.kinematic=!0,_this.door.body.sensor=!0,_this.door.body.setCollisionCategory(Client.FilterGroups.WALL),_this.mask=new Phaser.Graphics(game,724,470),_this.mask.beginFill(0,1),_this.mask.drawRect(-12,-115,25,200),_this.mask.endFill(),Client.GameManager.instance.layerBackground.addChild(_this.mask),_this.door.mask=_this.mask,_this.group=new Phaser.Group(game),_this.group.x=744,_this.group.y=205,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.button=game.make.sprite(0,0,"level12","switch instance 10000"),_this.button.anchor.set(.2,.5),_this.group.addChild(_this.button),_this.button.events.onInputDown.add(_this.down,_this),_this.button.events.onInputUp.add(_this.up,_this),_this.button.events.onInputOver.add(_this.over,_this),_this.button.events.onInputOut.add(_this.out,_this),_this.wheel=Client.Main.instance.make.sprite(0,0,"level12","doorWheel instance 10000"),_this.wheel.anchor.set(.5),_this.group.addChild(_this.wheel),_this}return __extends(Lvl12Door,_super),Lvl12Door.prototype.closeDoor=function(){Client.Main.instance.add.tween(this.door.body).to({y:466},4500,"Linear",!0)},Lvl12Door.prototype.show=function(){Client.Main.instance.add.tween(this.group).to({y:490},1e3,Phaser.Easing.Linear.None,!0)},Lvl12Door.prototype.down=function(){this.buttonDown=!0},Lvl12Door.prototype.up=function(){this.buttonDown=!1,this.direction=0},Lvl12Door.prototype.over=function(){!0===this.active&&(this.button.frameName="switch instance 10001")},Lvl12Door.prototype.out=function(){!0===this.active&&(this.button.frameName="switch instance 10002")},Lvl12Door.prototype.getDirection=function(){return this.direction},Lvl12Door.prototype.update=function(){if(!0===this.buttonDown){var angle=Phaser.Math.angleBetween(Client.Main.instance.input.activePointer.x,Client.Main.instance.input.activePointer.y,this.button.world.x,this.button.world.y);if(this.oldAngle===angle)return void(this.direction=0);angle>this.oldAngle?this.direction=-1:this.direction=1,this.button.rotation=angle-Client.Tools.toRad(180),this.oldAngle=angle,this.wheel.angle-=3*this.direction,1===this.direction&&(266<this.door.body.y?this.door.body.y-=this.openSpeed:this.door.body.y=266)}!1===this.active&&680<Client.GameManager.instance.hero.bodyBase.x&&(this.active=!0,this.button.inputEnabled=!0,this.button.input.useHandCursor=!0,this.door.body.sensor=!1,this.button.frameName="switch instance 10002")},Lvl12Door.prototype.free=function(){this.button=null,this.group=null},Lvl12Door})(Client.BasicElement);Client.Lvl12Door=Lvl12Door})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12Enemy=(_super=>{function Lvl12Enemy(_x,_y,_side,_maxHeroX){var _this=_super.call(this)||this;return _this.side=1,_this.canShoot=!0,_this.shootTimer=999,_this.shootDelay=360,_this.hitNow=!1,_this.heroLimit=0,_this.carHited=!1,_this.side=_side,_this.heroLimit=_maxHeroX,_this.group=new Phaser.Group(Client.Main.instance),_this.group.x=_x,_this.group.y=_y,_this.group.scale.x*=_side,Client.GameManager.instance.layerElements.addChild(_this.group),_this.body=_this.group.create(0,0,"level12","enemyBody instance 10000"),_this.body.anchor.set(.5),_this.eye=_this.group.create(-10,-25,"level12","enemyEye instance 10000"),_this.eye.animations.add("idle",Phaser.Animation.generateFrameNames("enemyEye instance 1",0,71,"",4),30,!0),_this.eye.animations.add("hit",Phaser.Animation.generateFrameNames("enemyEye instance 1",72,103,"",4),30,!1),_this.eye.play("idle"),_this.eye.anchor.set(.5),_this.stars=_this.group.create(-10,-42,"level12","Stars instance 10000"),_this.stars.animations.add("idle",Phaser.Animation.generateFrameNames("Stars instance 1",0,16,"",4),30,!0),_this.stars.play("idle"),_this.stars.visible=!1,_this.stars.anchor.set(.5),_this.wheel1=_this.group.create(-31,30,"level12","enemyWheel instance 10000"),_this.wheel1.anchor.set(.5),_this.wheel2=_this.group.create(29,30,"level12","enemyWheel instance 10000"),_this.wheel2.anchor.set(.5),_this.addArbalet(),_this.addBody(),_this}return __extends(Lvl12Enemy,_super),Lvl12Enemy.prototype.addBody=function(){this.physics=new Phaser.Physics.Box2D.Body(Client.Main.instance,null,this.group.x,this.group.y),this.physics.setRectangle(110,30,0,28),this.physics.addRectangle(50,50,-15,-25),this.physics.static=!0,this.physics.setBodyContactCallback(Client.GameManager.instance.level.rock.rock.body,this.hit,this)},Lvl12Enemy.prototype.hit=function(body1,body2,fixture1,fixture2,begin){begin&&!0===this.canShoot&&(this.carHited=!0)},Lvl12Enemy.prototype.addArbalet=function(){this.arbalet=this.group.create(-58,5,"level12","crossbow_mc instance 10000"),this.arbalet.animations.add("shoot",Phaser.Animation.generateFrameNames("crossbow_mc instance 1",0,54,"",4),30,!1).onComplete.add(this.shoot,this),this.arbalet.animations.add("reload",Phaser.Animation.generateFrameNames("crossbow_mc instance 1",55,64,"",4),30,!1),this.arbalet.pivot.set(73,11)},Lvl12Enemy.prototype.addFake=function(){var fake=Client.GameManager.instance.layerElements.create(this.group.x-58,this.group.y+5,"level12","crossbow_mc instance 10000");Client.Main.instance.physics.box2d.enable(fake),fake.body.setRectangle(60,10),fake.body.setCollisionMask(Client.FilterGroups.DEFAULT),fake.body.velocity.x=-50},Lvl12Enemy.prototype.update=function(){var angle;Client.GameManager.instance.hero.bodyBase.x>this.heroLimit&&Client.GameManager.instance.hero.bodyBase.x<700&&!0===this.canShoot&&(this.shootTimer+=1,this.shootTimer>=this.shootDelay&&(this.shootTimer=0,this.arbalet.play("shoot"),Client.SoundManager.playSFX("s_lvl11_shootBow")),angle=Phaser.Math.angleBetween(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y,this.arbalet.world.x,this.arbalet.world.y),1===this.side?this.arbalet.angle=Phaser.Math.radToDeg(angle):this.arbalet.angle=Phaser.Math.radToDeg(angle*this.side)+180,null!=this.arrow)&&!1===this.hitNow&&Phaser.Math.distance(this.arrow.body.x,this.arrow.body.y,Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y)<27&&(this.hitNow=!0,this.hitCar()),!0===this.carHited&&(this.carHited=!1,this.physics.dynamic=!0,this.physics.velocity.x=450,this.arbalet.visible=!1,this.eye.play("hit"),this.stars.visible=!0,this.canShoot=!1,this.addFake(),Client.Main.instance.add.tween(this.wheel1).to({angle:360},2e3,"Linear",!0),Client.Main.instance.add.tween(this.wheel2).to({angle:360},2e3,"Linear",!0),Client.SoundManager.playSFX("s_lvl11_hitWarden")),this.group.x=this.physics.x,this.group.y=this.physics.y,this.group.angle=this.physics.angle},Lvl12Enemy.prototype.hitCar=function(){null!=Client.GameManager.instance.level.heroShield&&!0===Client.GameManager.instance.level.heroShield.active?(Client.GameManager.instance.level.heroShield.addArrow(this.arrow.body.angle),this.arrow.visible=!1,this.arrow.body.data.SetActive(!1),Client.SoundManager.playSFX("s_lvl11_arrowShield")):(Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,Client.GameManager.instance.hero.setEnableMotor(!1),this.canShoot=!1,Client.GameManager.instance.level.gameOver=!0,Client.SoundManager.playSFX("slvl11_arrowWheely")),this.arrow.body.setZeroVelocity()},Lvl12Enemy.prototype.shoot=function(){this.hitNow=!1,null==this.arrow&&(this.arrow=Client.GameManager.instance.layerBackground.create(this.arbalet.world.x,this.arbalet.world.y,"level12","arrow_mc instance 10000"),this.arrow.scale.x=this.side,Client.Main.instance.physics.box2d.enable(this.arrow),this.arrow.body.kinematic=!0,this.arrow.pivot.set(-25,-6),this.arrow.body.setRectangle(50,12,25*this.side,6),this.arrow.body.sensor=!0),this.arrow.body.data.SetActive(!0),this.arrow.visible=!0,this.arrow.body.x=this.arbalet.world.x+5*this.side,this.arrow.body.y=this.arbalet.world.y+3,this.arrow.body.angle=this.arbalet.angle*this.side,this.arrow.body.setZeroVelocity();var vec=new box2d.b2Vec2(Client.GameManager.instance.hero.bodyBase.x-this.arbalet.world.x,Client.GameManager.instance.hero.bodyBase.y-this.arbalet.world.y);vec.Normalize(),vec.SelfMul(350),this.arrow.body.velocity.x=vec.x,this.arrow.body.velocity.y=vec.y,this.arbalet.play("reload")},Lvl12Enemy.prototype.free=function(){},Lvl12Enemy})(Client.BasicElement);Client.Lvl12Enemy=Lvl12Enemy})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12MassiveDoor=(_super=>{function Lvl12MassiveDoor(){var _this=_super.call(this)||this;return _this.doorDestroyed=!1,_this.timer=0,_this.door=Client.GameManager.instance.layerElements.create(564,428,"level12","massiveDoor instance 10000"),Client.Main.instance.physics.box2d.enable(_this.door),_this.door.body.setRectangle(35,150,0,0),_this.door.body.kinematic=!0,_this}return __extends(Lvl12MassiveDoor,_super),Lvl12MassiveDoor.prototype.destroyDoor=function(){this.door.visible=!1,this.door.body.data.SetActive(!1),this.part1=Client.GameManager.instance.layerElements.create(565,398,"level12","doorPart1 instance 10000",!0,0),Client.Main.instance.physics.box2d.enable(this.part1),this.part1.body.setRectangle(30,95),this.part1.body.setCollisionMask(~Client.FilterGroups.PARTICLE),this.part2=Client.GameManager.instance.layerElements.create(568,476,"level12","doorPart2 instance 10000",!0,0),Client.Main.instance.physics.box2d.enable(this.part2),this.part2.body.setCollisionMask(~Client.FilterGroups.PARTICLE),this.part1.body.velocity.x=350,this.part1.body.velocity.y=-200,this.part1.body.angularVelocity=-2,this.part2.body.velocity.x=400,this.part2.body.velocity.y=-100,this.part2.body.angularVelocity=2,this.doorDestroyed=!0,Client.SoundManager.playSFX("s_lvl11_gateDestroy")},Lvl12MassiveDoor.prototype.update=function(){!0===this.doorDestroyed&&(this.timer+=1,90===this.timer)&&(this.part1.body.static=!0,this.part1.body.sensor=!0)},Lvl12MassiveDoor})(Client.BasicElement);Client.Lvl12MassiveDoor=Lvl12MassiveDoor})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12Progress=(_super=>{function Lvl12Progress(){var _this=_super.call(this)||this;return _this.back=Client.GameManager.instance.layerElements.create(290,166,"level12","progressBack instance 10000"),_this.back.anchor.set(.5),_this.bar=Client.Main.instance.make.sprite(-176,1,"level12","bar instance 10000"),_this.bar.anchor.set(.5),_this.back.addChild(_this.bar),_this.mask=new Phaser.Graphics(Client.Main.instance,-5,0),_this.mask.beginFill(0,1),_this.mask.drawRect(-87,-20,175,40),_this.mask.endFill(),_this.back.addChild(_this.mask),_this.bar.mask=_this.mask,_this.stone=Client.Main.instance.make.sprite(-138,-20,"level12","progressStone instance 10000"),_this.back.addChild(_this.stone),_this.spikes=Client.Main.instance.make.sprite(-8,-16,"level12","spikes instance 10000"),_this.back.addChild(_this.spikes),_this.setProgress(50),_this.hide(),_this}return __extends(Lvl12Progress,_super),Lvl12Progress.prototype.hide=function(){this.back.visible=!1},Lvl12Progress.prototype.show=function(){this.back.visible=!0},Lvl12Progress.prototype.setProgress=function(_value){!0===Client.GameManager.instance.level.dragNow?this.bar.x=170*_value/100-176:-176<this.bar.x&&(this.bar.x-=10)},Lvl12Progress.prototype.free=function(){this.back=null,this.bar=null,this.stone=null,this.spikes=null,this.mask=null},Lvl12Progress})(Client.BasicElement);Client.Lvl12Progress=Lvl12Progress})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12SecretStone=(_super=>{function Lvl12SecretStone(game,_x,_y,_id){var _this=_super.call(this)||this;return _this.id=0,_this.currentFrame=0,_this.speed=1.5,_this.fly=!1,_this.id=_id,_this.stone=Client.GameManager.instance.layerUpper.create(_x,_y,"level12","secret"+_id+" instance 10000",!0,1),_this.stone.anchor.set(.5),_this.stone.inputEnabled=!0,_this.stone.input.useHandCursor=!0,_this.stone.events.onInputUp.add(_this.use,_this),_this}return __extends(Lvl12SecretStone,_super),Lvl12SecretStone.prototype.use=function(){this.currentFrame+=1,this.currentFrame<3&&(this.stone.frameName="secret"+this.id+" instance 1000"+this.currentFrame),3===this.currentFrame&&(this.stone.inputEnabled=!1,this.fly=!0)},Lvl12SecretStone.prototype.update=function(){!0===this.fly&&this.stone.y<650&&(this.speed+=.2,this.stone.y+=this.speed)},Lvl12SecretStone.prototype.free=function(){this.stone=null},Lvl12SecretStone})(Client.BasicElement);Client.Lvl12SecretStone=Lvl12SecretStone})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12Shield=(_super=>{function Lvl12Shield(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=613,_this.group.y=500,_this.group.angle=22,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.glow2=new Client.SASprite(game,0,0,"level12","glow1 instance 10000"),_this.group.addChild(_this.glow2),_this.glow1=new Client.SASprite(game,0,0,"level12","glow2 instance 10000"),_this.group.addChild(_this.glow1),_this.shield=_this.group.create(0,0,"level12","shield instance 10000"),_this.shield.anchor.set(.5),_this.setParts("anim"),_this}return __extends(Lvl12Shield,_super),Lvl12Shield.prototype.pickUp=function(){this.playAnim("anim"),Client.Main.instance.add.tween(this.group).to({x:this.group.x-112,y:this.group.y-60,angle:-49},1200,"Linear",!0).onComplete.add(this.hide,this)},Lvl12Shield.prototype.hide=function(){Client.GameManager.instance.level.addHeroShield(),this.group.visible=!1},Lvl12Shield.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.setPart(this.glow1,{x:-24,y:-48,angle:0,scX:.36,scY:.67,skX:0,skY:0,alpha:.07}),Client.GameManager.instance.level.setSimpleTween(this.glow2,9,{x:-85,y:-83,scX:1,scY:1,alpha:1})):2===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.glow1,8,{x:-59,y:-66,scX:.7,scY:.84,alpha:.56}):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.glow1,9,{x:-87,y:-79,scX:1,scY:1,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.glow2,9,{x:-77,y:-90,scX:.91,scY:.91,alpha:.82})):19===this.counterAnim&&this.animComplete())},Lvl12Shield.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.glow1,{x:-24,y:-48,angle:0,scX:.36,scY:.67,skX:0,skY:0,alpha:.07}),this.setPart(this.glow2,{x:-28,y:-48,angle:0,scX:.35,scY:.67,skX:0,skY:0,alpha:.07}))},Lvl12Shield.prototype.free=function(){this.group=null,this.glow2=null,this.glow1=null},Lvl12Shield})(Client.BasicSimpleAnim);Client.Lvl12Shield=Lvl12Shield})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12Stones=(_super=>{function Lvl12Stones(){var _this=_super.call(this)||this;return _this.deactivateNow=!1,_this.activeRock=!1,_this.stones=Client.GameManager.instance.layerBackground.create(372,409,"level12","stones instance 10000"),_this.stones.anchor.set(.5),_this.stones.inputEnabled=!0,_this.stones.input.useHandCursor=!0,_this.stones.events.onInputDown.add(_this.up,_this),_this.stones.events.onInputOver.add(_this.over,_this),_this.stones.events.onInputOut.add(_this.out,_this),_this.rock=Client.GameManager.instance.layerElements.create(0,0,"level12","rockBody instance 10000"),Client.Main.instance.physics.box2d.enable(_this.rock),_this.rock.body.setCircle(19),_this.rock.body.friction=3,_this.rock.body.data.SetUserData("DragBody"),_this.rock.body.setCollisionMask(Client.FilterGroups.DEFAULT),_this.rock.anchor.set(.5),_this.rock.inputEnabled=!0,_this.rock.input.useHandCursor=!0,_this.rock.events.onInputUp.add(_this.upRock,_this),_this.rock.events.onInputOver.add(_this.overRock,_this),_this.rock.events.onInputOut.add(_this.outRock,_this),_this.hide(),_this}return __extends(Lvl12Stones,_super),Lvl12Stones.prototype.hide=function(){this.rock.body.data.SetActive(!1),this.rock.visible=!1},Lvl12Stones.prototype.up=function(){this.rock.body.data.SetActive(!0),this.rock.visible=!0,this.rock.body.x=this.stones.x,this.rock.body.y=this.stones.y,this.activeRock=!0,this.rock.body.setZeroRotation(),this.rock.body.setZeroDamping(),this.rock.body.setZeroVelocity(),this.stones.frameName="stones instance 10002",this.stones.inputEnabled=!1,Client.SoundManager.playSFX("s_lvl11_takeStone"),Client.GameManager.instance.level.mouseDragStart()},Lvl12Stones.prototype.over=function(){this.stones.frameName="stones instance 10001"},Lvl12Stones.prototype.out=function(){!1===this.activeRock?this.stones.frameName="stones instance 10000":this.stones.frameName="stones instance 10002"},Lvl12Stones.prototype.upRock=function(){this.rock.frameName="rockBody instance 10000"},Lvl12Stones.prototype.overRock=function(){this.rock.frameName="rockBody instance 10001"},Lvl12Stones.prototype.outRock=function(){this.rock.frameName="rockBody instance 10000"},Lvl12Stones.prototype.update=function(){!1===this.deactivateNow&&!0===this.activeRock&&(this.rock.body.x<-50||850<this.rock.body.x||this.rock.body.y<-100||650<this.rock.body.y)&&(this.activeRock=!1,this.hide(),this.stones.frameName="stones instance 10000",this.stones.inputEnabled=!0,this.stones.input.useHandCursor=!0)},Lvl12Stones.prototype.shoot=function(_power){this.rock.body.x=230,this.rock.body.y=240,this.rock.body.data.SetActive(!0),this.rock.visible=!0,this.activeRock=!0,this.rock.body.setZeroRotation(),this.rock.body.setZeroDamping(),this.rock.body.setZeroVelocity(),this.rock.body.velocity.x=5.3*_power,this.rock.body.velocity.y=-4.6*_power},Lvl12Stones.prototype.deactivate=function(){this.stones.frameName="stones instance 10002",this.stones.inputEnabled=!1,this.deactivateNow=!0},Lvl12Stones.prototype.free=function(){this.stones=null,this.rock=null},Lvl12Stones})(Client.BasicElement);Client.Lvl12Stones=Lvl12Stones})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl12Taran=(_super=>{function Lvl12Taran(game,_x,_y){var _this=_super.call(this)||this;return _this.contactNow=!1,_this.doorContact=!1,_this.doorDestroyed=!1,_this.doorClosed=!1,_this.ready=!1,_this.power=0,_this.newAng=0,_this.timer=0,_this.shootNow=!1,_this.canConnect=!1,_this.stopCatapultaUpdate=!1,_this.haveStone=!1,_this.stopMusic=!1,_this.dragSound=!1,_this.wheel1=Client.GameManager.instance.layerElements.create(-31,45,"level12","taranWheel instance 10000",!0,0),game.physics.box2d.enable(_this.wheel1),_this.wheel1.body.setCircle(17).m_filter.categoryBits=Client.FilterGroups.PARTICLE,_this.wheel1.body.friction=5,_this.wheel1.body.mass=5,_this.wheel2=Client.GameManager.instance.layerElements.create(10,45,"level12","taranWheel instance 10000",!0,0),game.physics.box2d.enable(_this.wheel2),_this.wheel2.body.setCircle(17).m_filter.categoryBits=Client.FilterGroups.PARTICLE,_this.wheel2.body.friction=5,_this.body=Client.GameManager.instance.layerElements.create(_x,_y,"level12","taran instance 10000",!0,0),game.physics.box2d.enable(_this.body),_this.body.body.setRectangle(130,30,0,30).m_filter.categoryBits=Client.FilterGroups.PARTICLE,_this.body.body.angle=13,_this.body.body.mass=5,_this.body.body.static=!0,game.physics.box2d.revoluteJoint(_this.body,_this.wheel1,-31,42,0,0),game.physics.box2d.revoluteJoint(_this.body,_this.wheel2,10,42,0,0),_this.wheel1.body.fixedRotation=!0,_this.wheel2.body.fixedRotation=!0,_this.body.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.contact,_this),Client.GameManager.instance.hero.bodyBase.setBodyContactCallback(_this.body.body,_this.contact,_this),_this.body.body.setBodyContactCallback(Client.GameManager.instance.level.massiveDoor.door.body,_this.destroyDoor,_this),_this.progressBar=new Client.Lvl12Progress,Client.GameManager.instance.level.updateElements.push(_this.progressBar),_this.catapulta=Client.GameManager.instance.layerElements.create(_x,_y,"level12","catapultArm_mc instance 10002",!0,0),_this.catapulta.rotation=Phaser.Math.degToRad(25),_this.catapulta.anchor.set(.5),_this.catapulta.inputEnabled=!0,_this.catapulta.input.useHandCursor=!0,_this.catapulta.events.onInputOver.add(_this.over,_this),_this.catapulta.events.onInputOut.add(_this.out,_this),_this.catapultaPhysics=new Phaser.Physics.Box2D.Body(game,null,_x,_y,2),_this.catapultaPhysics.setRectangle(60,50,-30,-15,Phaser.Math.degToRad(30)),_this.catapultaPhysics.data.SetUserData("DragBody"),_this.catapultaPhysics.sensor=!0,game.physics.box2d.weldJoint(_this.body.body,_this.catapultaPhysics,0,-10,25,27,4,.5),_this.catapultaPhysics.setBodyContactCallback(Client.GameManager.instance.level.rock.rock.body,_this.catapultaReady,_this),_this}return __extends(Lvl12Taran,_super),Lvl12Taran.prototype.over=function(){!1===this.haveStone?this.catapulta.frameName="catapultArm_mc instance 10001":this.catapulta.frameName="catapultArm_mc instance 10004"},Lvl12Taran.prototype.out=function(){!1===this.haveStone?this.catapulta.frameName="catapultArm_mc instance 10002":this.catapulta.frameName="catapultArm_mc instance 10005"},Lvl12Taran.prototype.catapultaReady=function(body1,body2,fixture1,fixture2,begin){begin&&null!==body1&&null!==body2&&!1===this.canConnect&&(this.canConnect=!0,this.haveStone=!0,Client.SoundManager.playSFX("s_lvl11_prepareCatapult"),this.catapulta.frameName="catapultArm_mc instance 10001")},Lvl12Taran.prototype.destroyDoor=function(){this.doorContact=!0},Lvl12Taran.prototype.contact=function(){this.contactNow=!0},Lvl12Taran.prototype.update=function(){!0===this.body.body.static&&!0===this.contactNow&&(Client.SoundManager.playSFX("s_lvl11_catapultMove",!0),this.body.body.dynamic=!0,this.wheel1.body.fixedRotation=!1,this.wheel2.body.fixedRotation=!1,Client.Main.instance.physics.box2d.mouseDragEnd(),this.catapultaPhysics.data.SetUserData("null"),Client.GameManager.instance.level.rock.deactivate(),this.progressBar.hide(),this.stopCatapultaUpdate=!0,(this.catapulta.inputEnabled=!1)===this.haveStone?this.catapulta.frameName="catapultArm_mc instance 10000":this.catapulta.frameName="catapultArm_mc instance 10003"),!0===this.doorContact&&!1===this.doorDestroyed&&(this.doorDestroyed=!0,this.body.body.velocity.x=-150,Client.GameManager.instance.level.massiveDoor.destroyDoor()),650<this.body.body.x&&!1===this.doorClosed&&(this.doorClosed=!0,Client.GameManager.instance.level.door.closeDoor()),800<this.body.body.x&&!1===this.stopMusic&&(this.stopMusic=!0,Client.SoundManager.stopSFXLoop("s_lvl11_catapultMove")),this.catapulta.x=this.catapultaPhysics.x,this.catapulta.y=this.catapultaPhysics.y,this.catapulta.rotation=this.catapultaPhysics.rotation+Phaser.Math.degToRad(30),!1===this.stopCatapultaUpdate&&(!0===this.ready&&(this.newAng=100*(8-Math.floor(this.catapultaPhysics.angle))/55,this.newAng<-10&&this.shoot(),this.newAng=Phaser.Math.clamp(this.newAng,0,100),this.progressBar.setProgress(this.newAng),0<this.newAng)&&!1===this.dragSound&&(this.dragSound=!0,Client.SoundManager.playSFX("s_lvl11_dragCatapult")),!0===this.shootNow&&(this.timer+=1,60===this.timer)&&(this.timer=0,this.shootNow=!1,this.ready=!1,this.canConnect=!1),this.catapultaPhysics.angle<-45&&(this.catapultaPhysics.angle=-45),!0===this.canConnect)&&!1===this.ready&&(this.catapulta.frameName="catapultArm_mc instance 10001",Client.GameManager.instance.level.rock.hide(),this.ready=!0,this.progressBar.show())},Lvl12Taran.prototype.dragEnd=function(){this.dragSound=!1,this.power=this.newAng},Lvl12Taran.prototype.shoot=function(){!1===this.shootNow&&(Client.SoundManager.playSFX("s_lvl11_catapultRelease"),Client.GameManager.instance.level.rock.shoot(this.power),this.catapulta.frameName="catapultArm_mc instance 10000",this.shootNow=!0,this.progressBar.hide(),this.haveStone=!1)},Lvl12Taran.prototype.free=function(){this.body=null,this.wheel1=null,this.wheel2=null},Lvl12Taran})(Client.BasicElement);Client.Lvl12Taran=Lvl12Taran})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var BasicDragon=(_super=>{function BasicDragon(game){game=_super.call(this,game)||this;return game.goNormalTime=20,game}return __extends(BasicDragon,_super),BasicDragon.prototype.goNormal=function(){},BasicDragon})(Client.BasicSimpleAnim);Client.BasicDragon=BasicDragon})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13CrystalBall=(_super=>{function Lvl13CrystalBall(game){var _this=_super.call(this,game)||this;_this.counter=0,_this.updateParticles=!0,_this.game=game,_this.particle=new Array,_this.group=game.make.group(),_this.group.x=346,_this.group.y=471,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part29=game.make.sprite(346,471,"level13","crystalBallPart29 instance 10000"),_this.part29.anchor.x=.5,Client.GameManager.instance.layerBackground.addChild(_this.part29),_this.part28=new Client.SASprite(game,0,0,"level13","crystalBallPart28 instance 10000"),_this.part28.pivot.set(17,17),_this.group.addChild(_this.part28),_this.part27=new Client.SASprite(game,0,0,"level13","crystalBallPart27 instance 10000"),_this.part27.pivot.set(12,11),_this.group.addChild(_this.part27),_this.part26=new Client.SASprite(game,0,0,"level13","crystalBallPart26 instance 10000"),_this.part26.pivot.set(40,40),_this.group.addChild(_this.part26),_this.part25=new Client.SASprite(game,0,0,"level13","crystalBallPart25 instance 10000"),_this.part25.pivot.set(11,5),_this.group.addChild(_this.part25),_this.part24=new Client.SASprite(game,0,0,"level13","crystalBallPart24 instance 10000"),_this.part24.pivot.set(6,5),_this.group.addChild(_this.part24),_this.part23=new Client.SASprite(game,0,0,"level13","crystalBallPart23 instance 10000"),_this.part23.pivot.set(3,7),_this.group.addChild(_this.part23),_this.part22=new Client.SASprite(game,0,0,"level13","crystalBallPart22 instance 10000"),_this.part22.pivot.set(5,6),_this.group.addChild(_this.part22),_this.part21=new Client.SASprite(game,0,0,"level13","crystalBallPart21 instance 10000"),_this.part21.pivot.set(6,6),_this.group.addChild(_this.part21),_this.part20=new Client.SASprite(game,0,0,"level13","crystalBallPart20 instance 10000"),_this.part20.pivot.set(5,11),_this.group.addChild(_this.part20),_this.part19=new Client.SASprite(game,0,0,"level13","crystalBallPart19 instance 10000"),_this.part19.pivot.set(6,7),_this.group.addChild(_this.part19),_this.part18=new Client.SASprite(game,0,0,"level13","crystalBallPart18 instance 10000"),_this.part18.pivot.set(5,4),_this.group.addChild(_this.part18),_this.part17=new Client.SASprite(game,0,0,"level13","crystalBallPart17 instance 10000"),_this.part17.pivot.set(5,2),_this.group.addChild(_this.part17),_this.part16=new Client.SASprite(game,0,0,"level13","crystalBallPart16 instance 10000"),_this.part16.pivot.set(5,2),_this.group.addChild(_this.part16),_this.part15=new Client.SASprite(game,0,0,"level13","crystalBallPart15 instance 10000"),_this.part15.pivot.set(4,3),_this.group.addChild(_this.part15),_this.part14=new Client.SASprite(game,0,0,"level13","crystalBallPart14 instance 10000"),_this.part14.pivot.set(4,4),_this.group.addChild(_this.part14),_this.part13=new Client.SASprite(game,0,0,"level13","crystalBallPart13 instance 10000"),_this.part13.pivot.set(1,3),_this.group.addChild(_this.part13),_this.part12=new Client.SASprite(game,0,0,"level13","crystalBallPart12 instance 10000"),_this.part12.pivot.set(1,1),_this.group.addChild(_this.part12),_this.part11=new Client.SASprite(game,0,0,"level13","crystalBallPart11 instance 10000"),_this.part11.pivot.set(4,6),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level13","crystalBallPart10 instance 10000"),_this.part10.pivot.set(1,2),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level13","crystalBallPart9 instance 10000"),_this.part9.pivot.set(7,8),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level13","crystalBallPart8 instance 10000"),_this.part8.pivot.set(10,6),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level13","crystalBallPart7 instance 10000"),_this.part7.pivot.set(5,4),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level13","crystalBallPart6 instance 10000"),_this.part6.pivot.set(5,10),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level13","crystalBallPart5 instance 10000"),_this.part5.pivot.set(13,7),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level13","crystalBallPart4 instance 10000"),_this.part4.pivot.set(7,11),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level13","crystalBallPart3 instance 10000"),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level13","crystalBallPart2 instance 10000"),_this.part2.pivot.set(7,4),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level13","crystalBallPart1 instance 10000"),_this.part1.pivot.set(46,46),_this.group.addChild(_this.part1),_this.setParts("anim");for(var i=0;i<4;i++)_this.setParticle();return _this.magicLightning2=Client.GameManager.instance.layerUpper.create(250,415,"level13"),_this.magicLightning2.animations.add("anim",Phaser.Animation.generateFrameNames("magicLightning2 instance 1",0,12,"",4),30,!1).killOnComplete=!0,_this.magicLightning2.visible=!1,_this.magicLightning1=Client.GameManager.instance.layerUpper.create(115,305,"level13"),_this.magicLightning1.animations.add("anim",Phaser.Animation.generateFrameNames("magicLightning1 instance 1",0,20,"",4),30,!1).onComplete.addOnce(_this.lightingComp,_this),_this.magicLightning1.angle=26,_this.magicLightning1.visible=!1,_this.magicLightning3=Client.GameManager.instance.layerUpper.create(280,455,"level13"),_this.magicLightning3.animations.add("anim",Phaser.Animation.generateFrameNames("magicLightning3 instance 1",0,18,"",4),30,!1).killOnComplete=!0,_this.magicLightning3.angle=-60,_this.magicLightning3.visible=!1,_this.magicLightning4=Client.GameManager.instance.layerUpper.create(335,460,"level13"),_this.magicLightning4.animations.add("anim",Phaser.Animation.generateFrameNames("magicLightning4 instance 1",0,16,"",4),30,!1).killOnComplete=!0,_this.magicLightning4.visible=!1,_this}return __extends(Lvl13CrystalBall,_super),Lvl13CrystalBall.prototype.lightingComp=function(){this.magicLightning1.destroy(),this.magicLightning2.destroy(),this.magicLightning3.destroy(),this.magicLightning4.destroy(),Client.GameManager.instance.level.customAction(3)},Lvl13CrystalBall.prototype.crash=function(){this.playAnim("anim"),this.updateParticles=!1,this.magicLightning1.visible=!0,this.magicLightning2.visible=!0,this.magicLightning3.visible=!0,this.magicLightning4.visible=!0,this.magicLightning1.animations.play("anim"),this.magicLightning2.animations.play("anim"),this.magicLightning3.animations.play("anim"),this.magicLightning4.animations.play("anim")},Lvl13CrystalBall.prototype.update=function(){_super.prototype.update.call(this),!0===this.updateParticles&&(this.counter+=1,4===this.counter)&&(this.counter=0,this.setParticle())},Lvl13CrystalBall.prototype.setParticle=function(){for(var angle=Client.Tools.random(0,360),i=0;i<this.particle.length;i++)if(!1===this.particle[i].visible)return this.particle[i].visible=!0,this.particle[i].angle=angle,void this.particle[i].animations.play("anim");var temp=Client.GameManager.instance.layerUpper.create(346,471,"level13");temp.anchor.y=.5,temp.pivot.x=-10,temp.animations.add("anim",Phaser.Animation.generateFrameNames("magicPinkPart instance 1",0,29,"",4),30,!1).onComplete.add(this.particleAnimComplete,this),temp.animations.play("anim"),temp.angle=angle,this.particle.push(temp)},Lvl13CrystalBall.prototype.particleAnimComplete=function(sprite,animData){sprite.visible=!1},Lvl13CrystalBall.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(2===this.counterAnim?(this.part1.visible=!0,this.setPart(this.part1,{x:0,y:1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part1,29,{y:2,scX:1.35,scY:1.35,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,29,{x:-15,y:-33,skX:-17,skY:-17,scX:1.35,scY:1.35}),this.part3.visible=!1,this.part4.visible=!0,this.setPart(this.part4,{x:-10,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,29,{x:-22,y:-11,scX:1.38,scY:1.38}),this.part5.visible=!0,this.setPart(this.part5,{x:-2,y:10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part5,29,{x:-7,y:22,skX:2,skY:2,scX:1.38,scY:1.38}),this.part6.visible=!0,this.setPart(this.part6,{x:12,y:3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part6,29,{x:27,y:10,scX:1.38,scY:1.38}),this.part7.visible=!0,this.setPart(this.part7,{x:11,y:-6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part7,29,{x:24,y:-14,skX:1,skY:1,scX:1.41,scY:1.41}),this.part8.visible=!0,this.setPart(this.part8,{x:3,y:-11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part8,29,{x:6,y:-25,scX:1.38,scY:1.38}),this.part9.visible=!0,this.setPart(this.part9,{x:2,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part9,29,{y:6,scX:1.47,scY:1.47}),this.part10.visible=!0,this.setPart(this.part10,{x:13,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part10,29,{x:24,y:-20,scX:1.38,scY:1.38}),this.part11.visible=!0,this.setPart(this.part11,{x:13,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part11,29,{x:23,y:8,scX:1.38,scY:1.38}),this.part12.visible=!0,this.setPart(this.part12,{x:10,y:-6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part12,29,{x:17,y:-7,scX:1.56,scY:1.56}),this.part13.visible=!0,this.setPart(this.part13,{x:-4,y:5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part13,29,{x:-10,y:9,scX:1.58,scY:1.47}),this.part14.visible=!0,this.setPart(this.part14,{x:-7,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part14,29,{x:-12,y:16,scX:1.38,scY:1.38}),this.part15.visible=!0,this.setPart(this.part15,{x:-9,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part15,29,{x:-16,y:21,skX:1,skY:1,scX:1.38,scY:1.38}),this.part16.visible=!0,this.setPart(this.part16,{x:-1,y:15,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part16,29,{y:31,scX:1.38,scY:1.38}),this.part17.visible=!0,this.setPart(this.part17,{x:7,y:15,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part17,29,{x:13,y:29,skX:-1,skY:-1,scX:1.38,scY:1.38}),this.part18.visible=!0,this.setPart(this.part18,{x:10,y:10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part18,29,{x:17,y:17,scX:1.43,scY:1.43}),this.part19.visible=!0,this.setPart(this.part19,{x:2,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part19,29,{x:6,y:17,scX:1.39,scY:1.39}),this.part20.visible=!0,this.setPart(this.part20,{x:-11,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part20,29,{x:-25,skX:1,skY:1,scX:1.38,scY:1.38}),this.part21.visible=!0,this.setPart(this.part21,{x:-2,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part21,29,{x:-10,y:-5,skX:3,skY:3,scX:1.38,scY:1.38}),this.part22.visible=!0,this.setPart(this.part22,{x:6,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part22,29,{x:13,y:-4,skX:-1,skY:-1,scX:1.4,scY:1.4}),this.part23.visible=!0,this.setPart(this.part23,{x:14,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part23,29,{x:26,y:-3,skX:1,skY:1,scX:1.38,scY:1.38}),this.part24.visible=!0,this.setPart(this.part24,{x:5,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part24,29,{x:12,y:-23,skX:1,skY:1,scX:1.38,scY:1.38}),this.part25.visible=!0,this.setPart(this.part25,{x:-2,y:-11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part25,29,{x:-4,y:-22,skX:1,skY:1,scX:1.38,scY:1.38}),this.part26.visible=!0,this.setPart(this.part26,{x:0,y:-1,angle:0,scX:.76,scY:.76,skX:0,skY:0,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part26,29,{y:0,scX:1.35,scY:1.35,alpha:1}),this.part27.visible=!1,this.part28.visible=!1):31===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,9,{y:1,scX:1,scY:1,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,14,{x:-62,y:-89,skX:-45,skY:-45,scX:1,scY:1,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part4,9,{x:-57,y:-35,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part5,9,{x:-26,y:58,skX:12,skY:12,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part6,9,{x:67,y:37,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part7,9,{x:64,y:-36,skX:5,skY:5,scX:1.34,scY:1.34}),Client.GameManager.instance.level.setSimpleTween(this.part8,9,{x:14,y:-67,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part9,9,{x:0,y:32,scX:1.66,scY:1.66}),Client.GameManager.instance.level.setSimpleTween(this.part10,9,{x:51,y:-46,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part11,9,{x:45,y:29,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part12,9,{x:28,y:1,scX:2.15,scY:2.15}),Client.GameManager.instance.level.setSimpleTween(this.part13,9,{x:-26,y:15,scX:2.22,scY:1.66}),Client.GameManager.instance.level.setSimpleTween(this.part14,9,{x:-18,y:30,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part15,9,{x:-33,y:33,skX:11,skY:11,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part16,9,{x:0,y:73,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part17,9,{x:23,y:64,skX:-7,skY:-7,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part18,9,{x:32,y:25,scX:1.4,scY:1.4}),Client.GameManager.instance.level.setSimpleTween(this.part19,9,{x:16,y:47,scX:1.23,scY:1.23}),Client.GameManager.instance.level.setSimpleTween(this.part20,9,{x:-61,y:1,skX:5,skY:5,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part21,9,{x:-39,y:-17,skX:21,skY:21,scX:1.15,scY:1.15}),Client.GameManager.instance.level.setSimpleTween(this.part22,9,{x:33,y:-18,skX:-5,skY:-5,scX:1.26,scY:1.26}),Client.GameManager.instance.level.setSimpleTween(this.part23,9,{x:52,y:-4,skX:9,skY:9,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part24,9,{x:31,y:-50,skX:8,skY:8,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part25,9,{x:-14,y:-49,skX:9,skY:9,scX:1.14,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part26,9,{scX:1.95,scY:1.95,alpha:0})):40===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part4,5,{x:-87,y:-47,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part5,5,{x:-38,y:91,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part6,5,{x:97,y:52,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part7,5,{x:85,y:-50,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part8,5,{x:21,y:-92,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part9,5,{x:2,y:59,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part10,5,{x:65,y:-58,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part11,5,{x:69,y:45,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part12,5,{x:56,y:9,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part13,5,{x:-38,y:26,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part14,5,{x:-29,y:63,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part15,5,{x:-49,y:57,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part16,5,{x:-1,y:97,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part17,5,{x:38,y:84,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part18,5,{x:56,y:41,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part19,5,{x:23,y:71,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part20,5,{x:-87,y:9,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part21,5,{x:-61,y:-27,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part22,5,{x:61,y:-24,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part23,5,{x:80,y:4,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part24,5,{x:50,y:-71,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part25,5,{x:-24,y:-69,alpha:0}),this.part26.visible=!1):41===this.counterAnim?this.part1.visible=!1:46===this.counterAnim&&(this.animComplete(),this.group.destroy()))},Lvl13CrystalBall.prototype.setParts=function(value){"anim"===value&&(this.part1.visible=!1,this.setPart(this.part2,{x:-5,y:-15,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:-17,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.part4.visible=!1,this.part5.visible=!1,this.part6.visible=!1,this.part7.visible=!1,this.part8.visible=!1,this.part9.visible=!1,this.part10.visible=!1,this.part11.visible=!1,this.part12.visible=!1,this.part13.visible=!1,this.part14.visible=!1,this.part15.visible=!1,this.part16.visible=!1,this.part17.visible=!1,this.part18.visible=!1,this.part19.visible=!1,this.part20.visible=!1,this.part21.visible=!1,this.part22.visible=!1,this.part23.visible=!1,this.part24.visible=!1,this.part25.visible=!1,this.part26.visible=!1,this.setPart(this.part27,{x:-2,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part28,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13CrystalBall.prototype.free=function(){this.game=null,this.particle=[],this.particle=null,this.group=null,this.part29=null,this.part28=null,this.part27=null,this.part26=null,this.part25=null,this.part24=null,this.part23=null,this.part22=null,this.part21=null,this.part20=null,this.part19=null,this.part18=null,this.part17=null,this.part16=null,this.part15=null,this.part14=null,this.part13=null,this.part12=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.magicLightning1=null,this.magicLightning2=null,this.magicLightning3=null,this.magicLightning4=null},Lvl13CrystalBall})(Client.BasicDragon);Client.Lvl13CrystalBall=Lvl13CrystalBall})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13Dragon=(_super=>{function Lvl13Dragon(game){var _this=_super.call(this,game)||this;return _this.updateDragonBall=!1,_this.explodeHeroCount=0,_this.game=game,_this.updateElements=new Array,_this.group=game.make.group(),_this.group.x=120,_this.group.y=381,_this.group.scale.x=-1,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.wheely=new Client.SASprite(game,0,0,"dragon","carcorpus instance 10000"),_this.wheely.pivot.set(69,57),_this.wheely.visible=!1,_this.group.addChild(_this.wheely),_this.fLeg1=new Client.Lvl13DragonLegFront(game,1),_this.group.addChild(_this.fLeg1.group),_this.updateElements.push(_this.fLeg1),_this.bLeg1=new Client.Lvl13DragonLegBack(game,1),_this.group.addChild(_this.bLeg1.group),_this.updateElements.push(_this.bLeg1),_this.tors=new Client.Lvl13DragonTors(game),_this.group.addChild(_this.tors.group),_this.updateElements.push(_this.tors),_this.fLeg2=new Client.Lvl13DragonLegFront(game,2),_this.group.addChild(_this.fLeg2.group),_this.updateElements.push(_this.fLeg2),_this.bLeg2=new Client.Lvl13DragonLegBack(game,2),_this.group.addChild(_this.bLeg2.group),_this.updateElements.push(_this.bLeg2),_this.sedlo=new Client.SASprite(game,0,0,"dragon","dragonSeddle instance 10000"),_this.sedlo.pivot.set(57,24),_this.group.addChild(_this.sedlo),_this.mage=new Client.Lvl13DragonMage(game),_this.group.addChild(_this.mage.group),_this.updateElements.push(_this.mage),_this.wing=new Client.Lvl13DragonWing(game),_this.group.addChild(_this.wing.group),_this.updateElements.push(_this.wing),_this.setParts("shoot"),_this.dragonBall=Client.GameManager.instance.layerUpper.create(0,0,"level13"),_this.dragonBall.anchor.setTo(.5),_this.dragonBall.animations.add("anim",Phaser.Animation.generateFrameNames("dragonBall instance 1",0,17,"",4),30,!0),_this.dragonBall.visible=!1,_this.dragonBallExploading=Client.GameManager.instance.layerUpper.create(0,0,"level13"),_this.dragonBallExploading.scale.setTo(2),_this.dragonBallExploading.anchor.setTo(.5),_this.dragonBallExploading.animations.add("anim",Phaser.Animation.generateFrameNames("dragonExplosion instance 1",0,55,"",4),30,!1),_this.dragonBallExploading.visible=!1,_this.bodyDragonBall=new Phaser.Physics.Box2D.Body(game,null,-100,-100,1),_this.bodyDragonBall.setCircle(14),_this.bodyDragonBall.sensor=!0,_this.bodyDragonBall.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.explodeHero,_this),_this}return __extends(Lvl13Dragon,_super),Lvl13Dragon.prototype.goNormal=function(){Client.SoundManager.playSFX("sfx_spellTransform");for(var i=0;i<this.updateElements.length;i++)this.updateElements[i].goNormal()},Lvl13Dragon.prototype.shootDragon=function(){this.playAnim("shoot"),this.bLeg1.playAnim("anim1"),this.bLeg2.playAnim("anim1"),this.fLeg1.playAnim("anim1"),this.fLeg2.playAnim("anim1"),this.tors.shoot(),this.wing.open()},Lvl13Dragon.prototype.endShootDragon=function(){this.bLeg1.playAnim("anim2"),this.bLeg2.playAnim("anim2"),this.fLeg1.playAnim("anim2"),this.fLeg2.playAnim("anim2"),this.wing.close()},Lvl13Dragon.prototype.shootMage=function(){this.mage.shoot()},Lvl13Dragon.prototype.dieMage=function(){this.goNormal(),this.playAnim("magDies"),this.tors.magDies(),this.mage.group.removeChild(this.mage.hat),this.mage.hatOffX=this.group.x+this.mage.group.x,this.mage.hatOffY=this.group.y+this.mage.group.y,Client.GameManager.instance.layerUpper.addChildAt(this.mage.hat,Client.GameManager.instance.layerUpper.getChildIndex(this.group)+1),this.mage.playAnim("magDies"),this.mage.hat.x=this.mage.hatOffX-38,this.mage.hat.y=this.mage.hatOffY+7,this.mage.setScepter(this.group.x,this.group.y)},Lvl13Dragon.prototype.flyAway=function(){this.tors.flyAway(),this.playAnim("sitHero"),this.wing.playAnim("anim3")},Lvl13Dragon.prototype.goDragonBall=function(){this.bodyDragonBall.x=280,this.bodyDragonBall.y=468,this.bodyDragonBall.velocity.x=180,this.updateDragonBall=!0,this.dragonBall.visible=!0,this.dragonBall.animations.play("anim")},Lvl13Dragon.prototype.update=function(){_super.prototype.update.call(this);for(var i=0;i<this.updateElements.length;i++)this.updateElements[i].update();!0===this.updateDragonBall&&(this.dragonBall.x=this.bodyDragonBall.x,this.dragonBall.y=this.bodyDragonBall.y,this.dragonBall.angle=this.bodyDragonBall.angle,850<this.bodyDragonBall.x)&&this.deactivateDragonBall(),1===this.explodeHeroCount&&(this.explodeHeroCount=2,Client.GameManager.instance.layerUpper.setChildIndex(this.dragonBallExploading,Client.GameManager.instance.layerUpper.children.length-1),this.dragonBallExploading.x=this.bodyDragonBall.x,this.dragonBallExploading.y=this.bodyDragonBall.y,this.dragonBallExploading.visible=!0,this.dragonBallExploading.animations.play("anim"),Client.GameManager.instance.level.customAction(6),this.deactivateDragonBall())},Lvl13Dragon.prototype.deactivateDragonBall=function(){this.bodyDragonBall.x=-100,this.bodyDragonBall.y=-100,this.bodyDragonBall.velocity.x=0,this.bodyDragonBall.velocity.y=0,this.dragonBall.visible=!1,this.dragonBall.animations.stop("anim",!0)},Lvl13Dragon.prototype.explodeHero=function(){0===this.explodeHeroCount&&(this.explodeHeroCount=1)},Lvl13Dragon.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"shoot"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,9,{x:-23,y:27,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.mage.group,9,{x:-39,y:-58,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,9,{x:-17,y:14,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,19,{x:29,y:71}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,19,{x:-36,y:96}),this.setPart(this.tors.group,{x:41,y:-5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,19,{x:15,y:70}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,19,{x:-50,y:96})):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,10,{x:-30,y:34,skX:-56,skY:-56}),Client.GameManager.instance.level.setSimpleTween(this.mage.group,10,{x:-71,y:-41,skX:-38,skY:-38}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,10,{x:-29,y:21,skX:-39,skY:-39})):20===this.counterAnim?(this.setPart(this.bLeg2.group,{x:29,y:71,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-36,y:96,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg1.group,{x:15,y:70,angle:0,scX:.89,scY:1.02,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg1.group,{x:-50,y:96,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1})):40===this.counterAnim?(this.goDragonBall(),Client.SoundManager.playSFX("s_dragonFire")):60===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,10,{x:-22,y:28,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.mage.group,11,{x:-34,y:-58,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,11,{x:-15,y:15,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,20,{x:21,y:78}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,19,{x:-48,y:85}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,20,{x:8,y:77}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,20,{x:-62,y:85}),this.endShootDragon()):70===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.wing.group,10,{x:-13,y:18,skX:-12,skY:-12}):71===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.mage.group,9,{x:5,y:-66,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,9,{x:-1,y:9,skX:0,skY:0})):79===this.counterAnim?this.setPart(this.fLeg2.group,{x:-48,y:85,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):80===this.counterAnim?(this.setPart(this.bLeg2.group,{x:21,y:78,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-48,y:84,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg1.group,{x:8,y:77,angle:0,scX:.89,scY:1.02,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg1.group,{x:-62,y:85,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1})):81===this.counterAnim&&this.animComplete():"magDies"===this.currAnim?62===this.counterAnim?this.mage.eated():73===this.counterAnim?this.group.setChildIndex(this.mage.group,this.group.getChildIndex(this.tors.group)):85===this.counterAnim&&this.animComplete():"sitHero"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,15,{y:29,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,14,{x:-5,y:20,skX:-8,skY:-8}),this.setPart(this.bLeg2.group,{x:21,y:78,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-48,y:84,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,10,{x:30,y:-11,skX:-10,skY:-10}),this.setPart(this.bLeg1.group,{x:8,y:77,angle:0,scX:.89,scY:1.01,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg1.group,{x:-62,y:85,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1})):7===this.counterAnim?this.wing.playAnim("anim4"):12===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tors.group,3,{x:21,y:0}):16===this.counterAnim?(this.bLeg2.playAnim("anim3"),this.fLeg1.playAnim("anim3"),this.bLeg1.playAnim("anim4"),Client.GameManager.instance.level.setSimpleTween(this.wing.group,7,{y:35,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,20,{x:-6,y:30,skX:-9,skY:-9}),this.setPart(this.bLeg2.group,{x:22,y:77,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,20,{x:17,y:11,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,20,{x:4,y:62,skX:-5,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,20,{y:89})):23===this.counterAnim?(this.wing.animCycle=!0,this.wing.playAnim("anim"),Client.GameManager.instance.level.setSimpleTween(this.wing.group,13,{x:-15,y:38,skX:0,skY:0})):36===this.counterAnim?(this.fLeg2.setParts("anim4"),this.setPart(this.wing.group,{x:-15,y:38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.hero.setVisibility(!1),this.wheely.visible=!0,this.setPart(this.wheely,{x:-18,y:61,angle:0,scX:1,scY:1,skX:0,skY:-180,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.wheely,11,{x:-17,y:-52,skX:3,skY:-177}),this.setPart(this.sedlo,{x:-6,y:30,angle:0,scX:1,scY:1,skX:-9,skY:-9,alpha:1}),this.setPart(this.bLeg2.group,{x:22,y:77,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-43,y:88,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,35,{x:16,y:12}),this.setPart(this.bLeg1.group,{x:4,y:62,angle:0,scX:.8,scY:1.01,skX:-5,skY:-6,alpha:1}),this.setPart(this.fLeg1.group,{x:-62,y:89,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1})):47===this.counterAnim?(this.group.setChildIndex(this.wheely,this.group.getChildIndex(this.wing.group)-1),this.setPart(this.wheely,{x:-17,y:-52,angle:0,scX:1,scY:1,skX:3,skY:-177,alpha:1})):48===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.wheely,14,{x:-18,y:-16,skX:-7,skY:-187,scY:.93}):59===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.sedlo,3,{x:-5,skX:-13,skY:-13,scY:.93}):62===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wheely,5,{y:-24,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,3,{x:-6,skX:-9,skY:-9,scY:1})):65===this.counterAnim?this.setPart(this.sedlo,{x:-6,y:30,angle:0,scX:1,scY:1,skX:-9,skY:-9,alpha:1}):67===this.counterAnim?this.setPart(this.wheely,{x:-18,y:-24,angle:0,scX:1,scY:1,skX:-7,skY:173,alpha:1}):71===this.counterAnim&&(this.animComplete(),this.playAnim("fly"),this.wing.allAnimRound=!0,this.wing.playAnim("anim"),this.fLeg1.playAnim("anim4"),this.fLeg2.playAnim("anim4"),this.bLeg1.playAnim("anim4"),this.bLeg2.playAnim("anim4")):"fly"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wheely,18,{x:-20,y:-27,skX:-11,skY:169}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,18,{x:-5,y:25,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,18,{x:25,y:67}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,18,{y:78}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,18,{x:4,y:16,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,18,{y:62})):19===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,11,{x:-31,y:20}),Client.GameManager.instance.level.setSimpleTween(this.wheely,11,{x:-36,y:-45,skX:-6,skY:174}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,11,{x:-26,y:9,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,11,{x:5}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,11,{x:-64,y:70,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,11,{x:-11,y:5,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,11,{x:-6,y:67}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,11,{y:84})):22===this.counterAnim?(this.bLeg1.playAnim("anim5"),this.bLeg2.playAnim("anim5")):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,12,{x:-124,y:-73}),Client.GameManager.instance.level.setSimpleTween(this.wheely,12,{x:-122,y:-139,skX:5,skY:185}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,12,{x:-118,y:-84,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,12,{x:-78,y:-33,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,12,{x:-156,y:-7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,12,{x:-114,y:-96,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,12,{x:-84,y:-29}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,12,{x:-150,y:-2})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,10,{x:-200,y:-93}),Client.GameManager.instance.level.setSimpleTween(this.wheely,10,{x:-210,y:-156,skX:-6,skY:-186}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,10,{x:-192,y:-107,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,10,{x:-145,y:-62,skX:-30,skY:-30}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,10,{x:-223,y:-20}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,10,{x:-197,y:-117,skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,10,{x:-160,y:-52}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,10,{x:-213,y:-15})):52===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,14,{x:-297,y:0}),Client.GameManager.instance.level.setSimpleTween(this.wheely,14,{x:-323,y:-57,skX:-22,skY:158}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,14,{x:-295,y:-12,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,14,{x:-240,y:19,skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,14,{x:-293,y:71,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,14,{x:-293,y:-25,skX:-66,skY:-66}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,14,{x:-248,y:37,skX:-20,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,14,{x:-283,y:73,skX:-37,skY:-37})):66===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,24,{x:-490,y:-78}),Client.GameManager.instance.level.setSimpleTween(this.wheely,24,{x:-487,y:-144,skX:4,skY:179}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,24,{x:-480,y:-91,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,24,{x:-438,y:-42,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,24,{x:-511,y:-2,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,24,{x:-475,y:-103,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,24,{x:-456,y:-34,skX:-15,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,24,{x:-491,y:-13,skX:-24,skY:-24})):90===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing.group,46,{x:-1013,y:269}),Client.GameManager.instance.level.setSimpleTween(this.wheely,46,{x:-1028,y:204,skX:-21,skY:159}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,46,{x:-1010,y:256,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,46,{x:-954,y:308,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,46,{x:-1017,y:337,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,46,{x:-995,y:249}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,46,{x:-951,y:300,skX:-13,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,46,{x:-1004,y:331,skX:-35,skY:-35})):110===this.counterAnim?Client.SoundManager.playSFX("levelWin"):136===this.counterAnim&&(this.animComplete(),Client.LevelBuilder.instance.levelComplete())))},Lvl13Dragon.prototype.setParts=function(value){"shoot"===value||"magDies"===value?(this.setPart(this.wing.group,{x:-13,y:18,angle:0,scX:1,scY:1,skX:-12,skY:-12,alpha:1}),this.setPart(this.mage.group,{x:5,y:-66,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.sedlo,{x:-1,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg2.group,{x:21,y:78,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-48,y:84,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors.group,{x:41,y:-5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg1.group,{x:8,y:77,angle:0,scX:.89,scY:1.02,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg1.group,{x:-62,y:85,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1})):"sitHero"===value?(this.setPart(this.wing.group,{x:-13,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.wheely.visible=!1,this.setPart(this.sedlo,{x:-1,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg2.group,{x:21,y:78,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-48,y:84,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors.group,{x:41,y:-5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg1.group,{x:8,y:77,angle:0,scX:.89,scY:1.01,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg1.group,{x:-62,y:85,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1})):"fly"===value&&(this.setPart(this.wing.group,{x:-15,y:38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.wheely,{x:-18,y:-24,angle:0,scX:1,scY:1,skX:-7,skY:173,alpha:1}),this.setPart(this.sedlo,{x:-6,y:30,angle:0,scX:1,scY:1,skX:-9,skY:-9,alpha:1}),this.setPart(this.bLeg2.group,{x:22,y:77,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.fLeg2.group,{x:-43,y:88,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors.group,{x:16,y:12,angle:0,scX:1,scY:1,skX:-15,skY:-15,alpha:1}),this.setPart(this.bLeg1.group,{x:4,y:77,angle:0,scX:.8,scY:1.01,skX:-5,skY:-6,alpha:1}),this.setPart(this.fLeg1.group,{x:-62,y:89,angle:0,scX:.95,scY:.95,skX:0,skY:0,alpha:1}))},Lvl13Dragon.prototype.free=function(){this.game=null,this.group=null;for(var i=0;i<this.updateElements.length;i++)this.updateElements[i].free();this.updateElements=[],this.updateElements=null,this.fLeg1=null,this.fLeg2=null,this.bLeg1=null,this.bLeg2=null,this.wing=null,this.sedlo=null,this.mage=null,this.tors=null,this.wheely=null,this.dragonBall=null,this.dragonBallExploading=null,this.bodyDragonBall=null},Lvl13Dragon})(Client.BasicDragon);Client.Lvl13Dragon=Lvl13Dragon})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonHead=(_super=>{function Lvl13DragonHead(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.flame=new Client.SASprite(game,0,0,"dragon","flame instance 10000"),_this.flame.pivot.set(25,25),_this.group.addChild(_this.flame),_this.tongue=new Client.SASprite(game,0,0,"dragon","tongue instance 10000"),_this.tongue.pivot.set(15,3),_this.group.addChild(_this.tongue),_this.part1=new Client.SASprite(game,0,0,"dragon","spike1 instance 10000"),_this.part1.pivot.set(24,10),_this.group.addChild(_this.part1),_this.part1_1=game.make.sprite(0,0,"dragon","spike1_1 instance 10000"),_this.part1.addChild(_this.part1_1),_this.jawBot=new Client.Lvl13DragonJawBot(game),_this.group.addChild(_this.jawBot.group),_this.jawTop=new Client.Lvl13DragonJawTop(game),_this.group.addChild(_this.jawTop.group),_this.setParts("shoot"),_this}return __extends(Lvl13DragonHead,_super),Lvl13DragonHead.prototype.goNormal=function(){Client.GameManager.instance.level.setSimpleTween(this.part1_1,this.goNormalTime,{alpha:0}),this.jawBot.goNormal(),this.jawTop.goNormal()},Lvl13DragonHead.prototype.flyAway=function(){this.jawTop.flyAway()},Lvl13DragonHead.prototype.update=function(){_super.prototype.update.call(this),this.jawBot.update(),this.jawTop.update()},Lvl13DragonHead.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"shoot"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,2,{x:2,y:6,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,2,{x:-21,y:27,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.part1,14,{x:25,y:27,skX:37,skY:37}),this.setPart(this.tongue,{x:-16,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):3===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,12,{x:7,y:5,skX:27,skY:27}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,12,{x:-14,y:33,skX:-15,skY:-15})):15===this.counterAnim?(this.setPart(this.jawTop.group,{x:7,y:5,angle:0,scX:1,scY:1,skX:27,skY:27,alpha:1}),this.setPart(this.jawBot.group,{x:-14,y:33,angle:0,scX:1,scY:1,skX:-15,skY:-15,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:27,y:24,skX:23,skY:23}),Client.GameManager.instance.level.setSimpleTween(this.tongue,13,{y:15,skX:-6,skY:-6}),this.flame.visible=!0,this.setPart(this.flame,{x:-17,y:13,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.flame,22,{x:-20,y:8,scX:1,scY:1,alpha:1})):22===this.counterAnim?this.setPart(this.part1,{x:27,y:24,angle:0,scX:1,scY:1,skX:23,skY:23,alpha:1}):28===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tongue,9,{y:13,skX:0,skY:0}):37===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tongue,7,{y:15,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.flame,9,{alpha:0})):44===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tongue,6,{y:13,skX:0,skY:0}):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,10,{x:1,y:7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,10,{x:-23,y:25,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part1,10,{x:26,y:18,skX:0,skY:0}),this.setPart(this.flame,{x:-20,y:8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0})):50===this.counterAnim?this.setPart(this.tongue,{x:-16,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):56===this.counterAnim&&this.animComplete():"nom"===this.currAnim&&(51===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,3,{x:2,y:6,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,3,{x:-13,y:38,skX:-29,skY:-29}),Client.GameManager.instance.level.setSimpleTween(this.part1,3,{x:25,y:21,skX:13,skY:13})):54===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,6,{x:1,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,6,{x:-21,y:29,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.part1,6,{y:20,skX:8,skY:8})):60===this.counterAnim?(this.setPart(this.jawTop.group,{x:1,y:6,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}),this.setPart(this.jawBot.group,{x:-21,y:29,angle:0,scX:1,scY:1,skX:-7,skY:-7,alpha:1}),this.setPart(this.part1,{x:25,y:20,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1})):61===this.counterAnim?this.setPart(this.flame,{x:-20,y:8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}):63===this.counterAnim?this.setPart(this.tongue,{x:-16,y:19,angle:0,scX:1,scY:1,skX:-18,skY:-18,alpha:1}):65===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,5,{x:4,y:5,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,5,{x:-11,y:39,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:23,y:25,skX:27,skY:27})):66===this.counterAnim?this.flame.visible=!1:68===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tongue,5,{y:14,skX:-3,skY:-3}):70===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop.group,7,{x:1,y:7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.jawBot.group,7,{x:-23,y:25,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:26,y:18,skX:0,skY:0})):73===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tongue,7,{y:13,skX:0,skY:0}):77===this.counterAnim&&this.animComplete()))},Lvl13DragonHead.prototype.setParts=function(value){"shoot"===value?(this.setPart(this.jawTop.group,{x:1,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.jawBot.group,{x:-23,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part1,{x:26,y:18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tongue,{x:-16,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.flame.visible=!1):"nom"===value&&(this.setPart(this.jawTop.group,{x:1,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.jawBot.group,{x:-23,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part1,{x:26,y:18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tongue,{x:-16,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.flame,{x:-20,y:8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}))},Lvl13DragonHead.prototype.free=function(){this.group=null,this.flame=null,this.tongue=null,this.part1=null,this.part1_1=null,this.jawBot.group=null,this.jawTop.group=null},Lvl13DragonHead})(Client.BasicDragon);Client.Lvl13DragonHead=Lvl13DragonHead})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonHeadCrystal=(_super=>{function Lvl13DragonHeadCrystal(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.part3=new Client.SASprite(game,0,0,"dragon","crystalPart3 instance 10000"),_this.part3.pivot.set(6,9),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"dragon","crystalPart2 instance 10000"),_this.part2.pivot.set(6,8),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"dragon","crystalPart1 instance 10000"),_this.part1.pivot.set(5,5),_this.group.addChild(_this.part1),_this.blick3=new Client.SASprite(game,0,0,"dragon","crystalBlick3 instance 10000"),_this.blick3.pivot.set(17,18),_this.group.addChild(_this.blick3),_this.blick2=new Client.SASprite(game,0,0,"dragon","crystalBlick2 instance 10000"),_this.blick2.pivot.set(55,64),_this.group.addChild(_this.blick2),_this.blick=new Client.SASprite(game,0,0,"dragon","crystalBlick instance 10000"),_this.group.addChild(_this.blick),_this.setParts("anim"),_this}return __extends(Lvl13DragonHeadCrystal,_super),Lvl13DragonHeadCrystal.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.setPart(this.blick,{x:-31,y:-31,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.blick2,14,{x:14,y:-1,scX:1,scY:1,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.blick3,14,{y:-15,scX:2.05,scY:2.05,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part1,14,{x:3,y:-23,scX:1.55,scY:1.55}),Client.GameManager.instance.level.setSimpleTween(this.part2,14,{x:8,y:-11,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.part3,14,{y:-9,skX:-3,skY:-3})):2===this.counterAnim?this.blick.visible=!1:15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.blick2,11,{x:24,y:7,scX:2,scY:2,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.blick3,11,{scX:3,scY:3,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part1,11,{y:-50,scX:.88,scY:.88,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,11,{x:32,y:-20,skX:59,skY:59,scX:.55,scY:.55,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,11,{x:-21,y:-15,skX:-33,skY:-33,scX:.56,scY:.56,alpha:0})):26===this.counterAnim&&(this.animComplete(),this.group.destroy()))},Lvl13DragonHeadCrystal.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.blick,{x:-31,y:-31,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.blick2,{x:4,y:4,angle:0,scX:.44,scY:.44,skX:0,skY:0,alpha:0}),this.setPart(this.blick3,{x:1,y:-3,angle:0,scX:.85,scY:.85,skX:0,skY:0,alpha:0}),this.setPart(this.part1,{x:0,y:-5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:3,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:-1,y:4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13DragonHeadCrystal.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null,this.blick3=null,this.blick2=null,this.blick=null},Lvl13DragonHeadCrystal})(Client.BasicSimpleAnim);Client.Lvl13DragonHeadCrystal=Lvl13DragonHeadCrystal})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonJawBot=(_super=>{function Lvl13DragonJawBot(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part3=new Client.SASprite(game,0,0,"dragon","botJawPart1_3 instance 10000"),_this.part3.pivot.set(6,13),_this.group.addChild(_this.part3),_this.part3_1=game.make.sprite(0,0,"dragon","botJawPart1_3_1 instance 10000"),_this.part3.addChild(_this.part3_1),_this.part2=new Client.SASprite(game,0,0,"dragon","botJawPart1_2 instance 10000"),_this.part2.pivot.set(9,18),_this.group.addChild(_this.part2),_this.part2_1=game.make.sprite(0,0,"dragon","botJawPart1_2_1 instance 10000"),_this.part2.addChild(_this.part2_1),_this.part1=new Client.SASprite(game,0,0,"dragon","botJawPart1_1 instance 10000"),_this.part1.pivot.set(28,17),_this.group.addChild(_this.part1),_this.part1_1=game.make.sprite(0,0,"dragon","botJawPart1_1_1 instance 10000"),_this.part1.addChild(_this.part1_1),_this.setParts("normal"),_this}return __extends(Lvl13DragonJawBot,_super),Lvl13DragonJawBot.prototype.goNormal=function(){this.playAnim("normal")},Lvl13DragonJawBot.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,20,{x:11,y:9}),Client.GameManager.instance.level.setSimpleTween(this.part3,20,{x:-14,y:9}),Client.GameManager.instance.level.setSimpleTween(this.part1_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part3_1,this.goNormalTime,{alpha:0})):21===this.counterAnim?(this.part1_1.destroy(),this.part2_1.destroy(),this.part3_1.destroy()):22===this.counterAnim&&this.animComplete())},Lvl13DragonJawBot.prototype.setParts=function(value){"normal"===value&&(this.setPart(this.part1,{x:5,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:13,y:15,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:-13,y:14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13DragonJawBot.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null,this.part1_1=null,this.part2_1=null,this.part3_1=null},Lvl13DragonJawBot})(Client.BasicDragon);Client.Lvl13DragonJawBot=Lvl13DragonJawBot})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonJawTop=(_super=>{function Lvl13DragonJawTop(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.crystal=new Client.Lvl13DragonHeadCrystal(game),_this.crystal.group.x=-2,_this.crystal.group.y=-25,_this.group.addChild(_this.crystal.group),_this.part6=new Client.SASprite(game,0,0,"dragon","botJawPart2_6 instance 10000"),_this.part6.pivot.set(14,13),_this.group.addChild(_this.part6),_this.part6_1=game.make.sprite(0,0,"dragon","botJawPart2_6_1 instance 10000"),_this.part6.addChild(_this.part6_1),_this.part5=new Client.SASprite(game,0,0,"dragon","botJawPart2_5 instance 10000"),_this.part5.pivot.set(10,5),_this.group.addChild(_this.part5),_this.part5_1=game.make.sprite(0,0,"dragon","botJawPart2_5_1 instance 10000"),_this.part5.addChild(_this.part5_1),_this.part4=new Client.SASprite(game,0,0,"dragon","botJawPart2_4 instance 10000"),_this.part4.pivot.set(8,8),_this.group.addChild(_this.part4),_this.part4_1=game.make.sprite(0,0,"dragon","botJawPart2_4_1 instance 10000"),_this.part4.addChild(_this.part4_1),_this.part3=new Client.SASprite(game,0,0,"dragon","botJawPart2_3 instance 10000"),_this.part3.pivot.set(6,11),_this.group.addChild(_this.part3),_this.part3_1=game.make.sprite(0,0,"dragon","botJawPart2_3_1 instance 10000"),_this.part3.addChild(_this.part3_1),_this.part2=new Client.SASprite(game,0,0,"dragon","botJawPart2_2 instance 10000"),_this.part2.pivot.set(10,6),_this.group.addChild(_this.part2),_this.part2_1=game.make.sprite(0,0,"dragon","botJawPart2_2_1 instance 10000"),_this.part2.addChild(_this.part2_1),_this.part1=new Client.SASprite(game,0,0,"dragon","botJawPart2_1 instance 10000"),_this.part1.pivot.set(41,25),_this.group.addChild(_this.part1),_this.part1_1=game.make.sprite(0,0,"dragon","botJawPart2_1_1 instance 10000"),_this.part1.addChild(_this.part1_1),_this.eye=game.make.sprite(36,-5,"dragon"),_this.eye.animations.add("anim",Phaser.Animation.generateFrameNames("dragonEye instance 1",0,0,"",4),30,!1),_this.eye.animations.add("anim2",Phaser.Animation.generateFrameNames("dragonEye instance 1",1,84,"",4),30,!0),_this.eye.animations.add("normal",Phaser.Animation.generateFrameNames("dragonEye instance 1",85,105,"",4),30,!1),_this.eye.animations.add("anim3",Phaser.Animation.generateFrameNames("dragonEye instance 1",106,190,"",4),30,!0),_this.eye.animations.play("anim2"),_this.part1.addChild(_this.eye),_this.part7_1=game.make.sprite(52,45,"dragon","botJawPart2_7_1 instance 10000"),_this.part1.addChild(_this.part7_1),_this.setParts("normal"),_this}return __extends(Lvl13DragonJawTop,_super),Lvl13DragonJawTop.prototype.goNormal=function(){this.playAnim("normal"),this.eye.animations.play("normal"),this.crystal.playAnim("anim")},Lvl13DragonJawTop.prototype.flyAway=function(){this.eye.animations.play("anim3")},Lvl13DragonJawTop.prototype.update=function(){_super.prototype.update.call(this),this.crystal.update()},Lvl13DragonJawTop.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,20,{x:29,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.part3,20,{x:-40,y:-12,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.part4,20,{x:-16,y:-25,skX:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part5,20,{x:10,y:-23}),Client.GameManager.instance.level.setSimpleTween(this.part6,20,{x:27,y:-16,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.part1_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part3_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part4_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part5_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part6_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part7_1,this.goNormalTime,{alpha:0})):21===this.counterAnim?(this.part1_1.destroy(),this.part2_1.destroy(),this.part3_1.destroy(),this.part4_1.destroy(),this.part5_1.destroy(),this.part6_1.destroy(),this.part7_1.destroy()):22===this.counterAnim&&this.animComplete())},Lvl13DragonJawTop.prototype.setParts=function(value){"normal"===value&&(this.setPart(this.part1,{x:-9,y:3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:36,y:1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:-41,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:-15,y:-26,angle:0,scX:1,scY:1.34,skX:6,skY:0,alpha:1}),this.setPart(this.part5,{x:12,y:-29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:36,y:-21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13DragonJawTop.prototype.free=function(){this.group=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.part1_1=null,this.part2_1=null,this.part3_1=null,this.part4_1=null,this.part5_1=null,this.part6_1=null,this.part7_1=null,this.eye=null,this.crystal.free(),this.crystal=null},Lvl13DragonJawTop})(Client.BasicDragon);Client.Lvl13DragonJawTop=Lvl13DragonJawTop})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonLegBack=(_super=>{function Lvl13DragonLegBack(game,idLeg){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part4=new Client.SASprite(game,0,0,"dragon","bLeg1 instance 10000"),_this.part4.pivot.set(26,36),_this.group.addChild(_this.part4),_this.part4_1=game.make.sprite(0,0,"dragon","bLeg"+idLeg+"_1 instance 10000"),_this.part4.addChild(_this.part4_1),_this.part3=new Client.SASprite(game,0,0,"dragon","bLeg2 instance 10000"),_this.part3.pivot.set(8,13),_this.group.addChild(_this.part3),_this.part3_1=game.make.sprite(0,0,"dragon","bLeg"+idLeg+"_2 instance 10000"),_this.part3.addChild(_this.part3_1),_this.part2=new Client.SASprite(game,0,0,"dragon","bLeg3 instance 10000"),_this.part2.pivot.set(18,21),_this.group.addChild(_this.part2),_this.part2_1=game.make.sprite(0,0,"dragon","bLeg"+idLeg+"_3 instance 10000"),_this.part2.addChild(_this.part2_1),_this.part1=new Client.SASprite(game,0,0,"dragon","bLeg4 instance 10000"),_this.part1.pivot.set(20,11),_this.group.addChild(_this.part1),_this.part1_1=game.make.sprite(0,0,"dragon","bLeg"+idLeg+"_4 instance 10000"),_this.part1.addChild(_this.part1_1),_this.setParts("anim1"),_this}return __extends(Lvl13DragonLegBack,_super),Lvl13DragonLegBack.prototype.goNormal=function(){Client.GameManager.instance.level.setSimpleTween(this.part1_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part3_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part4_1,this.goNormalTime,{alpha:0})},Lvl13DragonLegBack.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim1"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,19,{x:10,y:48}),Client.GameManager.instance.level.setSimpleTween(this.part2,19,{x:24,y:27,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.part3,19,{y:13,skX:-37,skY:-37}),Client.GameManager.instance.level.setSimpleTween(this.part4,19,{x:1,skX:-64,skY:-64})):20===this.counterAnim&&this.animComplete():"anim2"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,20,{x:19,y:42}),Client.GameManager.instance.level.setSimpleTween(this.part2,20,{x:27,y:21,skX:-37,skY:-37}),Client.GameManager.instance.level.setSimpleTween(this.part3,20,{y:11,skX:-46,skY:-46}),Client.GameManager.instance.level.setSimpleTween(this.part4,20,{x:0,skX:-62,skY:-62})):21===this.counterAnim&&this.animComplete():"anim3"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,16,{x:30,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.part3,16,{x:12,y:15,skX:-66,skY:-66}),Client.GameManager.instance.level.setSimpleTween(this.part4,16,{x:2,y:3})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:-1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:15,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-1,y:12}),Client.GameManager.instance.level.setSimpleTween(this.part4,4,{x:-6,y:-3,skX:-56,skY:-56})):21===this.counterAnim&&this.animComplete():"anim4"===this.currAnim?2===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,18,{x:-11,y:55}),Client.GameManager.instance.level.setSimpleTween(this.part2,18,{x:8,y:36,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.part3,18,{x:-10,y:22,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.part4,18,{x:-9,y:9,skX:-46,skY:-46})):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,2,{x:-3,y:57,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,2,{x:14,y:37,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.part3,2,{x:-6,y:23}),Client.GameManager.instance.level.setSimpleTween(this.part4,2,{x:-6,skX:-51,skY:-51})):22===this.counterAnim&&this.animComplete():"anim5"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,3,{x:10,y:59,skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:39,y:35,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.part3,9,{x:11,y:25,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.part4,9,{x:6,y:7,skX:-73,skY:-73})):4===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:36,y:52,skX:5,skY:5}):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:-1,y:81,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:10,y:51,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-8,y:29,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.part4,12,{x:-17,skX:-31,skY:-31})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:-35,y:82,skX:-91,skY:-91}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-23,y:53,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-28,y:25,skX:14,skY:14})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,11,{x:-42,y:70}),Client.GameManager.instance.level.setSimpleTween(this.part2,24,{x:-30,y:32,skX:48,skY:48}),Client.GameManager.instance.level.setSimpleTween(this.part3,24,{x:-35,y:12,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part4,24,{x:-27,y:1,skX:-11,skY:-11})):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,13,{x:-49,y:52,skX:-92,skY:-92}):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,11,{x:-44,y:67,skX:-91,skY:-91}),Client.GameManager.instance.level.setSimpleTween(this.part2,24,{x:-23,y:53,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.part3,24,{x:-28,y:25,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part4,24,{x:-17,y:7,skX:-31,skY:-31})):57===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,13,{x:-35,y:82}):86===this.counterAnim&&this.animComplete()))},Lvl13DragonLegBack.prototype.setParts=function(value){"anim1"===value?(this.setPart(this.part1,{x:19,y:42,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:27,y:21,angle:0,scX:.99,scY:.99,skX:-37,skY:-37,alpha:1}),this.setPart(this.part3,{x:3,y:11,angle:0,scX:.99,scY:.99,skX:-46,skY:-46,alpha:1}),this.setPart(this.part4,{x:0,y:-5,angle:0,scX:.99,scY:.99,skX:-62,skY:-62,alpha:1})):"anim2"===value?(this.setPart(this.part1,{x:10,y:48,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:24,y:27,angle:0,scX:.99,scY:.99,skX:-20,skY:-20,alpha:1}),this.setPart(this.part3,{x:3,y:13,angle:0,scX:.99,scY:.99,skX:-37,skY:-37,alpha:1}),this.setPart(this.part4,{x:1,y:-5,angle:0,scX:.99,scY:.99,skX:-64,skY:-64,alpha:1})):"anim3"===value?(this.setPart(this.part1,{x:19,y:42,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:27,y:21,angle:0,scX:.99,scY:.99,skX:-37,skY:-37,alpha:1}),this.setPart(this.part3,{x:3,y:11,angle:0,scX:.99,scY:.99,skX:-46,skY:-46,alpha:1}),this.setPart(this.part4,{x:0,y:-5,angle:0,scX:.99,scY:.99,skX:-62,skY:-62,alpha:1})):"anim4"===value?(this.setPart(this.part1,{x:-1,y:42,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:15,y:21,angle:0,scX:.99,scY:.99,skX:-15,skY:-15,alpha:1}),this.setPart(this.part3,{x:-1,y:12,angle:0,scX:.99,scY:.99,skX:-66,skY:-66,alpha:1}),this.setPart(this.part4,{x:-6,y:-3,angle:0,scX:.99,scY:.99,skX:-56,skY:-56,alpha:1})):"anim5"===value&&(this.setPart(this.part1,{x:-3,y:57,angle:0,scX:.99,scY:.99,skX:1,skY:1,alpha:1}),this.setPart(this.part2,{x:14,y:37,angle:0,scX:.99,scY:.99,skX:-13,skY:-13,alpha:1}),this.setPart(this.part3,{x:-6,y:23,angle:0,scX:.99,scY:.99,skX:-39,skY:-39,alpha:1}),this.setPart(this.part4,{x:-6,y:9,angle:0,scX:.99,scY:.99,skX:-51,skY:-51,alpha:1}))},Lvl13DragonLegBack.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.part1_1=null,this.part2_1=null,this.part3_1=null,this.part4_1=null},Lvl13DragonLegBack})(Client.BasicDragon);Client.Lvl13DragonLegBack=Lvl13DragonLegBack})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonLegFront=(_super=>{function Lvl13DragonLegFront(game,idLeg){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part3=new Client.SASprite(game,0,0,"dragon","fLeg3 instance 10000"),_this.part3.pivot.set(21,19),_this.group.addChild(_this.part3),_this.part3_1=game.make.sprite(0,0,"dragon","fLeg"+idLeg+"_3 instance 10000"),_this.part3.addChild(_this.part3_1),_this.part2=new Client.SASprite(game,0,0,"dragon","fLeg2 instance 10000"),_this.part2.pivot.set(16,8),_this.group.addChild(_this.part2),_this.part2_1=game.make.sprite(0,0,"dragon","fLeg"+idLeg+"_2 instance 10000"),_this.part2.addChild(_this.part2_1),_this.part1=new Client.SASprite(game,0,0,"dragon","fLeg1 instance 10000"),_this.part1.pivot.set(15,29),_this.group.addChild(_this.part1),_this.part1_1=game.make.sprite(0,0,"dragon","fLeg"+idLeg+"_1 instance 10000"),_this.part1.addChild(_this.part1_1),_this.setParts("anim1"),_this}return __extends(Lvl13DragonLegFront,_super),Lvl13DragonLegFront.prototype.goNormal=function(){Client.GameManager.instance.level.setSimpleTween(this.part1_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part3_1,this.goNormalTime,{alpha:0})},Lvl13DragonLegFront.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim1"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,19,{x:8,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.part2,19,{x:-26,y:29,skX:-1,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.part3,19,{x:5,y:10,skX:24,skY:24})):20===this.counterAnim&&this.animComplete():"anim2"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,20,{x:9,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.part2,20,{x:-15,y:41,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,20,{x:10,y:14,skX:4,skY:4})):21===this.counterAnim&&this.animComplete():"anim3"===this.currAnim?1===this.counterAnim?(this.setPart(this.part1,{x:9,y:-14,angle:0,scX:.99,scY:.99,skX:-11,skY:-11,alpha:1}),this.setPart(this.part2,{x:-15,y:41,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:10,y:14,angle:0,scX:.99,scY:.99,skX:4,skY:4,alpha:1})):2===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,13,{x:13,y:-16,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.part2,13,{x:-15,y:29}),Client.GameManager.instance.level.setSimpleTween(this.part3,13,{x:14,y:7,skX:17,skY:17})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:11,y:-15,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-16,y:33}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:11,y:10,skX:13,skY:13})):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,2,{x:10,y:-14,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.part2,2,{x:-15,y:37,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part3,2,{x:10,y:12,skX:8,skY:8})):22===this.counterAnim&&this.animComplete():"anim4"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:4,y:-13,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:-9,y:54,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.part3,9,{x:5,y:23,skX:-17,skY:-17})):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,12,{x:-7,skX:27,skY:27}),Client.GameManager.instance.level.setSimpleTween(this.part2,12,{x:-47,y:40,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.part3,12,{x:-23,y:15,skX:20,skY:20})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,24,{x:-5,skX:24,skY:24}),Client.GameManager.instance.level.setSimpleTween(this.part2,24,{x:-49,y:14,skX:-69,skY:-69}),Client.GameManager.instance.level.setSimpleTween(this.part3,24,{x:-21,y:5,skX:55,skY:55})):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,22,{x:-7,skX:27,skY:27}),Client.GameManager.instance.level.setSimpleTween(this.part2,22,{x:-47,y:40,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.part3,22,{x:-23,y:15,skX:20,skY:20})):101===this.counterAnim&&this.animComplete()))},Lvl13DragonLegFront.prototype.setParts=function(value){"anim1"===value?(this.setPart(this.part1,{x:9,y:-14,angle:0,scX:.99,scY:.99,skX:-11,skY:-11,alpha:1}),this.setPart(this.part2,{x:-15,y:41,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:10,y:14,angle:0,scX:.99,scY:.99,skX:4,skY:4,alpha:1})):"anim2"===value?(this.setPart(this.part1,{x:8,y:-14,angle:0,scX:.99,scY:.99,skX:-8,skY:-8,alpha:1}),this.setPart(this.part2,{x:-26,y:29,angle:0,scX:.99,scY:.99,skX:-1,skY:-1,alpha:1}),this.setPart(this.part3,{x:5,y:10,angle:0,scX:.99,scY:.99,skX:24,skY:24,alpha:1})):"anim3"===value?(this.setPart(this.part1,{x:9,y:-14,angle:0,scX:.99,scY:.99,skX:-11,skY:-11,alpha:1}),this.setPart(this.part2,{x:-15,y:41,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:10,y:14,angle:0,scX:.99,scY:.99,skX:4,skY:4,alpha:1})):"anim4"===value&&(this.setPart(this.part1,{x:10,y:-14,angle:0,scX:.99,scY:.99,skX:-13,skY:-13,alpha:1}),this.setPart(this.part2,{x:-15,y:37,angle:0,scX:.99,scY:.99,skX:-2,skY:-2,alpha:1}),this.setPart(this.part3,{x:10,y:12,angle:0,scX:.99,scY:.99,skX:8,skY:8,alpha:1}))},Lvl13DragonLegFront.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null,this.part1_1=null,this.part2_1=null,this.part3_1=null},Lvl13DragonLegFront})(Client.BasicDragon);Client.Lvl13DragonLegFront=Lvl13DragonLegFront})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonMage=(_super=>{function Lvl13DragonMage(game){for(var sprite,_this=_super.call(this,game)||this,frmae=(_this.updateFireBall=!1,_this.magDied=!1,_this.explodeHeroCount=0,_this.game=game,_this.group=new Client.SAGroup(game,0,0),_this.base=new Client.SASprite(game,0,0,"dragon","dragonMageBase instance 10000"),_this.base.pivot.set(55,33),_this.group.addChild(_this.base),_this.eyes=new Client.SASprite(game,0,0,"dragon","dragonMageEyes instance 10000"),_this.eyes.pivot.set(14,24),_this.eyes.animations.add("anim",Phaser.Animation.generateFrameNames("dragonMageEyes instance 1",0,107,"",4),30,!0),_this.eyes.animations.add("eated",Phaser.Animation.generateFrameNames("dragonMageEyes instance 1",108,117,"",4),30,!1),_this.eyes.animations.play("anim"),_this.group.addChild(_this.eyes),_this.hat=new Client.SASprite(game,0,0,"dragon","dragonMageHat instance 10000"),_this.hat.pivot.set(23,87),_this.group.addChild(_this.hat),_this.scepter=new Client.SASprite(game,0,0,"dragon","dragonMageScepter instance 10000"),_this.scepter.pivot.set(22,59),_this.group.addChild(_this.scepter),_this.brown=new Client.SASprite(game,0,0,"dragon","dragonMageBrown instance 10000"),_this.brown.pivot.set(12,24),_this.brown.animations.add("anim",Phaser.Animation.generateFrameNames("dragonMageBrown instance 1",0,107,"",4),30,!0),_this.brown.animations.play("anim"),_this.group.addChild(_this.brown),_this.cast=new Client.SASprite(game,28,28,"dragon","mageCast instance 10000"),_this.cast.pivot.set(38,38),_this.cast.animations.add("anim",Phaser.Animation.generateFrameNames("mageCast instance 1",0,22,"",4),30,!1).onComplete.add(_this.goMagBall,_this),_this.cast.animations.add("anim2",Phaser.Animation.generateFrameNames("mageCast instance 1",23,44,"",4),30,!1),_this.scepter.addChild(_this.cast),_this.cast.visible=!1,_this.fireBall=Client.GameManager.instance.layerUpper.create(0,0,"level13"),_this.fireBall.anchor.setTo(.6,.5),_this.fireBall.animations.add("anim",Phaser.Animation.generateFrameNames("magBall instance 1",0,7,"",4),30,!0),_this.fireBall.visible=!1,0),i=0;i<6;i++)(sprite=game.make.sprite(0,26*Math.random()-13,"level13")).anchor.y=.5,sprite.pivot.x=-10,sprite.animations.add("anim",Phaser.Animation.generateFrameNames("magicPinkPart instance 1",0,29,"",4),Client.Tools.random(50,80),!1).onComplete.add(function(q,data){q.y=26*Math.random()-13,q.scale.setTo(.5+.5*Math.random()),q.animations.play("anim")},_this),sprite.animations.play("anim"),sprite.animations.currentAnim.frame=frmae,sprite.angle=180,sprite.scale.setTo(.5+.5*Math.random()),_this.fireBall.addChild(sprite),frmae+=5;sprite=null,_this.bodyFireBall=new Phaser.Physics.Box2D.Body(game,null,-100,-100,1),_this.bodyFireBall.setCircle(14),_this.bodyFireBall.sensor=!0,_this.bodyFireBall.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.explodeHero,_this),_this.fireBallExploading=Client.GameManager.instance.layerUpper.create(0,0,"level13"),_this.fireBallExploading.anchor.setTo(.5),_this.fireBallExploading.animations.add("anim",Phaser.Animation.generateFrameNames("magicExplosion instance 1",0,30,"",4),30,!1),_this.fireBallExploading.visible=!1,_this.bodyQuestCar=new Phaser.Physics.Box2D.Body(game,null,355,248,2),_this.bodyQuestCar.setCircle(25),_this.bodyQuestCar.sensor=!0;var body=new Phaser.Physics.Box2D.Body(game,null,355,248,0);return body.setRectangle(4,4),body.sensor=!0,game.physics.box2d.revoluteJoint(_this.bodyQuestCar,body),body=null,_this.bodyFireBall.setBodyContactCallback(_this.bodyQuestCar,_this.explodeHero,_this),_this.setParts("magDies"),_this}return __extends(Lvl13DragonMage,_super),Lvl13DragonMage.prototype.setScepter=function(x,y){this.group.removeChild(this.scepter),this.scepter.x=x+this.group.x+this.scepter.x-47,this.scepter.y=y+this.group.y+this.scepter.y,this.scepter.skX=0,this.scepter.skY=0,this.scepter.scale.x=-1,this.scepter.pivot.set(0,0),Client.GameManager.instance.layerUpper.addChildAt(this.scepter,Client.GameManager.instance.layerUpper.getChildIndex(this.hat)+1),this.game.physics.box2d.enable(this.scepter,!1),this.scepter.body.setRectangle(18,100,0,0,Client.Tools.toRad(-20)),this.scepter.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.scepter.body.angle=-8,this.scepter.inputEnabled=!0,this.scepter.input.useHandCursor=!0,this.scepter.events.onInputOut.add(this.scepterOut,this),this.scepter.events.onInputOver.add(this.scepterOver,this),this.scepter.events.onInputDown.add(this.scepterDown,this),this.cast.x=8,this.cast.y=-34},Lvl13DragonMage.prototype.scepterOut=function(){!0===this.scepter.inputEnabled&&(this.scepter.frameName="dragonMageScepter instance 10000")},Lvl13DragonMage.prototype.scepterOver=function(){!0===this.scepter.inputEnabled&&(this.scepter.frameName="dragonMageScepter instance 10001")},Lvl13DragonMage.prototype.scepterDown=function(){this.scepter.inputEnabled=!1,this.scepter.frameName="dragonMageScepter instance 10002",this.shoot(),Client.SoundManager.playSFX("s_enemymagAttack")},Lvl13DragonMage.prototype.explodeHero=function(){0===this.explodeHeroCount&&(this.explodeHeroCount=1)},Lvl13DragonMage.prototype.explodeComp=function(){!1===this.magDied?Client.GameManager.instance.level.customAction(4):Client.GameManager.instance.level.customAction(5)},Lvl13DragonMage.prototype.shoot=function(){this.cast.visible=!0,this.cast.animations.play("anim")},Lvl13DragonMage.prototype.goMagBall=function(){var imp;this.cast.animations.play("anim2"),!(this.updateFireBall=!0)===this.magDied?(this.bodyFireBall.x=90,this.bodyFireBall.y=295,this.bodyFireBall.velocity.x=180,this.bodyFireBall.velocity.y=12,this.bodyFireBall.angle=15):(this.bodyFireBall.x=this.scepter.body.x-30,this.bodyFireBall.y=this.scepter.body.y,this.bodyFireBall.angle=Client.Tools.toDeg(Client.Tools.angleOfPoints(this.bodyQuestCar.x,this.bodyQuestCar.y,this.scepter.body.x,this.scepter.body.y))-180,(imp=this.bodyQuestCar.data.GetPosition()).SelfSub(this.bodyFireBall.data.GetPosition()),imp.SelfMul(.8),this.bodyFireBall.data.SetLinearVelocity(imp)),this.fireBall.visible=!0,this.fireBall.animations.play("anim")},Lvl13DragonMage.prototype.update=function(){_super.prototype.update.call(this),!0===this.updateFireBall&&(this.fireBall.x=this.bodyFireBall.x,this.fireBall.y=this.bodyFireBall.y,this.fireBall.angle=this.bodyFireBall.angle,850<this.bodyFireBall.x)&&this.deactivateFireBall(),1===this.explodeHeroCount&&(this.explodeHeroCount=2,this.fireBallExploading.x=this.bodyFireBall.x,this.fireBallExploading.y=this.bodyFireBall.y,this.fireBallExploading.visible=!0,this.fireBallExploading.animations.play("anim"),this.explodeComp(),this.deactivateFireBall())},Lvl13DragonMage.prototype.deactivateFireBall=function(){this.bodyFireBall.x=-100,this.bodyFireBall.y=-100,this.bodyFireBall.velocity.x=0,this.bodyFireBall.velocity.y=0,this.updateFireBall=!1,this.fireBall.visible=!1,this.fireBall.animations.stop("anim",!0)},Lvl13DragonMage.prototype.eated=function(){this.playAnim("eated"),this.eyes.animations.play("eated")},Lvl13DragonMage.prototype.onAnimComplete=function(){"eated"===this.currAnim&&(this.brown.visible=!1,this.eyes.visible=!1,this.base.visible=!1)},Lvl13DragonMage.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"magDies"===this.currAnim?2===this.counterAnim?(this.magDied=!0,this.cast.visible=!1,this.cast.animations.stop("anim",!0),Client.GameManager.instance.level.setSimpleTween(this.brown,8,{x:-103,y:-13,skX:-60,skY:-60}),Client.GameManager.instance.level.setSimpleTween(this.hat,6,{x:this.hatOffX-22,y:this.hatOffY-59,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.eyes,8,{x:-105,y:-11,skX:-47,skY:-47,scX:.59,scY:.59}),Client.GameManager.instance.level.setSimpleTween(this.base,8,{x:-89,y:-22,skX:-54,skY:-54,scX:.55,scY:.55})):8===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,17,{x:this.hatOffX-28,y:this.hatOffY+203,skX:5,skY:5}):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,7,{x:-138,y:100,skX:-129,skY:-129}),Client.GameManager.instance.level.setSimpleTween(this.eyes,7,{x:-138,y:103,skX:-120,skY:-120,scX:.6}),Client.GameManager.instance.level.setSimpleTween(this.base,7,{x:-142,y:84,skX:-121,skY:-121})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,4,{x:-137,y:175,skX:-149,skY:-149}),Client.GameManager.instance.level.setSimpleTween(this.eyes,4,{y:175,skX:-154,skY:-154}),Client.GameManager.instance.level.setSimpleTween(this.base,4,{x:-151,y:162,skX:-154,skY:-154})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,4,{x:-141,y:184,skX:-181,skY:-181}),Client.GameManager.instance.level.setSimpleTween(this.eyes,4,{x:-142,y:185,skX:-186,skY:-186}),Client.GameManager.instance.level.setSimpleTween(this.base,4,{x:-160,y:180,skX:-186,skY:-186})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,5,{x:-145,y:185,scX:.81,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:-148,skX:171,skY:171}),Client.GameManager.instance.level.setSimpleTween(this.base,5,{x:-167,y:181,skX:171,skY:171})):30===this.counterAnim?this.setPart(this.eyes,{x:-148,y:185,angle:0,scX:.6,scY:.59,skX:171,skY:171,alpha:1}):31===this.counterAnim&&this.animComplete():"eated"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,3,{x:-176,y:99,skX:165,skY:165}),Client.GameManager.instance.level.setSimpleTween(this.eyes,3,{x:-176,y:99,skX:163,skY:156}),Client.GameManager.instance.level.setSimpleTween(this.base,3,{x:-195,y:97,skX:161,skY:161})):4===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,3,{x:-163,y:13,skX:-165,skY:-165,scX:.7,scY:.7}),Client.GameManager.instance.level.setSimpleTween(this.eyes,3,{x:-163,y:12,skX:-167,skY:-174}),Client.GameManager.instance.level.setSimpleTween(this.base,3,{x:-175,y:0,skX:-165,skY:-165})):7===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,6,{x:-157,y:-76,skX:-120,skY:-120}),Client.GameManager.instance.level.setSimpleTween(this.eyes,6,{x:-155,y:-77,skX:-122,skY:-129}),Client.GameManager.instance.level.setSimpleTween(this.base,6,{x:-155,y:-94,skX:-121,skY:-121})):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,6,{x:-113,y:2,skX:-135,skY:-135,scX:.49,scY:.49}),Client.GameManager.instance.level.setSimpleTween(this.eyes,6,{x:-112,y:2,scX:.44,scY:.44}),Client.GameManager.instance.level.setSimpleTween(this.base,6,{x:-115,y:-10,skX:-132,skY:-132,scX:.36,scY:.36})):19===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brown,2,{x:-98,y:19,skX:-141,skY:-141}),Client.GameManager.instance.level.setSimpleTween(this.eyes,2,{x:-97,y:18,skX:-137,skY:-144}),Client.GameManager.instance.level.setSimpleTween(this.base,2,{x:-102,y:9,skX:-151,skY:-151})):22===this.counterAnim&&this.animComplete()))},Lvl13DragonMage.prototype.setParts=function(value){"magDies"===value?(this.setPart(this.brown,{x:-44,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.scepter,{x:18,y:5,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}),this.setPart(this.hat,{x:-38,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eyes,{x:-43,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.base,{x:-17,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"eated"===value&&(this.setPart(this.brown,{x:-145,y:180,angle:0,scX:.81,scY:.81,skX:180,skY:180,alpha:1}),this.setPart(this.eyes,{x:-148,y:180,angle:0,scX:.6,scY:.59,skX:178,skY:171,alpha:1}),this.setPart(this.base,{x:-167,y:176,angle:0,scX:.55,scY:.55,skX:171,skY:171,alpha:1}))},Lvl13DragonMage.prototype.free=function(){this.game=null,this.group=null,this.base=null,this.eyes=null,this.hat=null,this.scepter=null,this.brown=null,this.cast=null,this.fireBall=null,this.bodyFireBall=null,this.fireBallExploading=null,this.bodyQuestCar=null},Lvl13DragonMage})(Client.BasicDragon);Client.Lvl13DragonMage=Lvl13DragonMage})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonTors=(_super=>{function Lvl13DragonTors(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.tors=new Client.SASprite(game,0,0,"dragon","tors instance 10000"),_this.tors.pivot.set(61,39),_this.group.addChild(_this.tors),_this.tors_1=game.make.sprite(0,0,"dragon","tors_1 instance 10000"),_this.tors.addChild(_this.tors_1),_this.tail1=new Client.SASprite(game,0,0,"dragon","tail1 instance 10000"),_this.tail1.pivot.set(27,28),_this.group.addChild(_this.tail1),_this.tail1_1=game.make.sprite(0,0,"dragon","tail1_1 instance 10000"),_this.tail1.addChild(_this.tail1_1),_this.tail2=new Client.SASprite(game,0,0,"dragon","tail2 instance 10000"),_this.tail2.pivot.set(20,21),_this.group.addChild(_this.tail2),_this.tail2_1=game.make.sprite(0,0,"dragon","tail2_1 instance 10000"),_this.tail2.addChild(_this.tail2_1),_this.tail3=new Client.SASprite(game,0,0,"dragon","tail3 instance 10000"),_this.tail3.pivot.set(18,15),_this.group.addChild(_this.tail3),_this.tail3_1=game.make.sprite(0,0,"dragon","tail3_1 instance 10000"),_this.tail3.addChild(_this.tail3_1),_this.tail4=new Client.SASprite(game,0,0,"dragon","tail4 instance 10000"),_this.tail4.pivot.set(19,12),_this.group.addChild(_this.tail4),_this.tail4_1=game.make.sprite(0,0,"dragon","tail4_1 instance 10000"),_this.tail4.addChild(_this.tail4_1),_this.tail5=new Client.SASprite(game,0,0,"dragon","tail5 instance 10000"),_this.tail5.pivot.set(18,14),_this.group.addChild(_this.tail5),_this.tail5_1=game.make.sprite(0,0,"dragon","tail5_1 instance 10000"),_this.tail5.addChild(_this.tail5_1),_this.tail6=new Client.SASprite(game,0,0,"dragon","tail6 instance 10000"),_this.tail6.pivot.set(16,12),_this.group.addChild(_this.tail6),_this.tail6_1=game.make.sprite(0,0,"dragon","tail6_1 instance 10000"),_this.tail6.addChild(_this.tail6_1),_this.tail7=new Client.SASprite(game,0,0,"dragon","tail7 instance 10000"),_this.tail7.pivot.set(14,43),_this.group.addChild(_this.tail7),_this.tail7_1=game.make.sprite(0,0,"dragon","tail7_1 instance 10000"),_this.tail7.addChild(_this.tail7_1),_this.neck3=new Client.SASprite(game,0,0,"dragon","neck3 instance 10000"),_this.neck3.pivot.set(23,36),_this.group.addChild(_this.neck3),_this.neck3_1=game.make.sprite(1,1,"dragon","neck3_1 instance 10000"),_this.neck3.addChild(_this.neck3_1),_this.neck2=new Client.SASprite(game,0,0,"dragon","neck2 instance 10000"),_this.neck2.pivot.set(23,38),_this.group.addChild(_this.neck2),_this.neck2_1=game.make.sprite(0,0,"dragon","neck2_1 instance 10000"),_this.neck2.addChild(_this.neck2_1),_this.neck1=new Client.SASprite(game,0,0,"dragon","neck1 instance 10000"),_this.neck1.pivot.set(19,29),_this.group.addChild(_this.neck1),_this.neck1_1=game.make.sprite(0,0,"dragon","neck1_1 instance 10000"),_this.neck1.addChild(_this.neck1_1),_this.head=new Client.Lvl13DragonHead(game),_this.group.addChild(_this.head.group),_this.setParts("shoot"),_this}return __extends(Lvl13DragonTors,_super),Lvl13DragonTors.prototype.goNormal=function(){this.head.goNormal(),Client.GameManager.instance.level.setSimpleTween(this.tors_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail1_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail3_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail4_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail5_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail6_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.tail7_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.neck3_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.neck2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.neck1_1,this.goNormalTime,{alpha:0})},Lvl13DragonTors.prototype.shoot=function(){this.playAnim("shoot")},Lvl13DragonTors.prototype.magDies=function(){this.playAnim("magDies"),this.head.playAnim("nom")},Lvl13DragonTors.prototype.flyAway=function(){this.playAnim("flyAway"),this.head.flyAway()},Lvl13DragonTors.prototype.update=function(){_super.prototype.update.call(this),this.head.update()},Lvl13DragonTors.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"shoot"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,4,{x:-178,y:0,skX:-30,skY:-30,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck1,4,{x:-146,y:14,skX:-76,skY:-76,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck2,4,{x:-114,y:26,skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.neck3,4,{x:-98,y:36,skX:-26,skY:-26,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail7,4,{x:122,y:-6,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.tail6,4,{x:125,y:43,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tail5,4,{x:108,y:59,skX:-28,skY:-28,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail4,4,{x:85,y:73,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tail3,4,{x:62,y:70,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.tail2,4,{x:27,y:65,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.tail1,4,{x:8,y:49,skX:-7,skY:-7,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tors,4,{x:-48,y:52,skX:2,skY:2})):5===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-180,y:29,skX:-22,skY:-22,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-149,y:38,skX:-105,skY:-105}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-116,y:36,skX:-72,skY:-72}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-99,y:42,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:93,y:-39,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:115,y:7,skX:-60,skY:-60}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:106,y:28,skX:-51,skY:-51}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{x:89,y:49,skX:-51,skY:-51}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:65,y:53,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:31,y:55,skX:-40,skY:-40}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{x:9,y:43,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-46,y:55,skX:-6,skY:-6})):10===this.counterAnim?(this.head.playAnim("shoot"),Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-179,y:56,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-146,y:67,skX:-104,skY:-104}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{y:61,skX:-85,skY:-85}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-97,y:62,skX:-60,skY:-60}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:81,y:-56,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:108,y:-12,skX:-64,skY:-64}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:102,y:10,skX:-61,skY:-61}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{y:34,skX:-61,skY:-61}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:66,y:41,skX:-48,skY:-48,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:32,y:49,skX:-48,skY:-48}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{y:39,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-45,y:57,skX:-11,skY:-11})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-168,y:83,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-142,y:97,skX:-103,skY:-103,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-108,y:86,skX:-98,skY:-98}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-90,y:82,skX:-88,skY:-88}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:67,y:-71,skX:-56,skY:-56}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:98,y:-30,skX:-69,skY:-69}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:95,y:-6,skX:-71,skY:-71,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{x:87,y:19,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:65,y:31,skX:-58,skY:-58,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:33,y:43,skX:-56,skY:-56}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{x:10,y:35,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-44,y:58,skX:-16,skY:-16})):60===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-179,y:56,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-146,y:67,skX:-104,skY:-104,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-116,y:61,skX:-85,skY:-85}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-97,y:62,skX:-60,skY:-60}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:81,y:-56,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:108,y:-12,skX:-64,skY:-64}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:102,y:10,skX:-61,skY:-61,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{x:89,y:34,skX:-61,skY:-61}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:66,y:41,skX:-48,skY:-48,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:32,y:49,skX:-48,skY:-48}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{x:9,y:39,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-45,y:57,skX:-11,skY:-11})):65===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-180,y:29,skX:-22,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-149,y:38,skX:-105,skY:-105}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{y:36,skX:-72,skY:-72}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-99,y:42,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:93,y:-39,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:115,y:7,skX:-60,skY:-60}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:106,y:28,skX:-51,skY:-51}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{y:49,skX:-51,skY:-51}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:65,y:53,skX:-39,skY:-39,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:31,y:55,skX:-40,skY:-40}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{y:43,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-46,y:55,skX:-6,skY:-6})):70===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-178,y:0,skX:-30,skY:-30,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-146,y:14,skX:-76,skY:-76}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-114,y:26,skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-98,y:36,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:122,y:-6,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:125,y:43,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:108,y:59,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{x:85,y:73,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:62,y:70,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:27,y:65,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{x:8,y:49,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-48,y:52,skX:2,skY:2})):75===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-158,y:-32,skX:-41,skY:-41,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-131,y:-13,skX:-38,skY:-38}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-108,y:13,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-97,y:29,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.tail7,5,{x:141,y:54,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.tail6,5,{x:123,y:95,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.tail5,5,{x:99,y:100,skX:3,skY:3,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail4,5,{x:72,y:102,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tail3,5,{x:52,y:92,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.tail2,5,{x:21,y:76,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.tail1,5,{x:6,y:56,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-50,y:48,skX:12,skY:12})):80===this.counterAnim&&this.animComplete():"magDies"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,41,{scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck2,41,{y:14}),Client.GameManager.instance.level.setSimpleTween(this.tail7,41,{y:53})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{x:-186,y:15,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.neck1,10,{x:-151,y:18,skX:-83,skY:-83}),Client.GameManager.instance.level.setSimpleTween(this.neck2,10,{x:-117,y:23,skX:-67,skY:-67}),Client.GameManager.instance.level.setSimpleTween(this.neck3,10,{x:-99,y:31,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.tail7,10,{x:134,y:19,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.tail6,10,{y:68,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.tail5,10,{x:103,y:81,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.tail4,10,{x:79,y:91,skX:-22,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.tail3,10,{x:56,y:84,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.tail2,10,{x:23,y:74,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.tail1,10,{y:54,skX:3,skY:3})):52===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{x:-180,y:67,skX:-74,skY:-74}),Client.GameManager.instance.level.setSimpleTween(this.neck1,10,{x:-149,y:53,skX:-128,skY:-128}),Client.GameManager.instance.level.setSimpleTween(this.neck2,10,{x:-119,y:35,skX:-102,skY:-102}),Client.GameManager.instance.level.setSimpleTween(this.neck3,10,{x:-102,y:33,skX:-47,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.tail7,10,{x:116,y:-10,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.tail6,10,{x:117,y:43,skX:-45,skY:-45}),Client.GameManager.instance.level.setSimpleTween(this.tail5,10,{x:104,y:62,skX:-38,skY:-38,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail4,10,{x:83,y:78,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.tail3,10,{x:59,y:77,skX:-26,skY:-26,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail2,10,{x:25,y:71,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.tail1,10,{y:53,skX:-2,skY:-2})):62===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,3,{x:-182,y:2,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.neck1,7,{x:-124,y:-31,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.neck2,7,{x:-102,y:-4,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.neck3,7,{x:-93,y:12,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.tail7,7,{x:141,y:53,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.tail6,7,{x:122,y:95,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.tail5,7,{x:99,y:100,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.tail4,7,{x:73,y:102,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tail3,7,{x:52,y:92,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.tail2,7,{x:21,y:76,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.tail1,7,{x:5,y:56,skX:7,skY:7})):65===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.head.group,4,{x:-128,y:-63,skX:51,skY:51}):69===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tail6,39,{x:123}),Client.GameManager.instance.level.setSimpleTween(this.tail5,39,{scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail4,39,{x:72}),Client.GameManager.instance.level.setSimpleTween(this.tail3,39,{scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail1,39,{x:6,scX:1,scY:1})):83===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-150,y:-48,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-129,y:-20,skX:-38,skY:-38}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-106,y:7,skX:-29,skY:-29}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-95,y:23,skX:-15,skY:-15})):88===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-158,y:-32,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-131,y:-13}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-108,y:14,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-97,y:29,skX:-19,skY:-19})):108===this.counterAnim&&this.animComplete():"flyAway"===this.currAnim&&(12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,3,{x:-164,y:-4,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.neck1,3,{x:-134,y:8,skX:-102,skY:-102}),Client.GameManager.instance.level.setSimpleTween(this.neck2,3,{x:-102,y:12,skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.neck3,3,{x:-84,y:20,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.tail7,3,{x:150,y:-16,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.tail6,3,{x:138,y:34,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tail5,3,{x:119,y:46,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.tail4,3,{x:92,y:57,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.tail3,3,{x:70,y:55,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.tail2,3,{x:46,y:54,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.tail1,3,{x:18,y:42,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.tors,3,{x:-34,y:46,skX:6,skY:6})):71===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,24,{x:-131,y:-63,skX:29,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.neck1,24,{x:-117,y:-35,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.neck2,24,{x:-91,y:-13,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.neck3,24,{x:-81,y:3,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.tail7,24,{x:177,y:74,skX:41,skY:41,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail6,24,{x:133,y:102,skX:23,skY:23}),Client.GameManager.instance.level.setSimpleTween(this.tail5,24,{x:110,y:97,skX:23,skY:23,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail4,24,{x:85,y:88,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.tail3,24,{x:67,y:76,skX:12,skY:12,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail2,24,{x:42,y:60,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.tail1,24,{x:20,y:38,skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.tors,24,{x:-35,y:36})):95===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,7,{x:-119,y:-76,skX:36,skY:36,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck1,7,{x:-110,y:-48,skX:-49,skY:-49,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck2,7,{x:-86,y:-21,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.neck3,7,{x:-78,y:-5,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.tail7,29,{x:154,y:162,skX:93,skY:93,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail6,29,{x:105,y:146,skX:72,skY:72}),Client.GameManager.instance.level.setSimpleTween(this.tail5,29,{x:87,y:128,skX:51,skY:51}),Client.GameManager.instance.level.setSimpleTween(this.tail4,29,{x:65,y:113,skX:33,skY:33}),Client.GameManager.instance.level.setSimpleTween(this.tail3,29,{x:55,y:93,skX:38,skY:38}),Client.GameManager.instance.level.setSimpleTween(this.tail2,29,{x:34,y:71,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.tail1,29,{x:16,y:46,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.tors,29,{y:31,skX:19,skY:19})):102===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,7,{x:-117,y:-80,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.neck1,22,{x:-99,y:-56,skX:-38,skY:-38,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.neck2,22,{x:-81,y:-26,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.neck3,22,{x:-76,y:-9,skX:0,skY:0})):109===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.head.group,15,{x:-113,y:-87,skX:17,skY:17,scX:.99,scY:.99}):124===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,24,{x:-117,skX:13,skY:13}),Client.GameManager.instance.level.setSimpleTween(this.neck1,24,{x:-103,skX:-37,skY:-37,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck2,24,{x:-83,y:-27,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.neck3,24,{y:-11,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.tail7,24,{x:177,y:103,skX:55,skY:55}),Client.GameManager.instance.level.setSimpleTween(this.tail6,24,{x:128,y:117,skX:43,skY:43}),Client.GameManager.instance.level.setSimpleTween(this.tail5,24,{x:105,y:107,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.tail4,24,{x:80,y:97,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.tail3,24,{x:65,y:80,skX:23,skY:23}),Client.GameManager.instance.level.setSimpleTween(this.tail2,24,{x:40,y:64,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tail1,24,{y:44,skX:-3,skY:-3})):148===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,24,{x:-113,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.neck1,24,{x:-99,skX:-38,skY:-38,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.neck2,24,{x:-81,y:-26,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.neck3,24,{y:-9,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tail7,24,{x:154,y:162,skX:93,skY:93}),Client.GameManager.instance.level.setSimpleTween(this.tail6,24,{x:105,y:146,skX:72,skY:72}),Client.GameManager.instance.level.setSimpleTween(this.tail5,24,{x:87,y:128,skX:51,skY:51}),Client.GameManager.instance.level.setSimpleTween(this.tail4,24,{x:65,y:113,skX:33,skY:33}),Client.GameManager.instance.level.setSimpleTween(this.tail3,24,{x:55,y:93,skX:38,skY:38}),Client.GameManager.instance.level.setSimpleTween(this.tail2,24,{x:34,y:71,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.tail1,24,{y:46,skX:9,skY:9})):206===this.counterAnim&&this.animComplete()))},Lvl13DragonTors.prototype.setParts=function(value){"shoot"===value?(this.setPart(this.head.group,{x:-158,y:-32,angle:0,scX:.99,scY:.99,skX:-41,skY:-41,alpha:1}),this.setPart(this.neck1,{x:-131,y:-13,angle:0,scX:.99,scY:.99,skX:-38,skY:-38,alpha:1}),this.setPart(this.neck2,{x:-108,y:13,angle:0,scX:.98,scY:.98,skX:-31,skY:-31,alpha:1}),this.setPart(this.neck3,{x:-97,y:29,angle:0,scX:1,scY:1,skX:-19,skY:-19,alpha:1}),this.setPart(this.tail7,{x:141,y:53,angle:0,scX:.99,scY:.99,skX:-4,skY:-4,alpha:1}),this.setPart(this.tail6,{x:123,y:95,angle:0,scX:.99,scY:.99,skX:8,skY:8,alpha:1}),this.setPart(this.tail5,{x:99,y:100,angle:0,scX:.99,scY:.99,skX:3,skY:3,alpha:1}),this.setPart(this.tail4,{x:72,y:102,angle:0,scX:.99,scY:.99,skX:-5,skY:-5,alpha:1}),this.setPart(this.tail3,{x:52,y:92,angle:0,scX:.99,scY:.99,skX:-2,skY:-2,alpha:1}),this.setPart(this.tail2,{x:21,y:76,angle:0,scX:.99,scY:.99,skX:-8,skY:-8,alpha:1}),this.setPart(this.tail1,{x:6,y:56,angle:0,scX:1,scY:1,skX:7,skY:7,alpha:1}),this.setPart(this.tors,{x:-50,y:48,angle:0,scX:.99,scY:.99,skX:12,skY:12,alpha:1})):"magDies"===value?(this.setPart(this.head.group,{x:-158,y:-32,angle:0,scX:.99,scY:.99,skX:-41,skY:-41,alpha:1}),this.setPart(this.neck1,{x:-131,y:-13,angle:0,scX:.98,scY:.98,skX:-38,skY:-38,alpha:1}),this.setPart(this.neck2,{x:-108,y:13,angle:0,scX:.98,scY:.98,skX:-31,skY:-31,alpha:1}),this.setPart(this.neck3,{x:-97,y:29,angle:0,scX:.99,scY:.99,skX:-19,skY:-19,alpha:1}),this.setPart(this.tail7,{x:141,y:54,angle:0,scX:.99,scY:.99,skX:-4,skY:-4,alpha:1}),this.setPart(this.tail6,{x:123,y:95,angle:0,scX:.99,scY:.99,skX:8,skY:8,alpha:1}),this.setPart(this.tail5,{x:99,y:100,angle:0,scX:.99,scY:.99,skX:3,skY:3,alpha:1}),this.setPart(this.tail4,{x:72,y:102,angle:0,scX:.99,scY:.99,skX:-5,skY:-5,alpha:1}),this.setPart(this.tail3,{x:52,y:92,angle:0,scX:.99,scY:.99,skX:-2,skY:-2,alpha:1}),this.setPart(this.tail2,{x:21,y:76,angle:0,scX:.99,scY:.99,skX:-8,skY:-8,alpha:1}),this.setPart(this.tail1,{x:6,y:56,angle:0,scX:.99,scY:.99,skX:7,skY:7,alpha:1}),this.setPart(this.tors,{x:-50,y:48,angle:0,scX:.99,scY:.99,skX:12,skY:12,alpha:1})):"flyAway"===value&&(this.setPart(this.head.group,{x:-158,y:-32,angle:0,scX:.99,scY:.99,skX:-41,skY:-41,alpha:1}),this.setPart(this.neck1,{x:-131,y:-13,angle:0,scX:.99,scY:.99,skX:-38,skY:-38,alpha:1}),this.setPart(this.neck2,{x:-108,y:13,angle:0,scX:.98,scY:.98,skX:-31,skY:-31,alpha:1}),this.setPart(this.neck3,{x:-97,y:29,angle:0,scX:.99,scY:.99,skX:-19,skY:-19,alpha:1}),this.setPart(this.tail7,{x:141,y:53,angle:0,scX:.99,scY:.99,skX:-4,skY:-4,alpha:1}),this.setPart(this.tail6,{x:123,y:95,angle:0,scX:.99,scY:.99,skX:8,skY:8,alpha:1}),this.setPart(this.tail5,{x:99,y:100,angle:0,scX:.99,scY:.99,skX:3,skY:3,alpha:1}),this.setPart(this.tail4,{x:73,y:102,angle:0,scX:.99,scY:.99,skX:-5,skY:-5,alpha:1}),this.setPart(this.tail3,{x:52,y:92,angle:0,scX:.99,scY:.99,skX:-2,skY:-2,alpha:1}),this.setPart(this.tail2,{x:21,y:76,angle:0,scX:.99,scY:.99,skX:-8,skY:-8,alpha:1}),this.setPart(this.tail1,{x:6,y:56,angle:0,scX:.99,scY:.99,skX:7,skY:7,alpha:1}),this.setPart(this.tors,{x:-50,y:48,angle:0,scX:.99,scY:.99,skX:12,skY:12,alpha:1}))},Lvl13DragonTors.prototype.free=function(){this.group=null,this.tors=null,this.tail1=null,this.tail2=null,this.tail3=null,this.tail4=null,this.tail5=null,this.tail6=null,this.tail7=null,this.neck3=null,this.neck2=null,this.neck1=null,this.head.free(),this.head=null,this.tors_1=null,this.tail1_1=null,this.tail2_1=null,this.tail3_1=null,this.tail4_1=null,this.tail5_1=null,this.tail6_1=null,this.tail7_1=null,this.neck3_1=null,this.neck2_1=null,this.neck1_1=null},Lvl13DragonTors})(Client.BasicDragon);Client.Lvl13DragonTors=Lvl13DragonTors})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13DragonWing=(_super=>{function Lvl13DragonWing(game){var _this=_super.call(this,game)||this;return _this.animCycle=!1,_this.allAnimRound=!1,_this.group=new Client.SAGroup(game,0,0),_this.dragonWing7=new Client.SASprite(game,0,0,"dragon","dragonWing7 instance 10000"),_this.dragonWing7.pivot.set(17,-4),_this.group.addChild(_this.dragonWing7),_this.dragonWing8=new Client.SASprite(game,0,0,"dragon","dragonWing8 instance 10000"),_this.group.addChild(_this.dragonWing8),_this.dragonWing9=new Client.SASprite(game,0,0,"dragon","dragonWing9 instance 10000"),_this.dragonWing9.pivot.set(14,-7),_this.group.addChild(_this.dragonWing9),_this.dragonWing10=new Client.SASprite(game,0,0,"dragon","dragonWing10 instance 10000"),_this.group.addChild(_this.dragonWing10),_this.dragonWing1=new Client.SASprite(game,0,0,"dragon","dragonWing0_1 instance 10000"),_this.dragonWing1.pivot.set(39,33),_this.group.addChild(_this.dragonWing1),_this.dragonWing1_1=game.make.sprite(0,0,"dragon","dragonWing1 instance 10000"),_this.dragonWing1.addChild(_this.dragonWing1_1),_this.dragonWing2=new Client.SASprite(game,0,0,"dragon","dragonWing0_2 instance 10000"),_this.dragonWing2.pivot.set(26,28),_this.group.addChild(_this.dragonWing2),_this.dragonWing2_1=game.make.sprite(0,0,"dragon","dragonWing2 instance 10000"),_this.dragonWing2.addChild(_this.dragonWing2_1),_this.dragonWing3=new Client.SASprite(game,0,0,"dragon","dragonWing0_3 instance 10000"),_this.dragonWing3.pivot.set(-16,4),_this.group.addChild(_this.dragonWing3),_this.dragonWing3_1=game.make.sprite(0,0,"dragon","dragonWing3 instance 10000"),_this.dragonWing3.addChild(_this.dragonWing3_1),_this.dragonWing4=new Client.SASprite(game,0,0,"dragon","dragonWing0_4 instance 10000"),_this.dragonWing4.pivot.set(21,53),_this.group.addChild(_this.dragonWing4),_this.dragonWing4_1=game.make.sprite(0,0,"dragon","dragonWing4 instance 10000"),_this.dragonWing4.addChild(_this.dragonWing4_1),_this.dragonWing5=new Client.SASprite(game,0,0,"dragon","dragonWing0_5 instance 10000"),_this.dragonWing5.pivot.set(38,64),_this.group.addChild(_this.dragonWing5),_this.dragonWing5_1=game.make.sprite(0,0,"dragon","dragonWing5 instance 10000"),_this.dragonWing5.addChild(_this.dragonWing5_1),_this.dragonWing6=new Client.SASprite(game,0,0,"dragon","dragonWing0_6 instance 10000"),_this.dragonWing6.pivot.set(79,66),_this.group.addChild(_this.dragonWing6),_this.dragonWing6_1=game.make.sprite(0,0,"dragon","dragonWing6 instance 10000"),_this.dragonWing6.addChild(_this.dragonWing6_1),_this.setParts("anim3"),_this}return __extends(Lvl13DragonWing,_super),Lvl13DragonWing.prototype.goNormal=function(){Client.GameManager.instance.level.setSimpleTween(this.dragonWing1_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5_1,this.goNormalTime,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing6_1,this.goNormalTime,{alpha:0})},Lvl13DragonWing.prototype.open=function(){this.playAnim("anim3")},Lvl13DragonWing.prototype.close=function(){this.playAnim("anim2")},Lvl13DragonWing.prototype.onAnimComplete=function(){!1!==this.animCycle&&("anim"===this.currAnim?this.playAnim("anim2"):"anim2"===this.currAnim?this.playAnim("anim3"):"anim3"===this.currAnim?this.playAnim("anim4"):"anim4"===this.currAnim&&!0===this.allAnimRound&&this.playAnim("anim"))},Lvl13DragonWing.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,5,{x:83,y:-172,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,5,{x:93,y:-122,skX:-57,skY:-57}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,5,{x:71,y:-95,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,5,{x:42,y:-56,skX:-34,skY:-34,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,5,{x:40,y:-95}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,5,{x:30,y:-34,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,5,{x:24,y:-171,skX:8,skY:8,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,5,{x:40,y:-220,skX:4,skY:-4,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,5,{x:32,y:-69,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,5,{x:50,y:-138,skX:18,skY:26,scX:.95,scY:.91})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:116,y:-124,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:109,y:-80,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:85,y:-62,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:59,y:-37,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:59,y:-72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:39,y:-22,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:56,y:-144,skX:23,skY:23,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:89,y:-181,skX:19,skY:13,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:53,y:-58,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:77,y:-108,skX:25,skY:38,scX:.89,scY:.81})):12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:132,y:-49,skX:-29,skY:-29}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{y:-19,skX:-22,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:84,y:-13,skX:-16,skY:-16,scX:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:68,y:-6,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:70,y:-33,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:44,y:-3,skX:38,skY:38}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:83,y:-92,skX:43,skY:42,scY:.69}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:135,y:-105,skX:49,skY:34,scX:.96,scY:.71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:73,y:-29,skX:52,skY:52}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:102,y:-48,skX:48,skY:58,scX:.84,scY:.64})):18===this.counterAnim&&this.animComplete():"anim2"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:130,y:-10,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:101,y:11,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:78,y:11,skX:-8,skY:-8,scX:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:69,y:10,skX:13,skY:13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{y:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{y:8,skX:51,skY:51}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:91,y:-62,skX:54,skY:52,scY:.63}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:140,y:-61,skX:63,skY:44,scY:.65}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:74,y:-14,skX:60,skY:60}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:109,y:-11,skX:62,skY:70,scX:.76,scY:.55})):7===this.counterAnim&&this.animComplete():"anim3"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:132,y:-68,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:113,y:-35,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:87,y:-26,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:68,y:-14,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:69,y:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{y:-8,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:78,y:-107,skX:37,skY:37,scY:.72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:130,y:-126,skX:42,skY:29,scX:.95,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:72,y:-36,skX:47,skY:47}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:96,y:-65,skX:42,skY:53,scX:.87,scY:.69})):7===this.counterAnim&&this.animComplete():"anim4"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:116,y:-125,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:109,y:-80,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:85,y:-62,skX:-32,skY:-32,scX:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:59,y:-37,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:59,y:-72,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:39,y:-22,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:56,y:-144,skX:23,skY:23,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:89,y:-181,skX:19,skY:13,scX:1,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:53,y:-58,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:77,y:-108,skX:25,skY:38,scX:.89,scY:.81})):7===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:82,y:-172,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:93,y:-122,skX:-57,skY:-57}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:71,y:-95,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:42,y:-56,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:40,y:-95}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:30,y:-34,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:24,y:-171,skX:8,skY:8,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:40,y:-220,skX:4,skY:-4,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:32,y:-69,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:50,y:-138,skX:18,skY:26,scX:.95,scY:.91})):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,5,{x:45,y:-201,skX:-86,skY:-86}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,5,{x:72,y:-150,skX:-70,skY:-70}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,5,{x:53,y:-117,skX:-54,skY:-54,scX:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,5,{x:23,y:-65,skX:-47,skY:-47,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,5,{x:18,y:-109}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,5,{x:19,y:-41,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,5,{x:0,y:-193,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,5,{x:-9,y:-245,skX:-15,skY:-15,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,5,{x:14,y:-77,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,5,{x:22,y:-157,skX:13,skY:15,scX:1,scY:1})):18===this.counterAnim&&this.animComplete()))},Lvl13DragonWing.prototype.setParts=function(value){"anim"===value?(this.setPart(this.dragonWing6,{x:45,y:-201,angle:0,scX:.98,scY:.98,skX:-86,skY:-86,alpha:1}),this.setPart(this.dragonWing5,{x:72,y:-150,angle:0,scX:.99,scY:.99,skX:-70,skY:-70,alpha:1}),this.setPart(this.dragonWing4,{x:53,y:-117,angle:0,scX:.99,scY:.99,skX:-54,skY:-54,alpha:1}),this.setPart(this.dragonWing3,{x:23,y:-65,angle:0,scX:.99,scY:.99,skX:-47,skY:-47,alpha:1}),this.setPart(this.dragonWing2,{x:18,y:-109,angle:0,scX:1,scY:1,skX:4,skY:4,alpha:1}),this.setPart(this.dragonWing1,{x:19,y:-41,angle:0,scX:.99,scY:.99,skX:-24,skY:-24,alpha:1}),this.setPart(this.dragonWing10,{x:0,y:-193,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.dragonWing9,{x:-9,y:-245,angle:0,scX:1,scY:1,skX:-15,skY:-15,alpha:1}),this.setPart(this.dragonWing8,{x:14,y:-77,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.dragonWing7,{x:22,y:-157,angle:0,scX:1,scY:1,skX:13,skY:15,alpha:1})):"anim2"===value?(this.setPart(this.dragonWing6,{x:132,y:-49,angle:0,scX:.98,scY:.98,skX:-29,skY:-29,alpha:1}),this.setPart(this.dragonWing5,{x:109,y:-19,angle:0,scX:.99,scY:.99,skX:-22,skY:-22,alpha:1}),this.setPart(this.dragonWing4,{x:84,y:-13,angle:0,scX:.98,scY:.99,skX:-16,skY:-16,alpha:1}),this.setPart(this.dragonWing3,{x:68,y:-6,angle:0,scX:.98,scY:.98,skX:3,skY:3,alpha:1}),this.setPart(this.dragonWing2,{x:70,y:-33,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.dragonWing1,{x:44,y:-3,angle:0,scX:.99,scY:.99,skX:38,skY:38,alpha:1}),this.setPart(this.dragonWing10,{x:83,y:-92,angle:0,scX:1,scY:.69,skX:43,skY:42,alpha:1}),this.setPart(this.dragonWing9,{x:135,y:-105,angle:0,scX:.96,scY:.71,skX:49,skY:34,alpha:1}),this.setPart(this.dragonWing8,{x:73,y:-29,angle:0,scX:1,scY:1,skX:52,skY:52,alpha:1}),this.setPart(this.dragonWing7,{x:102,y:-48,angle:0,scX:.84,scY:.64,skX:48,skY:58,alpha:1})):"anim3"===value?(this.setPart(this.dragonWing6,{x:130,y:-10,angle:0,scX:.98,scY:.98,skX:-17,skY:-17,alpha:1}),this.setPart(this.dragonWing5,{x:101,y:11,angle:0,scX:.99,scY:.99,skX:-13,skY:-13,alpha:1}),this.setPart(this.dragonWing4,{x:78,y:11,angle:0,scX:.99,scY:.99,skX:-8,skY:-8,alpha:1}),this.setPart(this.dragonWing3,{x:69,y:10,angle:0,scX:.98,scY:.98,skX:13,skY:13,alpha:1}),this.setPart(this.dragonWing2,{x:70,y:-13,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.dragonWing1,{x:44,y:8,angle:0,scX:.99,scY:.99,skX:51,skY:51,alpha:1}),this.setPart(this.dragonWing10,{x:91,y:-62,angle:0,scX:1,scY:.63,skX:54,skY:52,alpha:1}),this.setPart(this.dragonWing9,{x:140,y:-61,angle:0,scX:.96,scY:.65,skX:63,skY:44,alpha:1}),this.setPart(this.dragonWing8,{x:74,y:-14,angle:0,scX:1,scY:1,skX:60,skY:60,alpha:1}),this.setPart(this.dragonWing7,{x:109,y:-11,angle:0,scX:.76,scY:.55,skX:62,skY:70,alpha:1})):"anim4"===value&&(this.setPart(this.dragonWing6,{x:132,y:-68,angle:0,scX:.98,scY:.98,skX:-35,skY:-35,alpha:1}),this.setPart(this.dragonWing5,{x:113,y:-35,angle:0,scX:.99,scY:.99,skX:-27,skY:-27,alpha:1}),this.setPart(this.dragonWing4,{x:87,y:-26,angle:0,scX:.99,scY:.99,skX:-20,skY:-20,alpha:1}),this.setPart(this.dragonWing3,{x:68,y:-14,angle:0,scX:.98,scY:.98,skX:-3,skY:-3,alpha:1}),this.setPart(this.dragonWing2,{x:69,y:-43,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.dragonWing1,{x:44,y:-8,angle:0,scX:.99,scY:.99,skX:32,skY:32,alpha:1}),this.setPart(this.dragonWing10,{x:78,y:-107,angle:0,scX:1,scY:.72,skX:37,skY:37,alpha:1}),this.setPart(this.dragonWing9,{x:130,y:-126,angle:0,scX:.95,scY:.74,skX:42,skY:29,alpha:1}),this.setPart(this.dragonWing8,{x:72,y:-36,angle:0,scX:1,scY:1,skX:47,skY:47,alpha:1}),this.setPart(this.dragonWing7,{x:96,y:-65,angle:0,scX:.87,scY:.69,skX:42,skY:53,alpha:1}))},Lvl13DragonWing.prototype.free=function(){this.group=null,this.dragonWing6=null,this.dragonWing5=null,this.dragonWing4=null,this.dragonWing3=null,this.dragonWing2=null,this.dragonWing1=null,this.dragonWing1_1=null,this.dragonWing2_1=null,this.dragonWing3_1=null,this.dragonWing4_1=null,this.dragonWing5_1=null,this.dragonWing6_1=null,this.dragonWing7=null,this.dragonWing8=null,this.dragonWing9=null,this.dragonWing10=null},Lvl13DragonWing})(Client.BasicDragon);Client.Lvl13DragonWing=Lvl13DragonWing})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13Bat=(_super=>{function Lvl13Bat(game){var _this=_super.call(this)||this;return _this.flying=!1,_this.noming=!1,_this.counterNom=0,_this.updateGraphic=!1,_this.counter=0,_this.game=game,_this.graphic=Client.GameManager.instance.layerElements.create(765,-81,"level13","bat instance 10000"),_this.graphic.animations.add("fly",Phaser.Animation.generateFrameNames("bat instance 1",0,24,"",4),30,!0),_this.graphic.animations.add("hit",Phaser.Animation.generateFrameNames("bat instance 1",25,45,"",4),30,!1).onComplete.addOnce(function(){this.hit2()},_this),_this.graphic.animations.add("hit2",Phaser.Animation.generateFrameNames("bat instance 1",46,99,"",4),30,!1).onComplete.addOnce(_this.hit3,_this),_this.graphic.animations.add("hit3",Phaser.Animation.generateFrameNames("bat instance 1",100,144,"",4),30,!1).killOnComplete=!0,_this.graphic.animations.add("nom",Phaser.Animation.generateFrameNames("bat instance 1",145,158,"",4),30,!1).onComplete.addOnce(function(){this.graphic.animations.play("nomCycle")},_this),_this.graphic.animations.add("nomCycle",Phaser.Animation.generateFrameNames("bat instance 1",159,174,"",4),30,!0),_this.graphic.visible=!1,_this}return __extends(Lvl13Bat,_super),Lvl13Bat.prototype.fly=function(){this.graphic.visible=!0,this.graphic.animations.play("fly"),this.flying=!0,Client.SoundManager.playSFX("s_lvl13_bat",!0)},Lvl13Bat.prototype.hit=function(){this.graphic.animations.play("hit"),this.flying=!1,Client.SoundManager.stopSFXLoop("s_lvl13_bat"),Client.SoundManager.playSFX("s_lvl13_batDeath")},Lvl13Bat.prototype.hit2=function(){this.graphic.animations.play("hit2"),Client.GameManager.instance.level.setSimpleTween(this.graphic,10,{y:50})},Lvl13Bat.prototype.hit3=function(){this.graphic.animations.play("hit3"),Client.SoundManager.playSFX("s_lvl13_batDissolved")},Lvl13Bat.prototype.nom=function(){Client.SoundManager.playSFX("s_lvl13_batAttack"),Client.SoundManager.stopSFXLoop("s_lvl13_bat"),this.graphic.animations.play("nom"),Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.currEyesState=Client.EyesState.bumpForEver,Client.GameManager.instance.level.customAction(1);var secondCar=this.game.make.sprite(2,1,"level13","batCarDeath instance 10000"),mask=(Client.GameManager.instance.hero.graphicCar.addChildAt(secondCar,0),this.game.make.graphics(200,100));mask.beginFill(16711680,.5),mask.drawEllipse(0,0,100,50),mask.endFill(),secondCar.addChild(mask),secondCar.mask=mask,Client.GameManager.instance.level.setSimpleTween(mask,180,{x:60,y:40}),this.noming=!(secondCar=mask=null)},Lvl13Bat.prototype.update=function(){!0===this.flying&&(this.counter+=.7,this.plot(Math.floor(this.counter)),this.graphic.x<=Client.GameManager.instance.hero.bodyBase.x-32)&&(this.flying=!1,this.nom(),this.updateGraphic=!0),!0===this.updateGraphic&&(this.graphic.x=Client.GameManager.instance.hero.bodyBase.x-32,this.graphic.y=Client.GameManager.instance.hero.bodyBase.y-98),!0===this.noming&&(this.counterNom+=1,200===this.counterNom)&&(this.noming=!1,Client.LevelBuilder.instance.levelFailed())},Lvl13Bat.prototype.plot=function(value){1===value?this.groupPos(767,-76):2===value?this.groupPos(765,-70):3===value?this.groupPos(763,-64):4===value?this.groupPos(760,-59):5===value?this.groupPos(757,-54):6===value?this.groupPos(755,-49):7===value?this.groupPos(752,-44):8===value?this.groupPos(748,-39):9===value?this.groupPos(745,-34):10===value?this.groupPos(742,-29):11===value?this.groupPos(739,-23):12===value?this.groupPos(734,-18):13===value?this.groupPos(730,-14):14===value?this.groupPos(725,-10):15===value?this.groupPos(720,-6):16===value?this.groupPos(716,-3):17===value?this.groupPos(711,1):18===value?this.groupPos(706,5):19===value?this.groupPos(702,8):20===value?this.groupPos(697,12):21===value?this.groupPos(692,15):22===value?this.groupPos(687,18):23===value?this.groupPos(683,22):24===value?this.groupPos(678,25):25===value?this.groupPos(673,28):26===value?this.groupPos(668,32):27===value?this.groupPos(664,36):28===value?this.groupPos(660,40):29===value?this.groupPos(656,44):30===value?this.groupPos(651,47):31===value?this.groupPos(647,51):32===value?this.groupPos(643,55):33===value?this.groupPos(638,59):34===value?this.groupPos(633,62):35===value?this.groupPos(629,65):36===value?this.groupPos(624,69):37===value?this.groupPos(619,72):38===value?this.groupPos(614,75):39===value?this.groupPos(609,78):40===value?this.groupPos(603,80):41===value?this.groupPos(598,83):42===value?this.groupPos(593,85):43===value?this.groupPos(587,87):44===value?this.groupPos(582,89):45===value?this.groupPos(576,89):46===value?this.groupPos(570,89):47===value?this.groupPos(564,89):48===value?this.groupPos(558,89):49===value?this.groupPos(552,89):50===value?this.groupPos(547,88):51===value?this.groupPos(541,87):52===value?this.groupPos(535,85):53===value?this.groupPos(530,83):54===value?this.groupPos(525,80):55===value?this.groupPos(520,77):56===value?this.groupPos(514,74):57===value?this.groupPos(509,70):58===value?this.groupPos(505,67):59===value?this.groupPos(500,63):60===value?this.groupPos(495,60):61===value?this.groupPos(490,56):62===value?this.groupPos(485,53):63===value?this.groupPos(480,50):64===value?this.groupPos(475,48):65===value?this.groupPos(470,46):66===value?this.groupPos(464,43):67===value?this.groupPos(458,42):68===value?this.groupPos(453,40):69===value?this.groupPos(447,39):70===value?this.groupPos(441,38):71===value?this.groupPos(435,36):72===value?this.groupPos(429,36):73===value?this.groupPos(423,36):74===value?this.groupPos(418,36):75===value?this.groupPos(412,36):76===value?this.groupPos(406,36):77===value?this.groupPos(400,37):78===value?this.groupPos(395,39):79===value?this.groupPos(389,41):80===value?this.groupPos(384,44):81===value?this.groupPos(378,46):82===value?this.groupPos(373,48):83===value?this.groupPos(367,51):84===value?this.groupPos(362,53):85===value?this.groupPos(356,55):86===value?this.groupPos(351,58):87===value?this.groupPos(345,60):88===value?this.groupPos(340,63):89===value?this.groupPos(334,65):90===value?this.groupPos(329,68):91===value?this.groupPos(324,70):92===value?this.groupPos(319,72):93===value?this.groupPos(313,74):94===value?this.groupPos(308,76):95===value?this.groupPos(303,78):96===value?this.groupPos(297,80):97===value?this.groupPos(292,82):98===value?this.groupPos(286,83):99===value?this.groupPos(281,83):100===value?this.groupPos(275,83):101===value?this.groupPos(269,82):102===value?this.groupPos(263,80):103===value?this.groupPos(258,78):104===value?this.groupPos(253,75):105===value?this.groupPos(248,71):106===value?this.groupPos(243,68):107===value?this.groupPos(238,65):108===value?this.groupPos(233,61):109===value?this.groupPos(228,58):110===value?this.groupPos(223,55):111===value?this.groupPos(218,52):112===value?this.groupPos(213,49):113===value?this.groupPos(207,47):114===value?this.groupPos(202,45):115===value?this.groupPos(196,43):116===value?this.groupPos(191,41):117===value?this.groupPos(185,40):118===value?this.groupPos(179,39):119===value?this.groupPos(173,38):120===value?this.groupPos(167,37):121===value?this.groupPos(162,37):122===value?this.groupPos(156,37):123===value?this.groupPos(151,37):124===value?this.groupPos(145,37):125===value?this.groupPos(140,37):126===value?this.groupPos(134,37):127===value?this.groupPos(128,37):128===value?this.groupPos(123,37):129===value?this.groupPos(117,37):130===value?this.groupPos(112,38):131===value?this.groupPos(106,38):132===value?this.groupPos(101,38):133===value?this.groupPos(95,38):134===value?this.groupPos(90,38):135===value?this.groupPos(84,38):136===value?this.groupPos(79,38):137===value?this.groupPos(73,38):138===value?this.groupPos(68,38):139===value?this.groupPos(62,38):140===value?this.groupPos(56,38):141===value?this.groupPos(51,38):142===value?this.groupPos(45,39):143===value?this.groupPos(39,39):144===value?this.groupPos(34,39):145===value&&this.groupPos(28,38)},Lvl13Bat.prototype.groupPos=function(x,y){this.graphic.x=x,this.graphic.y=y},Lvl13Bat.prototype.free=function(){this.game=null,this.graphic=null},Lvl13Bat})(Client.BasicElement);Client.Lvl13Bat=Lvl13Bat})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13Cage=(_super=>{function Lvl13Cage(game){var _this=_super.call(this,game)||this;return _this.ropeL=new Client.SASprite(game,0,0,"level13","cageRope instance 10000"),_this.ropeL.anchor.setTo(.5),Client.GameManager.instance.layerBackground.addChild(_this.ropeL),_this.ropeR=new Client.SASprite(game,0,0,"level13","cageRope instance 10000"),_this.ropeR.anchor.setTo(.5),Client.GameManager.instance.layerBackground.addChild(_this.ropeR),_this.diamond=new Client.SASprite(game,0,0,"level13","cageDiamond instance 10000"),_this.diamond.anchor.setTo(.5),Client.GameManager.instance.layerBackground.addChild(_this.diamond),_this.bg=new Client.SASprite(game,0,0,"level13","cageBg instance 10000"),Client.GameManager.instance.layerBackground.addChild(_this.bg),_this.playAnim("anim",-1),_this}return __extends(Lvl13Cage,_super),Lvl13Cage.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.setPart(this.bg,{x:482,y:93,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.diamond,37,{y:125,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.ropeR,37,{x:523,y:150,skX:2,skY:-178,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.ropeL,37,{y:147,skX:-3,skY:-3,scY:1.16})):38===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.diamond,31,{y:130,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.ropeR,31,{x:526,y:153,skX:0,skY:-180,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.ropeL,31,{y:153,skX:0,skY:0,scY:1})):69===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.diamond,30,{y:126,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.ropeR,30,{y:149,skX:3,skY:-177,scY:1.16}),Client.GameManager.instance.level.setSimpleTween(this.ropeL,30,{x:498,y:150,scY:1.14})):99===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.diamond,37,{y:130,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.ropeR,37,{y:153,skX:0,skY:-180,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.ropeL,37,{x:497,y:153,scY:1})):136===this.counterAnim&&this.animComplete())},Lvl13Cage.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.bg,{x:482,y:93,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.diamond,{x:512,y:130,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.ropeR,{x:526,y:153,angle:0,scX:1,scY:1,skX:0,skY:-180,alpha:1}),this.setPart(this.ropeL,{x:497,y:153,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13Cage.prototype.free=function(){this.bg=null,this.diamond=null,this.ropeL=null,this.ropeR=null},Lvl13Cage})(Client.BasicSimpleAnim);Client.Lvl13Cage=Lvl13Cage})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13Ghosts=(_super=>{function Lvl13Ghosts(game){var _this=_super.call(this,game)||this;return _this.wheelyActive=!1,_this.wheelyCounter=0,_this.soul=new Client.SASprite(game,0,0,"level13","ghostSoul instance 10000"),_this.soul.pivot.set(23,37),Client.GameManager.instance.layerUpper.addChild(_this.soul),_this.wave2=new Client.SASprite(game,0,0,"level13","ghostWave instance 10000"),_this.wave2.pivot.set(253,23),Client.GameManager.instance.layerUpper.addChild(_this.wave2),_this.boss3=new Client.SASprite(game,0,0,"level13","ghostBoss3 instance 10000"),_this.boss3.pivot.set(60,47),Client.GameManager.instance.layerUpper.addChild(_this.boss3),_this.wave1=new Client.SASprite(game,0,0,"level13","ghostWave instance 10000"),_this.wave1.pivot.set(253,23),Client.GameManager.instance.layerUpper.addChild(_this.wave1),_this.wheelySoul=new Client.SASprite(game,0,0,"level13","ghostWheely instance 10000"),_this.wheelySoul.pivot.set(65,40),Client.GameManager.instance.layerUpper.addChild(_this.wheelySoul),_this.wheelySoul.visible=!1,_this.playAnim("anim",-1),_this}return __extends(Lvl13Ghosts,_super),Lvl13Ghosts.prototype.showWheely=function(){this.wheelyX=Client.GameManager.instance.hero.bodyBase.x,this.wheelySoul.visible=!0,this.wheelyActive=!0,this.setPart(this.wheelySoul,{x:this.wheelyX,y:669,angle:0,scX:1,scY:1,skX:45,skY:45,alpha:1})},Lvl13Ghosts.prototype.update=function(){_super.prototype.update.call(this),!0===this.wheelyActive&&(this.wheelyCounter+=1,1===this.wheelyCounter?Client.GameManager.instance.level.setSimpleTween(this.wheelySoul,34,{x:this.wheelyX-74,y:542}):35===this.wheelyCounter?Client.GameManager.instance.level.setSimpleTween(this.wheelySoul,75,{x:this.wheelyX+130,y:653}):110===this.wheelyCounter&&(this.wheelyActive=!1,Client.LevelBuilder.instance.levelFailed()))},Lvl13Ghosts.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wave1,101,{x:549,y:575}),Client.GameManager.instance.level.setSimpleTween(this.boss3,101,{x:444,y:595}),Client.GameManager.instance.level.setSimpleTween(this.wave2,101,{x:585,y:559}),Client.GameManager.instance.level.setSimpleTween(this.soul,101,{x:577,y:651})):102===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wave1,52,{y:567}),Client.GameManager.instance.level.setSimpleTween(this.boss3,105,{x:419,y:675}),Client.GameManager.instance.level.setSimpleTween(this.wave2,105,{x:587,y:570}),Client.GameManager.instance.level.setSimpleTween(this.soul,105,{x:546,y:603})):154===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.wave1,53,{x:548,y:560}):207===this.counterAnim&&this.animComplete())},Lvl13Ghosts.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.wave1,{x:548,y:560,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.boss3,{x:419,y:675,angle:0,scX:1,scY:1,skX:-27,skY:-27,alpha:1}),this.setPart(this.wave2,{x:587,y:570,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.soul,{x:546,y:603,angle:0,scX:1,scY:1,skX:-57,skY:-57,alpha:1}))},Lvl13Ghosts.prototype.free=function(){this.wave1=null,this.boss3=null,this.wave2=null,this.soul=null,this.wheelySoul=null},Lvl13Ghosts})(Client.BasicSimpleAnim);Client.Lvl13Ghosts=Lvl13Ghosts})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13Lift=(_super=>{function Lvl13Lift(game){var _this=_super.call(this)||this,sprite=(_this.shineDown=!0,_this.startTop=410,_this.endTop=420,_this.endBot=547,_this.moveVertical=0,_this.speedVertical=100,_this.shootStarted=!1,_this.horLiftStoped=0,_this.contactHeroCount=0,_this.game=game,_this.graphic=Client.GameManager.instance.layerUpper.create(710,_this.startTop,"level13","liftBack instance 10000"),game.physics.box2d.enable(_this.graphic),_this.graphic.body.setRectangle(134,40,0,-13),_this.graphic.body.friction=1,_this.graphic.body.kinematic=!0,_this.graphicShine=game.make.sprite(6,0,"level13","liftShine instance 10000"),_this.graphicShine.anchor.setTo(.5),_this.graphic.addChild(_this.graphicShine),game.make.sprite(-40,-5,"level13"));return sprite.animations.add("anim",Phaser.Animation.generateFrameNames("liftParticle instance 1",0,89,"",4),30,!0),sprite.animations.play("anim"),_this.graphic.addChild(sprite),(sprite=game.make.sprite(0,-14,"level13","liftFront instance 10000")).anchor.setTo(.5),_this.graphic.addChild(sprite),sprite=null,_this.btnBack=Client.GameManager.instance.layerUpper.create(568,216,"level13","btnLiftBack instance 10000"),_this.btnBack.anchor.setTo(.5),_this.btnUp=Client.GameManager.instance.layerUpper.create(571,217,"level13","btnLift instance 10000"),_this.btnUp.anchor.setTo(.5),_this.btnUp.inputEnabled=!0,_this.btnUp.input.useHandCursor=!0,_this.btnUp.events.onInputOut.add(_this.btnUpOut,_this),_this.btnUp.events.onInputOver.add(_this.btnUpOver,_this),_this.btnUp.events.onInputDown.add(_this.goUp,_this),_this.btnDown=game.make.button(571,276,"level13",null,null,"btnLift instance 10001","btnLift instance 10000"),_this.btnDown.anchor.setTo(.5),_this.btnDown.scale.y=-1,_this.btnDown.onInputDown.add(_this.goDown,_this),Client.GameManager.instance.layerUpper.addChild(_this.btnDown),_this.bodyContact=new Phaser.Physics.Box2D.Body(game,null,710,_this.graphic.body.y-100,1),_this.bodyContact.setRectangle(100,20),_this.bodyContact.sensor=!0,_this.bodyContact.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.contactHero,_this),_this}return __extends(Lvl13Lift,_super),Lvl13Lift.prototype.btnUpOut=function(){!0===this.btnUp.inputEnabled&&(this.btnUp.frameName="btnLift instance 10000")},Lvl13Lift.prototype.btnUpOver=function(){!0===this.btnUp.inputEnabled&&(this.btnUp.frameName="btnLift instance 10001")},Lvl13Lift.prototype.goUp=function(){!1===this.btnUp.inputEnabled||-1===this.moveVertical||0===this.moveVertical&&this.graphic.body.y<=this.endTop||(this.moveVertical=-1,this.graphic.body.velocity.y=-this.speedVertical,Client.SoundManager.playSFX("btnClick"))},Lvl13Lift.prototype.goDown=function(){1===this.moveVertical||0===this.moveVertical&&this.graphic.body.y>=this.endBot||(this.moveVertical=1,this.graphic.body.velocity.y=this.speedVertical+10,Client.SoundManager.playSFX("btnClick"))},Lvl13Lift.prototype.crashBtnUp=function(){this.btnUp.inputEnabled=!1,this.btnUp.y=215,this.btnUp.frameName="btnLift instance 10003",this.btnBack.frameName="btnLiftBack instance 10001"},Lvl13Lift.prototype.stopLiftVertical=function(){this.moveVertical=0,this.graphic.body.velocity.y=0},Lvl13Lift.prototype.destroyJoint=function(clicable){void 0===clicable&&(clicable=!0),this.game.physics.box2d.world.DestroyJoint(this.joint),Client.GameManager.instance.hero.setClickable(clicable)},Lvl13Lift.prototype.update=function(){1===this.moveVertical?this.graphic.body.y>=this.endBot&&(this.graphic.body.y=this.endBot,this.stopLiftVertical()):-1===this.moveVertical&&this.graphic.body.y<=this.endTop&&(this.graphic.body.y=this.endTop,this.stopLiftVertical()),!0===this.shineDown?(this.graphicShine.y+=.5,10<=this.graphicShine.y&&(this.shineDown=!1)):(this.graphicShine.y-=.5,this.graphicShine.y<=0&&(this.shineDown=!0)),!1===this.shootStarted&&335<Client.GameManager.instance.hero.bodyBase.y&&(Client.GameManager.instance.level.customAction(7),this.shootStarted=!0),0===this.contactHeroCount?this.bodyContact.y=this.graphic.body.y-40:1===this.contactHeroCount&&(this.contactHeroCount=2,this.graphic.body.velocity.x=-20,this.horLiftStoped=1,this.joint=this.game.physics.box2d.ropeJoint(Client.GameManager.instance.hero.bodyBase,this.graphic.body,80))},Lvl13Lift.prototype.stopHor=function(){this.horLiftStoped=2,this.graphic.body.velocity.x=0},Lvl13Lift.prototype.contactHero=function(){0===this.contactHeroCount&&(this.contactHeroCount=1)},Lvl13Lift.prototype.free=function(){this.game=null,this.graphic=null,this.graphicShine=null,this.btnDown=null,this.btnUp=null,this.btnBack=null,this.bodyContact=null,this.joint=null},Lvl13Lift})(Client.BasicElement);Client.Lvl13Lift=Lvl13Lift})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13QuestCar=(_super=>{function Lvl13QuestCar(game){var _this=_super.call(this,game)||this,eyes=(_this.part13=new Client.SASprite(game,0,0,"ui","carBody instance 10000"),_this.part13.anchor.setTo(.5,.4),_this.part13.events.onInputOut.add(_this.questCarOut,_this),_this.part13.events.onInputOver.add(_this.questCarOver,_this),_this.part13.events.onInputUp.add(_this.questCarUp,_this),Client.GameManager.instance.layerBackground.addChild(_this.part13),game.make.sprite(-4,-22,"ui","carEye instance 10000"));return eyes.animations.add("idle",Phaser.Animation.generateFrameNames("carEye instance 1",0,89,"",4),35,!0),eyes.play("idle"),_this.part13.addChild(eyes),_this.part12=new Client.SASprite(game,0,0,"level13","qcp11 instance 10000"),_this.part12.pivot.set(12,22),Client.GameManager.instance.layerBackground.addChild(_this.part12),_this.part11=new Client.SASprite(game,0,0,"level13","qcp10 instance 10000"),_this.part11.pivot.set(14,7),Client.GameManager.instance.layerBackground.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level13","qcp9 instance 10000"),_this.part10.pivot.set(6,8),Client.GameManager.instance.layerBackground.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level13","qcp9 instance 10000"),_this.part9.pivot.set(6,8),Client.GameManager.instance.layerBackground.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level13","qcp8 instance 10000"),_this.part8.pivot.set(13,12),Client.GameManager.instance.layerBackground.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level13","qcp7 instance 10000"),_this.part7.pivot.set(4,11),Client.GameManager.instance.layerBackground.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level13","qcp6 instance 10000"),_this.part6.pivot.set(4,10),Client.GameManager.instance.layerBackground.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level13","qcp5 instance 10000"),_this.part5.pivot.set(14,7),Client.GameManager.instance.layerBackground.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level13","qcp4 instance 10000"),_this.part4.pivot.set(16,13),Client.GameManager.instance.layerBackground.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level13","qcp3 instance 10000"),_this.part3.pivot.set(46,9),Client.GameManager.instance.layerBackground.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level13","qcp2 instance 10000"),_this.part2.pivot.set(33,9),Client.GameManager.instance.layerBackground.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level13","qcp1 instance 10000"),_this.part1.pivot.set(23,8),Client.GameManager.instance.layerBackground.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl13QuestCar,_super),Lvl13QuestCar.prototype.questCarOut=function(){this.part13.frameName="carBody instance 10000"},Lvl13QuestCar.prototype.questCarOver=function(){this.part13.frameName="carBody instance 10001"},Lvl13QuestCar.prototype.questCarUp=function(){Client.GameManager.instance.level.clickQuestCar2(this.part13.x,this.part13.y),this.part13.destroy()},Lvl13QuestCar.prototype.activate=function(){this.playAnim("anim"),Client.SoundManager.playSFX("s_lvl13_shelves")},Lvl13QuestCar.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:382,y:270,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{y:273,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{y:250,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.part4,4,{x:371,y:232,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.part5,4,{x:333,y:239,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.part8,4,{y:230}),Client.GameManager.instance.level.setSimpleTween(this.part9,4,{x:326,y:234,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.part10,4,{x:341,y:259,skX:-23,skY:157}),Client.GameManager.instance.level.setSimpleTween(this.part11,4,{x:368,y:256,skX:103,skY:103}),Client.GameManager.instance.level.setSimpleTween(this.part12,4,{x:375,y:287,skX:10,skY:20,scX:.94,scY:.76}),Client.GameManager.instance.level.setSimpleTween(this.part13,4,{y:253,skX:-5,skY:-5})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,8,{x:384,y:284,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.part2,8,{x:330,y:291,skX:35,skY:35}),Client.GameManager.instance.level.setSimpleTween(this.part3,8,{y:257,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.part4,8,{x:380,y:244,skX:43,skY:43}),Client.GameManager.instance.level.setSimpleTween(this.part5,8,{x:330,y:246,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part6,8,{x:381,y:272,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.part7,8,{y:270,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.part8,8,{x:346,y:242,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.part9,8,{x:324,y:241,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.part10,8,{x:343,y:285,skX:60,skY:-120}),Client.GameManager.instance.level.setSimpleTween(this.part11,8,{x:367,y:282,skX:35,skY:35}),Client.GameManager.instance.level.setSimpleTween(this.part12,8,{x:379,y:311,skX:0,skY:-21,scX:.95,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part13,13,{x:353,y:275,skX:15,skY:15})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,2,{x:331,y:289,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.part4,3,{x:377,y:243,skX:19,skY:19}),Client.GameManager.instance.level.setSimpleTween(this.part7,2,{y:269}),Client.GameManager.instance.level.setSimpleTween(this.part10,2,{x:347,y:287,skX:91,skY:-89}),Client.GameManager.instance.level.setSimpleTween(this.part11,5,{x:364,y:286,skX:-30,skY:-30})):27===this.counterAnim?(this.setPart(this.part1,{x:384,y:284,angle:0,scX:1,scY:1,skX:-27,skY:-27,alpha:1}),this.setPart(this.part2,{x:331,y:289,angle:0,scX:1,scY:1,skX:31,skY:31,alpha:1}),this.setPart(this.part3,{x:356,y:257,angle:0,scX:1,scY:1,skX:4,skY:4,alpha:1}),this.setPart(this.part5,{x:330,y:246,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:381,y:272,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}),this.setPart(this.part7,{x:326,y:269,angle:0,scX:1,scY:1,skX:-5,skY:-5,alpha:1}),this.setPart(this.part8,{x:346,y:242,angle:0,scX:1,scY:1,skX:-16,skY:-16,alpha:1}),this.setPart(this.part9,{x:324,y:241,angle:0,scX:1,scY:1,skX:-13,skY:-13,alpha:1}),this.setPart(this.part10,{x:347,y:287,angle:0,scX:1,scY:1,skX:91,skY:-89,alpha:1}),this.setPart(this.part12,{x:379,y:311,angle:0,scX:.95,scY:1,skX:0,skY:-21,alpha:1})):28===this.counterAnim?this.setPart(this.part4,{x:377,y:243,angle:0,scX:1,scY:1,skX:19,skY:19,alpha:1}):30===this.counterAnim&&(this.animComplete(),this.part13.inputEnabled=!0,this.part13.input.useHandCursor=!0))},Lvl13QuestCar.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:381,y:275,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:334,y:276,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:356,y:255,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:370,y:239,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:335,y:247,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:383,y:267,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:326,y:266,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part8,{x:352,y:242,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:331,y:242,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part10,{x:344,y:267,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.part11,{x:371,y:269,angle:0,scX:1,scY:1,skX:108,skY:108,alpha:1}),this.setPart(this.part12,{x:374,y:298,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part13,{x:348,y:259,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13QuestCar.prototype.free=function(){this.part1=null,this.part2=null,this.part3=null,this.part4=null,this.part5=null,this.part6=null,this.part7=null,this.part8=null,this.part9=null,this.part10=null,this.part11=null,this.part12=null,this.part13=null},Lvl13QuestCar})(Client.BasicSimpleAnim);Client.Lvl13QuestCar=Lvl13QuestCar})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl13Skeleton=(_super=>{function Lvl13Skeleton(game){var _this=_super.call(this,game)||this;return _this.alive=!1,_this.counterDefeat=0,_this.heroAlreadyDie=!1,_this.killHeroCount=0,_this.bumpHero=!1,_this.game=game,_this.body=new Phaser.Physics.Box2D.Body(game,null,510,136,2),_this.body.setRectangle(120,84),_this.group=game.make.group(),_this.group.x=_this.body.x,_this.group.y=_this.body.y,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part11=new Client.SASprite(game,0,0,"level13","skeletonPart11 instance 10000"),_this.part11.pivot.set(14,5),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level13","skeletonPart10 instance 10000"),_this.part10.pivot.set(11,16),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level13","skeletonPart9 instance 10000"),_this.part9.pivot.set(11,10),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level13","skeletonPart8 instance 10000"),_this.part8.pivot.set(18,17),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level13","skeletonPart7 instance 10000"),_this.part7.pivot.set(22,18),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level13","skeletonPart6 instance 10000"),_this.part6.pivot.set(21,15),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level13","skeletonPart5 instance 10000"),_this.part5.pivot.set(11,11),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level13","skeletonPart4 instance 10000"),_this.part4.pivot.set(18,15),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level13","skeletonPart3 instance 10000"),_this.part3.pivot.set(8,10),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level13","skeletonPart2 instance 10000"),_this.part2.pivot.set(17,14),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level13","skeletonPart1 instance 10000"),_this.part1.pivot.set(24,13),_this.group.addChild(_this.part1),_this.jaw=new Client.SASprite(game,0,0,"level13","skeletonJaw instance 10000"),_this.jaw.pivot.set(8,5),_this.group.addChild(_this.jaw),_this.head=new Client.SASprite(game,0,0,"level13","skeletonHead instance 10000"),_this.head.pivot.set(37,27),_this.group.addChild(_this.head),_this.eyes=game.make.sprite(20,13,"level13","skeletonEyes instance 10000"),_this.eyes.visible=!1,_this.head.addChild(_this.eyes),_this.dust=Client.GameManager.instance.layerBackground.create(450,150,"level13","dust instance 10000"),_this.dust.animations.add("anim",Phaser.Animation.generateFrameNames("dust instance 1",0,19,"",4),30,!1).killOnComplete=!0,_this.wheel1=Client.GameManager.instance.layerBackground.create(_this.body.x-30,_this.body.y+35,"level13","skeletonWheel instance 10000"),game.physics.box2d.enable(_this.wheel1),_this.wheel1.body.setCircle(11),_this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),_this.wheel1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),_this.joint1=game.physics.box2d.revoluteJoint(_this.body,_this.wheel1,-30,35),_this.wheel2=Client.GameManager.instance.layerBackground.create(_this.body.x+30,_this.body.y+35,"level13","skeletonWheel instance 10000"),game.physics.box2d.enable(_this.wheel2),_this.wheel2.body.setCircle(11),_this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),_this.wheel2.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),_this.joint2=game.physics.box2d.revoluteJoint(_this.body,_this.wheel2,30,35,0,0,0,5,!1),_this.setParts("appear"),_this}return __extends(Lvl13Skeleton,_super),Lvl13Skeleton.prototype.onAnimComplete=function(){"appear"===this.currAnim&&this.move()},Lvl13Skeleton.prototype.appear=function(){this.playAnim("appear"),this.dust.animations.play("anim"),this.eyes.visible=!0,Client.SoundManager.playSFX("s_skeleton"),this.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.killHero,this)},Lvl13Skeleton.prototype.move=function(){this.alive=!0,this.playAnim("move",-1),this.joint2.EnableMotor(!0),this.joint2.SetMotorSpeed(-5),Client.SoundManager.playSFX("s_skeletonWalk",!0)},Lvl13Skeleton.prototype.killHero=function(){0===this.killHeroCount&&(this.killHeroCount=1)},Lvl13Skeleton.prototype.die=function(){Client.SoundManager.playSFX("s_l13_skeletonDeath"),Client.SoundManager.stopSFXLoop("s_skeletonWalk"),this.alive=!1,this.activeAnim=!1,this.eyes.visible=!1,this.body.destroy(),this.game.physics.box2d.world.DestroyJoint(this.joint1),this.game.physics.box2d.world.DestroyJoint(this.joint2),this.wheel1.body.velocity.x=0,this.wheel1.body.velocity.y=0,this.wheel1.body.angularVelocity=0,this.wheel2.body.velocity.x=0,this.wheel2.body.velocity.y=0,this.wheel2.body.angularVelocity=0,this.activateBody(this.part11),this.activateBody(this.part10),this.activateBody(this.part9),this.activateBody(this.part8),this.activateBody(this.part7),this.activateBody(this.part6),this.activateBody(this.part5),this.activateBody(this.part4),this.activateBody(this.part3),this.activateBody(this.part2),this.activateBody(this.part1),this.activateBody(this.jaw),this.activateBody(this.head),this.head.body.angularVelocity=3,this.head.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-2,1),this.head.body.data.GetPosition()),this.group.x=0,this.group.y=0},Lvl13Skeleton.prototype.activateBody=function(graphic){graphic.pivot.set(0,0),this.game.physics.box2d.enable(graphic),graphic.body.x=this.group.x+graphic.x,graphic.body.y=this.group.y+graphic.y,graphic.body.friction=.4,graphic.body.setCollisionCategory(Client.FilterGroups.CAR1),graphic.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR)},Lvl13Skeleton.prototype.update=function(){_super.prototype.update.call(this),!0===this.alive&&(this.group.x=this.body.x),1===this.killHeroCount?(!1===this.heroAlreadyDie?(this.killHeroCount=2,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.level.customAction(2),!0===Client.GameManager.instance.hero.getEnableMotor()&&Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,Client.SoundManager.playSFX("s_sword2"),Client.SoundManager.stopSFXLoop("s_skeletonWalk")):this.killHeroCount=3,this.bumpHero=!0,this.joint2.EnableMotor(!1),Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(5,0),Client.GameManager.instance.hero.bodyBase.data.GetPosition()),this.body.velocity.x=10):2===this.killHeroCount&&(this.counterDefeat+=1,120===this.counterDefeat)&&(this.killHeroCount=3,Client.LevelBuilder.instance.levelFailed()),!0===this.bumpHero&&510<=this.body.x&&(this.bumpHero=!1,this.body.velocity.x=0,this.wheel1.body.velocity.x=0,this.wheel1.body.velocity.y=0,this.wheel1.body.angularVelocity=0,this.wheel2.body.velocity.x=0,this.wheel2.body.velocity.y=0,this.wheel2.body.angularVelocity=0)},Lvl13Skeleton.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"appear"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head,12,{x:-34,y:8,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.jaw,34,{y:18}),this.setPart(this.part1,{x:-34,y:31,angle:0,scX:1,scY:1,skX:13,skY:13,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,34,{x:35,y:19}),Client.GameManager.instance.level.setSimpleTween(this.part3,34,{x:35,y:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,12,{x:-2,y:28,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.part5,12,{y:32,skX:-73,skY:-73}),this.setPart(this.part6,{x:9,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:34,y:11,angle:0,scX:1,scY:1,skX:-27,skY:-27,alpha:1}),this.setPart(this.part8,{x:54,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:57,y:33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part10,34,{x:-19,y:3})):6===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part9,29,{x:58,y:18}):12===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,23,{y:21,skX:0,skY:0}):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head,22,{x:-26,y:-16,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part4,22,{x:2,y:-2,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part5,9,{skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.part8,22,{x:57,y:-4})):18===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part7,17,{x:40,y:-23,skX:0,skY:0}):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part5,13,{x:17,y:10,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part6,13,{x:16,y:-35})):36===this.counterAnim&&this.animComplete():"move"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head,24,{x:-28,y:-15}),Client.GameManager.instance.level.setSimpleTween(this.jaw,24,{x:-59,y:22,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.part1,24,{x:-35,y:23}),Client.GameManager.instance.level.setSimpleTween(this.part2,24,{x:33,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.part3,24,{x:37,skX:6,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.part4,24,{x:0,y:-3,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.part5,24,{x:15,y:12,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.part6,24,{x:13,y:-32,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.part7,24,{x:39,y:-26,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.part8,24,{x:58,y:-8,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.part9,24,{y:15,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.part10,24,{x:-20,y:4}),Client.GameManager.instance.level.setSimpleTween(this.part11,24,{x:3,y:25})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head,25,{x:-26,y:-16}),Client.GameManager.instance.level.setSimpleTween(this.jaw,25,{x:-58,y:18,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part1,25,{x:-34,y:21}),Client.GameManager.instance.level.setSimpleTween(this.part2,25,{x:35,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,25,{x:35,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part4,25,{x:2,y:-2,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part5,25,{x:17,y:10,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part6,25,{x:16,y:-35,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part7,25,{x:40,y:-23,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part8,25,{x:57,y:-4,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part9,25,{y:18,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part10,25,{x:-19,y:3}),Client.GameManager.instance.level.setSimpleTween(this.part11,25,{x:4,y:23})):50===this.counterAnim&&this.animComplete()))},Lvl13Skeleton.prototype.setParts=function(value){"appear"===value?(this.setPart(this.head,{x:-31,y:20,angle:0,scX:1,scY:1,skX:15,skY:15,alpha:1}),this.setPart(this.jaw,{x:-58,y:35,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part1,{x:-34,y:31,angle:0,scX:1,scY:1,skX:13,skY:13,alpha:1}),this.setPart(this.part2,{x:34,y:36,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:33,y:28,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:1,y:34,angle:0,scX:1,scY:1,skX:-49,skY:-49,alpha:1}),this.setPart(this.part5,{x:19,y:28,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:9,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:34,y:11,angle:0,scX:1,scY:1,skX:-27,skY:-27,alpha:1}),this.setPart(this.part8,{x:54,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:57,y:33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part10,{x:-22,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part11,{x:4,y:23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"move"===value&&(this.setPart(this.head,{x:-26,y:-16,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.jaw,{x:-58,y:18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part1,{x:-34,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:35,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:35,y:1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:2,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:17,y:10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:16,y:-35,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:40,y:-23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part8,{x:57,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:58,y:18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part10,{x:-19,y:3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part11,{x:4,y:23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl13Skeleton.prototype.free=function(){this.group=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.jaw=null,this.head=null,this.eyes=null,this.dust=null,this.body=null,this.wheel1=null,this.wheel2=null,this.joint1=null,this.joint2=null},Lvl13Skeleton})(Client.BasicSimpleAnim);Client.Lvl13Skeleton=Lvl13Skeleton})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Dragon=(_super=>{function Lvl14Dragon(game){var _this=_super.call(this,game)||this;return _this.moveLamp=!1,_this.game=game,_this.updateElements=new Array,_this.group=game.make.group(),_this.group.x=-100,_this.group.y=336,_this.group.scale.x=-1,Client.GameManager.instance.layerElements.addChild(_this.group),_this.wing1=new Client.Lvl14DragonWing(game,"1","_1"),_this.group.addChild(_this.wing1.group),_this.updateElements.push(_this.wing1),_this.fLeg1=new Client.Lvl14DragonFrontLeg(game,"1"),_this.group.addChild(_this.fLeg1.group),_this.updateElements.push(_this.fLeg1),_this.bLeg1=new Client.Lvl14DragonBackLeg(game,"1"),_this.group.addChild(_this.bLeg1.group),_this.updateElements.push(_this.bLeg1),_this.tors=new Client.Lvl14DragonTors(game),_this.group.addChild(_this.tors.group),_this.updateElements.push(_this.tors),_this.sound=new Client.Lvl14DragonSound(game),_this.sound.group.visible=!1,_this.group.addChild(_this.sound.group),_this.updateElements.push(_this.sound),_this.fLeg2=new Client.Lvl14DragonFrontLeg(game),_this.group.addChild(_this.fLeg2.group),_this.updateElements.push(_this.fLeg2),_this.bLeg2=new Client.Lvl14DragonBackLeg(game),_this.group.addChild(_this.bLeg2.group),_this.updateElements.push(_this.bLeg2),_this.sedlo=new Client.SASprite(game,0,0,"dragon","dragonSeddle instance 10000"),_this.sedlo.pivot.set(57,24),_this.group.addChild(_this.sedlo),_this.wheely=new Client.SASprite(game,0,0,"dragon","carcorpus instance 10000"),_this.wheely.pivot.set(69,57),_this.group.addChild(_this.wheely),_this.wing2=new Client.Lvl14DragonWing(game),_this.group.addChild(_this.wing2.group),_this.updateElements.push(_this.wing2),_this.smoke=game.make.sprite(-260,-160,"dragon"),_this.smoke.animations.add("anim",Phaser.Animation.generateFrameNames("smoke instance 1",0,11,"",4),30,!1).onComplete.addOnce(_this.smokeComp,_this),_this.group.addChild(_this.smoke),_this.smoke.visible=!1,_this.playNormal(),_this.wing2.playAnim("anim1",-1),_this.wing1.playAnim("anim1",-1),_this}return __extends(Lvl14Dragon,_super),Lvl14Dragon.prototype.smokeComp=function(){this.smoke.destroy(),!0===this.moveLamp&&Client.GameManager.instance.level.customAction(9)},Lvl14Dragon.prototype.playNormal=function(){this.playAnim("normal",-1),this.bLeg2.playAnim("normal",-1),this.fLeg2.playAnim("normal",-1),this.tors.playAnim("normal",-1),this.bLeg1.playAnim("normal",-1),this.fLeg1.playAnim("normal",-1)},Lvl14Dragon.prototype.playSmoke=function(value){this.moveLamp=value=void 0===value?!1:value,this.playAnim("smoke"),this.bLeg2.playAnim("smoke"),this.fLeg2.playAnim("smoke"),this.tors.playAnim("smoke"),this.tors.head.playAnim("smoke"),this.bLeg1.playAnim("smoke"),this.fLeg1.playAnim("smoke"),Client.SoundManager.playSFX("s14_dragonSneezing")},Lvl14Dragon.prototype.playStart=function(){Client.SoundManager.playSFX("s_whistling",!0),this.wheely.frameName="carcorpus instance 10001",this.playAnim("start"),this.bLeg1.playAnim("start"),this.bLeg2.playAnim("start"),this.fLeg1.playAnim("start"),this.fLeg2.playAnim("start"),this.tors.playStart(),this.wing1.loopAnim=0,this.wing2.loopAnim=0},Lvl14Dragon.prototype.onAnimComplete=function(){"smoke"===this.currAnim?this.playNormal():"start"===this.currAnim&&(this.playAnim("cycle",-1),this.sound.playAnim("anim",-1))},Lvl14Dragon.prototype.update=function(){_super.prototype.update.call(this);for(var i=0;i<this.updateElements.length;i++)this.updateElements[i].update()},Lvl14Dragon.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,24,{x:-17,y:-33,skX:-7,skY:3,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.wheely,24,{x:-4,y:-101,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,24,{x:-9,y:-44,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,24,{x:45,y:25,skX:-22,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,24,{x:-20,y:32,skX:-31,skY:-30}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,24,{x:21,y:-68,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,24,{x:25,y:24,skX:-22,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,24,{x:-33,y:35,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,24,{x:-15,y:-37,skX:-23,skY:-15,scY:1.01})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,25,{x:-20,y:-7,skX:-11,skY:-11,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.wheely,25,{x:-16,y:-75,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,25,{x:-14,y:-18,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,25,{x:36,y:54,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,25,{x:-29,y:56,skX:-26,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,25,{x:20,y:-41,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,25,{x:16,y:52,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,25,{x:-43,y:57,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,25,{x:-52,y:-12,skX:-11,skY:-11,scY:1})):50===this.counterAnim&&this.animComplete():"smoke"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,15,{x:-13,y:-62,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.wheely,15,{x:1,y:-128,skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,15,{x:-4,y:-71,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,15,{x:34,y:7,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,15,{x:-33,y:-4,skX:-14,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,15,{x:32,y:-89,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,15,{x:15,y:2,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,15,{y:-10,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,15,{x:-23,y:-86,skX:-3,skY:-3})):16===this.counterAnim?(this.smoke.visible=!0,this.smoke.animations.play("anim"),Client.GameManager.instance.level.setSimpleTween(this.wing2.group,10,{x:12,y:-97,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.wheely,10,{x:12,y:-166,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,10,{x:20,y:-109,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,10,{x:77,y:-42,skX:-23,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,10,{x:12,y:-34,skX:-32,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,10,{x:52,y:-135,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,10,{x:57,y:-42,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,10,{x:-1,y:-31,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,10,{x:20,y:-115,skX:-16,skY:-16})):26===this.counterAnim?(this.wheely.visible=!1,Client.GameManager.instance.level.blowHero(this.group.x+this.wheely.x,this.group.y+this.wheely.y,this.wheely.skX,this.moveLamp),Client.GameManager.instance.level.setSimpleTween(this.wing2.group,10,{x:-12,y:-29,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,10,{x:-4,y:-40,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,10,{x:45,y:33,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,10,{x:-19,y:35,skX:-26,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,10,{x:30,y:-62,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,10,{x:26,y:31,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,10,{x:-34,y:36,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,10,{x:-39,y:-43,skX:-11,skY:-11})):36===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,10,{x:-19,y:-9}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,10,{x:-14,y:-18}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,10,{x:36,y:54}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,10,{x:-29,y:56}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,10,{x:20,y:-41}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,10,{x:16,y:52}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,10,{x:-43,y:57}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,10,{x:-41,y:-13})):46===this.counterAnim&&this.animComplete():"start"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,14,{x:-16,y:-12,skX:25,skY:35,scY:.96}),Client.GameManager.instance.level.setSimpleTween(this.wheely,14,{x:6,y:-76,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,14,{x:-6,y:-21,skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,14,{x:38,y:46,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,14,{x:-27,y:35,skX:-32,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.tors.group,20,{x:34,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,14,{x:9,y:47,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,14,{x:-49,y:37,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,10,{x:-17,y:-10,skX:16,skY:20,scY:.92})):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.wing1.group,20,{x:-15,y:-11,skX:-1,skY:-1,scY:1}):15===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.wing2.group,16,{y:-13,skX:-13,skY:-13,scY:1}):31===this.counterAnim&&this.animComplete():"cycle"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,50,{x:-13,skX:57,skY:45,scY:.84}),Client.GameManager.instance.level.setSimpleTween(this.wheely,50,{x:-11,y:-78,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,50,{skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,50,{x:36,y:58,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,50,{x:-18,y:41,skX:-51,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.sound.group,50,{x:-140,y:-121}),this.setPart(this.tors.group,{x:34,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,50,{x:16,y:54,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,50,{x:-44,y:50,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,50,{x:-13,y:-13,skX:54,skY:54,scY:.83})):51===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing2.group,37,{x:-16,y:-14,skX:-13,skY:-13,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.wheely,37,{x:6,y:-76,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.sedlo,37,{skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.bLeg2.group,37,{x:38,y:46,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.fLeg2.group,37,{x:-27,y:35,skX:-32,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.sound.group,37,{x:-131,y:-145}),Client.GameManager.instance.level.setSimpleTween(this.bLeg1.group,37,{x:9,y:47,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.fLeg1.group,37,{x:-49,y:37,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.wing1.group,37,{x:-15,y:-11,skX:-1,skY:-1,scY:1})):88===this.counterAnim&&this.animComplete()))},Lvl14Dragon.prototype.setParts=function(value){"normal"===value||"smoke"===value?(this.setPart(this.wing2.group,{x:-20,y:-7,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1}),this.setPart(this.wheely,{x:-16,y:-75,angle:0,scX:-1,scY:1,skX:-6,skY:-6,alpha:1}),this.setPart(this.sedlo,{x:-14,y:-18,angle:0,scX:1,scY:1,skX:-10,skY:-10,alpha:1}),this.setPart(this.bLeg2.group,{x:36,y:54,angle:0,scX:1,scY:.94,skX:-17,skY:-17,alpha:1}),this.setPart(this.fLeg2.group,{x:-29,y:56,angle:0,scX:1,scY:.94,skX:-26,skY:-25,alpha:1}),this.setPart(this.tors.group,{x:20,y:-41,angle:0,scX:1,scY:1,skX:-14,skY:-14,alpha:1}),this.setPart(this.bLeg1.group,{x:16,y:52,angle:0,scX:.89,scY:1.01,skX:-17,skY:-17,alpha:1}),this.setPart(this.fLeg1.group,{x:-43,y:57,angle:0,scX:.95,scY:.95,skX:-27,skY:-27,alpha:1}),this.setPart(this.wing1.group,{x:-52,y:-12,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1})):"start"===value?(this.setPart(this.wing2.group,{x:-21,y:-9,angle:0,scX:1,scY:1,skX:-13,skY:-13,alpha:1}),this.setPart(this.wheely,{x:-16,y:-70,angle:0,scX:-1,scY:1,skX:-6,skY:-6,alpha:1}),this.setPart(this.sedlo,{x:-14,y:-18,angle:0,scX:1,scY:1,skX:-10,skY:-10,alpha:1}),this.setPart(this.bLeg2.group,{x:36,y:54,angle:0,scX:1,scY:.94,skX:-17,skY:-17,alpha:1}),this.setPart(this.fLeg2.group,{x:-29,y:56,angle:0,scX:1,scY:.94,skX:-26,skY:-25,alpha:1}),this.setPart(this.tors.group,{x:34,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg1.group,{x:16,y:52,angle:0,scX:.89,scY:1.01,skX:-17,skY:-17,alpha:1}),this.setPart(this.fLeg1.group,{x:-43,y:57,angle:0,scX:.95,scY:.95,skX:-27,skY:-27,alpha:1}),this.setPart(this.wing1.group,{x:-20,y:-13,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1})):"cycle"===value&&(this.setPart(this.wing2.group,{x:-16,y:-13,angle:0,scX:1,scY:1,skX:-13,skY:-13,alpha:1}),this.setPart(this.wheely,{x:6,y:-76,angle:0,scX:-1,scY:1,skX:15,skY:15,alpha:1}),this.setPart(this.sedlo,{x:-6,y:-21,angle:0,scX:1,scY:1,skX:11,skY:11,alpha:1}),this.setPart(this.bLeg2.group,{x:38,y:46,angle:0,scX:1,scY:.94,skX:-25,skY:-25,alpha:1}),this.setPart(this.fLeg2.group,{x:-27,y:35,angle:0,scX:1,scY:.94,skX:-32,skY:-31,alpha:1}),this.sound.group.visible=!0,this.setPart(this.sound.group,{x:-131,y:-145,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors.group,{x:34,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bLeg1.group,{x:9,y:47,angle:0,scX:.89,scY:1.01,skX:-2,skY:-2,alpha:1}),this.setPart(this.fLeg1.group,{x:-49,y:37,angle:0,scX:.95,scY:.95,skX:-12,skY:-12,alpha:1}),this.setPart(this.wing1.group,{x:-15,y:-11,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1}))},Lvl14Dragon.prototype.free=function(){this.game=null,this.group=null;for(var i=0;i<this.updateElements.length;i++)this.updateElements[i].free();this.updateElements=[],this.updateElements=null,this.wing1=null,this.fLeg1=null,this.bLeg1=null,this.tors=null,this.fLeg2=null,this.bLeg2=null,this.sedlo=null,this.wheely=null,this.wing2=null,this.smoke=null,this.sound=null},Lvl14Dragon})(Client.BasicDragon);Client.Lvl14Dragon=Lvl14Dragon})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14DragonHead=(_super=>{function Lvl14DragonHead(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.tongue=new Client.SASprite(game,0,0,"dragon","tongue instance 10000"),_this.tongue.pivot.set(15,3),_this.group.addChild(_this.tongue),_this.jawBot=new Client.SASprite(game,0,0,"dragon","jawBot instance 10000"),_this.jawBot.pivot.set(24,24),_this.group.addChild(_this.jawBot),_this.jawTop=new Client.SASprite(game,0,0,"dragon","jawTop instance 10000"),_this.jawTop.pivot.set(50,34),_this.group.addChild(_this.jawTop),_this.eye=game.make.sprite(36,5,"dragon"),_this.eye.animations.add("anim",Phaser.Animation.generateFrameNames("dragonEye instance 1",106,190,"",4),30,!0),_this.eye.animations.add("sound",Phaser.Animation.generateFrameNames("dragonEye instance 1",191,191,"",4),30,!1),_this.eye.animations.play("anim"),_this.jawTop.addChild(_this.eye),_this.setParts("smoke"),_this}return __extends(Lvl14DragonHead,_super),Lvl14DragonHead.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"smoke"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop,14,{x:2,y:1,skX:19,skY:19}),Client.GameManager.instance.level.setSimpleTween(this.jawBot,14,{x:-21,y:29,skX:-7,skY:-7})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop,10,{x:1,y:3,skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.jawBot,10,{x:-20,y:31,skX:-12,skY:-12})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.jawTop,10,{y:7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.jawBot,10,{x:-23,y:25,skX:0,skY:0})):35===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.jawBot,10,{x:-21,y:30,skX:-8,skY:-8}):45===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.jawBot,10,{x:-23,y:25,skX:0,skY:0}):55===this.counterAnim&&this.animComplete())},Lvl14DragonHead.prototype.setParts=function(value){"smoke"===value?(this.setPart(this.jawTop,{x:1,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.jawBot,{x:-23,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tongue,{x:-16,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"start"===value&&(this.setPart(this.jawTop,{x:1,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.jawBot,{x:-21,y:30,angle:0,scX:1,scY:1,skX:-9,skY:-9,alpha:1}),this.setPart(this.tongue,{x:-27,y:16,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl14DragonHead.prototype.free=function(){this.group=null,this.tongue=null,this.jawBot=null,this.jawTop=null,this.eye=null},Lvl14DragonHead})(Client.BasicDragon);Client.Lvl14DragonHead=Lvl14DragonHead})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14DragonBackLeg=(_super=>{function Lvl14DragonBackLeg(game,id){void 0===id&&(id="");var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part4=new Client.SASprite(game,0,0,"dragon","bLeg1"+id+" instance 10000"),_this.part4.pivot.set(26,36),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"dragon","bLeg2"+id+" instance 10000"),_this.part3.pivot.set(8,13),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"dragon","bLeg3"+id+" instance 10000"),_this.part2.pivot.set(18,21),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"dragon","bLeg4"+id+" instance 10000"),_this.part1.pivot.set(20,11),_this.group.addChild(_this.part1),_this.setParts("normal"),_this}return __extends(Lvl14DragonBackLeg,_super),Lvl14DragonBackLeg.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,11,{x:-42,y:56,skX:-91,skY:-91}),Client.GameManager.instance.level.setSimpleTween(this.part2,24,{x:-23,y:39,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.part3,24,{x:-27,y:11,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part4,24,{x:-16,y:-7,skX:-31,skY:-31})):12===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,13,{x:-34,y:68}):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,12,{x:-43,y:53}),Client.GameManager.instance.level.setSimpleTween(this.part2,25,{x:-30,y:18,skX:48,skY:48}),Client.GameManager.instance.level.setSimpleTween(this.part3,25,{x:-34,y:-2,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part4,25,{x:-26,y:-13,skX:-11,skY:-11})):37===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,13,{x:-48,y:38,skX:-92,skY:-92}):50===this.counterAnim&&this.animComplete():"smoke"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{x:-34,y:68,skX:-91,skY:-91}),Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-23,y:39,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-27,y:11,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-16,y:-7,skX:-31,skY:-31})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,19,{x:-48,y:38,skX:-92,skY:-92}),Client.GameManager.instance.level.setSimpleTween(this.part2,19,{x:-30,y:18,skX:48,skY:48}),Client.GameManager.instance.level.setSimpleTween(this.part3,19,{x:-34,y:-2,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part4,19,{x:-26,y:-13,skX:-11,skY:-11})):35===this.counterAnim&&this.animComplete():"start"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,12,{x:-42,y:56,skX:-91,skY:-91}),Client.GameManager.instance.level.setSimpleTween(this.part2,30,{x:-23,y:39,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.part3,30,{x:-27,y:11,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part4,30,{x:-16,y:-7,skX:-31,skY:-31})):13===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,18,{x:-34,y:68}):31===this.counterAnim&&this.animComplete()))},Lvl14DragonBackLeg.prototype.setParts=function(value){"normal"!==value&&"smoke"!==value&&"start"!==value||(this.setPart(this.part1,{x:-48,y:38,angle:0,scX:.99,scY:.99,skX:-92,skY:-92,alpha:1}),this.setPart(this.part2,{x:-30,y:18,angle:0,scX:.99,scY:.99,skX:48,skY:48,alpha:1}),this.setPart(this.part3,{x:-34,y:-2,angle:0,scX:.99,scY:.99,skX:-2,skY:-2,alpha:1}),this.setPart(this.part4,{x:-26,y:-13,angle:0,scX:.99,scY:.99,skX:-11,skY:-11,alpha:1}))},Lvl14DragonBackLeg.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null},Lvl14DragonBackLeg})(Client.BasicDragon);Client.Lvl14DragonBackLeg=Lvl14DragonBackLeg})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14DragonFrontLeg=(_super=>{function Lvl14DragonFrontLeg(game,id){void 0===id&&(id="");var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part3=new Client.SASprite(game,0,0,"dragon","fLeg3"+id+" instance 10000"),_this.part3.pivot.set(21,19),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"dragon","fLeg2"+id+" instance 10000"),_this.part2.pivot.set(16,8),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"dragon","fLeg1"+id+" instance 10000"),_this.part1.pivot.set(15,29),_this.group.addChild(_this.part1),_this.setParts("normal"),_this}return __extends(Lvl14DragonFrontLeg,_super),Lvl14DragonFrontLeg.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,24,{x:-7,skX:27,skY:27}),Client.GameManager.instance.level.setSimpleTween(this.part2,24,{x:-47,y:40,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.part3,24,{x:-23,y:15,skX:20,skY:20})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,25,{x:-5,skX:24,skY:24}),Client.GameManager.instance.level.setSimpleTween(this.part2,25,{x:-49,y:14,skX:-69,skY:-69}),Client.GameManager.instance.level.setSimpleTween(this.part3,25,{x:-21,y:5,skX:55,skY:55})):50===this.counterAnim&&this.animComplete():"smoke"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{x:-13,y:-16,skX:42,skY:42}),Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-58,y:36,skX:-63,skY:-63}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-35,y:11,skX:20,skY:20})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,19,{x:-5,y:-13,skX:24,skY:24}),Client.GameManager.instance.level.setSimpleTween(this.part2,19,{x:-49,y:14,skX:-69,skY:-69}),Client.GameManager.instance.level.setSimpleTween(this.part3,19,{x:-21,y:5,skX:55,skY:55})):35===this.counterAnim&&this.animComplete():"start"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,30,{x:-7,skX:27,skY:27}),Client.GameManager.instance.level.setSimpleTween(this.part2,30,{x:-47,y:40,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.part3,30,{x:-23,y:15,skX:20,skY:20})):31===this.counterAnim&&this.animComplete()))},Lvl14DragonFrontLeg.prototype.setParts=function(value){"normal"!==value&&"smoke"!==value&&"start"!==value||(this.setPart(this.part1,{x:-5,y:-13,angle:0,scX:.99,scY:.99,skX:24,skY:24,alpha:1}),this.setPart(this.part2,{x:-49,y:14,angle:0,scX:.99,scY:.99,skX:-69,skY:-69,alpha:1}),this.setPart(this.part3,{x:-21,y:5,angle:0,scX:.99,scY:.99,skX:55,skY:55,alpha:1}))},Lvl14DragonFrontLeg.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null},Lvl14DragonFrontLeg})(Client.BasicDragon);Client.Lvl14DragonFrontLeg=Lvl14DragonFrontLeg})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14DragonSound=(_super=>{function Lvl14DragonSound(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part3=new Client.SASprite(game,0,0,"dragon","sound instance 10000"),_this.part3.pivot.set(4,7),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"dragon","sound instance 10000"),_this.part2.pivot.set(4,7),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"dragon","sound instance 10000"),_this.part1.pivot.set(4,7),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl14DragonSound,_super),Lvl14DragonSound.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.part2.visible=!0,this.part3.visible=!0,Client.GameManager.instance.level.setSimpleTween(this.part2,33,{x:-34,y:-53,skX:44,skY:44,scX:2.63,scY:2.63}),Client.GameManager.instance.level.setSimpleTween(this.part3,18,{x:-34,y:-53,skX:44,skY:44,scX:2.63,scY:2.63})):19===this.counterAnim?(this.part1.visible=!0,this.setPart(this.part1,{x:20,y:6,angle:0,scX:1,scY:1,skX:49,skY:49,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part1,33,{x:-80,y:-19,skX:-51,skY:-51,scX:2.63,scY:2.63}),Client.GameManager.instance.level.setSimpleTween(this.part3,37,{x:-169,y:-74,skX:-39,skY:-39,scX:4.46,scY:4.46,alpha:0})):34===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,37,{x:-169,y:-74,skX:-39,skY:-39,scX:4.46,scY:4.46,alpha:0}):52===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,37,{x:-108,y:-120,skX:32,skY:32,scX:4.46,scY:4.46,alpha:0}):57===this.counterAnim?this.part3.visible=!1:72===this.counterAnim?this.part2.visible=!1:74===this.counterAnim?(this.part3.visible=!0,this.setPart(this.part3,{x:8,y:8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-16,y:-21,skX:20,skY:20,scX:1.74,scY:1.74})):89===this.counterAnim&&this.animComplete())},Lvl14DragonSound.prototype.setParts=function(value){"anim"===value&&(this.part1.visible=!1,this.setPart(this.part2,{x:1,y:17,angle:0,scX:1,scY:1,skX:-45,skY:-45,alpha:1}),this.setPart(this.part3,{x:-16,y:-21,angle:0,scX:1.74,scY:1.74,skX:20,skY:20,alpha:1}))},Lvl14DragonSound.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null},Lvl14DragonSound})(Client.BasicDragon);Client.Lvl14DragonSound=Lvl14DragonSound})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14DragonTors=(_super=>{function Lvl14DragonTors(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.tors=new Client.SASprite(game,0,0,"dragon","tors instance 10000"),_this.tors.pivot.set(61,39),_this.group.addChild(_this.tors),_this.tail1=new Client.SASprite(game,0,0,"dragon","tail1 instance 10000"),_this.tail1.pivot.set(27,28),_this.group.addChild(_this.tail1),_this.tail2=new Client.SASprite(game,0,0,"dragon","tail2 instance 10000"),_this.tail2.pivot.set(20,21),_this.group.addChild(_this.tail2),_this.tail3=new Client.SASprite(game,0,0,"dragon","tail3 instance 10000"),_this.tail3.pivot.set(18,15),_this.group.addChild(_this.tail3),_this.tail4=new Client.SASprite(game,0,0,"dragon","tail4 instance 10000"),_this.tail4.pivot.set(19,12),_this.group.addChild(_this.tail4),_this.tail5=new Client.SASprite(game,0,0,"dragon","tail5 instance 10000"),_this.tail5.pivot.set(18,14),_this.group.addChild(_this.tail5),_this.tail6=new Client.SASprite(game,0,0,"dragon","tail6 instance 10000"),_this.tail6.pivot.set(16,12),_this.group.addChild(_this.tail6),_this.tail7=new Client.SASprite(game,0,0,"dragon","tail7 instance 10000"),_this.tail7.pivot.set(14,43),_this.group.addChild(_this.tail7),_this.neck3=new Client.SASprite(game,0,0,"dragon","neck3 instance 10000"),_this.neck3.pivot.set(23,36),_this.group.addChild(_this.neck3),_this.neck2=new Client.SASprite(game,0,0,"dragon","neck2 instance 10000"),_this.neck2.pivot.set(23,38),_this.group.addChild(_this.neck2),_this.neck1=new Client.SASprite(game,0,0,"dragon","neck1 instance 10000"),_this.neck1.pivot.set(19,29),_this.group.addChild(_this.neck1),_this.head=new Client.Lvl14DragonHead(game),_this.group.addChild(_this.head.group),_this.setParts("normal"),_this}return __extends(Lvl14DragonTors,_super),Lvl14DragonTors.prototype.update=function(){_super.prototype.update.call(this),this.head.update()},Lvl14DragonTors.prototype.playStart=function(){this.playAnim("start"),this.head.setParts("start"),this.head.eye.animations.play("sound")},Lvl14DragonTors.prototype.onAnimComplete=function(){"start"===this.currAnim&&this.playAnim("cycle",-1)},Lvl14DragonTors.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,24,{x:-139,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.neck1,24,{x:-122,y:-30,skX:-45,skY:-45}),Client.GameManager.instance.level.setSimpleTween(this.neck2,24,{x:-101,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.neck3,24,{y:14,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.tail7,24,{x:156,y:157,skX:86,skY:86,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail6,24,{x:105,y:146,skX:65,skY:65}),Client.GameManager.instance.level.setSimpleTween(this.tail5,24,{x:85,y:131,skX:44,skY:44}),Client.GameManager.instance.level.setSimpleTween(this.tail4,24,{x:61,y:118,skX:27,skY:27}),Client.GameManager.instance.level.setSimpleTween(this.tail3,24,{x:48,y:99,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.tail2,24,{x:25,y:80,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.tail1,24,{x:4,y:57,skX:2,skY:2})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,25,{x:-143,skX:6,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.neck1,25,{x:-126,y:-29,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.neck2,25,{x:-103,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.neck3,25,{y:12,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.tail7,25,{x:171,y:95,skX:49,skY:49,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail6,25,{x:124,y:114,skX:36,skY:36}),Client.GameManager.instance.level.setSimpleTween(this.tail5,25,{x:100,y:108,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.tail4,25,{x:74,y:100,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.tail3,25,{x:58,y:85,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.tail2,25,{x:30,y:73,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.tail1,25,{x:5,y:56,skX:-9,skY:-9})):50===this.counterAnim&&this.animComplete():"smoke"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,14,{x:-120,y:-81,skX:36,skY:36}),Client.GameManager.instance.level.setSimpleTween(this.neck1,14,{x:-113,y:-49,skX:-38,skY:-38}),Client.GameManager.instance.level.setSimpleTween(this.neck2,14,{x:-91,y:-22,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.neck3,14,{x:-83,y:-5,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.tail7,14,{x:155,y:157,skX:86,skY:86,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail6,14,{x:105,y:146,skX:65,skY:65,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail5,14,{x:85,y:131,skX:44,skY:44}),Client.GameManager.instance.level.setSimpleTween(this.tail4,14,{x:61,y:118,skX:26,skY:26}),Client.GameManager.instance.level.setSimpleTween(this.tail3,14,{x:48,y:99,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.tail2,14,{x:25,y:80,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.tail1,14,{x:4,y:57,skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.tors,14,{x:-49,scX:.98,scY:.98})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-158,y:-46,skX:6,skY:6,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-137,y:-19,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-107,y:-1,skX:-47,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-94,y:12,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.tail7,10,{x:152,y:169,skX:101,skY:101}),Client.GameManager.instance.level.setSimpleTween(this.tail6,10,{x:104,y:148,skX:73,skY:73}),Client.GameManager.instance.level.setSimpleTween(this.tail5,10,{skX:48,skY:48}),Client.GameManager.instance.level.setSimpleTween(this.tail4,10,{x:62,y:117,skX:29,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.tail3,10,{x:50,y:98,skX:33,skY:33}),Client.GameManager.instance.level.setSimpleTween(this.tail2,10,{x:26,y:79,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.tail1,10,{x:3,y:59,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:-50,y:48})):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,5,{x:-182,y:3,skX:-25,skY:-25,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.neck1,5,{x:-151,y:18,skX:-78,skY:-78}),Client.GameManager.instance.level.setSimpleTween(this.neck2,5,{x:-116,y:24,skX:-68,skY:-68}),Client.GameManager.instance.level.setSimpleTween(this.neck3,5,{x:-100,y:31,skX:-34,skY:-34})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{x:-143,y:-59,skX:6,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.neck1,10,{x:-126,y:-29,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.neck2,10,{x:-103,y:-3,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.neck3,10,{x:-93,y:12,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.tail7,10,{x:171,y:95,skX:49,skY:49,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.tail6,10,{x:124,y:114,skX:36,skY:36,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.tail5,10,{x:100,y:108,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.tail4,10,{x:74,y:100,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.tail3,10,{x:58,y:85,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.tail2,10,{x:30,y:73,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.tail1,10,{x:5,y:56,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{y:49,scX:.99,scY:.99})):35===this.counterAnim&&this.animComplete():"start"===this.currAnim?2===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,14,{x:-111,y:-74,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.neck1,14,{x:-103,y:-44,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.neck2,14,{x:-96,y:-9,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.neck3,14,{x:-92,y:8,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.tail7,14,{x:192,y:104,skX:108,skY:108}),Client.GameManager.instance.level.setSimpleTween(this.tail6,14,{x:152,y:82,skX:64,skY:64}),Client.GameManager.instance.level.setSimpleTween(this.tail5,14,{x:135,y:70,skX:37,skY:37}),Client.GameManager.instance.level.setSimpleTween(this.tail4,14,{x:109,y:57,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.tail3,14,{x:79,y:49,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.tail2,14,{x:48,y:52,skX:-46,skY:-46}),Client.GameManager.instance.level.setSimpleTween(this.tail1,14,{x:5,y:52,skX:-30,skY:-30}),Client.GameManager.instance.level.setSimpleTween(this.tors,14,{x:-48,y:45,skX:13,skY:13})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,16,{x:-92,y:-75,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.neck1,16,{x:-100,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.tail7,16,{x:171,y:94,skX:49,skY:49}),Client.GameManager.instance.level.setSimpleTween(this.tail6,16,{x:124,y:113,skX:37,skY:37}),Client.GameManager.instance.level.setSimpleTween(this.tail5,16,{x:101,y:106,skX:26,skY:26}),Client.GameManager.instance.level.setSimpleTween(this.tail4,16,{x:75,y:98,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.tail3,16,{x:59,y:83,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.tail2,16,{x:31,y:70,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.tail1,16,{x:6,skX:-9,skY:-9})):32===this.counterAnim&&this.animComplete():"cycle"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,50,{x:-103,y:-60,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.neck1,50,{x:-108,y:-29,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.neck2,50,{x:-100,y:6,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.neck3,50,{x:-94,y:22,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.tail7,50,{x:178,y:102,skX:69,skY:69}),Client.GameManager.instance.level.setSimpleTween(this.tail6,50,{x:129,y:107,skX:48,skY:48}),Client.GameManager.instance.level.setSimpleTween(this.tail5,50,{x:109,y:99,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.tail4,50,{x:87,y:88,skX:23,skY:23}),Client.GameManager.instance.level.setSimpleTween(this.tail3,50,{x:68,y:74,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.tail2,50,{x:39,y:64,skX:-30,skY:-30}),Client.GameManager.instance.level.setSimpleTween(this.tail1,50,{x:8,y:55,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.tors,50,{x:-46,y:53,skX:6,skY:6})):51===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.head.group,37,{x:-92,y:-75,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.neck1,37,{x:-100,y:-44,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.neck2,37,{x:-96,y:-9,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.neck3,37,{x:-92,y:8,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.tail7,37,{x:171,y:94,skX:49,skY:49}),Client.GameManager.instance.level.setSimpleTween(this.tail6,37,{x:124,y:113,skX:37,skY:37}),Client.GameManager.instance.level.setSimpleTween(this.tail5,37,{x:101,y:106,skX:26,skY:26}),Client.GameManager.instance.level.setSimpleTween(this.tail4,37,{x:75,y:98,skX:15,skY:15}),Client.GameManager.instance.level.setSimpleTween(this.tail3,37,{x:59,y:83,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.tail2,37,{x:31,y:70,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.tail1,37,{x:6,y:52,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.tors,37,{x:-48,y:45,skX:13,skY:13})):88===this.counterAnim&&this.animComplete()))},Lvl14DragonTors.prototype.setParts=function(value){"normal"===value||"smoke"===value||"start"===value?(this.setPart(this.head.group,{x:-143,y:-59,angle:0,scX:.99,scY:.99,skX:6,skY:6,alpha:1}),this.setPart(this.neck1,{x:-126,y:-29,angle:0,scX:.98,scY:.98,skX:-44,skY:-44,alpha:1}),this.setPart(this.neck2,{x:-103,y:-3,angle:0,scX:.98,scY:.98,skX:-27,skY:-27,alpha:1}),this.setPart(this.neck3,{x:-93,y:12,angle:0,scX:.99,scY:.99,skX:-10,skY:-10,alpha:1}),this.setPart(this.tail7,{x:171,y:95,angle:0,scX:.98,scY:.98,skX:49,skY:49,alpha:1}),this.setPart(this.tail6,{x:124,y:114,angle:0,scX:.99,scY:.99,skX:36,skY:36,alpha:1}),this.setPart(this.tail5,{x:100,y:108,angle:0,scX:.98,scY:.98,skX:25,skY:25,alpha:1}),this.setPart(this.tail4,{x:74,y:100,angle:0,scX:.99,scY:.99,skX:14,skY:14,alpha:1}),this.setPart(this.tail3,{x:58,y:85,angle:0,scX:.98,scY:.98,skX:16,skY:16,alpha:1}),this.setPart(this.tail2,{x:30,y:73,angle:0,scX:.99,scY:.99,skX:-12,skY:-12,alpha:1}),this.setPart(this.tail1,{x:5,y:56,angle:0,scX:.99,scY:.99,skX:-9,skY:-9,alpha:1}),this.setPart(this.tors,{x:-50,y:49,angle:0,scX:.99,scY:.99,skX:12,skY:12,alpha:1})):"cycle"===value&&(this.setPart(this.head.group,{x:-92,y:-75,angle:0,scX:.99,scY:.99,skX:21,skY:21,alpha:1}),this.setPart(this.neck1,{x:-100,y:-44,angle:0,scX:.99,scY:.99,skX:15,skY:15,alpha:1}),this.setPart(this.neck2,{x:-96,y:-9,angle:0,scX:.99,scY:.99,skX:-14,skY:-14,alpha:1}),this.setPart(this.neck3,{x:-92,y:8,angle:0,scX:1,scY:1,skX:-10,skY:-10,alpha:1}),this.setPart(this.tail7,{x:171,y:94,angle:0,scX:.99,scY:.99,skX:49,skY:49,alpha:1}),this.setPart(this.tail6,{x:124,y:113,angle:0,scX:.99,scY:.99,skX:37,skY:37,alpha:1}),this.setPart(this.tail5,{x:101,y:106,angle:0,scX:.99,scY:.99,skX:26,skY:26,alpha:1}),this.setPart(this.tail4,{x:75,y:98,angle:0,scX:.99,scY:.99,skX:15,skY:15,alpha:1}),this.setPart(this.tail3,{x:59,y:83,angle:0,scX:.99,scY:.99,skX:17,skY:17,alpha:1}),this.setPart(this.tail2,{x:31,y:70,angle:0,scX:.99,scY:.99,skX:-11,skY:-11,alpha:1}),this.setPart(this.tail1,{x:6,y:52,angle:0,scX:.99,scY:.99,skX:-9,skY:-9,alpha:1}),this.setPart(this.tors,{x:-48,y:45,angle:0,scX:.99,scY:.99,skX:13,skY:13,alpha:1}))},Lvl14DragonTors.prototype.free=function(){this.group=null,this.tors=null,this.tail1=null,this.tail2=null,this.tail3=null,this.tail4=null,this.tail5=null,this.tail6=null,this.tail7=null,this.neck3=null,this.neck2=null,this.neck1=null,this.head.free(),this.head=null},Lvl14DragonTors})(Client.BasicDragon);Client.Lvl14DragonTors=Lvl14DragonTors})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14DragonWing=(_super=>{function Lvl14DragonWing(game,id,id2){void 0===id&&(id="0"),void 0===id2&&(id2="");var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.dragonWing7=new Client.SASprite(game,0,0,"dragon","dragonWing7"+id2+" instance 10000"),_this.dragonWing7.pivot.set(17,-4),_this.group.addChild(_this.dragonWing7),_this.dragonWing8=new Client.SASprite(game,0,0,"dragon","dragonWing8"+id2+" instance 10000"),_this.group.addChild(_this.dragonWing8),_this.dragonWing9=new Client.SASprite(game,0,0,"dragon","dragonWing9"+id2+" instance 10000"),_this.dragonWing9.pivot.set(14,-7),_this.group.addChild(_this.dragonWing9),_this.dragonWing10=new Client.SASprite(game,0,0,"dragon","dragonWing10"+id2+" instance 10000"),_this.group.addChild(_this.dragonWing10),_this.dragonWing1=new Client.SASprite(game,0,0,"dragon","dragonWing"+id+"_1 instance 10000"),_this.dragonWing1.pivot.set(39,33),_this.group.addChild(_this.dragonWing1),_this.dragonWing2=new Client.SASprite(game,0,0,"dragon","dragonWing"+id+"_2 instance 10000"),_this.dragonWing2.pivot.set(26,28),_this.group.addChild(_this.dragonWing2),_this.dragonWing3=new Client.SASprite(game,0,0,"dragon","dragonWing"+id+"_3 instance 10000"),_this.dragonWing3.pivot.set(-16,4),_this.group.addChild(_this.dragonWing3),_this.dragonWing4=new Client.SASprite(game,0,0,"dragon","dragonWing"+id+"_4 instance 10000"),_this.dragonWing4.pivot.set(21,53),_this.group.addChild(_this.dragonWing4),_this.dragonWing5=new Client.SASprite(game,0,0,"dragon","dragonWing"+id+"_5 instance 10000"),_this.dragonWing5.pivot.set(38,64),_this.group.addChild(_this.dragonWing5),_this.dragonWing6=new Client.SASprite(game,0,0,"dragon","dragonWing"+id+"_6 instance 10000"),_this.dragonWing6.pivot.set(79,66),_this.group.addChild(_this.dragonWing6),_this.setParts("anim1"),_this}return __extends(Lvl14DragonWing,_super),Lvl14DragonWing.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim1"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,5,{x:83,y:-172,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,5,{x:93,y:-122,skX:-57,skY:-57}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,5,{x:71,y:-95,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,5,{x:42,y:-56,skX:-34,skY:-34,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,5,{x:40,y:-95}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,5,{x:30,y:-34,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,5,{x:24,y:-171,skX:8,skY:8,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,5,{x:40,y:-220,skX:4,skY:-4,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,5,{x:32,y:-69,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,5,{x:50,y:-138,skX:18,skY:26,scX:.95,scY:.91})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:116,y:-124,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:109,y:-80,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:85,y:-62,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:59,y:-37,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:59,y:-72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:39,y:-22,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:56,y:-144,skX:23,skY:23,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:89,y:-181,skX:19,skY:13,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:53,y:-58,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:77,y:-108,skX:25,skY:38,scX:.89,scY:.81})):12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:132,y:-69,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:112,y:-35,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:87,y:-26,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:68,y:-14,skX:-3,skY:-3,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:69,y:-43,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:44,y:-8,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:78,y:-107,skX:37,skY:37,scY:.72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:130,y:-126,skX:42,skY:29,scX:.95,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:72,y:-36,skX:47,skY:47}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:96,y:-65,skX:42,skY:53,scX:.87,scY:.69})):18===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:130,y:-10,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:101,y:11,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:78,y:11,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:69,y:10,skX:13,skY:13,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:70,y:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{y:8,skX:51,skY:51}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:91,y:-62,skX:54,skY:52,scY:.63}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:140,y:-61,skX:63,skY:44,scX:.96,scY:.65}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:74,y:-14,skX:60,skY:60}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:109,y:-11,skX:62,skY:70,scX:.76,scY:.55})):24===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:132,y:-68,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:113,y:-35,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:87,y:-26,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:68,y:-14,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:69,y:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{y:-8,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:78,y:-107,skX:37,skY:37,scY:.72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:130,y:-126,skX:42,skY:29,scX:.95,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:72,y:-36,skX:47,skY:47}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:96,y:-65,skX:42,skY:53,scX:.87,scY:.69})):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:116,y:-125,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:109,y:-80,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:85,y:-62,skX:-32,skY:-32,scX:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:59,y:-37,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:59,y:-72,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:39,y:-22,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:56,y:-144,skX:23,skY:23,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:89,y:-181,skX:19,skY:13,scX:1,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:53,y:-58,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:77,y:-108,skX:25,skY:38,scX:.89,scY:.81})):36===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:82,y:-172,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:93,y:-122,skX:-57,skY:-57}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:71,y:-95,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:42,y:-56,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:40,y:-95}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:30,y:-34,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:24,y:-171,skX:8,skY:8,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:40,y:-220,skX:4,skY:-4,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:32,y:-69,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:50,y:-138,skX:18,skY:26,scX:.95,scY:.91})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,5,{x:45,y:-201,skX:-86,skY:-86}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,5,{x:72,y:-150,skX:-70,skY:-70}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,5,{x:53,y:-117,skX:-54,skY:-54,scX:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,5,{x:23,y:-65,skX:-47,skY:-47,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,5,{x:18,y:-109}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,5,{x:19,y:-41,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,5,{x:0,y:-193,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,5,{x:-9,y:-245,skX:-15,skY:-15,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,5,{x:14,y:-77,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,5,{x:22,y:-157,skX:13,skY:15,scX:1,scY:1})):47===this.counterAnim&&this.animComplete())},Lvl14DragonWing.prototype.setParts=function(value){"anim1"===value&&(this.setPart(this.dragonWing6,{x:45,y:-201,angle:0,scX:.98,scY:.98,skX:-86,skY:-86,alpha:1}),this.setPart(this.dragonWing5,{x:72,y:-150,angle:0,scX:.99,scY:.99,skX:-70,skY:-70,alpha:1}),this.setPart(this.dragonWing4,{x:53,y:-117,angle:0,scX:.99,scY:.99,skX:-54,skY:-54,alpha:1}),this.setPart(this.dragonWing3,{x:23,y:-65,angle:0,scX:.99,scY:.99,skX:-47,skY:-47,alpha:1}),this.setPart(this.dragonWing2,{x:18,y:-109,angle:0,scX:1,scY:1,skX:4,skY:4,alpha:1}),this.setPart(this.dragonWing1,{x:19,y:-41,angle:0,scX:.99,scY:.99,skX:-24,skY:-24,alpha:1}),this.setPart(this.dragonWing10,{x:0,y:-193,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.dragonWing9,{x:-9,y:-245,angle:0,scX:1,scY:1,skX:-15,skY:-15,alpha:1}),this.setPart(this.dragonWing8,{x:14,y:-77,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.dragonWing7,{x:22,y:-157,angle:0,scX:1,scY:1,skX:13,skY:15,alpha:1}))},Lvl14DragonWing.prototype.free=function(){this.group=null,this.dragonWing7=null,this.dragonWing8=null,this.dragonWing9=null,this.dragonWing10=null,this.dragonWing1=null,this.dragonWing2=null,this.dragonWing3=null,this.dragonWing4=null,this.dragonWing5=null,this.dragonWing6=null},Lvl14DragonWing})(Client.BasicDragon);Client.Lvl14DragonWing=Lvl14DragonWing})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Door=(_super=>{function Lvl14Door(game){var _this=_super.call(this)||this;return _this.active=!1,_this.startY=255,_this.endY=400,_this.graphic=Client.GameManager.instance.layerBackground.create(530,_this.startY,"level14","door instance 10000"),_this.graphic.anchor.setTo(.5),_this}return __extends(Lvl14Door,_super),Lvl14Door.prototype.open=function(){this.active=!0},Lvl14Door.prototype.update=function(){!1!==this.active&&(this.graphic.y+=2,this.graphic.y>=this.endY)&&(this.active=!1,this.graphic.y=this.endY,Client.GameManager.instance.level.customAction(2))},Lvl14Door.prototype.free=function(){this.graphic=null},Lvl14Door})(Client.BasicElement);Client.Lvl14Door=Lvl14Door})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Girl=(_super=>{function Lvl14Girl(game){var _this=_super.call(this,game)||this;return _this.moving=!1,_this.surprised=!1,_this.contactHeroCount=0,_this.game=game,_this.body=new Phaser.Physics.Box2D.Body(game,null,655,297,2),_this.body.setRectangle(100,52),_this.body.setCollisionCategory(Client.FilterGroups.CAR1),_this.wheel1=Client.GameManager.instance.layerBackground.create(_this.body.x-32,_this.body.y+26,"level14","girlWeel instance 10000"),game.physics.box2d.enable(_this.wheel1),_this.wheel1.body.setCircle(12),_this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),game.physics.box2d.revoluteJoint(_this.body,_this.wheel1,-32,26),_this.wheel2=Client.GameManager.instance.layerBackground.create(_this.body.x+33,_this.body.y+26,"level14","girlWeel instance 10000"),game.physics.box2d.enable(_this.wheel2),_this.wheel2.body.setCircle(12),_this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),game.physics.box2d.revoluteJoint(_this.body,_this.wheel2,33,26),_this.group=game.make.group(),_this.group.x=_this.body.x,_this.group.y=_this.body.y,_this.group.scale.x=-1,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.base=new Client.SASprite(game,0,0,"level14","girlBase instance 10000"),_this.base.pivot.set(1,-1),_this.group.addChild(_this.base),_this.crown=new Client.SASprite(game,0,0,"level14","girlCrown instance 10000"),_this.crown.pivot.set(1,2),_this.group.addChild(_this.crown),_this.eyes=new Client.SASprite(game,0,0,"level14"),_this.eyes.pivot.set(10,13),_this.eyes.animations.add("lookAround",Phaser.Animation.generateFrameNames("girlEyes instance 1",0,114,"",4),30,!0),_this.eyes.animations.add("surprise",Phaser.Animation.generateFrameNames("girlEyes instance 1",115,140,"",4),30,!1).onComplete.addOnce(_this.endSurprise1,_this),_this.eyes.animations.add("surprise2",Phaser.Animation.generateFrameNames("girlEyes instance 1",141,224,"",4),30,!1).onComplete.addOnce(_this.endSurprise,_this),_this.eyes.animations.add("niceFilm",Phaser.Animation.generateFrameNames("girlEyes instance 1",225,270,"",4),30,!0),_this.eyes.animations.play("lookAround"),_this.group.addChild(_this.eyes),_this.playAnim("idle",-1),_this.createParts(),_this}return __extends(Lvl14Girl,_super),Lvl14Girl.prototype.createParts=function(){this.princessPart1=Client.GameManager.instance.layerBackground.create(568,198,"level14","princessPart1 instance 10000"),this.game.physics.box2d.enable(this.princessPart1),this.princessPart1.body.setRectangle(20,22),this.princessPart1.body.kinematic=!0,this.princessPart1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.princessPart1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.princessPart1.visible=!1,this.princessPart2=Client.GameManager.instance.layerBackground.create(696,198,"level14","princessPart2 instance 10000"),this.game.physics.box2d.enable(this.princessPart2),this.princessPart2.body.setRectangle(22,30),this.princessPart2.body.kinematic=!0,this.princessPart2.body.setCollisionCategory(Client.FilterGroups.CAR1),this.princessPart2.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.princessPart2.visible=!1,this.princessPart3=Client.GameManager.instance.layerBackground.create(593,199,"level14","princessPart3 instance 10000"),this.game.physics.box2d.enable(this.princessPart3),this.princessPart3.body.setRectangle(10,22),this.princessPart3.body.angle=-36,this.princessPart3.body.kinematic=!0,this.princessPart3.body.setCollisionCategory(Client.FilterGroups.CAR1),this.princessPart3.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.princessPart3.visible=!1,this.princessPart4=Client.GameManager.instance.layerBackground.create(656,201,"level14","princessPart4 instance 10000"),this.game.physics.box2d.enable(this.princessPart4),this.princessPart4.body.setRectangle(50,8),this.princessPart4.body.kinematic=!0,this.princessPart4.body.setCollisionCategory(Client.FilterGroups.CAR1),this.princessPart4.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.princessPart4.visible=!1,this.princessPart5=Client.GameManager.instance.layerBackground.create(660,181,"level14","princessPart5 instance 10000"),this.game.physics.box2d.enable(this.princessPart5),this.princessPart5.body.setRectangle(24,24),this.princessPart5.body.kinematic=!0,this.princessPart5.body.setCollisionCategory(Client.FilterGroups.CAR1),this.princessPart5.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.princessPart5.visible=!1,this.princessPart6=Client.GameManager.instance.layerBackground.create(616,176,"level14","princessPart6 instance 10000"),this.game.physics.box2d.enable(this.princessPart6),this.princessPart6.body.setRectangle(46,22),this.princessPart6.body.kinematic=!0,this.princessPart6.body.setCollisionCategory(Client.FilterGroups.CAR1),this.princessPart6.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.princessPart6.visible=!1},Lvl14Girl.prototype.stopVelocityY=function(){this.body.velocity.y=0,this.wheel1.body.velocity.y=0,this.wheel2.body.velocity.y=0},Lvl14Girl.prototype.surprise=function(){this.eyes.animations.play("surprise"),this.surprised=!0},Lvl14Girl.prototype.onAnimComplete=function(){!0===this.surprised&&(this.activeAnim=!1)},Lvl14Girl.prototype.endSurprise1=function(){this.eyes.animations.play("surprise2"),this.moving=!0},Lvl14Girl.prototype.endSurprise=function(){this.eyes.animations.play("lookAround")},Lvl14Girl.prototype.brokeCar=function(){this.group.visible=!1,this.wheel1.visible=!1,this.wheel2.visible=!1,this.activeAnim=!1,this.princessPart1.visible=!0,this.princessPart1.body.dynamic=!0,this.princessPart1.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.5,.5),this.princessPart1.body.data.GetPosition()),this.princessPart2.visible=!0,this.princessPart2.body.dynamic=!0,this.princessPart2.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.5,.5),this.princessPart2.body.data.GetPosition()),this.princessPart3.visible=!0,this.princessPart3.body.dynamic=!0,this.princessPart3.body.data.ApplyLinearImpulse(new box2d.b2Vec2(.5,.3),this.princessPart3.body.data.GetPosition()),this.princessPart4.visible=!0,this.princessPart4.body.dynamic=!0,this.princessPart4.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-.6,.3),this.princessPart4.body.data.GetPosition()),this.princessPart5.visible=!0,this.princessPart5.body.dynamic=!0,this.princessPart5.body.data.ApplyLinearImpulse(new box2d.b2Vec2(-1,.7),this.princessPart5.body.data.GetPosition()),this.princessPart6.visible=!0,this.princessPart6.body.dynamic=!0,this.princessPart6.body.data.ApplyLinearImpulse(new box2d.b2Vec2(1.8,.5),this.princessPart6.body.data.GetPosition())},Lvl14Girl.prototype.update=function(){_super.prototype.update.call(this),!0===this.moving&&(this.body.velocity.x=-40,this.body.x<=600)&&(this.moving=!1,this.body.velocity.x=0,this.wheel1.body.velocity.x=0,this.wheel2.body.velocity.x=0,this.wheel1.body.angularVelocity=0,this.wheel2.body.angularVelocity=0,this.body.kinematic=!0,this.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.contactHero,this)),1===this.contactHeroCount&&(this.contactHeroCount=2,Client.GameManager.instance.level.customAction(10),this.eyes.animations.play("niceFilm")),this.group.x=this.body.x,this.group.y=this.body.y},Lvl14Girl.prototype.contactHero=function(){0===this.contactHeroCount&&(this.contactHeroCount=1)},Lvl14Girl.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,16,{x:12,y:-26}),Client.GameManager.instance.level.setSimpleTween(this.crown,16,{y:-46}),Client.GameManager.instance.level.setSimpleTween(this.base,16,{y:-26})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,15,{y:-27}),Client.GameManager.instance.level.setSimpleTween(this.crown,15,{y:-48}),Client.GameManager.instance.level.setSimpleTween(this.base,15,{y:-28})):32===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,9,{x:16,y:-31}),Client.GameManager.instance.level.setSimpleTween(this.crown,9,{x:-15,y:-53}),Client.GameManager.instance.level.setSimpleTween(this.base,9,{x:-52,y:-34,skX:5,scY:.82})):41===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,29,{x:11,y:-28}),Client.GameManager.instance.level.setSimpleTween(this.crown,29,{x:-22,y:-48}),Client.GameManager.instance.level.setSimpleTween(this.base,29,{x:-58,y:-28,skX:0,scY:.75})):70===this.counterAnim&&this.animComplete())},Lvl14Girl.prototype.setParts=function(value){"idle"===value&&(this.setPart(this.eyes,{x:11,y:-28,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.crown,{x:-22,y:-48,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.base,{x:-58,y:-28,angle:0,scX:.75,scY:.75,skX:0,skY:0,alpha:1}))},Lvl14Girl.prototype.free=function(){this.game=null,this.group=null,this.base=null,this.crown=null,this.eyes=null,this.body=null,this.wheel1=null,this.wheel2=null,this.princessPart1=null,this.princessPart2=null,this.princessPart3=null,this.princessPart4=null,this.princessPart5=null,this.princessPart6=null},Lvl14Girl})(Client.BasicSimpleAnim);Client.Lvl14Girl=Lvl14Girl})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Lamp=(_super=>{function Lvl14Lamp(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=498,_this.group.y=204,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part2=new Client.SASprite(game,0,0,"level14","lampPart2 instance 10000"),_this.part2.pivot.set(4,9),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level14","lampPart1 instance 10000"),_this.part1.pivot.set(15,22),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl14Lamp,_super),Lvl14Lamp.prototype.activate=function(){this.playAnim("anim")},Lvl14Lamp.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,14,{x:-19,y:4,skX:46,skY:46,scX:1.02}),Client.GameManager.instance.level.setSimpleTween(this.part2,14,{x:-3,y:-15,skX:27,skY:27})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{x:-1,y:10,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:0,y:-14,skX:0,skY:0})):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:5,y:9,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:2,y:-15,skX:-23,skY:-23})):36===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,4,{skX:-5,skY:-5}):40===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:1,y:10,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:0,y:-14,skX:-4,skY:-4})):47===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:-5,y:9,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:-1,skX:4,skY:4})):56===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,11,{x:-1,y:10,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,11,{x:0,skX:0,skY:0})):67===this.counterAnim&&this.animComplete())},Lvl14Lamp.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-1,y:10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:0,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl14Lamp.prototype.free=function(){this.group=null,this.part2=null,this.part1=null},Lvl14Lamp})(Client.BasicSimpleAnim);Client.Lvl14Lamp=Lvl14Lamp})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Lever1=(_super=>{function Lvl14Lever1(game){var _this=_super.call(this)||this;return _this.pressed=!1,_this.game=game,_this.graphic=Client.GameManager.instance.layerBackground.create(515,490,"level14","lever1 instance 10000"),_this.graphic.anchor.y=.5,_this.graphic.pivot.x=110,_this.graphic.events.onInputOut.add(_this.out,_this),_this.graphic.events.onInputOver.add(_this.over,_this),_this.graphic.events.onInputDown.add(_this.down,_this),_this.graphic.events.onInputUp.add(_this.up,_this),_this.graphic.angle=30,_this.graphicPod=game.make.sprite(_this.graphic.pivot.x,0,"level14","lever1pod instance 10000"),_this.graphicPod.anchor.setTo(.5),_this.graphicPod.angle=-30,_this.graphic.addChild(_this.graphicPod),_this}return __extends(Lvl14Lever1,_super),Lvl14Lever1.prototype.activate=function(){this.graphic.inputEnabled=!0,this.graphic.input.useHandCursor=!0,this.out()},Lvl14Lever1.prototype.deactivate=function(){this.graphic.frameName="lever1 instance 10000",this.graphic.inputEnabled=!1,this.up()},Lvl14Lever1.prototype.out=function(){!1!==this.graphic.inputEnabled&&(this.graphic.frameName="lever1 instance 10002")},Lvl14Lever1.prototype.over=function(){!1!==this.graphic.inputEnabled&&(this.graphic.frameName="lever1 instance 10001")},Lvl14Lever1.prototype.down=function(){this.pressed=!0,this.offAngle=Client.Tools.angleOfPoints(this.graphic.x,this.graphic.y,this.game.input.worldX,this.game.input.worldY)-this.graphic.angle},Lvl14Lever1.prototype.up=function(){this.pressed=!1},Lvl14Lever1.prototype.update=function(){!1!==this.pressed&&(this.graphic.angle=Client.Tools.angleOfPoints(this.graphic.x,this.graphic.y,this.game.input.worldX,this.game.input.worldY)-this.offAngle,30<this.graphic.angle?this.graphic.angle=30:this.graphic.angle<-40&&(this.graphic.angle=-40,Client.SoundManager.playSFX("sfx_lever"),Client.GameManager.instance.level.customAction(5)))},Lvl14Lever1.prototype.free=function(){this.game=null,this.graphic=null,this.graphicPod=null},Lvl14Lever1})(Client.BasicElement);Client.Lvl14Lever1=Lvl14Lever1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Lever2=(_super=>{function Lvl14Lever2(game,x,y,numLever){var _this=_super.call(this)||this,numLever=(_this.pressed=!1,_this.game=game,_this.numLever=numLever,_this.podStartY=y,_this.graphicPod2=Client.GameManager.instance.layerBackground.create(x,_this.podStartY-15,"level14","lever2pod instance 10000"),_this.graphicPod2.anchor.setTo(.5),game.make.graphics(x-20,y-29));return numLever.beginFill(16711680,.4),numLever.drawRect(0,0,40,60),numLever.endFill(),Client.GameManager.instance.layerBackground.addChild(numLever),_this.graphicPod2.mask=numLever,_this.graphicPod=Client.GameManager.instance.layerBackground.create(x,y,"level14","lever2pod2 instance 10000"),_this.graphicPod.anchor.setTo(.5),_this.graphicPod.events.onInputOut.add(_this.out,_this),_this.graphicPod.events.onInputOver.add(_this.over,_this),_this.graphicPod.events.onInputDown.add(_this.down,_this),_this.graphicPod.events.onInputUp.add(_this.up,_this),_this.graphic=game.make.sprite(.5,-10,"level14","lever2 instance 10000"),_this.graphic.anchor.setTo(.5,1),_this.graphic.scale.x=.95,_this.graphicPod.addChild(_this.graphic),_this.graphicNad=game.make.sprite(1,-95,"level14","lever2part instance 10000"),_this.graphicNad.anchor.setTo(.5),_this.graphicNad.visible=!1,_this.graphicPod.addChild(_this.graphicNad),_this}return __extends(Lvl14Lever2,_super),Lvl14Lever2.prototype.activate=function(){this.graphicPod.inputEnabled=!0,this.graphicPod.input.useHandCursor=!0,this.out()},Lvl14Lever2.prototype.deactivate=function(){this.graphic.frameName="lever2 instance 10000",this.graphicPod.inputEnabled=!1,this.graphicNad.frameName="lever2part instance 10000",this.up()},Lvl14Lever2.prototype.out=function(){!1!==this.graphicPod.inputEnabled&&(this.graphic.frameName="lever2 instance 10002",this.graphicNad.frameName="lever2part instance 10002")},Lvl14Lever2.prototype.over=function(){!1!==this.graphicPod.inputEnabled&&(this.graphic.frameName="lever2 instance 10001",this.graphicNad.frameName="lever2part instance 10001")},Lvl14Lever2.prototype.down=function(){this.pressed=!0,this.offY=this.game.input.worldY-this.graphicPod.y-this.graphicNad.y},Lvl14Lever2.prototype.up=function(){this.pressed=!1},Lvl14Lever2.prototype.update=function(){var percent;!1!==this.pressed&&(this.graphicNad.y=this.game.input.worldY-this.graphicPod.y-this.offY,this.graphicNad.y<-95?this.graphicNad.y=-95:65<this.graphicNad.y&&(this.graphicNad.y=65,Client.SoundManager.playSFX("sfx_lever"),2===this.numLever?Client.GameManager.instance.level.customAction(6):Client.GameManager.instance.level.customAction(7)),percent=-Client.Tools.percentToF(this.graphicNad.y,95),this.graphic.y=-10*percent,-.65<(this.graphic.scale.y=percent)&&percent<.65?(this.graphicNad.visible=!0,this.graphicNad.scale.y=1-Math.abs(percent)):this.graphicNad.visible=!1,this.graphicPod2.y=this.podStartY-15*percent)},Lvl14Lever2.prototype.free=function(){this.game=null,this.graphic=null,this.graphicNad=null,this.graphicPod=null,this.graphicPod2=null},Lvl14Lever2})(Client.BasicElement);Client.Lvl14Lever2=Lvl14Lever2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Pipe=(_super=>{function Lvl14Pipe(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=513,_this.group.y=494,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part11=new Client.SASprite(game,0,0,"level14","pipePart11 instance 10000"),_this.part11.pivot.y=1,_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level14","pipePart10 instance 10000"),_this.part10.pivot.set(34,22),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level14","pipePart9 instance 10000"),_this.part9.pivot.set(15,31),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level14","pipePart8 instance 10000"),_this.part8.pivot.set(15,8),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level14","pipePart7 instance 10000"),_this.part7.pivot.set(19,15),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level14","pipePart6 instance 10000"),_this.part6.pivot.set(13,13),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level14","pipePart5 instance 10000"),_this.part5.pivot.set(7,10),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level14","pipePart4 instance 10000"),_this.part4.pivot.set(13,12),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level14","pipePart3 instance 10000"),_this.part3.pivot.set(15,11),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level14","pipePart2 instance 10000"),_this.part2.pivot.set(7,10),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level14","pipePart1 instance 10000"),_this.part1.pivot.set(4,8),_this.group.addChild(_this.part1),_this.setParts("anim"),_this.magicSmoke=Client.GameManager.instance.layerUpper.create(175,148,"level14"),_this.magicSmoke.scale.setTo(1.82),_this.magicSmoke.animations.add("anim",Phaser.Animation.generateFrameNames("magicSmoke instance 1",0,25,"",4),30,!1).onComplete.addOnce(_this.magicSmokeComp,_this),_this.magicSmoke.animations.add("anim2",Phaser.Animation.generateFrameNames("magicSmoke instance 1",26,55,"",4),30,!1).killOnComplete=!0,_this.magicSmoke.visible=!1,_this}return __extends(Lvl14Pipe,_super),Lvl14Pipe.prototype.magicSmokeComp=function(){Client.GameManager.instance.level.customAction(4),this.magicSmoke.animations.play("anim2")},Lvl14Pipe.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:24,y:43,skX:6,scY:.73}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:41,y:26,scX:1.13,scY:1.13}),Client.GameManager.instance.level.setSimpleTween(this.part9,4,{x:38,y:-11,skX:-4,skY:-4,scY:1.26}),Client.GameManager.instance.level.setSimpleTween(this.part10,4,{x:15,y:40,skX:4,skY:4})):8===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,2,{x:28,y:-43,skX:-3,skY:-3}):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:23,y:40,skX:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:40,y:20,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,3,{x:27,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part9,4,{x:37,skX:-3,skY:-3,scY:1.2}),Client.GameManager.instance.level.setSimpleTween(this.part10,4,{x:13,y:37,skX:0,skY:0})):12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:7,skX:-6,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.part8,5,{x:11,skX:-3,skY:-10,scX:1.51})):13===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,4,{y:-44,skX:1,skY:1,scX:1.09,scY:1.06}):14===this.counterAnim?(this.setPart(this.part2,{x:23,y:40,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:40,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part5,6,{x:-6,y:-48,skX:-1,skY:-1,scX:1.09,scY:1.09}),Client.GameManager.instance.level.setSimpleTween(this.part9,3,{x:35,y:-13,skX:1,skY:4,scY:1.07}),this.setPart(this.part10,{x:13,y:37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part6,4,{x:-43,y:-66,skX:-5,skY:-8,scY:1.05}),Client.GameManager.instance.level.setSimpleTween(this.part7,4,{y:-55,skX:-5,skY:-8,scX:.96})):17===this.counterAnim?(this.setPart(this.part1,{x:7,y:-37,angle:0,scX:1,scY:.98,skX:-6,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,6,{y:-42,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part9,3,{y:-12,skX:0,skY:0,scY:1})):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,3,{x:8,skX:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part5,4,{x:-5,y:-51,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part6,5,{x:-45,y:-74,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part7,5,{y:-59,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.part8,3,{x:13,skX:0,skY:0,scX:1}),this.setPart(this.part9,{x:35,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):23===this.counterAnim?(this.setPart(this.part1,{x:8,y:-37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:27,y:-42,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part8,{x:13,y:-48,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):24===this.counterAnim?this.setPart(this.part5,{x:-5,y:-51,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):25===this.counterAnim&&(this.animComplete(),this.magicSmoke.visible=!0,this.magicSmoke.animations.play("anim"),Client.SoundManager.playSFX("s_dust")))},Lvl14Pipe.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:8,y:-37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:23,y:40,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:40,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:27,y:-42,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:-5,y:-51,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:-45,y:-74,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:-23,y:-59,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part8,{x:13,y:-48,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part9,{x:35,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part10,{x:13,y:37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part11,{x:-32,y:30,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl14Pipe.prototype.free=function(){this.group=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.magicSmoke=null},Lvl14Pipe})(Client.BasicSimpleAnim);Client.Lvl14Pipe=Lvl14Pipe})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Press=(_super=>{function Lvl14Press(game){var _this=_super.call(this)||this;return _this.active=!1,_this.endY=267,_this.bodyStop=!1,_this.counter=0,_this.graphic=Client.GameManager.instance.layerBackground.create(635,480,"level14","press instance 10000"),_this.graphic.anchor.setTo(.5),_this.body=new Phaser.Physics.Box2D.Body(game,null,635,480,1),_this.body.setRectangle(160,166),_this.dust=Client.GameManager.instance.layerUpper.create(530,183,"level14"),_this.dust.animations.add("anim",Phaser.Animation.generateFrameNames("pressDust instance 1",0,26,"",4),30,!1).killOnComplete=!0,_this.dust.visible=!1,_this}return __extends(Lvl14Press,_super),Lvl14Press.prototype.start=function(){this.active=!0,this.body.velocity.y=-150},Lvl14Press.prototype.update=function(){!1!==this.active&&(this.counter+=1,40===this.counter&&Client.SoundManager.playSFX("s_pressMove"),this.body.y>this.endY+60?this.graphic.y=this.body.y-2:(!1===this.bodyStop&&(this.body.velocity.y=0,Client.GameManager.instance.level.customAction(8)),this.graphic.y-=2.5,this.graphic.y<=this.endY&&(this.active=!1,this.graphic.y=this.endY,this.dust.visible=!0,this.dust.animations.play("anim"),Client.GameManager.instance.level.customAction(3))))},Lvl14Press.prototype.free=function(){this.body=null,this.graphic=null,this.dust=null},Lvl14Press})(Client.BasicElement);Client.Lvl14Press=Lvl14Press})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl14Tree=(_super=>{function Lvl14Tree(game,x,y,sideNum){var body,_this=_super.call(this)||this;return _this.bodysActive=!1,_this.currSideNum=sideNum,_this.partBot=Client.GameManager.instance.layerBackground.create(x,y,"level14","tree3 instance 10000"),game.physics.box2d.enable(_this.partBot),_this.partBot.body.setRectangle(90,66),_this.partBot.body.sensor=!0,_this.partBot.body.static=!0,_this.partBot.inputEnabled=!0,_this.partBot.events.onInputDown.addOnce(_this.down,_this),_this.partBot.events.onInputOut.add(_this.out,_this),_this.partBot.events.onInputOver.add(_this.over,_this),_this.partMid=Client.GameManager.instance.layerBackground.create(x-3,y-53,"level14","tree2 instance 10000"),game.physics.box2d.enable(_this.partMid),_this.partMid.body.setRectangle(70,40),_this.partMid.body.sensor=!0,_this.partMid.body.static=!0,_this.partMid.body.data.SetUserData("DragBody"),_this.partMid.inputEnabled=!0,_this.partMid.events.onInputDown.addOnce(_this.down,_this),_this.partMid.events.onInputOut.add(_this.out,_this),_this.partMid.events.onInputOver.add(_this.over,_this),_this.partTop=Client.GameManager.instance.layerBackground.create(x+1,y-110,"level14","tree1 instance 10000"),game.physics.box2d.enable(_this.partTop),_this.partTop.body.setRectangle(48,60,0,7),_this.partTop.body.sensor=!0,_this.partTop.body.static=!0,_this.partTop.body.data.SetUserData("DragBody"),_this.partTop.inputEnabled=!0,_this.partTop.events.onInputDown.addOnce(_this.down,_this),_this.partTop.events.onInputOut.add(_this.out,_this),_this.partTop.events.onInputOver.add(_this.over,_this),1===sideNum?(_this.partMid.body.x=x+3,_this.partMid.body.y=y-53,_this.partMid.body.angle=12,_this.partTop.body.x=x+20,_this.partTop.body.y=y-107,_this.partTop.body.angle=12,game.physics.box2d.revoluteJoint(_this.partBot,_this.partMid,-3,-33,0,20,0,0,!1,-25,35,!0),game.physics.box2d.revoluteJoint(_this.partMid,_this.partTop,3,-20,0,37,0,0,!1,-15,15,!0)):2===sideNum?((body=new Phaser.Physics.Box2D.Body(game,null,x,y+48,0)).setRectangle(90,30),body.sensor=!0,_this.partBot.body.data.SetUserData("DragBody"),game.physics.box2d.revoluteJoint(body,_this.partBot,0,-15,0,33,0,0,!1,-20,20,!0),game.physics.box2d.revoluteJoint(_this.partBot,_this.partMid,-3,-33,0,20,0,0,!1,-30,30,!0),game.physics.box2d.revoluteJoint(_this.partMid,_this.partTop,3,-20,0,37,0,0,!1,-20,20,!0),body=null):3===sideNum&&(_this.partMid.body.x=x-8,_this.partMid.body.y=y-53,_this.partMid.body.angle=-12,_this.partTop.body.x=x-15,_this.partTop.body.y=y-107,_this.partTop.body.angle=-12,game.physics.box2d.revoluteJoint(_this.partBot,_this.partMid,-3,-33,0,20,0,0,!1,-35,25,!0),game.physics.box2d.revoluteJoint(_this.partMid,_this.partTop,3,-20,0,37,0,0,!1,-15,15,!0)),_this}return __extends(Lvl14Tree,_super),Lvl14Tree.prototype.out=function(){this.partBot.frameName="tree3 instance 10000",this.partMid.frameName="tree2 instance 10000",this.partTop.frameName="tree1 instance 10000"},Lvl14Tree.prototype.over=function(){this.partBot.frameName="tree3 instance 10001",this.partMid.frameName="tree2 instance 10001",this.partTop.frameName="tree1 instance 10001"},Lvl14Tree.prototype.down=function(){!0!==this.bodysActive&&(this.bodysActive=!0,2===this.currSideNum&&(this.partBot.body.dynamic=!0),this.partMid.body.dynamic=!0,this.partTop.body.dynamic=!0,Client.GameManager.instance.level.customAction(1))},Lvl14Tree.prototype.free=function(){this.partBot=null,this.partMid=null,this.partTop=null},Lvl14Tree})(Client.BasicElement);Client.Lvl14Tree=Lvl14Tree})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl2Bridge=(_super=>{function Lvl2Bridge(game){var _this=_super.call(this)||this,game=(_this.leverPressed=0,_this.bridgeEndL=291,_this.bridgeEndR=418,_this.bridgeMoving=0,_this.game=game,_this.lever=Client.GameManager.instance.layerBackground.create(353,420,"level2","bridgeLever instance 10000"),_this.lever.anchor.setTo(.42,.95),_this.lever.inputEnabled=!0,_this.lever.input.useHandCursor=!0,_this.lever.events.onInputOut.add(_this.leverOut,_this),_this.lever.events.onInputOver.add(_this.leverOver,_this),_this.lever.events.onInputDown.add(_this.leverDown,_this),_this.lever.events.onInputUp.add(_this.leverUp,_this),_this.bridgeRopeL2=Client.GameManager.instance.layerBackground.create(365,420,"level2","bridgeRope2 instance 10000"),_this.bridgeRopeL2.anchor.setTo(1,.5),_this.bridgeRopeL2.angle=-5,_this.bridgeRopeL2.animations.add("forward",Phaser.Animation.generateFrameNames("bridgeRope2 instance 1",0,14,"",4),50,!0),_this.bridgeRopeL2.animations.add("backward",Phaser.Animation.generateFrameNames("bridgeRope2 instance 1",14,0,"",4),50,!0),_this.bridgeRopeR2=Client.GameManager.instance.layerBackground.create(349,420,"level2","bridgeRope2 instance 10000"),_this.bridgeRopeR2.anchor.setTo(0,.5),_this.bridgeRopeR2.angle=5,_this.bridgeRopeR2.animations.add("forward",Phaser.Animation.generateFrameNames("bridgeRope2 instance 1",0,14,"",4),50,!0),_this.bridgeRopeR2.animations.add("backward",Phaser.Animation.generateFrameNames("bridgeRope2 instance 1",14,0,"",4),50,!0),_this.gear=Client.GameManager.instance.layerBackground.create(340,436,"level2","bridgeGear instance 10000"),_this.gear.anchor.setTo(.5),_this.part=Client.GameManager.instance.layerBackground.create(353,425,"level2","bridgePart instance 10000"),_this.part.anchor.setTo(.55,.105),_this.bridgeRopeL=Client.GameManager.instance.layerUpper.create(309,454,"level2","bridgeRope instance 10000"),_this.bridgeRopeL.anchor.setTo(1,.5),_this.bridgeRopeL.angle=4,_this.bridgeRopeR=Client.GameManager.instance.layerUpper.create(398,454,"level2","bridgeRope instance 10000"),_this.bridgeRopeR.anchor.setTo(0,.5),_this.bridgeRopeR.angle=-4,_this.game.make.graphics(353,400));return game.beginFill(16711680,.5),game.drawRect(-150,0,310,200),game.endFill(),Client.GameManager.instance.layerUpper.add(game),_this.bridgeRopeL.mask=game,_this.bridgeRopeR.mask=game,game=null,_this.bridge=Client.GameManager.instance.layerUpper.create(_this.bridgeEndR,459,"level2","bridge instance 10000"),_this.game.physics.box2d.enable(_this.bridge),_this.bridge.body.setRectangle(148,20,0,14),_this.bridge.body.kinematic=!0,_this.updateRope(),_this}return __extends(Lvl2Bridge,_super),Lvl2Bridge.prototype.leverOut=function(){!1!==this.lever.inputEnabled&&(this.lever.frameName="bridgeLever instance 10000")},Lvl2Bridge.prototype.leverOver=function(){!1!==this.lever.inputEnabled&&(this.lever.frameName="bridgeLever instance 10001")},Lvl2Bridge.prototype.deactivate=function(){this.lever.inputEnabled=!1,this.lever.frameName="bridgeLever instance 10002",this.leverUp()},Lvl2Bridge.prototype.leverDown=function(){this.leverPressed=1,Client.SoundManager.playSFX("s_bridge",!0)},Lvl2Bridge.prototype.leverUp=function(){this.leverPressed=2,this.bridge.body.velocity.x=0,this.bridgeMoving=0,this.bridgeRopeL2.animations.stop(),this.bridgeRopeR2.animations.stop(),Client.SoundManager.stopSFXLoop("s_bridge")},Lvl2Bridge.prototype.update=function(){var angleRad;0!==this.leverPressed&&(1===this.leverPressed?(angleRad=Math.atan2(this.lever.y-this.game.input.worldY,this.lever.x-this.game.input.worldX),this.lever.angle=Client.Tools.toDeg(angleRad)-90,0<this.lever.angle?(60<this.lever.angle&&(this.lever.angle=60),0<=this.bridgeMoving&&this.bridge.body.x>this.bridgeEndL?(this.bridge.body.velocity.x=-60,this.bridgeMoving=-1,this.bridgeRopeL2.animations.play("forward"),this.bridgeRopeR2.animations.play("forward")):-1===this.bridgeMoving&&(this.gear.angle+=3,this.bridge.body.x<=this.bridgeEndL)&&(this.bridge.body.x=this.bridgeEndL,this.bridge.body.velocity.x=0,this.bridgeMoving=-2,this.bridgeRopeL2.animations.stop(),this.bridgeRopeR2.animations.stop(),Client.SoundManager.stopSFXLoop("s_bridge"))):this.lever.angle<0&&(this.lever.angle<-60&&(this.lever.angle=-60),this.bridgeMoving<=0&&this.bridge.body.x<this.bridgeEndR?(this.bridge.body.velocity.x=60,this.bridgeMoving=1,this.bridgeRopeL2.animations.play("backward"),this.bridgeRopeR2.animations.play("backward")):1===this.bridgeMoving&&(this.gear.angle-=3,this.bridge.body.x>=this.bridgeEndR)&&(this.bridge.body.x=this.bridgeEndR,this.bridge.body.velocity.x=0,this.bridgeMoving=2,this.bridgeRopeL2.animations.stop(),this.bridgeRopeR2.animations.stop(),Client.SoundManager.stopSFXLoop("s_bridge"))),1===Math.abs(this.bridgeMoving)&&this.updateRope()):2===this.leverPressed&&(this.lever.angle<0?this.lever.angle+=3:this.lever.angle-=3,Math.abs(this.lever.angle)<4)&&(this.lever.angle=0,this.leverPressed=0))},Lvl2Bridge.prototype.updateRope=function(){this.bridgeRopeL.x=this.bridge.body.x-44,this.bridgeRopeR.x=this.bridge.body.x+45,this.bridgeRopeL.y=this.bridgeRopeR.y=this.bridge.body.y-5;var percent=Client.Tools.roundDec((this.bridge.body.x-this.bridgeEndL)/(this.bridgeEndR-this.bridgeEndL),2);this.bridgeRopeL.angle=4-3*percent,this.bridgeRopeR.angle=-5+this.bridgeRopeL.angle},Lvl2Bridge.prototype.free=function(){this.game=null,this.part=null,this.lever=null,this.gear=null,this.bridge=null,this.bridgeRopeL=null,this.bridgeRopeR=null,this.bridgeRopeL2=null,this.bridgeRopeR2=null},Lvl2Bridge})(Client.BasicElement);Client.Lvl2Bridge=Lvl2Bridge})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl2Peasant=(_super=>{function Lvl2Peasant(game){var _this=_super.call(this)||this;return _this.wheel2Connectd=!1,_this.thinkShowed=0,_this.counterThink=0,_this.counterConnect=0,_this.game=game,_this.graphic=Client.GameManager.instance.layerBackground.create(620,415,"level2","carBody instance 10000"),_this.game.physics.box2d.enable(_this.graphic),_this.graphic.body.setRectangle(142,68),_this.graphic.body.setCollisionCategory(Client.FilterGroups.CAR1),_this.graphic.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),_this.graphicEyes=_this.game.make.sprite(0,-60,"level2"),_this.graphicEyes.animations.add("idle",Phaser.Animation.generateFrameNames("carEye instance 1",0,113,"",4),30,!0),_this.graphicEyes.animations.add("surprise",Phaser.Animation.generateFrameNames("carEye instance 1",114,139,"",4),30,!1).onComplete.addOnce(function(){this.graphicEyes.animations.play("idle")},_this),_this.graphicEyes.animations.play("idle"),_this.graphic.addChild(_this.graphicEyes),_this.wheel1=Client.GameManager.instance.layerBackground.create(573,452,"level2","wheel1 instance 10000"),_this.game.physics.box2d.enable(_this.wheel1),_this.wheel1.body.setCircle(17),_this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),_this.wheel1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),_this.wheel1.body.friction=1.5,_this.game.physics.box2d.revoluteJoint(_this.graphic,_this.wheel1,-47,37),_this.wheel2Contact=new Phaser.Physics.Box2D.Body(_this.game,null,645,452,2),_this.wheel2Contact.setCircle(5),_this.wheel2Contact.sensor=!0,_this.game.physics.box2d.revoluteJoint(_this.graphic,_this.wheel2Contact,25,37),_this.wheel2=Client.GameManager.instance.layerElements.create(750,444,"level2","wheel2 instance 10000"),_this.game.physics.box2d.enable(_this.wheel2),_this.wheel2.body.setCircle(17),_this.wheel2.body.data.SetUserData("DragBody"),_this.wheel2.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),_this.wheel2.inputEnabled=!0,_this.wheel2.input.useHandCursor=!0,_this.wheel2.events.onInputOut.add(function(){!0===this.wheel2.inputEnabled&&(this.wheel2.frameName="wheel2 instance 10000")},_this),_this.wheel2.events.onInputOver.add(function(){!0===this.wheel2.inputEnabled&&(this.wheel2.frameName="wheel2 instance 10001")},_this),_this.wheel2Contact.setBodyContactCallback(_this.wheel2,_this.connectWheel,_this),_this.graphic.body.angle=10,_this.bodyStopper=new Phaser.Physics.Box2D.Body(_this.game,null,550,400,1),_this.bodyStopper.setRectangle(10,100),_this.bodyStopper.setCollisionCategory(Client.FilterGroups.CAR1),_this.bodyStopper.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,_this.showThink2,_this),_this.think=Client.GameManager.instance.layerElements.create(660,300,"level2"),_this.think.animations.add("anim1",Phaser.Animation.generateFrameNames("think instance 1",0,9,"",4),30,!1).onComplete.add(_this.showPart2AnimThink,_this),_this.think.animations.add("anim2",Phaser.Animation.generateFrameNames("think instance 1",10,51,"",4),30,!1).onComplete.add(function(){this.think.visible=!1},_this),_this.think.visible=!1,_this}return __extends(Lvl2Peasant,_super),Lvl2Peasant.prototype.showPart2AnimThink=function(){var sprite;this.think.animations.play("anim2"),1===this.thinkShowed?sprite=this.game.make.sprite(51,51,"level2","thinkWheel instance 10000"):2===this.thinkShowed&&(sprite=this.game.make.sprite(53,50,"level2","thinkRepair instance 10000")),sprite.anchor.setTo(.5),this.think.addChild(sprite)},Lvl2Peasant.prototype.showThink1=function(){if(!0!==this.wheel2Connectd){this.thinkShowed+=1;for(var i=0;i<this.think.children.length;i++)this.think.removeChildAt(i);this.think.animations.play("anim1"),this.think.visible=!0}},Lvl2Peasant.prototype.showThink2=function(){0===this.counterThink&&(this.counterThink=1,this.showThink1())},Lvl2Peasant.prototype.update=function(){1===this.counterConnect?(this.counterConnect=2,this.graphicEyes.animations.play("surprise"),this.graphic.body.angle=-3,this.wheel2.body.velocity.x=this.wheel2.body.velocity.y=this.wheel2.body.angularVelocity=0,this.wheel2.body.x=this.graphic.body.x+25,this.wheel2.body.y=this.graphic.body.y+37,this.game.physics.box2d.revoluteJoint(this.graphic,this.wheel2,25,37),this.wheel2.body.data.SetUserData(null),this.wheel2.inputEnabled=!1,this.wheel2.frameName="wheel2 instance 10002",Client.GameManager.instance.level.customAction(1),this.wheel2.body.collideWorldBounds=!1,this.graphic.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.wheel1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.graphic.body.collideWorldBounds=!1,this.wheel1.body.collideWorldBounds=!1,this.wheel2Connectd=!0,this.bodyStopper.destroy(),Client.SoundManager.playSFX("sfx_wheel"),Client.SoundManager.playSFX("sfx_dry",!0)):2===this.counterConnect&&(this.graphic.body.velocity.x=100,this.wheel1.body.angularVelocity=8,this.wheel2.body.angularVelocity=8,850<this.graphic.body.x)&&(this.counterConnect=3,Client.SoundManager.stopSFXLoop("sfx_dry"))},Lvl2Peasant.prototype.connectWheel=function(){0===this.counterConnect&&(this.counterConnect=1)},Lvl2Peasant.prototype.free=function(){this.game=null,this.graphic=null,this.wheel1=null,this.wheel2=null,this.wheel2Contact=null,this.graphicEyes=null,this.bodyStopper=null,this.think=null},Lvl2Peasant})(Client.BasicElement);Client.Lvl2Peasant=Lvl2Peasant})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Door=(_super=>{function Lvl3Door(game){var _this=_super.call(this)||this,sprite=(_this.active=!1,_this.counter=0,_this.light=Client.GameManager.instance.layerBackground.create(315,473,"level3","doorLight instance 10000"),_this.mask=game.make.graphics(_this.light.width/2,-5),_this.mask.beginFill(16711680,0),_this.mask.drawRect(0,0,0,0),_this.mask.endFill(),_this.light.addChild(_this.mask),_this.light.mask=_this.mask,_this.doorLeft=Client.GameManager.instance.layerUpper.create(311,478,"level3","door instance 10000"),_this.doorLeft.anchor.setTo(0,.5),_this.doorRight=Client.GameManager.instance.layerUpper.create(500,478,"level3","door instance 10000"),_this.doorRight.anchor.setTo(0,.5),_this.doorRight.scale.x=-1,Client.GameManager.instance.layerUpper.create(311,480,"level3","doorCircle instance 10000"));return sprite.anchor.setTo(.5),sprite.cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerUpper.create(500,480,"level3","doorCircle instance 10000")).anchor.setTo(.5),sprite.scale.x=-1,sprite.cacheAsBitmap=!0,sprite=null,_this.body=new Phaser.Physics.Box2D.Body(game,null,405,484,1),_this.body.setRectangle(200,20),_this}return __extends(Lvl3Door,_super),Lvl3Door.prototype.open=function(){this.active=!0,this.body.y=589},Lvl3Door.prototype.update=function(){!1!==this.active&&(this.counter+=1,1===this.counter?(Client.GameManager.instance.level.setSimpleTween(this.doorLeft,19,{angle:81}),Client.GameManager.instance.level.setSimpleTween(this.doorRight,19,{angle:-81})):20===this.counter?(Client.GameManager.instance.level.setSimpleTween(this.doorLeft,5,{angle:77}),Client.GameManager.instance.level.setSimpleTween(this.doorRight,5,{angle:-77})):25===this.counter?(Client.GameManager.instance.level.setSimpleTween(this.doorLeft,5,{angle:81}),Client.GameManager.instance.level.setSimpleTween(this.doorRight,5,{angle:-81})):30===this.counter&&(this.active=!1),this.drawMask(Client.Tools.percentToF(this.doorLeft.angle,81)))},Lvl3Door.prototype.drawMask=function(percent){this.mask.clear(),this.mask.beginFill(16711680,.5),this.mask.drawTriangle([new Phaser.Point(-95,0),new Phaser.Point(95,0),new Phaser.Point(80*percent,80*percent),new Phaser.Point(75*percent,130),new Phaser.Point(-75*percent,130),new Phaser.Point(-80*percent,80*percent)]),this.mask.endFill()},Lvl3Door.prototype.free=function(){this.doorLeft=null,this.doorRight=null,this.light=null,this.mask=null,this.body=null},Lvl3Door})(Client.BasicElement);Client.Lvl3Door=Lvl3Door})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Dragon=(_super=>{function Lvl3Dragon(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,875,-218),Client.GameManager.instance.layerUpper.addChild(_this.group),_this.dragonWing2=new Lvl3DragonWing(game,"_1"),_this.group.addChild(_this.dragonWing2.group),_this.dragonLeg1_1=new Client.SASprite(game,0,0,"dragon","dragonLeg1_1 instance 10000"),_this.dragonLeg1_1.pivot.set(56,42),_this.group.addChild(_this.dragonLeg1_1),_this.dragonLeg2_1=new Client.SASprite(game,0,0,"dragon","dragonLeg2_1 instance 10000"),_this.dragonLeg2_1.pivot.set(46,47),_this.group.addChild(_this.dragonLeg2_1),_this.dragonBase=new Client.SASprite(game,0,0,"dragon","dragonBase instance 10000"),_this.dragonBase.pivot.set(61,39),_this.group.addChild(_this.dragonBase),_this.dragonTail1=new Client.SASprite(game,0,0,"dragon","dragonTail1 instance 10000"),_this.dragonTail1.pivot.set(27,28),_this.group.addChild(_this.dragonTail1),_this.dragonTail2=new Client.SASprite(game,0,0,"dragon","dragonTail2 instance 10000"),_this.dragonTail2.pivot.set(20,21),_this.group.addChild(_this.dragonTail2),_this.dragonTail3=new Client.SASprite(game,0,0,"dragon","dragonTail3 instance 10000"),_this.dragonTail3.pivot.set(19,12),_this.group.addChild(_this.dragonTail3),_this.dragonTail4=new Client.SASprite(game,0,0,"dragon","dragonTail4 instance 10000"),_this.dragonTail4.pivot.set(18,14),_this.group.addChild(_this.dragonTail4),_this.dragonTail5=new Client.SASprite(game,0,0,"dragon","dragonTail5 instance 10000"),_this.dragonTail5.pivot.set(16,12),_this.group.addChild(_this.dragonTail5),_this.dragonTail6=new Client.SASprite(game,0,0,"dragon","dragonTail6 instance 10000"),_this.dragonTail6.pivot.set(14,43),_this.group.addChild(_this.dragonTail6),_this.dragonNeck3=new Client.SASprite(game,0,0,"dragon","dragonNeck3 instance 10000"),_this.dragonNeck3.pivot.set(23,36),_this.group.addChild(_this.dragonNeck3),_this.dragonNeck2=new Client.SASprite(game,0,0,"dragon","dragonNeck2 instance 10000"),_this.dragonNeck2.pivot.set(23,38),_this.group.addChild(_this.dragonNeck2),_this.dragonNeck1=new Client.SASprite(game,0,0,"dragon","dragonNeck1 instance 10000"),_this.dragonNeck1.pivot.set(19,29),_this.group.addChild(_this.dragonNeck1),_this.dragonHead=new Client.SASprite(game,0,0,"dragon","dragonHead instance 10000"),_this.dragonHead.pivot.set(49,27),_this.group.addChild(_this.dragonHead),_this.dragonEye=game.make.sprite(36,6,"dragon"),_this.dragonEye.animations.add("anim",Phaser.Animation.generateFrameNames("dragonEye instance 1",0,0,"",4),30,!1),_this.dragonEye.animations.add("anim2",Phaser.Animation.generateFrameNames("dragonEye instance 1",1,84,"",4),30,!0),_this.dragonEye.animations.play("anim2"),_this.dragonHead.addChild(_this.dragonEye),_this.princess=new Client.Lvl3Princess(game),_this.group.addChild(_this.princess.group),_this.dragonLeg1_2=new Client.SASprite(game,0,0,"dragon","dragonLeg1_2 instance 10000"),_this.dragonLeg1_2.pivot.set(56,42),_this.group.addChild(_this.dragonLeg1_2),_this.dragonLeg2_2=new Client.SASprite(game,0,0,"dragon","dragonLeg2_2 instance 10000"),_this.dragonLeg2_2.pivot.set(46,47),_this.group.addChild(_this.dragonLeg2_2),_this.dragonSeddle=new Client.SASprite(game,0,0,"dragon","dragonSeddle instance 10000"),_this.dragonSeddle.pivot.set(57,24),_this.group.addChild(_this.dragonSeddle),_this.dragonMage=new Lvl3DragonMage(game),_this.group.addChild(_this.dragonMage.group),_this.dragonWing1=new Lvl3DragonWing(game),_this.group.addChild(_this.dragonWing1.group),_this.setParts("appear"),_this}return __extends(Lvl3Dragon,_super),Lvl3Dragon.prototype.playAppear=function(){this.playAnim("appear"),this.dragonMage.play()},Lvl3Dragon.prototype.update=function(){_super.prototype.update.call(this),this.dragonWing1.update(),this.dragonWing2.update(),this.dragonMage.update(),this.princess.update()},Lvl3Dragon.prototype.onAnimComplete=function(){"appear"===this.currAnim?(Client.GameManager.instance.level.customAction(2),this.princess.activate(),this.playAnim("dragon_cycle"),this.dragonWing1.playAnim("anim",3),this.dragonWing2.playAnim("anim",3)):"dragon_cycle"===this.currAnim?(Client.GameManager.instance.level.customAction(3),this.playAnim("attack2"),this.dragonMage.playCast()):"attack2"===this.currAnim?this.playAnim("princess"):"princess"===this.currAnim&&(this.group.visible=!1,Client.SoundManager.playSFX("levelWin"),Client.LevelBuilder.instance.levelComplete())},Lvl3Dragon.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"appear"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-31,y:377,skX:44,skY:44}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-50,y:296,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-25,y:360,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:44,y:406,skX:-40,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-12,y:431,skX:-48,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-148,y:381,skX:-30,skY:-30}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-117,y:386,skX:-113,skY:-113}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-87,y:380,skX:-114,skY:-114}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-67,y:390,skX:-47,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:155,y:308,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:131,y:349,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:109,y:357,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:85,y:366,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:60,y:367,skX:-49,skY:-49}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:31,y:368,skX:-46,skY:-46}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-14,y:393,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:26,y:411,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-23,y:437,skX:-49,skY:-49}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-56,y:382,skX:25,skY:25})):15===this.counterAnim?(Client.SoundManager.playSFX("sfx_crowdSurprized"),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,15,{x:-90,y:425,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,15,{x:-77,y:342,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,15,{x:-78,y:412,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,15,{x:-30,y:479,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,15,{x:-102,y:479,skX:-9,skY:-8,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,15,{x:-189,y:374,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,15,{x:-168,y:393,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,15,{x:-141,y:412,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,15,{x:-129,y:424,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,15,{x:113,y:430,skX:34,skY:34}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,15,{x:75,y:459,skX:22,skY:22}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,15,{x:52,y:458,skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,15,{x:27,y:457,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,15,{x:-2,y:451,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,15,{x:-29,y:440,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,15,{x:-80,y:446,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,15,{x:-50,y:478,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,15,{x:-105,y:476,skX:8,skY:8,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,15,{x:-116,y:420,skX:-1,skY:-1})):30===this.counterAnim&&this.animComplete():"dragon_cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,22,{y:444}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,22,{y:361}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,22,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,22,{x:-32,y:499,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,22,{x:-93,y:501,skX:-26,skY:-25,scY:.88}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,22,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,22,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,22,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,22,{y:443}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,22,{y:449}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,22,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,22,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,22,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,22,{y:470}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,22,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,22,{y:465}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,22,{y:497,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,22,{x:-106,y:502,skX:-27,skY:-27,scY:.89}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,22,{y:439})):23===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,22,{y:425}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,22,{y:342}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,22,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,22,{x:-30,y:479,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,22,{x:-90,y:480,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,22,{y:374}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,22,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,22,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,22,{y:424}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,22,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,22,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,22,{y:458}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,22,{y:457}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,22,{y:451}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,22,{y:440}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,22,{y:446}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,22,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,22,{y:483,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,22,{y:420})):45===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,19,{y:444}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,19,{y:360}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,19,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,19,{x:-32,y:499,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,19,{x:-93,y:500,skX:-26,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,19,{y:392}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,19,{y:411}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,19,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,19,{y:442}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,19,{y:448}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,19,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,19,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,19,{y:475}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,19,{y:469,scX:.93,scY:.93}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,19,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,19,{y:465}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,19,{y:496}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,19,{y:501,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,19,{y:438})):64===this.counterAnim&&this.animComplete():"attack2"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,20,{x:-83,y:361,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,20,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,20,{y:501}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,20,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,20,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,20,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,20,{y:443}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,20,{y:449}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,20,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,20,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,20,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,20,{y:470,scX:.94,scY:.94}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,20,{y:497}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,20,{y:502}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,20,{y:439})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,27,{y:425}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,27,{y:343}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,27,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,27,{x:-30,y:479,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,27,{x:-90,y:480,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,27,{y:374}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,27,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,27,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,27,{y:424}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,27,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,27,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,27,{y:458}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,27,{y:457}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,27,{y:451}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,27,{y:440}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,27,{y:446}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,27,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,27,{y:483,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,27,{y:420})):48===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,19,{y:444}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,19,{x:-76,y:366,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,19,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,19,{x:-32,y:499,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,19,{x:-93,y:501,skX:-26,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,19,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,19,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,19,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,19,{y:443}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,19,{y:449}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,19,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,19,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,19,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,19,{y:470}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,19,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,19,{y:465}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,19,{y:497}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,19,{y:502,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,19,{y:439})):67===this.counterAnim&&this.animComplete():"princess"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,22,{x:-206,y:415,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,22,{x:-213,y:336,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,22,{x:-199,y:399,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,22,{x:-134,y:451,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,22,{x:-192,y:470,skX:-43,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,22,{x:-316,y:395,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,22,{x:-290,y:407,skX:-75,skY:-75}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,22,{x:-259,y:417,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,22,{x:-244,y:425,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,22,{x:-11,y:360,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,22,{x:-39,y:399,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,22,{x:-61,y:405,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,22,{x:-85,y:411,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,22,{x:-115,y:414,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,22,{x:-144,y:412,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,22,{x:-191,y:432,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,22,{x:-153,y:454,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,22,{x:-230,y:463,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,22,{x:-232,y:418,skX:-28,skY:-28})):23===this.counterAnim?(Client.SoundManager.playSFX("sfx_princess"),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-209,y:403,skX:44,skY:44}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-206,y:323,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-200,y:388,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-142,y:447,skX:-28,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-201,y:459,skX:-36,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-315,y:370,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-291,y:385,skX:-68,skY:-68}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-261,y:399,skX:-51,skY:-51}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-247,y:408,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-8,y:371,skX:24,skY:24}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-41,y:406,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-63,y:409,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-88,y:413,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-118,y:412,skX:-37,skY:-37}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-146,y:407,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-196,y:422,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-160,y:448,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-262,y:447,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-235,y:403,skX:14,skY:14})):37===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,5,{x:-264,y:406,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,5,{x:-270,y:327,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,5,{x:-256,y:390,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,5,{x:-191,y:442,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,5,{x:-269,y:471,skX:-2,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.princess.group,10,{x:-250,y:447,skX:6,skY:-174}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,5,{x:-373,y:386,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,5,{x:-347,y:398,skX:-75,skY:-75}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,5,{x:-316,y:408,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,5,{x:-301,y:416,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,5,{x:-68,y:351,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,5,{x:-96,y:390,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,5,{x:-118,y:396,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,5,{x:-142,y:402,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,5,{x:-172,y:405,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,5,{x:-201,y:403,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,5,{x:-248,y:423,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,5,{x:-210,y:445,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,5,{x:-298,y:453,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,5,{x:-289,y:409,skX:-18,skY:-18})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-306,y:281,skX:117,skY:117}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-280,y:206,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-292,y:270,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-258,y:346,skX:-7,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-312,y:329,skX:-14,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-394,y:213,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-377,y:236,skX:-48,skY:-48}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-353,y:259,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-344,y:273,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-106,y:322,skX:45,skY:45}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-149,y:343,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-171,y:339,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-196,y:333,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-224,y:322,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-248,y:307,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-300,y:304,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-276,y:341,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-344,y:317,skX:-22,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-330,y:272,skX:90,skY:90})):47===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.princess.group,9,{x:-272,y:394,skX:32,skY:-148}):56===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-305,y:276,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-279,y:201}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-291,y:265}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-257,y:341}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-311,y:324}),Client.GameManager.instance.level.setSimpleTween(this.princess.group,14,{y:372,skX:18,skY:-162}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-393,y:208}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-376,y:231}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-352,y:254}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-343,y:268}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-105,y:317}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-148,y:338}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-170,y:334}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-195,y:328}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-223,y:317}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-247,y:302}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-299,y:299}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-275,y:336}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-343,y:312}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-329,y:267,skX:9,skY:9})):70===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,15,{x:-322,y:192,skX:87,skY:87}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,15,{x:-310,y:113,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,15,{x:-309,y:179,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,15,{x:-263,y:247,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,15,{x:-319,y:240,skX:-24,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.princess.group,15,{x:-273,y:311,skX:29,skY:-151}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,15,{x:-420,y:140,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,15,{x:-399,y:160,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,15,{x:-372,y:178,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,15,{x:-360,y:190,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,15,{x:-118,y:196,skX:34,skY:34}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,15,{x:-156,y:225,skX:22,skY:22}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,15,{x:-179,y:224,skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,15,{x:-204,y:224,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,15,{x:-233,y:217,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,15,{x:-260,y:207,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,15,{x:-312,y:213,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,15,{x:-281,y:245,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,15,{x:-353,y:234,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,15,{x:-347,y:187,skX:72,skY:72})):85===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,10,{x:-319,y:221,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,10,{x:-307,y:142}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,10,{x:-306,y:208}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,10,{x:-260,y:276}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,10,{x:-316,y:269}),Client.GameManager.instance.level.setSimpleTween(this.princess.group,10,{x:-270,y:325,skX:17,skY:-163}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,10,{x:-417,y:169}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,10,{x:-396,y:189}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,10,{x:-369,y:207}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,10,{x:-357,y:219}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,10,{x:-115,y:225}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,10,{x:-153,y:254}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,10,{x:-176,y:253}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,10,{x:-201,y:253}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,10,{x:-230,y:246}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,10,{x:-257,y:236}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,10,{x:-309,y:242}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,10,{x:-278,y:274}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,10,{x:-350,y:263}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,10,{x:-344,y:216,skX:-1,skY:-1})):95===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-376,y:35,skX:85,skY:85}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-388,y:-43,skX:-29,skY:-29}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-368,y:20,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-303,y:71,skX:-35,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-359,y:81,skX:-41,skY:-40}),Client.GameManager.instance.level.setSimpleTween(this.princess.group,14,{x:-298,y:162,skX:35,skY:-145}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-485,y:16,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-459,y:28,skX:-75,skY:-75}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-428,y:38,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-413,y:46,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-180,y:-20,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-208,y:19,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-230,y:25,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-254,y:31,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-284,y:34,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-313,y:32,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-360,y:53,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-321,y:74,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-393,y:85,skX:-49,skY:-49}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-401,y:39,skX:67,skY:67})):109===this.counterAnim&&this.animComplete()))},Lvl3Dragon.prototype.setParts=function(value){"appear"===value?(this.setPart(this.dragonWing1.group,{x:150,y:300,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:163,y:217,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonSeddle,{x:162,y:287,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:208,y:355,angle:0,scX:.94,scY:.88,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_2,{x:147,y:357,angle:0,scX:.94,scY:.88,skX:-26,skY:-25}),this.setPart(this.princess.group,{x:-252,y:442,angle:0,scX:1,scY:1,skX:0,skY:-179}),this.setPart(this.dragonHead,{x:49,y:245,angle:0,scX:.93,scY:.93,skX:-8,skY:-8}),this.setPart(this.dragonNeck1,{x:72,y:268,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:99,y:287,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:111,y:299,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:354,y:307,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:316,y:336,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:293,y:335,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:267,y:334,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:238,y:326,angle:0,scX:.94,scY:.94,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:211,y:315,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:160,y:321,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:190,y:353,angle:0,scX:.84,scY:.96,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_1,{x:134,y:358,angle:0,scX:.89,scY:.89,skX:-27,skY:-27}),this.setPart(this.dragonWing2.group,{x:124,y:295,angle:0,scX:.94,scY:.94,skX:-1,skY:-1})):"dragon_cycle"===value?(this.setPart(this.dragonWing1.group,{x:-90,y:425,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:-77,y:342,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonSeddle,{x:-78,y:412,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:-30,y:479,angle:0,scX:.94,scY:.88,skX:-21,skY:-21}),this.setPart(this.dragonLeg1_2,{x:-102,y:479,angle:0,scX:.94,scY:.75,skX:-9,skY:-8}),this.setPart(this.princess.group,{x:-252,y:442,angle:0,scX:1,scY:1,skX:0,skY:-179}),this.setPart(this.dragonHead,{x:-189,y:374,angle:0,scX:.93,scY:.93,skX:-33,skY:-33}),this.setPart(this.dragonNeck1,{x:-168,y:393,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:-141,y:412,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:-129,y:424,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:113,y:430,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:75,y:459,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:52,y:458,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:27,y:457,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:-2,y:451,angle:0,scX:.94,scY:.94,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:-29,y:440,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:-80,y:446,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:-50,y:478,angle:0,scX:.84,scY:.96,skX:-9,skY:-9}),this.setPart(this.dragonLeg1_1,{x:-105,y:476,angle:0,scX:.89,scY:.74,skX:8,skY:8}),this.setPart(this.dragonWing2.group,{x:-116,y:420,angle:0,scX:.94,scY:.94,skX:-1,skY:-1})):"attack2"===value?(this.setPart(this.dragonWing1.group,{x:-90,y:444,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:-77,y:360,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonSeddle,{x:-78,y:430,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:-32,y:499,angle:0,scX:.94,scY:.88,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_2,{x:-93,y:500,angle:0,scX:.94,scY:.88,skX:-26,skY:-25}),this.setPart(this.princess.group,{x:-252,y:442,angle:0,scX:1,scY:1,skX:0,skY:-179}),this.setPart(this.dragonHead,{x:-189,y:392,angle:0,scX:.93,scY:.93,skX:-33,skY:-33}),this.setPart(this.dragonNeck1,{x:-168,y:411,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:-141,y:430,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:-129,y:442,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:113,y:448,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:75,y:477,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:52,y:476,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:27,y:475,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:-2,y:469,angle:0,scX:.93,scY:.93,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:-29,y:459,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:-80,y:465,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:-50,y:496,angle:0,scX:.84,scY:.96,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_1,{x:-106,y:501,angle:0,scX:.89,scY:.89,skX:-27,skY:-27}),this.setPart(this.dragonWing2.group,{x:-116,y:438,angle:0,scX:.94,scY:.94,skX:-1,skY:-1})):"princess"===value&&(this.setPart(this.dragonWing1.group,{x:-90,y:444,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:-76,y:366,angle:0,scX:.94,scY:.94,skX:-9,skY:-9}),this.setPart(this.dragonSeddle,{x:-78,y:431,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:-32,y:499,angle:0,scX:.94,scY:.88,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_2,{x:-93,y:501,angle:0,scX:.94,scY:.88,skX:-26,skY:-25}),this.setPart(this.princess.group,{x:-252,y:442,angle:0,scX:1,scY:1,skX:0,skY:-179}),this.setPart(this.dragonHead,{x:-189,y:393,angle:0,scX:.93,scY:.93,skX:-33,skY:-33}),this.setPart(this.dragonNeck1,{x:-168,y:412,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:-141,y:431,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:-129,y:443,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:113,y:449,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:75,y:478,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:52,y:477,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:27,y:476,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:-2,y:470,angle:0,scX:.94,scY:.94,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:-29,y:459,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:-80,y:465,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:-50,y:497,angle:0,scX:.84,scY:.96,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_1,{x:-106,y:502,angle:0,scX:.89,scY:.89,skX:-27,skY:-27}),this.setPart(this.dragonWing2.group,{x:-116,y:439,angle:0,scX:.94,scY:.94,skX:-1,skY:-1}))},Lvl3Dragon.prototype.free=function(){this.group=null,this.dragonSeddle=null,this.dragonLeg2_2=null,this.dragonLeg1_2=null,this.dragonHead=null,this.dragonEye=null,this.dragonNeck1=null,this.dragonNeck2=null,this.dragonNeck3=null,this.dragonTail6=null,this.dragonTail5=null,this.dragonTail4=null,this.dragonTail3=null,this.dragonTail2=null,this.dragonTail1=null,this.dragonBase=null,this.dragonLeg2_1=null,this.dragonLeg1_1=null,this.dragonWing1.free(),this.dragonWing1=null,this.dragonWing2.free(),this.dragonWing2=null,this.dragonMage.free(),this.dragonMage=null,this.princess.free(),this.princess=null},Lvl3Dragon})(Client.BasicSimpleAnim),Lvl3DragonWing=(Client.Lvl3Dragon=Lvl3Dragon,(_super=>{function Lvl3DragonWing(game,dopId){void 0===dopId&&(dopId="");var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.dragonWing7=new Client.SASprite(game,0,0,"dragon","dragonWing7"+dopId+" instance 10000"),_this.dragonWing7.pivot.set(17,-4),_this.group.addChild(_this.dragonWing7),_this.dragonWing8=new Client.SASprite(game,0,0,"dragon","dragonWing8"+dopId+" instance 10000"),_this.group.addChild(_this.dragonWing8),_this.dragonWing9=new Client.SASprite(game,0,0,"dragon","dragonWing9"+dopId+" instance 10000"),_this.dragonWing9.pivot.set(14,-7),_this.group.addChild(_this.dragonWing9),_this.dragonWing10=new Client.SASprite(game,0,0,"dragon","dragonWing10"+dopId+" instance 10000"),_this.group.addChild(_this.dragonWing10),_this.dragonWing1=new Client.SASprite(game,0,0,"dragon","dragonWing1"+dopId+" instance 10000"),_this.dragonWing1.pivot.set(39,33),_this.group.addChild(_this.dragonWing1),_this.dragonWing2=new Client.SASprite(game,0,0,"dragon","dragonWing2"+dopId+" instance 10000"),_this.dragonWing2.pivot.set(26,28),_this.group.addChild(_this.dragonWing2),_this.dragonWing3=new Client.SASprite(game,0,0,"dragon","dragonWing3"+dopId+" instance 10000"),_this.dragonWing3.pivot.set(-16,4),_this.group.addChild(_this.dragonWing3),_this.dragonWing4=new Client.SASprite(game,0,0,"dragon","dragonWing4"+dopId+" instance 10000"),_this.dragonWing4.pivot.set(21,53),_this.group.addChild(_this.dragonWing4),_this.dragonWing5=new Client.SASprite(game,0,0,"dragon","dragonWing5"+dopId+" instance 10000"),_this.dragonWing5.pivot.set(38,64),_this.group.addChild(_this.dragonWing5),_this.dragonWing6=new Client.SASprite(game,0,0,"dragon","dragonWing6"+dopId+" instance 10000"),_this.dragonWing6.pivot.set(79,66),_this.group.addChild(_this.dragonWing6),_this.setParts("anim"),_this}return __extends(Lvl3DragonWing,_super),Lvl3DragonWing.prototype.update=function(){_super.prototype.update.call(this)},Lvl3DragonWing.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,5,{x:83,y:-172,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,5,{x:93,y:-122,skX:-57,skY:-57}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,5,{x:71,y:-95,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,5,{x:42,y:-56,skX:-34,skY:-34,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,5,{x:40,y:-95}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,5,{x:30,y:-34,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,5,{x:24,y:-171,skX:8,skY:8,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,5,{x:40,y:-220,skX:4,skY:-4,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,5,{x:32,y:-69,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,5,{x:50,y:-138,skX:18,skY:26,scX:.95,scY:.91})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:116,y:-124,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:109,y:-80,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:85,y:-62,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:59,y:-37,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:59,y:-72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:39,y:-22,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:56,y:-144,skX:23,skY:23,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:89,y:-181,skX:19,skY:13,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:53,y:-58,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:77,y:-108,skX:25,skY:38,scX:.89,scY:.81})):12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:132,y:-69,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:112,y:-35,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:87,y:-26,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:68,y:-14,skX:-3,skY:-3,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:69,y:-43,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:44,y:-8,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:78,y:-107,skX:37,skY:37,scY:.72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:130,y:-126,skX:42,skY:29,scX:.95,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:72,y:-36,skX:47,skY:47}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:96,y:-65,skX:42,skY:53,scX:.87,scY:.69})):18===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:130,y:-10,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:101,y:11,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:78,y:11,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:69,y:10,skX:13,skY:13,scX:.98,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:70,y:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{y:8,skX:51,skY:51}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:91,y:-62,skX:54,skY:52,scY:.63}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:140,y:-61,skX:63,skY:44,scX:.96,scY:.65}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:74,y:-14,skX:60,skY:60}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:109,y:-11,skX:62,skY:70,scX:.76,scY:.55})):24===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:132,y:-68,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:113,y:-35,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:87,y:-26,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:68,y:-14,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:69,y:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{y:-8,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:78,y:-107,skX:37,skY:37,scY:.72}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:130,y:-126,skX:42,skY:29,scX:.95,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:72,y:-36,skX:47,skY:47}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:96,y:-65,skX:42,skY:53,scX:.87,scY:.69})):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:116,y:-125,skX:-53,skY:-53}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:109,y:-80,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:85,y:-62,skX:-32,skY:-32,scX:.98}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:59,y:-37,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:59,y:-72,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:39,y:-22,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:56,y:-144,skX:23,skY:23,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:89,y:-181,skX:19,skY:13,scX:1,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:53,y:-58,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:77,y:-108,skX:25,skY:38,scX:.89,scY:.81})):36===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,6,{x:82,y:-172,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,6,{x:93,y:-122,skX:-57,skY:-57}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,6,{x:71,y:-95,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,6,{x:42,y:-56,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,6,{x:40,y:-95}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,6,{x:30,y:-34,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,6,{x:24,y:-171,skX:8,skY:8,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,6,{x:40,y:-220,skX:4,skY:-4,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,6,{x:32,y:-69,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,6,{x:50,y:-138,skX:18,skY:26,scX:.95,scY:.91})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing6,5,{x:45,y:-201,skX:-86,skY:-86}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing5,5,{x:72,y:-150,skX:-70,skY:-70}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing4,5,{x:53,y:-117,skX:-54,skY:-54,scX:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing3,5,{x:23,y:-65,skX:-47,skY:-47,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2,5,{x:18,y:-109}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing1,5,{x:19,y:-41,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing10,5,{x:0,y:-193,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing9,5,{x:-9,y:-245,skX:-15,skY:-15,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing8,5,{x:14,y:-77,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing7,5,{x:22,y:-157,skX:13,skY:15,scX:1,scY:1})):47===this.counterAnim&&this.animComplete())},Lvl3DragonWing.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.dragonWing6,{x:45,y:-201,angle:0,scX:.98,scY:.98,skX:-86,skY:-86}),this.setPart(this.dragonWing5,{x:72,y:-150,angle:0,scX:.99,scY:.99,skX:-70,skY:-70}),this.setPart(this.dragonWing4,{x:53,y:-117,angle:0,scX:.99,scY:.99,skX:-54,skY:-54}),this.setPart(this.dragonWing3,{x:23,y:-65,angle:0,scX:.99,scY:.99,skX:-47,skY:-47}),this.setPart(this.dragonWing2,{x:18,y:-109,angle:0,scX:1,scY:1,skX:4,skY:4}),this.setPart(this.dragonWing1,{x:19,y:-41,angle:0,scX:.99,scY:.99,skX:-24,skY:-24}),this.setPart(this.dragonWing10,{x:0,y:-193,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.dragonWing9,{x:-9,y:-245,angle:0,scX:1,scY:1,skX:-15,skY:-15}),this.setPart(this.dragonWing8,{x:14,y:-77,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.dragonWing7,{x:22,y:-157,angle:0,scX:1,scY:1,skX:13,skY:15}))},Lvl3DragonWing.prototype.free=function(){this.group=null,this.dragonWing6=null,this.dragonWing5=null,this.dragonWing4=null,this.dragonWing3=null,this.dragonWing2=null,this.dragonWing1=null,this.dragonWing7=null,this.dragonWing8=null,this.dragonWing9=null,this.dragonWing10=null},Lvl3DragonWing})(Client.BasicSimpleAnim)),Lvl3DragonMage=(Client.Lvl3DragonWing=Lvl3DragonWing,(_super=>{function Lvl3DragonMage(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.base=new Client.SASprite(game,0,0,"dragon","dragonMageBase instance 10000"),_this.base.pivot.set(55,33),_this.group.addChild(_this.base),_this.eyes=new Client.SASprite(game,0,0,"dragon","dragonMageEyes instance 10000"),_this.eyes.pivot.set(14,16),_this.eyes.animations.add("anim",Phaser.Animation.generateFrameNames("dragonMageEyes instance 1",0,107,"",4),30,!1),_this.group.addChild(_this.eyes),_this.hat=new Client.SASprite(game,0,0,"dragon","dragonMageHat instance 10000"),_this.hat.pivot.set(23,87),_this.group.addChild(_this.hat),_this.brown=new Client.SASprite(game,0,0,"dragon","dragonMageBrown instance 10000"),_this.brown.pivot.set(12,24),_this.brown.animations.add("anim",Phaser.Animation.generateFrameNames("dragonMageBrown instance 1",0,107,"",4),30,!1),_this.group.addChild(_this.brown),_this.scepter=new Client.SASprite(game,0,0,"dragon","dragonMageScepter instance 10000"),_this.scepter.pivot.set(22,59),_this.group.addChild(_this.scepter),_this.castAnim=game.make.sprite(-344,-75,"level3","magicBad1 instance 10000"),_this.castAnim.animations.add("anim",Phaser.Animation.generateFrameNames("magicBad1 instance 1",0,24,"",4),30,!1).killOnComplete=!0,_this.castAnim.angle=13,_this.group.addChild(_this.castAnim),_this.castAnim.visible=!1,_this.setParts("cast"),_this}return __extends(Lvl3DragonMage,_super),Lvl3DragonMage.prototype.play=function(){this.setParts("cast"),this.eyes.animations.play("anim"),this.brown.animations.play("anim")},Lvl3DragonMage.prototype.playCast=function(){this.playAnim("cast")},Lvl3DragonMage.prototype.update=function(){_super.prototype.update.call(this)},Lvl3DragonMage.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"cast"===this.currAnim)&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,20,{x:-92,y:34,skX:-102,skY:-102}):21===this.counterAnim?(this.castAnim.visible=!0,this.castAnim.animations.play("anim"),Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-89,y:30,skX:-87,skY:-87})):25===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-92,y:34,skX:-102,skY:-102}):29===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-89,y:30,skX:-87,skY:-87}):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-92,y:34,skX:-102,skY:-102}):37===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-89,y:30,skX:-87,skY:-87}):41===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,7,{x:-4,y:12,skX:25,skY:25}):48===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,19,{x:22,y:11}):67===this.counterAnim&&this.animComplete())},Lvl3DragonMage.prototype.setParts=function(value){"cast"===value&&(this.setPart(this.scepter,{x:9,y:16,angle:0,scX:.94,scY:.94,skX:16,skY:16}),this.setPart(this.brown,{x:-48,y:19,angle:0,scX:.94,scY:.94,skX:-12,skY:-12}),this.setPart(this.hat,{x:-48,y:19,angle:0,scX:.94,scY:.94,skX:-12,skY:-12}),this.setPart(this.eyes,{x:-48,y:19,angle:0,scX:.94,scY:.94,skX:-12,skY:-12}),this.setPart(this.base,{x:-22,y:28,angle:0,scX:.94,scY:.94,skX:-5,skY:-5}))},Lvl3DragonMage.prototype.free=function(){this.group=null,this.scepter=null,this.brown=null,this.hat=null,this.eyes=null,this.base=null,this.castAnim=null},Lvl3DragonMage})(Client.BasicSimpleAnim));Client.Lvl3DragonMage=Lvl3DragonMage})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Guard=(_super=>{function Lvl3Guard(game,x,y,dir){void 0===dir&&(dir=1);var _this=_super.call(this,game)||this;return _this.active=!1,_this.speed=2*dir,_this.speedWheels=5,_this.group=new Client.SAGroup(game,x,y),_this.group.scale.x=dir,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.axe=new Client.SASprite(game,0,0,"level3","guardAxe instance 10000"),_this.group.addChild(_this.axe),_this.base=new Client.SASprite(game,0,0,"level3","guardBase instance 10000"),_this.base.pivot.set(2,10),_this.group.addChild(_this.base),_this.eyes=new Client.SASprite(game,0,0,"level3","guardEyes instance 10000"),_this.eyes.anchor.setTo(.15,.15),_this.group.addChild(_this.eyes),_this.helmet=new Client.SASprite(game,0,0,"level3","guardHelmet instance 10000"),_this.helmet.anchor.setTo(.5),_this.helmet.animations.add("anim",Phaser.Animation.generateFrameNames("guardHelmet instance 1",0,61,"",4),30,!0),_this.helmet.animations.play("anim"),_this.group.addChild(_this.helmet),_this.wheel2=new Client.SASprite(game,0,0,"level3","guardWheel instance 10000"),_this.wheel2.anchor.setTo(.5),_this.group.addChild(_this.wheel2),_this.wheel1=new Client.SASprite(game,0,0,"level3","guardWheel instance 10000"),_this.wheel1.anchor.setTo(.5),_this.group.addChild(_this.wheel1),_this.setParts("shock"),_this}return __extends(Lvl3Guard,_super),Lvl3Guard.prototype.update=function(){_super.prototype.update.call(this),!0===this.active&&(this.group.x+=this.speed,this.wheel1.angle+=this.speedWheels,this.wheel2.angle+=this.speedWheels,1===this.group.scale.x&&900<this.group.x||-1===this.group.scale.x&&this.group.x<-100)&&(this.active=!1)},Lvl3Guard.prototype.activate=function(){this.playAnim("shock")},Lvl3Guard.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"shock"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.helmet,14,{y:-8,scY:.78}),Client.GameManager.instance.level.setSimpleTween(this.eyes,14,{x:-16,y:-19}),Client.GameManager.instance.level.setSimpleTween(this.base,14,{x:-54,y:-26,scX:.96,scY:.78}),Client.GameManager.instance.level.setSimpleTween(this.axe,14,{x:-66,y:-53,skX:-20.46,skY:-20.46})):15===this.counterAnim?(this.active=!0,Client.GameManager.instance.level.setSimpleTween(this.wheel1,3,{x:-28,scY:1.01,skX:7.01}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,3,{x:38,skX:3.75}),Client.GameManager.instance.level.setSimpleTween(this.helmet,3,{x:-17,y:-18,scY:1.04,skX:10.76}),Client.GameManager.instance.level.setSimpleTween(this.eyes,3,{x:-7,y:-29,scX:.99,scY:1.01,skX:-11.48,skY:171.44}),Client.GameManager.instance.level.setSimpleTween(this.base,3,{x:-41,y:-42,scY:1.04,skX:10.76}),Client.GameManager.instance.level.setSimpleTween(this.axe,3,{x:-10,y:-76,scX:1.02,scY:.98,skX:18.15,skY:20.22})):18===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.axe,4,{x:-2,y:-75,skX:24.39,skY:26.46}):22===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.axe,6,{x:-12,y:-76,skX:15.91,skY:17.97}):28===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.axe,10,{x:-10,skX:18.15,skY:20.22}):38===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wheel1,24,{x:-30,scY:1,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,24,{x:37,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.helmet,24,{x:-26,y:-17,scY:1,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.eyes,24,{x:-12,scX:1,scY:1,skX:-8.49,skY:171.51}),Client.GameManager.instance.level.setSimpleTween(this.base,24,{x:-57,y:-40,scX:1,scY:1,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.axe,24,{x:-42,y:-79,scX:1,scY:1,skX:0,skY:0})):62===this.counterAnim&&this.animComplete())},Lvl3Guard.prototype.setParts=function(value){"shock"===value&&(this.setPart(this.wheel1,{x:-30,y:26,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.wheel2,{x:37,y:26,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.helmet,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.eyes,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8.49,skY:171.51}),this.setPart(this.base,{x:-57,y:-40,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.axe,{x:-42,y:-79,angle:0,scX:1,scY:1,skX:0,skY:0}))},Lvl3Guard.prototype.free=function(){this.group=null,this.wheel1=null,this.wheel2=null,this.helmet=null,this.eyes=null,this.base=null,this.axe=null},Lvl3Guard})(Client.BasicSimpleAnim);Client.Lvl3Guard=Lvl3Guard})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Jester=(_super=>{function Lvl3Jester(game){var _this=_super.call(this,game)||this;return _this.active=!1,_this.group=new Client.SAGroup(game,719,306),_this.group.angle=3,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.base=new Client.SASprite(game,0,0,"level3","jesterBase instance 10000"),_this.group.addChild(_this.base),_this.hat=new Client.SASprite(game,0,0,"level3","jesterHat instance 10000"),_this.hat.anchor.setTo(.5),_this.group.addChild(_this.hat),_this.eyes=new Client.SASprite(game,0,0,"level3","jesterEyes instance 10000"),_this.eyes.anchor.setTo(.15,.23),_this.eyes.animations.add("anim",Phaser.Animation.generateFrameNames("jesterEyes instance 1",0,164,"",4),30,!1),_this.group.addChild(_this.eyes),_this.trumpet=new Lvl3JesterTrumpet(game),_this.group.addChild(_this.trumpet.group),_this.wheel1=new Client.SASprite(game,0,0,"level3","jesterWheel instance 10000"),_this.wheel1.anchor.setTo(.5),_this.group.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,0,0,"level3","jesterWheel instance 10000"),_this.wheel2.anchor.setTo(.5),_this.group.addChild(_this.wheel2),_this.setParts("shock"),_this}return __extends(Lvl3Jester,_super),Lvl3Jester.prototype.update=function(){_super.prototype.update.call(this),this.trumpet.update(),!0===this.active&&(this.group.x+=2,this.group.y+=.1,this.wheel1.angle+=5,this.wheel2.angle+=5,900<this.group.x)&&(this.active=!1)},Lvl3Jester.prototype.activate=function(){this.playAnim("shock")},Lvl3Jester.prototype.matchStart=function(){Client.SoundManager.playSFX("sfx_trumpet"),this.trumpet.playAnim("signal_start"),this.eyes.animations.play("anim")},Lvl3Jester.prototype.matchEnd=function(){Client.SoundManager.playSFX("sfx_win"),this.trumpet.playAnim("signal_win"),this.eyes.animations.play("anim")},Lvl3Jester.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"shock"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.trumpet.group,9,{y:4,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.eyes,9,{x:-14,y:-23}),Client.GameManager.instance.level.setSimpleTween(this.hat,11,{x:-16,y:-37}),Client.GameManager.instance.level.setSimpleTween(this.base,9,{y:-19,scY:.74})):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wheel2,3,{x:39,skY:-77.97}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,3,{x:-27,scY:1.01,skX:7.1}),Client.GameManager.instance.level.setSimpleTween(this.trumpet.group,3,{x:-25,y:-5,scY:1.08,skX:17.13}),Client.GameManager.instance.level.setSimpleTween(this.eyes,3,{x:6,y:-35}),Client.GameManager.instance.level.setSimpleTween(this.base,3,{x:-37,y:-38,scY:1.08,skX:17.13})):12===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,4,{x:14,y:-55,skX:21.71,skY:21.71}):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.trumpet.group,19,{x:-19,y:-10,scY:1.3,skX:22.81}),Client.GameManager.instance.level.setSimpleTween(this.eyes,19,{x:12,y:-41}),Client.GameManager.instance.level.setSimpleTween(this.base,19,{x:-26,y:-48,scY:1.3,skX:22.81})):16===this.counterAnim?(this.active=!0,Client.GameManager.instance.level.setSimpleTween(this.hat,16,{x:28,y:-64,skX:32.65,skY:32.65})):54===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wheel2,15,{x:38,skY:-81.98}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,15,{x:-29,scY:1,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.trumpet.group,15,{x:-35,y:-4,scY:1,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.eyes,15,{x:-13,y:-31}),Client.GameManager.instance.level.setSimpleTween(this.base,15,{x:-57,y:-35,scY:1,skX:0})):56===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,17,{x:-14,y:-49,skX:0,skY:0}):73===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,3,{x:-19,y:-50,skX:-9.19,skY:-9.19}):76===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,4,{x:-14,y:-49,skX:0,skY:0}):80===this.counterAnim&&this.animComplete())},Lvl3Jester.prototype.setParts=function(value){"shock"===value&&(this.setPart(this.wheel2,{x:38,y:26,angle:0,scX:1,scY:1,skX:-81.98,skY:-81.98}),this.setPart(this.wheel1,{x:-29,y:28,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.trumpet.group,{x:-35,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.eyes,{x:-13,y:-31,angle:0,scX:1,scY:1,skX:-8.49,skY:171.51}),this.setPart(this.hat,{x:-14,y:-49,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:-57,y:-35,angle:0,scX:1,scY:1,skX:0,skY:0}))},Lvl3Jester.prototype.free=function(){this.group=null,this.wheel2=null,this.wheel1=null,this.trumpet.free(),this.trumpet=null,this.eyes=null,this.hat=null,this.base=null},Lvl3Jester})(Client.BasicSimpleAnim),Lvl3JesterTrumpet=(Client.Lvl3Jester=Lvl3Jester,(_super=>{function Lvl3JesterTrumpet(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.part1=new Client.SASprite(game,0,0,"level3","jesterTrumpet1 instance 10000"),_this.part1.anchor.setTo(.5),_this.group.addChild(_this.part1),_this.part2=new Client.SASprite(game,0,0,"level3","jesterTrumpet2 instance 10000"),_this.part2.anchor.setTo(.5),_this.group.addChild(_this.part2),_this.part3=new Client.SASprite(game,0,0,"level3","jesterTrumpet3 instance 10000"),_this.part3.anchor.setTo(.5),_this.group.addChild(_this.part3),_this.setParts("signal_start"),_this}return __extends(Lvl3JesterTrumpet,_super),Lvl3JesterTrumpet.prototype.update=function(){_super.prototype.update.call(this)},Lvl3JesterTrumpet.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"signal_start"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:16,y:8,scX:1.22,scY:1.11,skY:5.37}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-17,y:-8,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-38,y:-27,scX:1.09,scY:1.11,skY:0})):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):36===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):49===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,8,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,8,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,8,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):57===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):64===this.counterAnim?this.animComplete():63===this.counterAnim&&(this.setPart(this.part1,{x:21,scX:1}),this.setPart(this.part2,{x:-8,y:-1}),this.setPart(this.part3,{x:-27,y:-17,scX:1,skY:0})):"signal_win"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,13,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,13,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,13,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):14===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):18===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):38===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):50===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):54===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):58===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):62===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):66===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):70===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):74===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):78===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):82===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):86===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):90===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):94===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):98===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):104===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):109===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):115===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:24,y:14,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:-1,y:2,scX:.86,scY:.94,skY:-2.53}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-17,y:-12,scX:.86,scY:.94,skY:-2.53})):121===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:19,y:11,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:-12,y:-4,scX:1.09,scY:1.11,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):128===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):135===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:19,y:11,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:-12,y:-4,scX:1.09,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:-33,y:-22,scX:1.09,scY:1.11,skY:0})):142===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:23,y:12,scX:.89,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:-3,y:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:-18,y:-15,scX:.77,scY:1,skY:-10.37})):149===this.counterAnim&&this.animComplete()))},Lvl3JesterTrumpet.prototype.setParts=function(value){("signal_start"===value||"signal_win"===value)&&(this.setPart(this.part1,{x:21,y:12,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.part2,{x:-8,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.part3,{x:-27,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0}))},Lvl3JesterTrumpet.prototype.free=function(){this.group=null,this.part1=null,this.part2=null,this.part3=null},Lvl3JesterTrumpet})(Client.BasicSimpleAnim));Client.Lvl3JesterTrumpet=Lvl3JesterTrumpet})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3King=(_super=>{function Lvl3King(game){var _this=_super.call(this,game)||this;return _this.enX=370,_this.active=!1,_this.body=new Phaser.Physics.Box2D.Body(game,null,410,232,2),_this.body.setRectangle(66,96),_this.body.fixedRotation=!0,_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.group=new Client.SAGroup(game,_this.body.x,_this.body.y),Client.GameManager.instance.layerBackground.addChild(_this.group),_this.exhaustPipe=new Client.SASprite(game,-50,0,"level3","kingExhaustPipe instance 10000"),_this.exhaustPipe.anchor.setTo(.5),_this.group.addChild(_this.exhaustPipe),_this.base=new Client.SASprite(game,0,0,"level3","kingBase instance 10000"),_this.group.addChild(_this.base),_this.wheelBase=new Client.SASprite(game,0,0,"level3","kingWheelBAse instance 10000"),_this.group.addChild(_this.wheelBase),_this.crown=new Client.SASprite(game,0,0,"level3","kingCrown instance 10000"),_this.crown.anchor.setTo(.49,.57),_this.group.addChild(_this.crown),_this.eyes=new Client.SASprite(game,0,0,"level3","kingEyes instance 10000"),_this.eyes.anchor.setTo(.54,.67),_this.eyes.animations.add("idle",Phaser.Animation.generateFrameNames("kingEyes instance 1",0,53,"",4),30,!0),_this.eyes.animations.add("fear_start",Phaser.Animation.generateFrameNames("kingEyes instance 1",54,68,"",4),30,!1),_this.eyes.animations.add("fear_end",Phaser.Animation.generateFrameNames("kingEyes instance 1",69,74,"",4),30,!1),_this.eyes.animations.play("idle"),_this.group.addChild(_this.eyes),_this.mustache=new Client.SASprite(game,0,0,"level3","kingMustache instance 10000"),_this.mustache.pivot.y=-1,_this.group.addChild(_this.mustache),_this.wheel1=Client.GameManager.instance.layerBackground.create(_this.body.x-18,_this.body.y+47,"level3","kingWheel1 instance 10000"),game.physics.box2d.enable(_this.wheel1),_this.wheel1.body.setCircle(10),_this.wheel1.body.setCollisionMask(~Client.FilterGroups.WALL),game.physics.box2d.revoluteJoint(_this.body,_this.wheel1,-18,47),_this.wheel2=Client.GameManager.instance.layerBackground.create(_this.body.x+17,_this.body.y+42,"level3","kingWheel2 instance 10000"),game.physics.box2d.enable(_this.wheel2),_this.wheel2.body.setCircle(14),_this.wheel2.body.setCollisionMask(~Client.FilterGroups.WALL),game.physics.box2d.revoluteJoint(_this.body,_this.wheel2,17,42),_this.body.data.SetActive(!1),_this.wheel1.body.data.SetActive(!1),_this.wheel2.body.data.SetActive(!1),_this.playAnim("idle",-1),_this}return __extends(Lvl3King,_super),Lvl3King.prototype.update=function(){_super.prototype.update.call(this),!0===this.active&&this.body.x<=this.enX&&(this.active=!1,this.body.velocity.x=0,this.wheel1.body.velocity.x=0,this.wheel2.body.velocity.x=0,this.wheel1.body.angularVelocity=0,this.wheel2.body.angularVelocity=0,this.body.kinematic=!0),this.group.x=this.body.x,this.group.y=this.body.y,this.group.rotation=this.body.rotation},Lvl3King.prototype.activate=function(){this.active=!0,this.body.velocity.x=-15,this.body.data.SetActive(!0),this.wheel1.body.data.SetActive(!0),this.wheel2.body.data.SetActive(!0),this.playAnim("fear_start"),this.eyes.animations.play("fear_start")},Lvl3King.prototype.onAnimComplete=function(){"fear_start"===this.currAnim&&this.playAnim("fear_cycle",-1)},Lvl3King.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,15,{x:29,y:-12,skX:-21.22,skY:-21.22}),Client.GameManager.instance.level.setSimpleTween(this.mustache,15,{x:27,y:3,skX:-20.22,skY:-20.22}),Client.GameManager.instance.level.setSimpleTween(this.crown,15,{x:14,y:-41,skX:-12.99,skY:-12.99}),Client.GameManager.instance.level.setSimpleTween(this.wheelBase,15,{y:29,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.base,15,{x:-52,y:-35,scY:.92,skX:5.43}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,15,{y:-12,skX:-19.67,skY:-19.67})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,9,{x:27,y:-21,skX:-14.49,skY:-14.49}),Client.GameManager.instance.level.setSimpleTween(this.mustache,9,{x:28,y:-8,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,9,{x:9,y:-56,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.wheelBase,9,{y:28,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.base,9,{x:-60,y:-50,scY:1.08,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,9,{y:-21,skX:0,skY:0})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,14,{x:21,y:-12}),Client.GameManager.instance.level.setSimpleTween(this.mustache,14,{x:25,y:-6,skX:5.81,skY:5.81}),Client.GameManager.instance.level.setSimpleTween(this.crown,14,{x:8,y:-42,skX:11.77,skY:11.77}),Client.GameManager.instance.level.setSimpleTween(this.base,14,{x:-65,y:-35,scY:.91,skX:-3.35}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,14,{x:-51,y:-16,skX:4.99,skY:4.99})):39===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,9,{x:27,y:-21}),Client.GameManager.instance.level.setSimpleTween(this.mustache,9,{x:28,y:-8,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,9,{x:9,y:-56,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.base,9,{x:-60,y:-50,scY:1.08,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,9,{x:-53,y:-21,skX:0,skY:0})):48===this.counterAnim&&this.animComplete():"fear_start"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:31,y:-33}),Client.GameManager.instance.level.setSimpleTween(this.mustache,5,{x:29,y:-19}),Client.GameManager.instance.level.setSimpleTween(this.crown,5,{x:19,y:-64}),Client.GameManager.instance.level.setSimpleTween(this.base,5,{x:-52,y:-62,scY:1.21,skX:3.86}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,5,{x:-57,y:-26,skX:-12.73,skY:-12.73})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:25,y:-11}),Client.GameManager.instance.level.setSimpleTween(this.mustache,5,{x:22,y:-2}),Client.GameManager.instance.level.setSimpleTween(this.crown,5,{x:12,y:-38}),Client.GameManager.instance.level.setSimpleTween(this.base,5,{x:-60,y:-31,scY:.86,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,5,{x:-46,y:-13,skX:10.74,skY:10.74})):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,3,{x:26}),Client.GameManager.instance.level.setSimpleTween(this.mustache,3,{x:23}),Client.GameManager.instance.level.setSimpleTween(this.crown,3,{x:13,skX:2.7,skY:2.7}),Client.GameManager.instance.level.setSimpleTween(this.base,3,{x:-59}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,3,{x:-45})):14===this.counterAnim&&this.animComplete():"fear_cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,4,{x:22,scX:.99,scY:1.01,skX:-16.87,skY:-14.65}),Client.GameManager.instance.level.setSimpleTween(this.mustache,4,{x:21,y:-3,skX:.39,skY:2.95}),Client.GameManager.instance.level.setSimpleTween(this.crown,4,{x:8,skX:-2.57,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.wheelBase,4,{x:-32,skX:-2.57}),Client.GameManager.instance.level.setSimpleTween(this.base,4,{x:-63,scY:.87,skX:-2.57}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,4,{x:-48,scX:1.01,scY:.99,skX:5.5,skY:7.99})):5===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,4,{x:25,scX:1,scY:1,skX:-14.49,skY:-14.49}),Client.GameManager.instance.level.setSimpleTween(this.mustache,4,{x:22,y:-2,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,4,{x:12,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.wheelBase,4,{x:-31,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.base,4,{x:-60,scY:.86,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,4,{x:-46,scX:1,scY:1,skX:10.74,skY:10.74})):9===this.counterAnim&&this.animComplete():"fear_end"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,10,{x:27,y:-21}),Client.GameManager.instance.level.setSimpleTween(this.mustache,10,{x:28,y:-8}),Client.GameManager.instance.level.setSimpleTween(this.crown,10,{x:9,y:-56}),Client.GameManager.instance.level.setSimpleTween(this.base,10,{y:-50,scY:1.08}),Client.GameManager.instance.level.setSimpleTween(this.exhaustPipe,10,{x:-53,y:-21,skX:0,skY:0})):11===this.counterAnim&&this.animComplete()))},Lvl3King.prototype.setParts=function(value){"idle"===value||"fear_start"===value?(this.setPart(this.eyes,{x:27,y:-21,angle:0,scX:1,scY:1,skX:-14.49,skY:-14.49}),this.setPart(this.mustache,{x:28,y:-8,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.crown,{x:9,y:-56,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.wheelBase,{x:-31,y:28,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:-60,y:-50,angle:0,scX:1,scY:1.08,skX:0,skY:0}),this.setPart(this.exhaustPipe,{x:-53,y:-21,angle:0,scX:1,scY:1,skX:0,skY:0})):"fear_cycle"===value?(this.setPart(this.eyes,{x:26,y:-11,angle:0,scX:1,scY:1,skX:-14.49,skY:-14.49}),this.setPart(this.mustache,{x:23,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.crown,{x:13,y:-38,angle:0,scX:1,scY:1,skX:2.7,skY:2.7}),this.setPart(this.wheelBase,{x:-31,y:28,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:-59,y:-31,angle:0,scX:1,scY:.86,skX:0,skY:0}),this.setPart(this.exhaustPipe,{x:-45,y:-13,angle:0,scX:1,scY:1,skX:10.74,skY:10.74})):"fear_end"===value&&(this.setPart(this.eyes,{x:25,y:-11,angle:0,scX:1,scY:1,skX:-14.49,skY:-14.49}),this.setPart(this.mustache,{x:22,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.crown,{x:12,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.wheelBase,{x:-31,y:28,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:-60,y:-31,angle:0,scX:1,scY:.86,skX:0,skY:0}),this.setPart(this.exhaustPipe,{x:-46,y:-13,angle:0,scX:1,scY:1,skX:10.74,skY:10.74}))},Lvl3King.prototype.free=function(){this.group=null,this.eyes=null,this.mustache=null,this.crown=null,this.wheelBase=null,this.base=null,this.exhaustPipe=null,this.body=null,this.wheel1=null,this.wheel2=null},Lvl3King})(Client.BasicSimpleAnim);Client.Lvl3King=Lvl3King})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Mag=(_super=>{function Lvl3Mag(game){var eyes1,_this=_super.call(this,game)||this;return _this.questCarFounded=!1,_this.game=game,_this.questCarFounded=Client.GameManager.instance.level.questCarFounded,_this.body=new Phaser.Physics.Box2D.Body(game,null,250,275,2),_this.body.setRectangle(80,50),_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.body.kinematic=!0,_this.group=new Client.SAGroup(game,_this.body.x,_this.body.y),Client.GameManager.instance.layerBackground.addChild(_this.group),_this.zzz=_this.group.create(27,-114,"level3"),_this.zzz.animations.add("anim",Phaser.Animation.generateFrameNames("mageZZZ instance 1",0,54,"",4),30,!0),_this.zzz.animations.play("anim"),_this.base=new Client.SASprite(game,0,0,"level3","mageBase instance 10000"),_this.base.pivot.y=8,_this.group.addChild(_this.base),_this.beard=new Client.SASprite(game,0,0,"level3","mageBeard instance 10000"),_this.beard.pivot.set(2,6),_this.group.addChild(_this.beard),_this.eyes=new Client.SASprite(game,0,0,"level3","mageEyes instance 10000"),_this.eyes.anchor.setTo(.5,.67),_this.eyes.animations.add("sleep",Phaser.Animation.generateFrameNames("mageEyes instance 1",0,0,"",4),30,!1),_this.eyes.animations.add("fear",Phaser.Animation.generateFrameNames("mageEyes instance 1",1,43,"",4),30,!1),_this.eyes.animations.add("wakeUp",Phaser.Animation.generateFrameNames("mageEyes instance 1",1,23,"",4),30,!1).onComplete.addOnce(function(){this.eyes.animations.play("blink")},_this),_this.eyes.animations.add("blink",Phaser.Animation.generateFrameNames("mageEyes instance 1",24,43,"",4),30,!0),_this.eyes.animations.play("sleep"),_this.group.addChild(_this.eyes),_this.questCar=new Client.SASprite(game,0,0,"ui","carBody instance 10000"),_this.questCar.anchor.setTo(.5),!1===_this.questCarFounded?(_this.questCar.inputEnabled=!0,_this.questCar.input.useHandCursor=!0,_this.questCar.events.onInputOut.add(function(){!0===this.questCar.inputEnabled&&(this.questCar.frameName="carBody instance 10000")},_this),_this.questCar.events.onInputOver.add(function(){!0===this.questCar.inputEnabled&&(this.questCar.frameName="carBody instance 10001")},_this),_this.questCar.events.onInputUp.addOnce(_this.clickQuestCar,_this),(eyes1=game.make.sprite(-4,-27,"ui","carEye instance 10000")).animations.add("idle",Phaser.Animation.generateFrameNames("carEye instance 1",0,89,"",4),35,!0),eyes1.play("idle"),_this.questCar.addChild(eyes1),_this.group.addChild(_this.questCar)):_this.questCar.visible=!1,_this.hat=new Lvl3MagHat(game,_this.body.x-19,_this.body.y-110),game.physics.box2d.prismaticJoint(_this.body,_this.hat.body,0,-1,-19,0,0,0,0,0,!1,110,230,!0),_this.wheel1=Client.GameManager.instance.layerBackground.create(_this.body.x-21,_this.body.y+23,"level3","mageWheel instance 10000"),game.physics.box2d.enable(_this.wheel1),_this.wheel1.body.setCircle(14),_this.wheel1.body.setCollisionMask(~Client.FilterGroups.WALL),game.physics.box2d.revoluteJoint(_this.body,_this.wheel1,-21,23),_this.wheel2=Client.GameManager.instance.layerBackground.create(_this.body.x+29,_this.body.y+23,"level3","mageWheel instance 10000"),game.physics.box2d.enable(_this.wheel2),_this.wheel2.body.setCircle(14),_this.wheel2.body.setCollisionMask(~Client.FilterGroups.WALL),game.physics.box2d.revoluteJoint(_this.body,_this.wheel2,29,23),_this.scepter=new Lvl3MagScepter(game,_this.body.x+10,_this.body.y),_this.playAnim("idle",-1),_this}return __extends(Lvl3Mag,_super),Lvl3Mag.prototype.clickQuestCar=function(){this.questCarFounded=!0,this.questCar.inputEnabled=!1,this.questCar.visible=!1,Client.GameManager.instance.level.clickQuestCar2(this.group.x+this.questCar.x,this.group.y+this.questCar.y)},Lvl3Mag.prototype.update=function(){_super.prototype.update.call(this),this.scepter.update(),this.hat.update(),this.group.x=this.body.x,this.group.y=this.body.y,this.group.rotation=this.body.rotation},Lvl3Mag.prototype.playAttack=function(){this.scepter.playAttack(),this.playAnim("fear_cycle")},Lvl3Mag.prototype.playFear=function(){this.zzz&&this.zzz.destroy(),this.hat.disable(),this.questCarFounded=!0,this.questCar.inputEnabled=!1,this.questCar.visible=!1,this.playAnim("fear_start"),this.eyes.animations.play("fear")},Lvl3Mag.prototype.wakeUp=function(){Client.SoundManager.playSFX("sfx_spellTransform"),Client.SoundManager.playSFX("sfx_waking"),this.zzz.destroy(),this.zzz=null,this.playAnim("fear_start"),this.eyes.animations.play("wakeUp"),this.scepter.byMace()},Lvl3Mag.prototype.explosion=function(){this.body.dynamic=!0,this.body.data.ApplyLinearImpulse(new box2d.b2Vec2(30,20),this.body.data.GetPosition()),this.body.angularVelocity=-100},Lvl3Mag.prototype.onAnimComplete=function(){"fear_start"===this.currAnim?this.playAnim("fear_cycle"):"fear_cycle"===this.currAnim&&this.playAnim("fear_end")},Lvl3Mag.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,27,{y:10}),Client.GameManager.instance.level.setSimpleTween(this.questCar,27,{x:-22,y:-81}),Client.GameManager.instance.level.setSimpleTween(this.eyes,20,{y:-44}),Client.GameManager.instance.level.setSimpleTween(this.beard,27,{y:-25}),Client.GameManager.instance.level.setSimpleTween(this.base,27,{y:-72,scY:.9})):21===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.eyes,7,{y:-43}):28===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,28,{y:0}),Client.GameManager.instance.level.setSimpleTween(this.questCar,28,{x:-23,y:-90}),Client.GameManager.instance.level.setSimpleTween(this.eyes,28,{y:-49}),Client.GameManager.instance.level.setSimpleTween(this.beard,28,{y:-27}),Client.GameManager.instance.level.setSimpleTween(this.base,28,{y:-83,scY:1})):56===this.counterAnim&&this.animComplete():"fear_start"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,5,{x:-8,y:35}),Client.GameManager.instance.level.setSimpleTween(this.questCar,5,{x:-31,y:-56}),Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:6,y:-29,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.beard,5,{x:20,y:-19}),Client.GameManager.instance.level.setSimpleTween(this.base,5,{x:-80,y:-45,skX:-8,scY:.66})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,3,{x:20,y:-13,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.questCar,3,{x:-6,y:-105,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.eyes,3,{x:22,y:-62,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.beard,3,{x:30,y:-38,scY:1.34}),Client.GameManager.instance.level.setSimpleTween(this.base,3,{x:-55,y:-99,skX:7,scY:1.16})):9===this.counterAnim&&this.animComplete():"fear_cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,14,{x:13,y:-15,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.questCar,14,{x:-10,y:-106,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.eyes,14,{x:18,skX:-10,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.beard,14,{x:27,skX:-2}),Client.GameManager.instance.level.setSimpleTween(this.base,14,{x:-60,skX:5,scY:1.15})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,13,{x:21,y:-14,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.questCar,13,{x:-6,y:-107,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.eyes,13,{x:22,skX:-8,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.beard,13,{x:30,skX:0}),Client.GameManager.instance.level.setSimpleTween(this.base,13,{x:-55,skX:7,scY:1.16})):28===this.counterAnim&&this.animComplete():"fear_end"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat.graphic,12,{x:0,y:0,skX:-20,skY:-20}),Client.GameManager.instance.level.setSimpleTween(this.questCar,12,{x:-23,y:-90,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.eyes,12,{x:13,y:-49}),Client.GameManager.instance.level.setSimpleTween(this.beard,12,{x:24,y:-27,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.base,12,{x:-71,y:-83,skX:0,scY:1})):13===this.counterAnim&&this.animComplete()))},Lvl3Mag.prototype.setParts=function(value){"idle"===value||"fear_start"===value?(this.setPart(this.hat.graphic,{x:0,y:0,angle:0,scX:1,scY:1,skX:-20,skY:-20}),this.setPart(this.questCar,{x:-23,y:-90,angle:0,scX:.89,scY:.89,skX:-15,skY:-15}),this.setPart(this.eyes,{x:13,y:-49,angle:0,scX:1,scY:1,skX:-8,skY:-8}),this.setPart(this.beard,{x:24,y:-27,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:-71,y:-83,angle:0,scX:1,scY:1,skX:0,skY:0})):"fear_cycle"===value?(this.setPart(this.hat.graphic,{x:20,y:-13,angle:0,scX:1,scY:1,skX:-10,skY:-10}),this.setPart(this.questCar,{x:-6,y:-105,angle:0,scX:.89,scY:.89,skX:-19,skY:-19}),this.setPart(this.eyes,{x:22,y:-62,angle:0,scX:1,scY:1,skX:-8,skY:-8}),this.setPart(this.beard,{x:30,y:-38,angle:0,scX:1,scY:1.34,skX:0,skY:0}),this.setPart(this.base,{x:-55,y:-99,angle:0,scX:1,scY:1.16,skX:7,skY:0})):"fear_end"===value&&(this.setPart(this.hat.graphic,{x:21,y:-14,angle:0,scX:1,scY:1,skX:-10,skY:-10}),this.setPart(this.questCar,{x:-6,y:-107,angle:0,scX:.89,scY:.89,skX:-21,skY:-21}),this.setPart(this.eyes,{x:22,y:-62,angle:0,scX:1,scY:1,skX:-8,skY:-8}),this.setPart(this.beard,{x:30,y:-38,angle:0,scX:1,scY:1.34,skX:0,skY:0}),this.setPart(this.base,{x:-55,y:-99,angle:0,scX:1,scY:1.16,skX:7,skY:0}))},Lvl3Mag.prototype.free=function(){this.game=null,this.group=null,this.hat.free(),this.hat=null,this.eyes=null,this.beard=null,this.base=null,this.scepter.free(),this.scepter=null,this.zzz=null,this.questCar=null,this.body=null,this.wheel1=null,this.wheel2=null},Lvl3Mag})(Client.BasicSimpleAnim),Lvl3MagHat=(Client.Lvl3Mag=Lvl3Mag,(_super=>{function Lvl3MagHat(game,x,y){var _this=_super.call(this,game)||this;return _this.stY=y,_this.game=game,_this.body=new Phaser.Physics.Box2D.Body(game,null,x,y,2),_this.body.setRectangle(90,88,-8,-2,Client.Tools.toRad(-19)),_this.body.data.SetUserData("DragBody"),_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.group=new Client.SAGroup(game,_this.body.x,_this.body.y),Client.GameManager.instance.layerBackground.addChild(_this.group),_this.graphic=new Client.SASprite(game,0,0,"level3","mageHat instance 10000"),_this.graphic.anchor.setTo(.57,.64),_this.graphic.inputEnabled=!0,_this.graphic.input.useHandCursor=!0,_this.graphic.events.onInputOut.add(function(){!0===this.graphic.inputEnabled&&(this.graphic.frameName="mageHat instance 10000")},_this),_this.graphic.events.onInputOver.add(function(){!0===this.graphic.inputEnabled&&(this.graphic.frameName="mageHat instance 10001")},_this),_this.graphic.events.onInputDown.add(_this.hatDown,_this),_this.graphic.events.onInputUp.add(_this.hatUp,_this),_this.group.addChild(_this.graphic),_this}return __extends(Lvl3MagHat,_super),Lvl3MagHat.prototype.disable=function(){this.graphic.frameName="mageHat instance 10000",this.graphic.inputEnabled=!1,this.body.data.SetUserData(null)},Lvl3MagHat.prototype.hatDown=function(){this.mtY=this.game.input.worldY},Lvl3MagHat.prototype.hatUp=function(){Math.abs(this.mtY-this.game.input.worldY)<20&&Math.abs(this.stY-this.body.y)<20&&this.body.data.ApplyLinearImpulse(new box2d.b2Vec2(0,22),this.body.data.GetPosition())},Lvl3MagHat.prototype.update=function(){_super.prototype.update.call(this),this.group.x=this.body.x,this.group.y=this.body.y,this.group.rotation=this.body.rotation},Lvl3MagHat.prototype.free=function(){this.game=null,this.group=null,this.graphic=null,this.body=null},Lvl3MagHat})(Client.BasicSimpleAnim)),Lvl3MagScepter=(Client.Lvl3MagHat=Lvl3MagHat,(_super=>{function Lvl3MagScepter(game,x,y){var _this=_super.call(this,game)||this;return _this.updateByBody=!1,_this.movingByMace=0,_this.counterMace=0,_this.game=game,_this.startX=x,_this.startY=y,_this.graphic=new Client.SASprite(game,x,y,"level3","mageScepter instance 10000"),_this.graphic.anchor.setTo(.5),_this.graphic.angle=24,Client.GameManager.instance.layerBackground.addChild(_this.graphic),_this.transform=game.make.sprite(20,-80,"level3"),_this.transform.angle=55,_this.transform.animations.add("anim",Phaser.Animation.generateFrameNames("mageTransform instance 1",0,27,"",4),30,!1).killOnComplete=!0,_this.transform.visible=!1,_this.graphic.addChild(_this.transform),_this.body=new Phaser.Physics.Box2D.Body(game,null,x,y,2),_this.body.setRectangle(8,160),_this.body.angle=24,_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.body.data.SetActive(!1),_this.body.mass=.01,_this.body.friction=2,_this.castAnim=game.make.sprite(x+90,y-90,"level3","magicGood1 instance 10000"),_this.castAnim.animations.add("anim",Phaser.Animation.generateFrameNames("magicGood1 instance 1",0,24,"",4),30,!1).killOnComplete=!0,Client.GameManager.instance.layerBackground.addChild(_this.castAnim),_this.castAnim.visible=!1,_this}return __extends(Lvl3MagScepter,_super),Lvl3MagScepter.prototype.byMace=function(){this.movingByMace=1},Lvl3MagScepter.prototype.playAttack=function(){this.graphic.angle=0,this.playAnim("anim")},Lvl3MagScepter.prototype.update=function(){_super.prototype.update.call(this),this.magicExplosion&&this.magicExplosion.update(),1===this.movingByMace&&(this.counterMace+=1,1===this.counterMace?Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{x:this.startX-20,y:this.startY-3,angle:0,scX:1,scY:1,skX:-17,skY:-17}):8===this.counterMace?(this.transform.visible=!0,this.transform.animations.play("anim")):14===this.counterMace&&(this.movingByMace=2,Client.GameManager.instance.level.customAction(6))),!0===this.updateByBody&&(this.graphic.x=this.body.x,this.graphic.y=this.body.y,this.graphic.rotation=this.body.rotation)},Lvl3MagScepter.prototype.onAnimComplete=function(){this.updateByBody=!0,this.body.x=this.graphic.x,this.body.y=this.graphic.y,this.body.angle=29,this.body.data.SetActive(!0),this.graphic.skX=this.graphic.skY=0},Lvl3MagScepter.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{skX:13,skY:13}):8===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,6,{x:this.startX+48,y:this.startY-35,skX:29,skY:29}):14===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,6,{x:this.startX+66,y:this.startY-34,skX:78,skY:78}):20===this.counterAnim?(this.castAnim.visible=!0,this.castAnim.animations.play("anim"),Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{skX:87,skY:87})):24===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{skX:78,skY:78}):28===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{skX:87,skY:87}):32===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,3,{skX:78,skY:78}):35===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{skX:87,skY:87}):40===this.counterAnim?(this.magicExplosion=new Client.Lvl3MagicExplosion(this.game,470,200),Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{x:this.startX+48,y:this.startY-35,skX:29,skY:29})):47===this.counterAnim&&this.animComplete())},Lvl3MagScepter.prototype.setParts=function(value){"anim"===value&&this.setPart(this.graphic,{x:this.startX-20,y:this.startY-3,angle:0,scX:1,scY:1,skX:-17,skY:-17})},Lvl3MagScepter.prototype.free=function(){this.game=null,this.graphic=null,this.body=null,this.castAnim=null,this.magicExplosion&&this.magicExplosion.free(),this.magicExplosion=null,this.transform=null},Lvl3MagScepter})(Client.BasicSimpleAnim));Client.Lvl3MagScepter=Lvl3MagScepter})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3MagicExplosion=(_super=>{function Lvl3MagicExplosion(game,x,y){var _this=_super.call(this,game)||this;return _this.stX=x,_this.stY=y,_this.magicBad=new Client.SASprite(game,0,0,"level3","magicBad2 instance 10000"),Client.GameManager.instance.layerUpper.addChild(_this.magicBad),_this.magicGood=new Client.SASprite(game,0,0,"level3","magicGood2 instance 10000"),Client.GameManager.instance.layerUpper.addChild(_this.magicGood),_this.playAnim("anim"),_this}return __extends(Lvl3MagicExplosion,_super),Lvl3MagicExplosion.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.SoundManager.playSFX("s_lvl3_magicExplosion"),Client.GameManager.instance.level.setSimpleTween(this.magicGood,7,{x:this.stX-129,y:this.stY-145,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.magicBad,2,{x:this.stX-149,y:this.stY-158,scX:.63,scY:.63})):3===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.magicBad,5,{x:this.stX-241,y:this.stY-262,scX:.99,scY:.99}):8===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.magicGood,6,{x:this.stX-266,y:this.stY-206,scX:1.59,scY:1.59,alpha:.4}),Client.GameManager.instance.level.setSimpleTween(this.magicBad,6,{x:this.stX-352,y:this.stY-388,scX:1.45,scY:1.45,alpha:0})):10===this.counterAnim?Client.GameManager.instance.level.customAction(4):14===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.magicGood,4,{x:this.stX-319,y:this.stY-334,scX:2,scY:2,alpha:0}):18===this.counterAnim&&(this.animComplete(),this.magicBad.visible=!1,this.magicGood.visible=!1))},Lvl3MagicExplosion.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.magicGood,{x:this.stX,y:this.stY,angle:0,scX:.09,scY:.09,skX:0,skY:0,alpha:1}),this.setPart(this.magicBad,{x:this.stX-9,y:this.stY-6,angle:0,scX:.06,scY:.06,skX:0,skY:0,alpha:1}))},Lvl3MagicExplosion.prototype.free=function(){this.magicBad=null,this.magicGood=null},Lvl3MagicExplosion})(Client.BasicSimpleAnim);Client.Lvl3MagicExplosion=Lvl3MagicExplosion})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Mishen=(_super=>{function Lvl3Mishen(game){var _this=_super.call(this)||this;return _this.active=0,_this.counter=0,_this.opened=!1,_this.lever=Client.GameManager.instance.layerBackground.create(311,480,"level3","mishenLever instance 10000"),_this.lever.anchor.x=.5,_this.lever.pivot.y=67,_this.lever.inputEnabled=!0,_this.lever.input.useHandCursor=!0,_this.lever.events.onInputOut.add(function(){!0===this.lever.inputEnabled&&(this.lever.frameName="mishenLever instance 10000")},_this),_this.lever.events.onInputOver.add(function(){!0===this.lever.inputEnabled&&(this.lever.frameName="mishenLever instance 10001")},_this),_this.lever.events.onInputDown.addOnce(_this.leverDown,_this),_this.graphic=Client.GameManager.instance.layerBackground.create(286,500,"level3","mishen instance 10000"),_this.graphic.anchor.x=.5,_this.graphic.pivot.y=83,_this.graphic.angle=-90,_this}return __extends(Lvl3Mishen,_super),Lvl3Mishen.prototype.leverDown=function(){this.lever.inputEnabled=!1,this.lever.frameName="mishenLever instance 10000",this.active=1,this.opened=!0,Client.SoundManager.playSFX("sfx_lever")},Lvl3Mishen.prototype.punch=function(){this.active=2,this.counter=0},Lvl3Mishen.prototype.update=function(){1===this.active?(this.counter+=1,1===this.counter?(Client.GameManager.instance.level.setSimpleTween(this.lever,10,{angle:105}),Client.GameManager.instance.level.setSimpleTween(this.graphic,10,{y:480,angle:23})):11===this.counter?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{angle:-7}):16===this.counter?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{angle:4}):20===this.counter?Client.GameManager.instance.level.setSimpleTween(this.graphic,2,{angle:0}):22===this.counter&&(this.active=0)):2===this.active&&(this.counter+=1,1===this.counter)&&Client.GameManager.instance.level.setSimpleTween(this.graphic,16,{x:350,y:500,angle:90})},Lvl3Mishen.prototype.free=function(){this.lever=null,this.graphic=null},Lvl3Mishen})(Client.BasicElement);Client.Lvl3Mishen=Lvl3Mishen})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Princess=(_super=>{function Lvl3Princess(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.wheel1=new Client.SASprite(game,0,0,"level3","girlweel instance 10000"),_this.wheel1.anchor.setTo(.5,.51),_this.group.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,0,0,"level3","girlweel instance 10000"),_this.wheel2.anchor.setTo(.5,.51),_this.group.addChild(_this.wheel2),_this.base=new Client.SASprite(game,0,0,"level3","girlcorpus instance 10000"),_this.base.pivot.set(1,-1),_this.group.addChild(_this.base),_this.crown=new Client.SASprite(game,0,0,"level3","girlcrown instance 10000"),_this.crown.pivot.set(1,2),_this.group.addChild(_this.crown),_this.eyes=new Client.SASprite(game,0,0,"level3","girlEyes instance 10000"),_this.eyes.pivot.set(10,11),_this.eyes.animations.add("anim1",Phaser.Animation.generateFrameNames("girlEyes instance 1",0,0,"",4),30,!1),_this.eyes.animations.add("anim2",Phaser.Animation.generateFrameNames("girlEyes instance 1",1,1,"",4),30,!1),_this.group.addChild(_this.eyes),_this.playAnim("idle",-1),_this}return __extends(Lvl3Princess,_super),Lvl3Princess.prototype.update=function(){_super.prototype.update.call(this)},Lvl3Princess.prototype.activate=function(){this.playAnim("fear_start"),this.eyes.animations.play("anim2")},Lvl3Princess.prototype.onAnimComplete=function(){"fear_start"===this.currAnim&&this.playAnim("fear_cycle",-1)},Lvl3Princess.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,16,{y:2}),Client.GameManager.instance.level.setSimpleTween(this.crown,16,{y:-19}),Client.GameManager.instance.level.setSimpleTween(this.base,16,{y:1})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,15,{y:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,15,{y:-20}),Client.GameManager.instance.level.setSimpleTween(this.base,15,{y:0})):32===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,9,{x:43,y:-26}),Client.GameManager.instance.level.setSimpleTween(this.base,9,{x:6,y:-6,skX:5,scY:.82})):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.eyes,8,{x:75,y:-3}):41===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,29,{x:70,y:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,29,{x:36,y:-20}),Client.GameManager.instance.level.setSimpleTween(this.base,29,{x:0,y:0,skX:0,scY:.75})):70===this.counterAnim&&this.animComplete():"fear_start"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:66,y:-10,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.crown,5,{x:31,y:-27,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.base,5,{x:-3,y:-4,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,5,{y:40,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,8,{y:43})):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,6,{x:71,y:-1,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.crown,6,{x:40,y:-24,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.base,6,{x:7,y:-7,skX:5,skY:5,scX:.69}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,6,{x:85,y:53,skX:5,skY:5})):9===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.wheel2,3,{y:39,skX:6,skY:6}):12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:70,y:10,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,5,{x:36,y:-10,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.base,5,{x:6,y:10,skX:0,skY:0,scX:.68}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,5,{x:87,y:54,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,5,{x:30,y:53,skX:0,skY:0})):17===this.counterAnim&&this.animComplete():"fear_cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,2,{x:69}),Client.GameManager.instance.level.setSimpleTween(this.crown,2,{x:37}),Client.GameManager.instance.level.setSimpleTween(this.base,2,{x:5})):3===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,2,{x:70}),Client.GameManager.instance.level.setSimpleTween(this.crown,2,{x:36}),Client.GameManager.instance.level.setSimpleTween(this.base,2,{x:6})):5===this.counterAnim&&this.animComplete():"fear_end"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,7,{y:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,7,{y:-20}),Client.GameManager.instance.level.setSimpleTween(this.base,7,{x:0,y:0,scX:.75}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,7,{x:91,y:53}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,7,{x:26})):8===this.counterAnim&&this.animComplete()))},Lvl3Princess.prototype.setParts=function(value){"idle"===value||"fear_start"===value?(this.setPart(this.eyes,{x:70,y:0,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.crown,{x:36,y:-20,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:0,y:0,angle:0,scX:.75,scY:.75,skX:0,skY:0}),this.setPart(this.wheel1,{x:91,y:53,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.wheel2,{x:26,y:53,angle:0,scX:1,scY:1,skX:0,skY:0})):"fear_cycle"!==value&&"fear_end"!==value||(this.setPart(this.eyes,{x:70,y:10,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.crown,{x:36,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.base,{x:6,y:10,angle:0,scX:.68,scY:.75,skX:0,skY:0}),this.setPart(this.wheel1,{x:87,y:54,angle:0,scX:1,scY:1,skX:0,skY:0}),this.setPart(this.wheel2,{x:30,y:53,angle:0,scX:1,scY:1,skX:0,skY:0}))},Lvl3Princess.prototype.free=function(){this.group=null,this.eyes=null,this.crown=null,this.base=null,this.wheel1=null,this.wheel2=null},Lvl3Princess})(Client.BasicSimpleAnim);Client.Lvl3Princess=Lvl3Princess})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Roof=(_super=>{function Lvl3Roof(game){var _this=_super.call(this)||this,ground=(_this.roof2=Client.GameManager.instance.layerBackground.create(531,117,"level3","roof2 instance 10000"),game.physics.box2d.enable(_this.roof2),_this.roof2.body.setRectangle(276,10),_this.roof2.body.angle=5,_this.roof2.body.static=!0,_this.roof2.body.setCollisionCategory(Client.FilterGroups.WALL),_this.roof1=Client.GameManager.instance.layerBackground.create(260,120,"level3","roof1 instance 10000"),game.physics.box2d.enable(_this.roof1),_this.roof1.body.setRectangle(250,10),_this.roof1.body.angle=-6,_this.roof1.body.static=!0,_this.roof1.body.sensor=!0,_this.roof1.body.setCollisionCategory(Client.FilterGroups.WALL),_this.column1=Client.GameManager.instance.layerBackground.create(164,218,"level3","column1 instance 10000"),game.physics.box2d.enable(_this.column1),_this.column1.body.setRectangle(22,196),_this.column1.pivot.x=7,_this.column1.body.setCollisionCategory(Client.FilterGroups.WALL),_this.column2=Client.GameManager.instance.layerBackground.create(305,211,"level3","column2 instance 10000"),game.physics.box2d.enable(_this.column2),_this.column2.body.setRectangle(22,208),_this.column2.body.setCollisionCategory(Client.FilterGroups.WALL),_this.column3=Client.GameManager.instance.layerBackground.create(496,213,"level3","column3 instance 10000"),game.physics.box2d.enable(_this.column3),_this.column3.body.setRectangle(22,208),_this.column3.pivot.x=-4,_this.column3.body.setCollisionCategory(Client.FilterGroups.WALL),_this.column4=Client.GameManager.instance.layerBackground.create(627,218,"level3","column4 instance 10000"),game.physics.box2d.enable(_this.column4),_this.column4.body.setRectangle(28,172),_this.column4.pivot.x=-13,_this.column4.body.kinematic=!0,_this.column4.body.setCollisionCategory(Client.FilterGroups.WALL),new Phaser.Physics.Box2D.Body(game,null,400,320,0));return ground.setRectangle(488,16),game.physics.box2d.revoluteJoint(_this.column1,ground,11,98,-225,-4),game.physics.box2d.revoluteJoint(_this.column2,ground,0,104,-84,-5),game.physics.box2d.revoluteJoint(_this.column3,ground,0,104,107,-3),game.physics.box2d.revoluteJoint(_this.column4,ground,14,98,241,-4),game.physics.box2d.revoluteJoint(_this.column1,_this.roof1,0,-88,-96,0),game.physics.box2d.revoluteJoint(_this.column2,_this.roof1,0,-97,57,0),game.physics.box2d.revoluteJoint(_this.column3,_this.roof2,0,-98,-24,0),_this}return __extends(Lvl3Roof,_super),Lvl3Roof.prototype.crash=function(){this.roof1.body.dynamic=!0,this.roof2.body.dynamic=!0,this.column4.body.dynamic=!0},Lvl3Roof.prototype.free=function(){this.column1=null,this.column2=null,this.column3=null,this.column4=null,this.roof1=null,this.roof2=null},Lvl3Roof})(Client.BasicElement);Client.Lvl3Roof=Lvl3Roof})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3SwordPanel=(_super=>{function Lvl3SwordPanel(game){var _this=_super.call(this)||this;return _this.active=!1,_this.percent=.5,_this.bg=Client.GameManager.instance.layerBackground.create(308,295,"level3","swordPanel instance 10000"),_this.bg.visible=!1,_this.progress=game.make.sprite(53,28,"level3","swordPanelProgress instance 10000"),_this.bg.addChild(_this.progress),_this.progress.scale.x=_this.percent,_this.btn=game.make.button(5,8,"level3",null,null,"swordPanelBtn instance 10001","swordPanelBtn instance 10000","swordPanelBtn instance 10002"),_this.btn.onInputDown.add(_this.btnDown,_this),_this.bg.addChild(_this.btn),_this}return __extends(Lvl3SwordPanel,_super),Lvl3SwordPanel.prototype.btnDown=function(){this.percent+=.1,this.setProgress()},Lvl3SwordPanel.prototype.show=function(){this.bg.visible=!0,this.active=!0},Lvl3SwordPanel.prototype.complete=function(){this.active=!1,this.bg.visible=!1,Client.GameManager.instance.level.customAction(7)},Lvl3SwordPanel.prototype.failed=function(){this.active=!1,this.bg.visible=!1,Client.GameManager.instance.level.customAction(8)},Lvl3SwordPanel.prototype.update=function(){!0===this.active&&(this.percent-=.004,this.setProgress())},Lvl3SwordPanel.prototype.setProgress=function(){1<=this.percent?(this.percent=1,this.complete()):this.percent<=0&&(this.percent=0,this.failed()),this.progress.scale.x=this.percent},Lvl3SwordPanel.prototype.free=function(){this.bg=null,this.btn=null,this.progress=null},Lvl3SwordPanel})(Client.BasicElement);Client.Lvl3SwordPanel=Lvl3SwordPanel})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Warrior=(_super=>{function Lvl3Warrior(game){var _this=_super.call(this,game)||this;return _this.updateWheels=!0,_this.moving=!1,_this.weaponTrowed=!1,_this.game=game,_this.bodyBase=new Phaser.Physics.Box2D.Body(game,null,860,433,2),_this.bodyBase.setRectangle(106,52),_this.bodyBase.setCollisionCategory(Client.FilterGroups.CAR2),_this.group=new Client.SAGroup(game,_this.bodyBase.x,_this.bodyBase.y),Client.GameManager.instance.layerBackground.addChild(_this.group),_this.tube=new Client.SASprite(game,0,0,"level3"),_this.tube.pivot.set(17,14),_this.tube.animations.add("anim",Phaser.Animation.generateFrameNames("warriorTube instance 1",0,14,"",4),30,!0),_this.tube.animations.play("anim"),_this.group.addChild(_this.tube),_this.base=new Client.SASprite(game,0,0,"level3","warriorBody instance 10000"),_this.base.pivot.set(59,28),_this.group.addChild(_this.base),_this.eyes=new Client.SASprite(game,0,0,"level3"),_this.eyes.pivot.set(10,29),_this.eyes.animations.add("stand",Phaser.Animation.generateFrameNames("warriorEyes instance 1",0,0,"",4),30,!1),_this.eyes.animations.add("close",Phaser.Animation.generateFrameNames("warriorEyes instance 1",1,45,"",4),30,!1),_this.eyes.animations.add("hit",Phaser.Animation.generateFrameNames("warriorEyes instance 1",46,69,"",4),30,!1),_this.eyes.animations.play("stand"),_this.group.addChild(_this.eyes),_this.wheel1=new Client.SASprite(game,0,0,"level3","warriorWheel1 instance 10000"),_this.wheel1.anchor.setTo(.5),Client.GameManager.instance.layerBackground.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,0,0,"level3","warriorWheel2 instance 10000"),_this.wheel2.anchor.setTo(.5),Client.GameManager.instance.layerBackground.addChild(_this.wheel2),_this.bodyWheel1=new Phaser.Physics.Box2D.Body(game,null,_this.bodyBase.x-29,_this.bodyBase.y+25,2),_this.bodyWheel1.setCircle(16),_this.bodyWheel1.friction=1,_this.bodyWheel1.setCollisionCategory(Client.FilterGroups.CAR2),game.physics.box2d.revoluteJoint(_this.bodyBase,_this.bodyWheel1,-29,25),_this.bodyWheel2=new Phaser.Physics.Box2D.Body(game,null,_this.bodyBase.x+37,_this.bodyBase.y+25,2),_this.bodyWheel2.setCircle(16),_this.bodyWheel2.friction=1,_this.bodyWheel2.setCollisionCategory(Client.FilterGroups.CAR2),_this.joint=game.physics.box2d.revoluteJoint(_this.bodyBase,_this.bodyWheel2,37,25,0,0,0,5,!1),_this.whiteBlick=new Client.SASprite(game,0,0,"level3","whiteBlick instance 10000"),_this.whiteBlick.pivot.set(55,55),_this.group.addChild(_this.whiteBlick),_this.frogLeg2=new Client.SASprite(game,0,0,"level3","frogLeg2 instance 10000"),_this.frogLeg2.pivot.set(4,7),_this.group.addChild(_this.frogLeg2),_this.frogLeg1=new Client.SASprite(game,0,0,"level3","frogLeg1 instance 10000"),_this.frogLeg1.pivot.set(8,2),_this.group.addChild(_this.frogLeg1),_this.frogBase=new Client.SASprite(game,0,0,"level3"),_this.frogBase.pivot.set(24,21),_this.frogBase.animations.add("anim",Phaser.Animation.generateFrameNames("frogBase instance 1",0,46,"",4),30,!0),_this.frogBase.animations.play("anim"),_this.group.addChild(_this.frogBase),_this.frogEyes=new Client.SASprite(game,0,0,"level3"),_this.frogEyes.pivot.set(13,11),_this.frogEyes.animations.add("anim",Phaser.Animation.generateFrameNames("frogEyes instance 1",0,21,"",4),30,!0),_this.frogEyes.animations.play("anim"),_this.group.addChild(_this.frogEyes),_this.frogLeg3=new Client.SASprite(game,0,0,"level3","frogLeg3 instance 10000"),_this.frogLeg3.pivot.set(5,7),_this.group.addChild(_this.frogLeg3),_this.frogLeg4=new Client.SASprite(game,0,0,"level3","frogLeg4 instance 10000"),_this.frogLeg4.pivot.set(9,2),_this.group.addChild(_this.frogLeg4),_this.frogLeg5=new Client.SASprite(game,0,0,"level3","frogLeg5 instance 10000"),_this.frogLeg5.pivot.set(11,13),_this.group.addChild(_this.frogLeg5),_this.blueBlick=new Client.SASprite(game,0,0,"level3","blueBlick instance 10000"),_this.blueBlick.pivot.set(51,51),_this.group.addChild(_this.blueBlick),_this.light=new Client.SASprite(game,0,0,"level3","warriorLight instance 10000"),_this.light.pivot.set(14,14),_this.group.addChild(_this.light),_this.frogAnim=new Client.SASprite(game,0,0,"level3"),_this.frogAnim.pivot.set(60,100),_this.frogAnim.animations.add("anim",Phaser.Animation.generateFrameNames("frogAnim instance 1",0,13,"",4),30,!1),_this.group.addChild(_this.frogAnim),_this.setParts("anim"),_this}return __extends(Lvl3Warrior,_super),Lvl3Warrior.prototype.transformation=function(){this.updateWheels=!1,this.wheel1.rotation=0,this.wheel2.rotation=0,Client.GameManager.instance.layerBackground.removeChild(this.wheel1),Client.GameManager.instance.layerBackground.removeChild(this.wheel2),this.group.addChildAt(this.wheel1,this.group.getChildIndex(this.eyes)),this.group.addChildAt(this.wheel2,this.group.getChildIndex(this.eyes)),this.playAnim("anim"),this.moveStop(!0)},Lvl3Warrior.prototype.moveStart=function(speed){this.moving=!0,this.speed=speed,this.joint.EnableMotor(!0)},Lvl3Warrior.prototype.moveStop=function(stop){void 0===stop&&(stop=!1),this.moving=!1,this.joint.EnableMotor(!1),!0===stop&&(this.bodyBase.velocity.x=0,this.bodyWheel1.velocity.x=0,this.bodyWheel2.velocity.x=0,this.bodyWheel1.angularVelocity=0,this.bodyWheel2.angularVelocity=0)},Lvl3Warrior.prototype.takeWeapon=function(weapon){this.weapon=weapon,this.eyes.animations.play("close"),Client.GameManager.instance.layerBackground.removeChild(this.weapon.graphic),this.weapon.graphic.x=weapon.graphic.x-this.group.x,this.weapon.graphic.y=weapon.graphic.y-this.group.y,this.group.addChild(this.weapon.graphic),this.weapon.takeWarrior()},Lvl3Warrior.prototype.defeatSwordBattle=function(){this.eyes.animations.play("hit"),this.headStars=this.group.create(-40,-60,"level3"),this.headStars.animations.add("anim",Phaser.Animation.generateFrameNames("stars instance 1",0,16,"",4),30,!0),this.headStars.animations.play("anim")},Lvl3Warrior.prototype.trowWeapon=function(){this.weaponTrowed=!0,this.group.removeChild(this.weapon.graphic),this.weapon.graphic.x=this.bodyBase.x,this.weapon.graphic.y=this.bodyBase.y,this.weapon.graphic.angle=0,this.weapon.graphic.pivot.set(0,0),this.weapon.graphic.anchor.setTo(.5),Client.GameManager.instance.layerElements.addChild(this.weapon.graphic),this.bodyWeapon=new Phaser.Physics.Box2D.Body(this.game,null,this.bodyBase.x+40,this.bodyBase.y,2),"sword"===this.weapon.frameName?(this.bodyWeapon.setRectangle(96,12),this.bodyWeapon.addRectangle(10,32,33)):"mace"===this.weapon.frameName?(this.bodyWeapon.setRectangle(94,10),this.bodyWeapon.addRectangle(10,34,-33)):"spear"===this.weapon.frameName&&(this.bodyWeapon.setRectangle(108,4),this.bodyWeapon.addRectangle(10,20,25)),this.bodyWeapon.setCollisionMask(~Client.FilterGroups.IGNORE_CAR)},Lvl3Warrior.prototype.update=function(){_super.prototype.update.call(this),!0===this.weaponTrowed&&(this.weapon.graphic.x=this.bodyWeapon.x,this.weapon.graphic.y=this.bodyWeapon.y,this.weapon.graphic.rotation=this.bodyWeapon.rotation),!0===this.moving&&this.joint.SetMotorSpeed(this.speed),this.group.x=this.bodyBase.x,this.group.y=this.bodyBase.y,this.group.rotation=this.bodyBase.rotation,!0===this.updateWheels&&(this.wheel1.x=this.bodyWheel1.x,this.wheel1.y=this.bodyWheel1.y,this.wheel1.rotation=this.bodyWheel1.rotation,this.wheel2.x=this.bodyWheel2.x,this.wheel2.y=this.bodyWheel2.y,this.wheel2.rotation=this.bodyWheel2.rotation,this.bodyBase.angle<-40)&&(this.bodyBase.angularVelocity=2)},Lvl3Warrior.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.light,20,{x:-55,y:-58,scX:.95,scY:.95,alpha:1}),this.setPart(this.wheel2,{x:37,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.wheel1,{x:-29,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eyes,{x:-7,y:-31,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.base,{x:1,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tube,{x:34,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):21===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.light,20,{x:-58,y:-60,scX:1,scY:1,alpha:0}):41===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.light,15,{x:-55,y:-57,scX:.95,scY:.94,alpha:1}):56===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.light,20,{x:-58,y:-60,scX:1,scY:1,alpha:0}):76===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.light,20,{x:-60,y:-73,skX:-3,skY:-3,scY:1.08,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,20,{x:42,y:15}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,20,{x:-26,y:20}),Client.GameManager.instance.level.setSimpleTween(this.eyes,20,{x:-6,y:-44,skX:-6,skY:174}),Client.GameManager.instance.level.setSimpleTween(this.base,20,{x:2,y:-12,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.tube,20,{x:32,y:-40,skX:-18,skY:-18})):96===this.counterAnim?(Client.SoundManager.playSFX("sfx_whiteWizard"),Client.GameManager.instance.level.setSimpleTween(this.light,19,{x:-37,y:-91,skX:18,skY:17,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.wheel2,10,{x:40,y:27,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,10,{x:-40,y:18,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.eyes,10,{x:-9,y:-48,skX:3,skY:190,scY:1.07}),Client.GameManager.instance.level.setSimpleTween(this.base,10,{x:0,y:-16,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.tube,10,{x:51,y:-29,skX:1,skY:7,scX:1.26})):106===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wheel2,20,{x:-4,y:-16,skX:61,skY:61,scX:.25,scY:.25}),Client.GameManager.instance.level.setSimpleTween(this.wheel1,20,{x:-9,y:-23,skX:61,skY:61,scX:.25,scY:.25}),Client.GameManager.instance.level.setSimpleTween(this.eyes,20,{x:1,y:-24,skX:48,skY:-125,scX:.25,scY:.26}),Client.GameManager.instance.level.setSimpleTween(this.base,20,{x:-4,y:-22,skX:52,skY:52,scX:.23,scY:.23}),Client.GameManager.instance.level.setSimpleTween(this.tube,20,{x:4,y:-17,skX:46,skY:52,scX:.34,scY:.27})):115===this.counterAnim?(this.setPart(this.light,{x:-37,y:-91,angle:0,scX:1,scY:1.08,skX:18,skY:17,alpha:0}),this.blueBlick.visible=!0,this.setPart(this.blueBlick,{x:-2,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.blueBlick,8,{alpha:1})):116===this.counterAnim?this.light.visible=!1:123===this.counterAnim?(this.frogAnim.visible=!0,this.frogAnim.animations.play("anim"),this.setPart(this.frogAnim,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.blueBlick,6,{x:-3,y:-35,alpha:.4}),this.whiteBlick.visible=!0,this.setPart(this.whiteBlick,{x:-3,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.whiteBlick,3,{alpha:1})):124===this.counterAnim?(this.frogBase.visible=!0,this.setPart(this.frogBase,{x:-5,y:-19,angle:0,scX:.34,scY:.34,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,5,{y:-27,scX:1.06,scY:1.06})):126===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.whiteBlick,6,{x:-2,y:-35,scX:1.73,scY:1.73,alpha:0}),this.setPart(this.wheel2,{x:-4,y:-16,angle:0,scX:.25,scY:.25,skX:61,skY:61,alpha:1}),this.setPart(this.wheel1,{x:-9,y:-23,angle:0,scX:.25,scY:.25,skX:61,skY:61,alpha:1}),this.setPart(this.eyes,{x:1,y:-24,angle:0,scX:.25,scY:.26,skX:48,skY:-125,alpha:1}),this.setPart(this.base,{x:-4,y:-22,angle:0,scX:.23,scY:.23,skX:52,skY:52,alpha:1}),this.setPart(this.tube,{x:4,y:-17,angle:0,scX:.34,scY:.27,skX:46,skY:52,alpha:1})):127===this.counterAnim?(this.wheel2.visible=!1,this.wheel1.visible=!1,this.eyes.visible=!1,this.base.visible=!1,this.tube.visible=!1):129===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.blueBlick,4,{y:-46,alpha:0}),this.frogLeg5.visible=!0,this.setPart(this.frogLeg5,{x:9,y:-24,angle:0,scX:.36,scY:.36,skX:-84,skY:-84,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg5,4,{x:13,y:-35,skX:-112,skY:-112,scX:.68,scY:.68}),this.frogLeg4.visible=!0,this.setPart(this.frogLeg4,{x:4,y:-45,angle:0,scX:.34,scY:.36,skX:124,skY:123,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg4,4,{x:14,y:-82,skX:106,skY:104,scX:1.09,scY:1.11}),this.frogLeg3.visible=!0,this.setPart(this.frogLeg3,{x:1,y:-40,angle:0,scX:.35,scY:.35,skX:-160,skY:-160,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg3,4,{x:6,y:-64,skX:-178,skY:-178,scX:1.1,scY:1.1}),this.frogEyes.visible=!0,this.setPart(this.frogEyes,{x:-19,y:-39,angle:0,scX:.37,scY:.26,skX:17,skY:17,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogEyes,4,{x:-17,y:-53,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,4,{y:-52}),this.frogLeg1.visible=!0,this.setPart(this.frogLeg1,{x:-27,y:-34,angle:0,scX:.68,scY:.68,skX:-136,skY:-136,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg1,4,{x:-36,y:-76,skX:-110,skY:-110,scX:1,scY:1}),this.frogLeg2.visible=!0,this.setPart(this.frogLeg2,{x:-12,y:-34,angle:0,scX:1,scY:1.33,skX:123,skY:123,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg2,4,{x:-28,y:-61,skX:149,skY:149})):132===this.counterAnim?this.setPart(this.whiteBlick,{x:-2,y:-35,angle:0,scX:1.73,scY:1.73,skX:0,skY:0,alpha:0}):133===this.counterAnim?(this.setPart(this.blueBlick,{x:-3,y:-46,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg5,4,{x:12,y:1,skX:-145,skY:-145,scY:.87}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg4,4,{x:11,y:-24}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg3,4,{x:3,y:-7}),Client.GameManager.instance.level.setSimpleTween(this.frogEyes,4,{x:-18,y:13}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,4,{y:14}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg1,4,{x:-28,y:-16,skX:-93,skY:-93}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg2,4,{x:-24,y:1,skX:166,skY:166}),this.whiteBlick.visible=!1):134===this.counterAnim?this.blueBlick.visible=!1:137===this.counterAnim?(this.frogAnim.visible=!1,Client.GameManager.instance.level.setSimpleTween(this.frogLeg5,2,{x:20,y:29,skX:-52,skY:-52}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg4,2,{x:28,y:16,skX:170,skY:172,scY:1.1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg3,2,{x:9,y:15,skX:-112,skY:-112}),Client.GameManager.instance.level.setSimpleTween(this.frogEyes,2,{y:23}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,2,{y:25,scY:.76}),this.setPart(this.frogLeg1,{x:-28,y:-16,angle:0,scX:1,scY:1,skX:-93,skY:-93,alpha:1}),this.setPart(this.frogLeg2,{x:-24,y:1,angle:0,scX:1,scY:1.33,skX:166,skY:166,alpha:1})):138===this.counterAnim?(this.setPart(this.frogLeg1,{x:-44,y:-3,angle:0,scX:1,scY:1,skX:-137,skY:-137,alpha:1}),this.setPart(this.frogLeg2,{x:-31,y:8,angle:0,scX:1,scY:1.33,skX:132,skY:132,alpha:1})):139===this.counterAnim?(this.setPart(this.frogLeg5,{x:20,y:29,angle:0,scX:.68,scY:.87,skX:-52,skY:-52,alpha:1}),this.setPart(this.frogLeg4,{x:28,y:16,angle:0,scX:1.09,scY:1.1,skX:170,skY:172,alpha:1}),this.setPart(this.frogLeg3,{x:9,y:15,angle:0,scX:1.1,scY:1.1,skX:-112,skY:-112,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogEyes,2,{y:13}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,2,{y:15,scY:1.02}),this.setPart(this.frogLeg1,{x:-46,y:9,angle:0,scX:1,scY:1,skX:-171,skY:-171,alpha:1}),this.setPart(this.frogLeg2,{x:-32,y:14,angle:0,scX:1,scY:1.33,skX:116,skY:116,alpha:1})):140===this.counterAnim?(this.setPart(this.frogLeg5,{x:21,y:27,angle:0,scX:.8,scY:.98,skX:-26,skY:-26,alpha:1}),this.setPart(this.frogLeg4,{x:25,y:26,angle:0,scX:1,scY:1.1,skX:-138,skY:-138,alpha:1}),this.setPart(this.frogLeg3,{x:11,y:14,angle:0,scX:1.1,scY:1.1,skX:-89,skY:-89,alpha:1}),this.setPart(this.frogLeg1,{x:-48,y:15,angle:0,scX:1,scY:1,skX:154,skY:154,alpha:1}),this.setPart(this.frogLeg2,{x:-33,y:13,angle:0,scX:1,scY:1.33,skX:99,skY:99,alpha:1})):141===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.frogLeg5,4,{x:11,y:16,skX:2,skY:2,scX:1.04,scY:1.24}),this.setPart(this.frogLeg4,{x:10,y:33,angle:0,scX:.9,scY:1.1,skX:-86,skY:-88,alpha:1}),this.setPart(this.frogLeg3,{x:6,y:20,angle:0,scX:1.1,scY:1.1,skX:-63,skY:-63,alpha:1}),this.setPart(this.frogEyes,{x:-18,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,4,{y:-13,scY:1.11}),this.setPart(this.frogLeg1,{x:-46,y:20,angle:0,scX:1,scY:1,skX:120,skY:120,alpha:1}),this.setPart(this.frogLeg2,{x:-34,y:13,angle:0,scX:1,scY:1.33,skX:82,skY:82,alpha:1})):142===this.counterAnim?(this.setPart(this.frogLeg4,{x:2,y:32,angle:0,scX:.76,scY:1.08,skX:-111,skY:-113,alpha:1}),this.setPart(this.frogLeg3,{x:3,y:16,angle:0,scX:1.1,scY:1.1,skX:-12,skY:-12,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.frogEyes,3,{x:-19,y:-11}),this.setPart(this.frogLeg1,{x:-38,y:23,angle:0,scX:1,scY:1,skX:85,skY:85,alpha:1}),this.setPart(this.frogLeg2,{x:-30,y:14,angle:0,scX:1,scY:1.33,skX:65,skY:65,alpha:1})):143===this.counterAnim?(this.setPart(this.frogLeg4,{x:-7,y:28,angle:0,scX:.5,scY:1.05,skX:-89,skY:-91,alpha:1}),this.setPart(this.frogLeg3,{x:0,y:18,angle:0,scX:1.05,scY:1.05,skX:16,skY:16,alpha:1}),this.setPart(this.frogLeg1,{x:-26,y:26,angle:0,scX:1,scY:1,skX:43,skY:43,alpha:1}),this.setPart(this.frogLeg2,{x:-27,y:16,angle:0,scX:1,scY:1.16,skX:32,skY:32,alpha:1})):144===this.counterAnim?(this.setPart(this.frogLeg4,{x:-10,y:20,angle:0,scX:1,scY:1,skX:-38,skY:-35,alpha:1}),this.setPart(this.frogLeg3,{x:0,y:10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.frogLeg1,{x:-23,y:26,angle:0,scX:1,scY:1,skX:82,skY:82,alpha:1}),this.setPart(this.frogLeg2,{x:-24,y:12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):145===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.frogLeg5,6,{x:13,y:23,skX:1,skY:1,scX:.93,scY:1.11}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg4,6,{x:-11,y:36,skX:-3,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg3,6,{x:2,y:29}),Client.GameManager.instance.level.setSimpleTween(this.frogEyes,6,{x:-18,y:13}),Client.GameManager.instance.level.setSimpleTween(this.frogBase,3,{y:19,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg1,6,{x:-19,y:36,skX:2,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.frogLeg2,6,{x:-25,y:31})):148===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.frogBase,3,{y:15,scY:1.03}):151===this.counterAnim&&(Client.GameManager.instance.level.customAction(9),this.animComplete()))},Lvl3Warrior.prototype.setParts=function(value){"anim"===value&&(this.frogAnim.visible=!1,this.setPart(this.light,{x:-58,y:-60,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0}),this.blueBlick.visible=!1,this.frogLeg5.visible=!1,this.frogLeg4.visible=!1,this.frogLeg3.visible=!1,this.frogEyes.visible=!1,this.frogBase.visible=!1,this.frogLeg1.visible=!1,this.frogLeg2.visible=!1,this.whiteBlick.visible=!1,this.setPart(this.wheel2,{x:37,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.wheel1,{x:-29,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eyes,{x:-7,y:-31,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.base,{x:1,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tube,{x:34,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl3Warrior.prototype.free=function(){this.game=null,this.group=null,this.stars=null,this.tube=null,this.base=null,this.eyes=null,this.wheel1=null,this.wheel2=null,this.light=null,this.blueBlick=null,this.whiteBlick=null,this.frogBase=null,this.frogEyes=null,this.frogLeg1=null,this.frogLeg2=null,this.frogLeg3=null,this.frogLeg4=null,this.frogLeg5=null,this.frogAnim=null,this.headStars=null,this.bodyBase=null,this.bodyWheel1=null,this.bodyWheel2=null,this.weapon=null,this.joint=null,this.bodyWeapon=null},Lvl3Warrior})(Client.BasicSimpleAnim);Client.Lvl3Warrior=Lvl3Warrior})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl3Weapon=(_super=>{function Lvl3Weapon(game,name,x,y,angle,active){var _this=_super.call(this)||this;return _this.activeElement=!1,_this.attackActive=!1,_this.attackCounter=0,_this.onHero=!1,_this.weaponTrowed=!1,_this.game=game,_this.activeElement=active,_this.graphic=Client.GameManager.instance.layerBackground.create(x,y,"level3",name+" instance 10002"),"sword"===name?_this.graphic.anchor.setTo(.08,.47):"mace"===name?_this.graphic.anchor.setTo(.12,.58):"spear"===name&&_this.graphic.anchor.setTo(.09,.5),_this.frameName=name,!0===active?(_this.graphic.events.onInputOut.add(_this.btnOut,_this),_this.graphic.events.onInputOver.add(_this.btnOver,_this),_this.graphic.events.onInputDown.addOnce(_this.btnDown,_this)):_this.graphic.scale.x=-1,_this.graphic.angle=angle*_this.graphic.scale.x,_this}return __extends(Lvl3Weapon,_super),Lvl3Weapon.prototype.btnOut=function(){!0===this.graphic.inputEnabled&&(this.graphic.frameName=this.frameName+" instance 10000")},Lvl3Weapon.prototype.btnOver=function(){!0===this.graphic.inputEnabled&&(this.graphic.frameName=this.frameName+" instance 10001")},Lvl3Weapon.prototype.btnDown=function(){this.onHero=!0,Client.SoundManager.playSFX("btnClick"),Client.GameManager.instance.level.customAction(1),this.take()},Lvl3Weapon.prototype.activate=function(){!1!==this.activeElement&&(this.graphic.inputEnabled=!0,this.graphic.input.useHandCursor=!0,this.btnOut())},Lvl3Weapon.prototype.deactivate=function(){!1!==this.activeElement&&(this.graphic.inputEnabled=!1,this.graphic.frameName=this.frameName+" instance 10002")},Lvl3Weapon.prototype.take=function(){Client.GameManager.instance.layerBackground.removeChild(this.graphic),this.graphic.x=this.graphic.x-Client.GameManager.instance.hero.baseGroup.x,this.graphic.y=this.graphic.y-Client.GameManager.instance.hero.baseGroup.y,Client.GameManager.instance.hero.baseGroup.addChild(this.graphic),"sword"===this.frameName?Client.GameManager.instance.level.setSimpleTween(this.graphic,20,{x:35,y:5,angle:-60}):"mace"===this.frameName?(Client.GameManager.instance.level.setSimpleTween(this.graphic,20,{x:35,y:5,angle:-134}),this.stX=35,this.stY=5):"spear"===this.frameName&&(Client.GameManager.instance.level.setSimpleTween(this.graphic,20,{x:-10,y:5,angle:0}),this.stX=-10,this.stY=5)},Lvl3Weapon.prototype.takeWarrior=function(){"sword"===this.frameName?Client.GameManager.instance.level.setSimpleTween(this.graphic,20,{x:-35,y:0,angle:60}):"mace"===this.frameName?(Client.GameManager.instance.level.setSimpleTween(this.graphic,20,{x:-20,y:0,angle:134}),this.stX=-20,this.stY=0):"spear"===this.frameName&&(Client.GameManager.instance.level.setSimpleTween(this.graphic,20,{x:10,y:5,angle:0}),this.stX=10,this.stY=5)},Lvl3Weapon.prototype.attack=function(){!0!==this.attackActive&&(this.attackActive=!0,this.attackCounter=0)},Lvl3Weapon.prototype.trowWeapon=function(){this.weaponTrowed=!0,Client.GameManager.instance.hero.baseGroup.removeChild(this.graphic),this.graphic.x=Client.GameManager.instance.hero.bodyBase.x,this.graphic.y=Client.GameManager.instance.hero.bodyBase.y,this.graphic.angle=0,this.graphic.pivot.set(0,0),this.graphic.anchor.setTo(.5),Client.GameManager.instance.layerElements.addChild(this.graphic),this.bodyWeapon=new Phaser.Physics.Box2D.Body(this.game,null,Client.GameManager.instance.hero.bodyBase.x-40,Client.GameManager.instance.hero.bodyBase.y,2),"sword"===this.frameName?(this.bodyWeapon.setRectangle(96,12),this.bodyWeapon.addRectangle(10,32,-33)):"mace"===this.frameName?(this.bodyWeapon.setRectangle(94,10),this.bodyWeapon.addRectangle(10,34,33)):"spear"===this.frameName&&(this.bodyWeapon.setRectangle(108,4),this.bodyWeapon.addRectangle(10,20,-25)),this.bodyWeapon.setCollisionMask(~Client.FilterGroups.IGNORE_CAR)},Lvl3Weapon.prototype.update=function(){!0===this.weaponTrowed&&(this.graphic.x=this.bodyWeapon.x,this.graphic.y=this.bodyWeapon.y,this.graphic.rotation=this.bodyWeapon.rotation),!0===this.attackActive&&(this.attackCounter+=1,!0===this.onHero?this.animOnHero():this.animOnWarrior())},Lvl3Weapon.prototype.animOnHero=function(){"sword"===this.frameName?1===this.attackCounter?(Client.SoundManager.playSFX("s_sword1"),Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{angle:-71})):6===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,3,{angle:-37}):9===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{angle:30}):13===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{angle:-60}):20===this.attackCounter&&(this.attackActive=!1):"mace"===this.frameName?(this.attackCounter<8&&Client.GameManager.instance.level.customAction(5),1===this.attackCounter?(Client.SoundManager.playSFX("sfx_mace"),Client.GameManager.instance.level.setSimpleTween(this.graphic,3,{x:this.stX+9,y:this.stY-20,angle:-81})):4===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{x:this.stX+26,y:this.stY-12,angle:7}):9===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,2,{x:this.stX,y:this.stY-13,angle:0}):11===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{x:this.stX-11,y:this.stY-13,angle:0}):15===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,18,{x:this.stX,y:this.stY,angle:-134}):33===this.attackCounter&&(this.attackActive=!1)):"spear"===this.frameName&&(1===this.attackCounter?(Client.SoundManager.playSFX("sfx_lance"),this.graphic.x=this.stX-20):2===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,8,{x:this.stX+37}):10===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,13,{x:this.stX,y:this.stY,angle:-90}):23===this.attackCounter&&(this.attackActive=!1))},Lvl3Weapon.prototype.animOnWarrior=function(){"sword"===this.frameName?1===this.attackCounter?(Client.SoundManager.playSFX("s_sword1"),Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{angle:71})):6===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,3,{angle:37}):9===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{angle:-30}):13===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{angle:60}):20===this.attackCounter&&(this.attackActive=!1):"mace"===this.frameName?1===this.attackCounter?(Client.SoundManager.playSFX("sfx_mace"),Client.GameManager.instance.level.setSimpleTween(this.graphic,3,{x:this.stX-9,y:this.stY-20,angle:81})):4===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{x:this.stX-26,y:this.stY-12,angle:-7}):9===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,2,{x:this.stX,y:this.stY-13,angle:0}):11===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{x:this.stX+11,y:this.stY-13,angle:0}):15===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,18,{x:this.stX,y:this.stY,angle:134}):33===this.attackCounter&&(this.attackActive=!1):"spear"===this.frameName&&(1===this.attackCounter?(Client.SoundManager.playSFX("sfx_lance"),this.graphic.x=this.stX+20):2===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,8,{x:this.stX-37}):10===this.attackCounter?Client.GameManager.instance.level.setSimpleTween(this.graphic,13,{x:this.stX,y:this.stY,angle:90}):23===this.attackCounter&&(this.attackActive=!1))},Lvl3Weapon.prototype.free=function(){this.graphic=null,this.game=null,this.bodyWeapon=null},Lvl3Weapon})(Client.BasicElement);Client.Lvl3Weapon=Lvl3Weapon})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Bridge=(_super=>{function Lvl4Bridge(game,_x,_y){var _this=_super.call(this,game)||this;return _this.kingMove=!1,_this.opened=!1,_this.playerUseBridge=!1,_this.game=game,_this.bridge=new Phaser.Group(game),_this.bridge.x=_x,_this.bridge.y=_y,_this.bridge.pivot.set(20,248),Client.GameManager.instance.layerUpper.addChild(_this.bridge),_this.mask=new Phaser.Graphics(game,130,251),_this.mask.beginFill(0,1),_this.mask.drawRect(0,0,300,270),_this.mask.endFill(),Client.GameManager.instance.layerUpper.addChild(_this.mask),_this.chain=_this.bridge.create(10,15,"level4","chain instance 10000"),_this.chain.angle=-27,_this.chain.anchor.set(0,.5),_this.chain.mask=_this.mask,_this.bridge.create(0,0,"level4","floor instance 10000"),Client.GameManager.instance.layerUpper.create(447,260,"level4","bridgeWheel instance 10000").anchor.set(.5),_this.arm=Client.GameManager.instance.layerUpper.create(350,188,"level4","armBody instance 10000"),_this.arm.anchor.set(.5,1),_this.arm.angle=15,_this.arm.inputEnabled=!1,_this.arm.events.onInputUp.add(_this.useArm,_this),_this.arm.events.onInputOver.add(_this.over,_this),_this.arm.events.onInputOut.add(_this.out,_this),Client.GameManager.instance.layerUpper.create(330,178,"level4","armPart instance 10000"),_this.body=new Phaser.Physics.Box2D.Body(_this.game,null,259,531,0),_this.body.setRectangle(242,20),_this}return __extends(Lvl4Bridge,_super),Lvl4Bridge.prototype.over=function(){this.arm.frameName="armBody instance 10001"},Lvl4Bridge.prototype.out=function(){this.arm.frameName="armBody instance 10002"},Lvl4Bridge.prototype.useArm=function(){(!(this.playerUseBridge=!0)===this.opened?this.game.add.tween(this.arm).to({angle:50},400,"Linear",!0):this.game.add.tween(this.arm).to({angle:15},400,"Linear",!0)).onComplete.add(this.openBridge,this),!0===Client.GameManager.instance.level.topCar.patrool&&Client.GameManager.instance.level.topCar.closeGate()},Lvl4Bridge.prototype.carUseArm=function(){(!1===this.opened?this.game.add.tween(this.arm).to({angle:50},400,"Linear",!0):this.game.add.tween(this.arm).to({angle:15},400,"Linear",!0)).onComplete.add(this.openBridge,this)},Lvl4Bridge.prototype.openBridge=function(){this.arm.inputEnabled=!1,!(this.arm.frameName="armBody instance 10000")===this.opened?this.open():this.close()},Lvl4Bridge.prototype.open=function(){this.game.add.tween(this.bridge).to({angle:-25},1e3,"Linear",!0).onComplete.add(function(){!0!==Client.GameManager.instance.level.topCar.patrool||!1===this.playerUseBridge?this.fastOpen():(Client.SoundManager.stopSFXLoop("s_lvl4_gateUp"),Client.SoundManager.playSFX("s_lvl4_gateDown",!0),this.game.add.tween(this.arm).to({angle:15},400,"Linear",!0),this.game.add.tween(this.bridge).to({angle:0},1e3,"Linear",!0),this.game.add.tween(this.chain).to({angle:-27},1e3,"Linear",!0).onComplete.addOnce(this.activateArm,this))},this),this.game.add.tween(this.chain).to({angle:9},1e3,"Linear",!0)},Lvl4Bridge.prototype.fastOpen=function(){Client.SoundManager.stopSFXLoop("s_lvl4_gateUp"),Client.SoundManager.playSFX("s_lvl4_gateDown",!0),this.opened=!0,this.game.add.tween(this.bridge).to({angle:-91},1700,"Linear",!0),this.game.add.tween(this.chain).to({angle:46},1700,"Linear",!0).onComplete.add(this.chekKing,this)},Lvl4Bridge.prototype.close=function(){Client.SoundManager.stopSFXLoop("s_lvl4_gateDown"),Client.SoundManager.playSFX("s_lvl4_gateUp",!0),this.body.sensor=!0,this.game.add.tween(this.bridge).to({angle:-25},1700,"Linear",!0),this.game.add.tween(this.chain).to({angle:9},1700,"Linear",!0).onComplete.add(function(){this.opened=!1,this.game.add.tween(this.bridge).to({angle:0},1e3,"Linear",!0),this.game.add.tween(this.chain).to({angle:-27},1e3,"Linear",!0).onComplete.addOnce(this.activateArm,this)},this)},Lvl4Bridge.prototype.activateArm=function(){Client.SoundManager.stopSFXLoop("s_lvl4_gateDown"),Client.SoundManager.stopSFXLoop("s_lvl4_gateUp"),!0===this.kingMove&&(!1===this.opened?(this.arm.inputEnabled=!0,this.arm.input.useHandCursor=!0,this.arm.frameName="armBody instance 10002",Client.GameManager.instance.level.topCar.activateKorzina()):Client.GameManager.instance.level.addEye())},Lvl4Bridge.prototype.chekKing=function(){Client.SoundManager.stopSFXLoop("s_lvl4_gateDown"),Client.SoundManager.stopSFXLoop("s_lvl4_gateUp"),(this.body.sensor=!1)===this.kingMove?(this.kingMove=!0,Client.GameManager.instance.level.king.goToCastle(),Client.GameManager.instance.level.mage.goToCastle()):this.activateArm()},Lvl4Bridge.prototype.free=function(){this.game=null,this.bridge=null,this.chain=null,this.mask=null,this.arm=null,this.playerUseBridge=null,this.body=null},Lvl4Bridge})(Client.BasicSimpleAnim);Client.Lvl4Bridge=Lvl4Bridge})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Bubbles=(_super=>{function Lvl4Bubbles(){var _this=_super.call(this)||this;return _this.start=!1,_this.step=0,_this.counter=0,_this.bouble=Client.GameManager.instance.layerBackground.create(0,0,"level4","kingBubble instance 10000"),_this.bouble.anchor.set(0,1),_this.icon=Client.Main.instance.make.sprite(55,-55,"level4","bubbleIcon instance 10000"),_this.icon.anchor.set(.5),_this.bouble.addChild(_this.icon),_this.bouble.visible=!1,_this}return __extends(Lvl4Bubbles,_super),Lvl4Bubbles.prototype.showBubbles=function(_x,_y,_scaleX,_id){this.bouble.visible=!0,this.icon.frameName="bubbleIcon instance 1000"+_id,this.bouble.x=_x,this.bouble.y=_y,this.bouble.scale.set(0),Client.Main.instance.add.tween(this.bouble.scale).to({x:+_scaleX,y:1},350,"Linear",!0)},Lvl4Bubbles.prototype.update=function(){!0===this.start&&(this.counter+=1,0===this.step?(this.showBubbles(1260,390,1,0),this.step=1):1===this.step&&90===this.counter?(Client.GameManager.instance.level.king.group.scale.x*=-1,Client.GameManager.instance.level.king.group.x-=Client.GameManager.instance.level.king.group.width,this.showBubbles(1050,430,1,1),this.step=2,this.counter=0,Client.SoundManager.playSFX("s_dialog")):2===this.step&&90===this.counter?(this.bouble.visible=!1,this.step=3,this.counter=0,Client.GameManager.instance.level.addMap()):3===this.step&&260===this.counter?(this.showBubbles(1190,410,-1,2),this.step=4,this.counter=0):4===this.step&&120===this.counter&&(this.start=!1,Client.SoundManager.playSFX("levelWin"),Client.LevelBuilder.instance.levelComplete()))},Lvl4Bubbles.prototype.free=function(){this.bouble=null,this.icon=null},Lvl4Bubbles})(Client.BasicElement);Client.Lvl4Bubbles=Lvl4Bubbles})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Card=(_super=>{function Lvl4Card(game,_x,_y,_scale,_id){var _this=_super.call(this,game)||this;return _this.timer=0,_this.canPlay=!0,_this.group=game.make.group(),_this.group.x=_x,_this.group.y=_y,_this.group.scale.x=_scale,Client.GameManager.instance.layerBackground.addChildAt(_this.group,1),_this.card=new Client.SASprite(game,0,0,"level4","card instance 1000"+Client.Main.instance.rnd.integerInRange(1,8)),_this.card.pivot.set(9,12),_this.group.addChild(_this.card),0===_id&&(_this.timer=60),_this}return __extends(Lvl4Card,_super),Lvl4Card.prototype.setUpdate=function(_value){this.canPlay=_value},Lvl4Card.prototype.update=function(){_super.prototype.update.call(this),this.timer+=1,120<=this.timer&&!(this.timer=0)===this.canPlay&&this.playAnim("anim")},Lvl4Card.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.card,10,{x:-36,y:-24,skX:-126,skY:-126}):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.card,10,{x:-46,y:6,skX:-93,skY:-93}):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.card,5,{x:-48,y:11,scX:.15}),!1===Client.GameManager.instance.level.cameraMooved&&Client.SoundManager.playSFX("s_lvl4_playingCards")):26===this.counterAnim&&(this.animComplete(),this.card.frameName="card instance 1000"+Client.Main.instance.rnd.integerInRange(1,8)))},Lvl4Card.prototype.setParts=function(value){"anim"===value&&this.setPart(this.card,{x:-5,y:4,angle:0,scX:1,scY:1,skX:-44,skY:-44,alpha:1})},Lvl4Card.prototype.free=function(){this.group=null,this.card=null},Lvl4Card})(Client.BasicSimpleAnim);Client.Lvl4Card=Lvl4Card})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Eye=(_super=>{function Lvl4Eye(_x,_y){var _this=_super.call(this)||this,_x=(_this.speed=.003,_this.direction=0,_this.canUpdate=!0,_this.opened=!1,_this.back=Client.GameManager.instance.layerBackground.create(_x,_y,"level4","eyeBg instance 10000"),_this.progress=Client.Main.instance.make.sprite(0,-1,"level4","redProgress instance 10000"),_this.progress.scale.x=0,_this.back.addChild(_this.progress),Client.Main.instance.make.sprite(-2,-2,"level4","border instance 10000"));return _this.back.addChild(_x),_this.eye=Client.Main.instance.make.sprite(-65,-12,"level4","eye instance 10000"),_this.eye.animations.add("open",Phaser.Animation.generateFrameNames("eye instance 1",0,4,"",4),30,!1),_this.eye.animations.add("close",Phaser.Animation.generateFrameNames("eye instance 1",4,0,"",4),30,!1),_this.back.addChild(_this.eye),_this}return __extends(Lvl4Eye,_super),Lvl4Eye.prototype.update=function(){!0===this.canUpdate&&(!0===Client.GameManager.instance.hero.getEnableMotor()?(this.direction=1,!0===Client.GameManager.instance.level.heroHided?this.speed=.003:this.speed=.005,!1===this.opened&&(this.opened=!0,this.eye.play("open"))):(this.direction=-1,!0===Client.GameManager.instance.level.heroHided?this.speed=.003:this.speed=0,!0===this.opened&&(this.opened=!1,this.eye.play("close"))),this.progress.scale.x+=this.speed*this.direction,1<this.progress.scale.x?(this.progress.scale.x=1,this.canUpdate=!1,Client.GameManager.instance.level.warden1.card.setUpdate(!1),Client.GameManager.instance.level.warden2.card.setUpdate(!1),Client.GameManager.instance.level.warden1.playAnim("hide"),Client.GameManager.instance.level.warden2.playAnim("hide"),570<Client.GameManager.instance.hero.bodyBase.x?Client.GameManager.instance.level.warden1.attackHero(-1):Client.GameManager.instance.level.warden2.attackHero(1)):this.progress.scale.x<0&&(this.progress.scale.x=0),725<Client.GameManager.instance.hero.bodyBase.x)&&(this.canUpdate=!1,this.back.visible=!1)},Lvl4Eye.prototype.free=function(){this.back=null,this.eye=null,this.progress=null},Lvl4Eye})(Client.BasicElement);Client.Lvl4Eye=Lvl4Eye})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4King=(_super=>{function Lvl4King(game){var _this=_super.call(this,game)||this;return _this.dir=0,_this.group=game.make.group(),_this.group.x=-160,_this.group.y=393,Client.GameManager.instance.layerElements.addChildAt(_this.group,0),_this.kingBody=new Client.SASprite(game,0,0,"level4","kingBody instance 10000"),_this.kingBody.pivot.set(59,46),_this.group.addChild(_this.kingBody),_this.eye=new Client.SASprite(game,0,0,"level4","kingEye instance 10000"),_this.eye.pivot.set(17,30),_this.eye.animations.add("idle",Phaser.Animation.generateFrameNames("kingEye instance 1",0,50,"",4),30,!0),_this.eye.play("idle"),_this.group.addChild(_this.eye),_this.hat=new Client.SASprite(game,0,0,"level4","kingHat instance 10000"),_this.hat.pivot.set(16,20),_this.group.addChild(_this.hat),_this.wheel1=new Client.SASprite(game,42,118,"level4","kingWheel2_mc instance 10000"),_this.wheel1.anchor.set(.5),_this.group.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,78,115,"level4","kingWheel1_mc instance 10000"),_this.wheel2.anchor.set(.5),_this.group.addChild(_this.wheel2),_this.playAnim("idle2",-1),_this}return __extends(Lvl4King,_super),Lvl4King.prototype.goToCastle=function(){this.dir=1,Client.Main.instance.add.tween(this.group).to({x:1e3},8e3,"Linear",!0).onComplete.add(function(){this.dir=0,this.group.x=1180,this.group.y=370,this.playAnim("cycle",-1)},this)},Lvl4King.prototype.update=function(){_super.prototype.update.call(this),this.wheel1.angle+=2*this.dir,this.wheel2.angle+=2*this.dir},Lvl4King.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,15,{x:93,y:51}),Client.GameManager.instance.level.setSimpleTween(this.hat,15,{x:76,y:18,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,15,{x:61,y:70,skX:4,scY:1})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,16,{x:94,y:58}),Client.GameManager.instance.level.setSimpleTween(this.hat,16,{x:78,y:24}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,16,{y:75,scY:.91})):32===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,13,{x:89,y:56}),Client.GameManager.instance.level.setSimpleTween(this.hat,13,{x:72,y:20,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,13,{x:58,y:73,skX:0,scY:.95})):45===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,15,{x:85,y:51}),Client.GameManager.instance.level.setSimpleTween(this.hat,15,{x:69,y:18,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,15,{x:54,y:70,skX:-4,scY:1})):60===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,14,{y:56}),Client.GameManager.instance.level.setSimpleTween(this.hat,14,{y:25}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,14,{x:55,y:74,scY:.92})):74===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,15,{x:89}),Client.GameManager.instance.level.setSimpleTween(this.hat,15,{x:72,y:20,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,15,{x:58,y:73,skX:0,scY:.95})):89===this.counterAnim?(this.setPart(this.eye,{x:89,y:56,angle:0,scX:1,scY:1,skX:-14,skY:-14,alpha:1}),this.setPart(this.hat,{x:72,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kingBody,{x:58,y:73,angle:0,scX:1,scY:.95,skX:0,skY:0,alpha:1})):90===this.counterAnim&&this.animComplete():"idle2"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,12,{y:57}),Client.GameManager.instance.level.setSimpleTween(this.hat,20,{y:22}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,12,{y:76})):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye,14,{y:53}),Client.GameManager.instance.level.setSimpleTween(this.kingBody,14,{y:70})):21===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,6,{y:18}):27===this.counterAnim&&this.animComplete()))},Lvl4King.prototype.setParts=function(value){"cycle"===value?(this.setPart(this.eye,{x:89,y:56,angle:0,scX:1,scY:1,skX:-14,skY:-14,alpha:1}),this.setPart(this.hat,{x:72,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kingBody,{x:58,y:73,angle:0,scX:1,scY:.95,skX:0,skY:0,alpha:1})):"idle2"===value&&(this.setPart(this.eye,{x:88,y:53,angle:0,scX:1,scY:1,skX:-14,skY:-14,alpha:1}),this.setPart(this.hat,{x:71,y:18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kingBody,{x:58,y:70,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl4King.prototype.free=function(){this.group=null,this.eye=null,this.kingBody=null,this.hat=null,this.wheel1=null,this.wheel2=null},Lvl4King})(Client.BasicSimpleAnim);Client.Lvl4King=Lvl4King})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Mage=(_super=>{function Lvl4Mage(game){var _this=_super.call(this,game)||this;return _this.dir=0,_this.group=game.make.group(),_this.group.x=-160,_this.group.y=484,Client.GameManager.instance.layerElements.addChildAt(_this.group,0),_this.mage_body=new Client.SASprite(game,0,0,"level4","mage_body instance 10000"),_this.mage_body.pivot.set(1,1),_this.group.addChild(_this.mage_body),_this.mage_eye=new Client.SASprite(game,0,0,"level4","mageEye instance 10000"),_this.mage_eye.pivot.set(16,32),_this.mage_eye.animations.add("idle",Phaser.Animation.generateFrameNames("mageEye instance 1",0,33,"",4),30,!0),_this.mage_eye.play("idle"),_this.group.addChild(_this.mage_eye),_this.mage_beard=new Client.SASprite(game,0,0,"level4","mage_beard instance 10000"),_this.mage_beard.pivot.set(1,1),_this.group.addChild(_this.mage_beard),_this.mage_hat=new Client.SASprite(game,0,0,"level4","magehat instance 10000"),_this.mage_hat.pivot.set(34,38),_this.group.addChild(_this.mage_hat),_this.wheel1=new Client.SASprite(game,-24,23,"level4","mageWheel_mc instance 10000"),_this.wheel1.anchor.set(.5),_this.group.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,25,23,"level4","mageWheel_mc instance 10000"),_this.wheel2.anchor.set(.5),_this.group.addChild(_this.wheel2),_this.playAnim("idle",-1),_this}return __extends(Lvl4Mage,_super),Lvl4Mage.prototype.goToCastle=function(){this.dir=1,Client.Main.instance.add.tween(this.group).to({x:1e3},8e3,"Linear",!0,700).onComplete.add(function(){this.dir=0,this.group.x=1450,this.group.y=470,this.group.scale.x*=-1},this)},Lvl4Mage.prototype.update=function(){_super.prototype.update.call(this),this.wheel1.angle+=2*this.dir,this.wheel2.angle+=2*this.dir},Lvl4Mage.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.mage_eye,19,{y:-48}),Client.GameManager.instance.level.setSimpleTween(this.mage_beard,19,{y:-29}),Client.GameManager.instance.level.setSimpleTween(this.mage_hat,27,{y:-95}),Client.GameManager.instance.level.setSimpleTween(this.mage_body,19,{y:-78,scY:.92})):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.mage_eye,20,{y:-52}),Client.GameManager.instance.level.setSimpleTween(this.mage_beard,20,{y:-32}),Client.GameManager.instance.level.setSimpleTween(this.mage_body,20,{y:-86,scY:1})):28===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.mage_hat,12,{y:-101}):40===this.counterAnim&&this.animComplete())},Lvl4Mage.prototype.setParts=function(value){"idle"===value&&(this.setPart(this.mage_eye,{x:11,y:-52,angle:0,scX:1,scY:1,skX:-8,skY:-8,alpha:1}),this.setPart(this.mage_beard,{x:20,y:-32,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.mage_hat,{x:-22,y:-101,angle:0,scX:1.24,scY:1.24,skX:0,skY:0,alpha:1}),this.setPart(this.mage_body,{x:-73,y:-86,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl4Mage.prototype.free=function(){this.group=null,this.mage_body=null,this.mage_body=null,this.mage_beard=null,this.mage_hat=null,this.wheel1=null,this.wheel2=null},Lvl4Mage})(Client.BasicSimpleAnim);Client.Lvl4Mage=Lvl4Mage})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Map=(_super=>{function Lvl4Map(game,_x,_y){var _this=_super.call(this)||this;return _this.roadParts=new Array,_this.parts=new Array,_this.counter=0,_this.current=0,_this.start=!1,_this.roadParts=[[1.3,148.9,0],[43.05,123.95,14],[91.45,109.15,29],[138.45,108.35,36],[187.05,120.15,53],[133.65,96.05,-16],[230.75,137.65,59],[178.65,68.55,29],[268.8,149.75,29],[225.3,82.4,59],[264.8,92.4,44],[295.75,89.45,0],[331.5,49.65,99],[299.4,13.8,74],[254.55,-10.15,53],[194.95,-6.4,14],[157.95,18.05,-9],[126,39.35,6],[90.95,45.75,29]],_this.map=new Phaser.Group(game),_this.map.x=_x,_this.map.y=_y,_this.map.pivot.set(437,245),Client.GameManager.instance.layerUpper.addChild(_this.map),_this.map.create(0,0,"level4","mapBg instance 10000"),_this.map.scale.set(.2),_this.map.alpha=.3,Client.Main.instance.add.tween(_this.map.scale).to({x:1,y:1},700,"Linear",!0),Client.Main.instance.add.tween(_this.map).to({alpha:1},700,"Linear",!0).onComplete.add(_this.addElements,_this),Client.Main.instance.add.tween(_this.map).to({alpha:0},300,"Linear",!0,3500),_this}return __extends(Lvl4Map,_super),Lvl4Map.prototype.addElements=function(){this.road=new Phaser.Group(Client.Main.instance),this.road.x=50,this.road.y=30,this.map.addChild(this.road),this.buildRoad(),this.mapDrake=this.map.create(8,16,"level4","mapDrake instance 10000"),this.help=this.map.create(75,55,"level4","MapHelp instance 10000"),this.help.anchor.set(0,1),this.help.angle=-10,Client.Main.instance.add.tween(this.help).to({angle:10},250,"Linear",!0,0,-1,!0),this.mapMage=this.map.create(348,150,"level4","mapMage instance 10000"),this.mapMage.visible=!1,this.start=!0},Lvl4Map.prototype.buildRoad=function(){for(var i=0;i<this.roadParts.length;i++){var roadPart=this.road.create(0,0,"level4","road_part instance 10000");roadPart.x=this.roadParts[i][0],roadPart.y=this.roadParts[i][1],roadPart.angle=this.roadParts[i][2],roadPart.visible=!1,this.parts.push(roadPart)}},Lvl4Map.prototype.update=function(){!0===this.start&&this.current<this.parts.length&&(this.counter+=1,5===this.counter)&&(this.parts[this.current].visible=!0,this.counter=0,this.current+=1,8===this.current)&&(this.mapMage.visible=!0)},Lvl4Map.prototype.free=function(){this.map=null,this.road=null,this.roadParts=[],this.roadParts=null,this.parts=[],this.parts=null,this.mapDrake=null,this.mapMage=null,this.help=null},Lvl4Map})(Client.BasicElement);Client.Lvl4Map=Lvl4Map})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Stone=(_super=>{function Lvl4Stone(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=100,_this.group.y=291,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.stone=new Client.SASprite(game,0,0,"level4","stoneBody instance 10000"),_this.stone.anchor.set(.5),_this.group.addChild(_this.stone),_this.stone.inputEnabled=!0,_this.stone.input.useHandCursor=!0,_this.stone.events.onInputUp.add(_this.use,_this),_this.setParts("anim"),_this}return __extends(Lvl4Stone,_super),Lvl4Stone.prototype.use=function(){this.stone.inputEnabled=!1,this.playAnim("anim"),this.counterAnim=-15,Client.SoundManager.playSFX("s_lvl4_secretStoneClick")},Lvl4Stone.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.stone,10,{x:20,skX:48,skY:48}):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.stone,9,{x:43,y:5,skX:84,skY:84}):20===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.stone,15,{x:74,y:45,skX:128,skY:128}):35===this.counterAnim&&(this.animComplete(),Client.GameManager.instance.level.waterfall2.hide()))},Lvl4Stone.prototype.setParts=function(value){"anim"===value&&this.setPart(this.stone,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})},Lvl4Stone.prototype.free=function(){this.group=null,this.stone=null},Lvl4Stone})(Client.BasicSimpleAnim);Client.Lvl4Stone=Lvl4Stone})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4TopCar=(_super=>{function Lvl4TopCar(game){var _this=_super.call(this,game)||this;return _this.dir=0,_this.waitKing=!0,_this.patrool=!0,_this.countUse=0,_this.group=game.make.group(),_this.group.x=577,_this.group.y=217,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.truba=new Client.SASprite(game,0,0,"level4","truba instance 10000"),_this.truba.pivot.set(10,23),_this.group.addChild(_this.truba),_this.weapon=new Client.SASprite(game,0,0,"level4","weapon instance 10000"),_this.weapon.pivot.set(18,59),_this.group.addChild(_this.weapon),_this.body=new Client.SASprite(game,0,0,"level4","body instance 10000"),_this.body.pivot.set(61,31),_this.group.addChild(_this.body),_this.eyes=new Client.SASprite(game,0,0,"level4","eyes instance 10000"),_this.eyes.pivot.set(6,5),_this.eyes.animations.add("idle",Phaser.Animation.generateFrameNames("eyes instance 1",0,43,"",4),30,!0),_this.eyes.play("idle"),_this.group.addChild(_this.eyes),_this.kaska=new Client.SASprite(game,0,0,"level4","kaska instance 10000"),_this.kaska.pivot.set(28,25),_this.kaska.animations.add("anim",Phaser.Animation.generateFrameNames("kaska instance 1",0,61,"",4),30,!0),_this.kaska.play("anim"),_this.group.addChild(_this.kaska),_this.korzina=new Client.SASprite(game,0,0,"level4","korzina instance 10000"),_this.korzina.pivot.set(38,26),_this.korzina.visible=!1,_this.group.addChild(_this.korzina),_this.shield=new Client.SASprite(game,0,0,"level4","shield instance 10000"),_this.shield.pivot.set(15,16),_this.group.addChild(_this.shield),_this.wheel1=new Client.SASprite(game,-29,26,"level4","warden_wheel1 instance 10000"),_this.wheel1.anchor.set(.5),_this.group.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,38,26,"level4","warden_wheel2 instance 10000"),_this.wheel2.anchor.set(.5),_this.group.addChild(_this.wheel2),_this.setParts("surprise"),_this.mask=new Phaser.Graphics(game,509,115),_this.mask.beginFill(0,1),_this.mask.drawRect(0,0,146,159),_this.mask.endFill(),Client.GameManager.instance.layerBackground.addChild(_this.mask),_this.lift=Client.GameManager.instance.layerBackground.create(510,90,"level4","lift instance 10000",!0,1),_this.lift.mask=_this.mask,_this.topCorzina=Client.GameManager.instance.layerBackground.create(436,86,"level4","korzina instance 10000",!0,1),_this.topCorzina.anchor.set(.5),_this.topCorzina.inputEnabled=!1,_this.topCorzina.events.onInputUp.add(_this.up,_this),_this.topCorzina.events.onInputOver.add(_this.over,_this),_this.topCorzina.events.onInputOut.add(_this.out,_this),_this.startLevel(),_this}return __extends(Lvl4TopCar,_super),Lvl4TopCar.prototype.over=function(){this.topCorzina.frameName="korzina instance 10002"},Lvl4TopCar.prototype.out=function(){this.topCorzina.frameName="korzina instance 10001"},Lvl4TopCar.prototype.up=function(){Client.SoundManager.playSFX("s_lvl4_bucketFall"),this.patrool=!1,this.topCorzina.inputEnabled=!1,this.topCorzina.frameName="korzina instance 10000",Client.Main.instance.add.tween(this.topCorzina).to({y:this.topCorzina.y+50,x:this.topCorzina.x-19,angle:154},500,"Linear",!0).onComplete.add(function(){this.topCorzina.visible=!1,this.korzina.visible=!0,this.playAnim("surprise")},this)},Lvl4TopCar.prototype.activateKorzina=function(){this.topCorzina.frameName="korzina instance 10001",this.topCorzina.inputEnabled=!0,this.topCorzina.input.useHandCursor=!0},Lvl4TopCar.prototype.startLevel=function(){Client.SoundManager.playSFX("s_lvl4_elevatorNoise",!0),Client.Main.instance.add.tween(this.group).to({y:this.group.y-52},1200,"Linear",!0),Client.Main.instance.add.tween(this.lift).to({y:this.lift.y-52},1200,"Linear",!0).onComplete.addOnce(function(){Client.SoundManager.stopSFXLoop("s_lvl4_elevatorNoise"),this.dir=-1,Client.Main.instance.add.tween(this.group).to({x:this.group.x-155},2e3,"Linear",!0).onComplete.add(function(){this.dir=1,Client.GameManager.instance.level.bridge.carUseArm(),Client.Main.instance.add.tween(this.group).to({x:this.group.x+40},1200,"Linear",!0).onComplete.add(this.stopCar,this)},this)},this)},Lvl4TopCar.prototype.closeGate=function(){this.dir=-1,Client.Main.instance.add.tween(this.group).to({x:this.group.x-40},1200,"Linear",!0).onComplete.add(function(){this.dir=1,0===this.countUse&&Client.GameManager.instance.level.bridge.carUseArm(),this.countUse++,Client.Main.instance.add.tween(this.group).to({x:this.group.x+40},1200,"Linear",!0).onComplete.add(this.stopCar,this)},this)},Lvl4TopCar.prototype.stopCar=function(){this.dir=0},Lvl4TopCar.prototype.update=function(){_super.prototype.update.call(this),this.wheel1.angle+=2*this.dir,this.wheel2.angle+=2*this.dir,!0===this.waitKing&&450<Client.GameManager.instance.level.king.group.x&&(this.closeGate(),Client.GameManager.instance.hero.setEnableMotor(!0,!1),this.waitKing=!1)},Lvl4TopCar.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"surprise"===this.currAnim?10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,12,{x:5,y:4,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.korzina,12,{x:-36,y:-33,skX:149,skY:149}),Client.GameManager.instance.level.setSimpleTween(this.kaska,12,{y:-22}),Client.GameManager.instance.level.setSimpleTween(this.eyes,12,{y:-34}),Client.GameManager.instance.level.setSimpleTween(this.body,12,{y:-7}),Client.GameManager.instance.level.setSimpleTween(this.weapon,12,{x:-36,y:-31,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.truba,12,{x:45,y:-21,skX:7,skY:7})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,7,{x:16,y:7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.korzina,7,{x:-33,y:-28,skX:152,skY:152}),Client.GameManager.instance.level.setSimpleTween(this.kaska,7,{y:-17}),Client.GameManager.instance.level.setSimpleTween(this.eyes,7,{y:-29}),Client.GameManager.instance.level.setSimpleTween(this.body,7,{y:-4}),Client.GameManager.instance.level.setSimpleTween(this.weapon,7,{x:-26,y:-34,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.truba,7,{x:42,y:-18,skX:0,skY:0})):29===this.counterAnim?(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.korzina,{x:-33,y:-28,angle:0,scX:1,scY:1,skX:152,skY:152,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eyes,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-26,y:-34,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):35===this.counterAnim&&(this.animComplete(),this.playAnim("noVision",-1)):"noVision"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,38,{x:14,y:-4,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.korzina,12,{x:-35,y:-32}),Client.GameManager.instance.level.setSimpleTween(this.kaska,38,{y:-20}),Client.GameManager.instance.level.setSimpleTween(this.eyes,38,{y:-32}),Client.GameManager.instance.level.setSimpleTween(this.body,38,{y:-7}),Client.GameManager.instance.level.setSimpleTween(this.weapon,12,{x:-21,y:-35,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.truba,38,{x:45,y:-22,skX:11,skY:11})):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.korzina,8,{x:-33,y:-29}),Client.GameManager.instance.level.setSimpleTween(this.weapon,8,{x:-26,y:-36,skX:0,skY:0})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.korzina,9,{x:-30,y:-33,skX:157,skY:157}),Client.GameManager.instance.level.setSimpleTween(this.weapon,12,{x:-23,y:-37,skX:4,skY:4})):30===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.korzina,9,{x:-33,y:-30,skX:152,skY:152}):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.weapon,6,{x:-26,skX:0,skY:0}):39===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,20,{x:16,y:7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.korzina,20,{y:-28}),Client.GameManager.instance.level.setSimpleTween(this.kaska,20,{y:-17}),Client.GameManager.instance.level.setSimpleTween(this.eyes,20,{y:-29}),Client.GameManager.instance.level.setSimpleTween(this.body,20,{y:-4}),Client.GameManager.instance.level.setSimpleTween(this.weapon,20,{y:-34}),Client.GameManager.instance.level.setSimpleTween(this.truba,20,{x:42,y:-18,skX:0,skY:0})):59===this.counterAnim&&this.animComplete()))},Lvl4TopCar.prototype.setParts=function(value){("surprise"===value||"noVision"===value)&&(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.korzina,{x:-33,y:-28,angle:0,scX:1,scY:1,skX:152,skY:152,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eyes,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-26,y:-34,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl4TopCar.prototype.free=function(){this.group=null,this.truba=null,this.weapon=null,this.body=null,this.eyes=null,this.kaska=null,this.korzina=null,this.shield=null,this.wheel1=null,this.wheel2=null,this.lift=null,this.mask=null},Lvl4TopCar})(Client.BasicSimpleAnim);Client.Lvl4TopCar=Lvl4TopCar})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4Warden=(_super=>{function Lvl4Warden(game,_x,_y,_id){var _this=_super.call(this,game)||this;return _this.id=0,_this.chekKing=!0,_this.firstPause=0,_this.timer=0,_this.etap=0,_this.attackSide=1,_this.id=_id,_this.firstPause=game.rnd.integerInRange(0,10),_this.group=game.make.group(),_this.group.x=_x,_this.group.y=_y,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.truba=new Client.SASprite(game,0,0,"level4","truba instance 10000"),_this.truba.pivot.set(10,23),_this.group.addChild(_this.truba),_this.cards=new Client.SASprite(game,0,0,"level4","cards instance 10000"),_this.cards.pivot.set(19,18),_this.group.addChild(_this.cards),_this.weapon=new Client.SASprite(game,0,0,"level4","weapon instance 10000"),_this.weapon.pivot.set(18,59),_this.group.addChild(_this.weapon),_this.body=new Client.SASprite(game,0,0,"level4","carBody instance 10000"),_this.body.pivot.set(61,31),_this.group.addChild(_this.body),_this.lampa=new Client.SASprite(game,0,0,"level4","lampa instance 10000"),_this.lampa.pivot.set(7,12),_this.group.addChild(_this.lampa),_this.eye=new Client.SASprite(game,0,0,"level4","eyes instance 10000"),_this.eye.pivot.set(6,5),_this.eye.animations.add("idle",Phaser.Animation.generateFrameNames("eyes instance 1",0,43,"",4),30,!0),_this.eye.animations.add("watch",Phaser.Animation.generateFrameNames("eyes instance 1",110,205,"",4),25,!1).onComplete.add(function(){this.eye.play("idle"),0===this.id&&(this.group.scale.x*=-1),this.playAnim("show")},_this),_this.group.addChild(_this.eye),_this.kaska=new Client.SASprite(game,0,0,"level4","kaska instance 10000"),_this.kaska.pivot.set(28,25),_this.kaska.animations.add("anim",Phaser.Animation.generateFrameNames("kaska instance 1",0,61,"",4),30,!0),_this.kaska.play("anim"),_this.group.addChild(_this.kaska),_this.shield=new Client.SASprite(game,0,0,"level4","shield instance 10000"),_this.shield.pivot.set(15,16),_this.group.addChild(_this.shield),_this.wheel1=new Client.SASprite(game,-29,26,"level4","warden_wheel1 instance 10000"),_this.wheel1.anchor.set(.5),_this.group.addChild(_this.wheel1),_this.wheel2=new Client.SASprite(game,38,26,"level4","warden_wheel3 instance 10000"),_this.wheel2.anchor.set(.5),_this.group.addChild(_this.wheel2),_this.setParts("idle"),_this}return __extends(Lvl4Warden,_super),Lvl4Warden.prototype.setScale=function(_side){this.group.scale.x*=_side},Lvl4Warden.prototype.addCards=function(){this.card=new Client.Lvl4Card(Client.Main.instance,this.group.x+53*this.group.scale.x*-1,this.group.y-10,this.group.scale.x,this.id),Client.GameManager.instance.level.updateElements.push(this.card)},Lvl4Warden.prototype.attackHero=function(_side){this.attackSide=_side,Client.GameManager.instance.hero.setEnableMotor(!1,!1);var time=200+Math.abs(Client.GameManager.instance.hero.bodyBase.x-this.group.x);Client.Main.instance.add.tween(this.group).to({x:Client.GameManager.instance.hero.baseGroup.x+110*_side},time,Phaser.Easing.power2,!0,0).onComplete.add(this.pushHero,this)},Lvl4Warden.prototype.pushHero=function(){Client.GameManager.instance.hero.bodyBase.velocity.x=-250*this.attackSide,Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,Client.GameManager.instance.level.gameOver=!0},Lvl4Warden.prototype.update=function(){_super.prototype.update.call(this),!0===this.chekKing&&(50<Client.GameManager.instance.level.king.group.x&&(0===this.etap?(this.card.setUpdate(!1),this.playAnim("hide"),-1===this.group.scale.x&&(this.group.scale.x*=-1,Client.SoundManager.playSFX("s_lvl4_wardenSalute")),this.etap=1):1===this.etap&&350<Client.GameManager.instance.level.king.group.x&&(this.eye.play("watch"),this.chekKing=!1)),this.timer+=1,this.timer===this.firstPause)&&this.eye.play("idle")},Lvl4Warden.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim?1===this.counterAnim?(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.lampa,{x:58,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.weapon,20,{x:-32,y:-32,skX:-12,skY:-12}),this.setPart(this.cards,{x:-48,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):21===this.counterAnim?this.setPart(this.weapon,{x:-32,y:-32,angle:0,scX:1,scY:1,skX:-12,skY:-12,alpha:1}):40===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.weapon,14,{x:-26,y:-34,skX:0,skY:0}):54===this.counterAnim&&this.animComplete():"surprise"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,10,{y:1,skX:-8,skY:-8,scX:1.06,scY:1.06}),Client.GameManager.instance.level.setSimpleTween(this.kaska,10,{x:-27,y:-22,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.eye,10,{x:-14,y:-34,skX:-10,skY:170}),Client.GameManager.instance.level.setSimpleTween(this.lampa,10,{y:-15,skX:-1,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.body,10,{x:3,y:-10,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.weapon,10,{x:-31,y:-38,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.cards,10,{x:-49,y:-18,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.truba,10,{x:40,y:-25,skX:-2,skY:-2})):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,4,{y:7,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.kaska,4,{x:-26,y:-17,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.eye,4,{x:-12,y:-29,skX:-8,skY:172}),Client.GameManager.instance.level.setSimpleTween(this.lampa,4,{x:63,y:-8,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.body,4,{x:4,y:-4,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.weapon,4,{x:-26,y:-34,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.cards,4,{x:-48,y:-14,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.truba,4,{x:42,y:-18,skX:0,skY:0})):15===this.counterAnim?(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.lampa,5,{x:56,skX:13,skY:13}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-26,y:-34,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.cards,{x:-48,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):20===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.lampa,4,{x:58,y:-7,skX:0,skY:0}):24===this.counterAnim?this.setPart(this.lampa,{x:58,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):30===this.counterAnim&&this.animComplete():"hide"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,6,{x:7,y:5,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.kaska,6,{x:-28,y:-16,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.eye,6,{x:-16,skX:-13,skY:167}),Client.GameManager.instance.level.setSimpleTween(this.lampa,6,{x:57,y:-13,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.body,6,{x:3,y:-5,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.weapon,6,{x:-30,y:-33}),Client.GameManager.instance.level.setSimpleTween(this.cards,6,{x:-24,y:1,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.truba,6,{x:39,y:-22,skX:-4,skY:-4})):7===this.counterAnim?(this.setPart(this.shield,{x:7,y:5,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.kaska,{x:-28,y:-16,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.eye,{x:-16,y:-29,angle:0,scX:1,scY:1,skX:-13,skY:167,alpha:1}),this.setPart(this.lampa,{x:57,y:-13,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.body,{x:3,y:-5,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.weapon,{x:-30,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.cards,{x:-24,y:1,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.truba,{x:39,y:-22,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1})):10===this.counterAnim&&this.animComplete():"show"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.shield,6,{x:16,y:8,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.kaska,6,{x:-26,y:-17,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.eye,6,{x:-12,skX:-8,skY:172}),Client.GameManager.instance.level.setSimpleTween(this.lampa,6,{x:58,y:-7,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.body,6,{x:4,y:-4,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.weapon,6,{x:-26,y:-34}),Client.GameManager.instance.level.setSimpleTween(this.cards,6,{x:-48,y:-14,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.truba,6,{x:42,y:-18,skX:0,skY:0})):7===this.counterAnim?(this.setPart(this.shield,{x:16,y:8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.lampa,{x:58,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-26,y:-34,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.cards,{x:-48,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):16===this.counterAnim&&(this.animComplete(),this.card.setUpdate(!0),0===this.id)&&this.playAnim("idle",-1)))},Lvl4Warden.prototype.setParts=function(value){"idle"===value?(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.lampa,{x:58,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-26,y:-34,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.cards,{x:-48,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"surprise"===value?(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.lampa,{x:58,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-32,y:-32,angle:0,scX:1,scY:1,skX:-12,skY:-12,alpha:1}),this.setPart(this.cards,{x:-48,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"hide"===value?(this.setPart(this.shield,{x:16,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.kaska,{x:-26,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye,{x:-12,y:-29,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1}),this.setPart(this.lampa,{x:58,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.body,{x:4,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.weapon,{x:-26,y:-34,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.cards,{x:-48,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.truba,{x:42,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"show"===value&&(this.setPart(this.shield,{x:7,y:5,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.kaska,{x:-28,y:-16,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.eye,{x:-16,y:-29,angle:0,scX:1,scY:1,skX:-13,skY:167,alpha:1}),this.setPart(this.lampa,{x:57,y:-13,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.body,{x:3,y:-5,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.weapon,{x:-30,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.cards,{x:-24,y:1,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.truba,{x:39,y:-22,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}))},Lvl4Warden.prototype.free=function(){this.group=null,this.truba=null,this.cards=null,this.weapon=null,this.body=null,this.lampa=null,this.eye=null,this.kaska=null,this.shield=null,this.wheel1=null,this.wheel2=null,this.card=null},Lvl4Warden})(Client.BasicSimpleAnim);Client.Lvl4Warden=Lvl4Warden})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4WaterFall1=(_super=>{function Lvl4WaterFall1(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=173,_this.group.y=437,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.water=_this.group.create(0,0,"level4","waterFallWater instance 10000"),_this.water.anchor.set(.5),_this.water.inputEnabled=!0,_this.botWater=_this.group.create(5,85,"level4","botWater instance 10000"),_this.botWater.animations.add("anim",Phaser.Animation.generateFrameNames("botWater instance 1",0,26,"",4),30,!0),_this.botWater.play("anim"),_this.botWater.anchor.set(.5),_this.botWater.scale.set(1.2),_this.topWater=_this.group.create(0,-85,"level4","topWater instance 10000"),_this.topWater.anchor.set(.5,0),game.add.tween(_this.topWater.scale).to({y:1.1},150,"Linear",!0,0,-1,!0),_this.glow=_this.group.create(0,84,"level4","glow instance 10000"),_this.glow.anchor.set(.5),_this.glow.scale.set(1.2),_this.part4=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part4.anchor.set(.5),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part3.anchor.set(.5),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part2.anchor.set(.5),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part1.anchor.set(.5),_this.group.addChild(_this.part1),_this.playAnim("anim",-1),_this}return __extends(Lvl4WaterFall1,_super),Lvl4WaterFall1.prototype.hide=function(){this.water.inputEnabled=!1,Client.Main.instance.add.tween(this.group).to({alpha:0},500,"Linear",!0).onComplete.add(function(){Client.GameManager.instance.level.waterfall3.show()},this)},Lvl4WaterFall1.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{y:11,scY:.94}),Client.GameManager.instance.level.setSimpleTween(this.part2,5,{y:67,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.part3,23,{y:67,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{y:-48,scY:.91})):6===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,10,{y:86,scY:.22}):11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,49,{y:67,scY:.98}):16===this.counterAnim?(this.setPart(this.part1,{x:9,y:11,angle:0,scX:1,scY:.94,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:9,y:86,angle:0,scX:1,scY:.22,skX:0,skY:0,alpha:1})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,23,{y:67,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.part2,10,{y:-48,scY:.91})):24===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,10,{y:86,scY:.22}):27===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,43,{y:53,scY:.97}):34===this.counterAnim?this.setPart(this.part3,{x:-14,y:86,angle:0,scX:1,scY:.22,skX:0,skY:0,alpha:1}):35===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,10,{y:-48,scY:.91}):40===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,10,{y:86,scY:.22}):45===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,25,{y:11,scY:.94}):50===this.counterAnim?this.setPart(this.part1,{x:9,y:86,angle:0,scX:1,scY:.22,skX:0,skY:0,alpha:1}):51===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,10,{y:-48,scY:.91}):60===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,10,{y:86,scY:.22}):61===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,9,{y:-27,scY:.92}):70===this.counterAnim&&this.animComplete())},Lvl4WaterFall1.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:9,y:-24,angle:0,scX:1,scY:.92,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:9,y:56,angle:0,scX:1,scY:.97,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:-14,y:13,angle:0,scX:1,scY:.94,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:-14,y:-79,angle:0,scX:1,scY:.33,skX:0,skY:0,alpha:1}))},Lvl4WaterFall1.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.water=null,this.glow=null,this.botWater=null,this.topWater=null},Lvl4WaterFall1})(Client.BasicSimpleAnim);Client.Lvl4WaterFall1=Lvl4WaterFall1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4WaterFall2=(_super=>{function Lvl4WaterFall2(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=190,_this.group.y=238,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.water=_this.group.create(-12,60,"level4","waterfallBack instance 10000"),_this.water.anchor.set(.5),_this.botWater=_this.group.create(-18,113,"level4","waterPart instance 10000"),_this.botWater.animations.add("anim",Phaser.Animation.generateFrameNames("waterPart instance 1",0,26,"",4),30,!0),_this.botWater.play("anim"),_this.botWater.anchor.set(.5),_this.group.create(0,0,"level4","glow instance 10000").anchor.set(.5),_this.group.create(0,55,"level4","glow instance 10000").anchor.set(.5),_this.part4=new Client.SASprite(game,0,0,"level4","fallPart1 instance 10000"),_this.part4.anchor.set(.5),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level4","fallPart1 instance 10000"),_this.part3.anchor.set(.5),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level4","fallPart1 instance 10000"),_this.part2.anchor.set(.5),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level4","fallPart1 instance 10000"),_this.part1.anchor.set(.5),_this.group.addChild(_this.part1),_this.playAnim("anim",-1),_this}return __extends(Lvl4WaterFall2,_super),Lvl4WaterFall2.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,8,{x:-8,y:42,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,13,{y:100,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.part3,29,{x:-26,y:99,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part4,9,{x:-13,y:16,skX:28,skY:28,scY:1})):9===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:-9,y:51,skX:-1,skY:-1}):10===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-20,y:42,skX:5,skY:5}):14===this.counterAnim?(this.setPart(this.part1,{x:-9,y:51,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1}),this.setPart(this.part2,{x:-9,y:100,angle:0,scX:1,scY:1,skX:-7,skY:-7,alpha:1})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,29,{y:100,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:-4,y:17,skX:23,skY:23,scY:1})):24===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-8,y:42,skX:0,skY:0}):25===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,35,{x:-26,y:99,skX:-2,skY:-2}):30===this.counterAnim?this.setPart(this.part3,{x:-26,y:99,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}):31===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,9,{x:-13,y:16,skX:28,skY:28,scY:1}):39===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,21,{x:-9,y:77,skX:-5,skY:-5}):40===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-20,y:42,skX:5,skY:5}):44===this.counterAnim?this.setPart(this.part1,{x:-9,y:100,angle:0,scX:1,scY:1,skX:-7,skY:-7,alpha:1}):45===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:-4,y:17,skX:23,skY:23,scY:1}):54===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,6,{x:-6,y:27,skX:14,skY:14}):55===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,5,{x:-21,y:50,skX:4,skY:4}):60===this.counterAnim&&this.animComplete())},Lvl4WaterFall2.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-6,y:29,angle:0,scX:1,scY:1,skX:12,skY:12,alpha:1}),this.setPart(this.part2,{x:-9,y:79,angle:0,scX:1,scY:1,skX:-5,skY:-5,alpha:1}),this.setPart(this.part3,{x:-21,y:52,angle:0,scX:1,scY:1,skX:4,skY:4,alpha:1}),this.setPart(this.part4,{x:2,y:-3,angle:0,scX:1,scY:.6,skX:34,skY:34,alpha:1}))},Lvl4WaterFall2.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part2=null,this.part3=null,this.water=null,this.glow=null,this.botWater=null,this.topWater=null},Lvl4WaterFall2})(Client.BasicSimpleAnim);Client.Lvl4WaterFall2=Lvl4WaterFall2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl4WaterFall3=(_super=>{function Lvl4WaterFall3(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=210,_this.group.y=345,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.water=_this.group.create(-15,0,"level4","water3 instance 10000"),_this.water.anchor.set(.5,0),_this.botWater=_this.group.create(-15,185,"level4","botWater instance 10000"),_this.botWater.animations.add("anim",Phaser.Animation.generateFrameNames("botWater instance 1",0,26,"",4),30,!0),_this.botWater.play("anim"),_this.botWater.anchor.set(.5),_this.botWater.scale.set(.8),_this.topWater=_this.group.create(-11,122,"level4","botWater instance 10000"),_this.topWater.animations.add("anim",Phaser.Animation.generateFrameNames("botWater instance 1",0,26,"",4),30,!0),_this.topWater.play("anim"),_this.topWater.anchor.set(.5),_this.topWater.scale.set(.5),_this.topWater.angle=18,_this.part4=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part4.anchor.set(.5),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part3.anchor.set(.5),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part2.anchor.set(.5),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level4","part1 instance 10000"),_this.part1.anchor.set(.5),_this.group.addChild(_this.part1),_this.playAnim("anim",-1),_this.group.alpha=0,_this.group.visible=!1,_this}return __extends(Lvl4WaterFall3,_super),Lvl4WaterFall3.prototype.show=function(){this.group.visible=!0,Client.Main.instance.add.tween(this.group).to({alpha:1},500,"Linear",!0,200)},Lvl4WaterFall3.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{y:154}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:-16,y:131,skX:0,skY:0,scY:.54}),Client.GameManager.instance.level.setSimpleTween(this.part3,16,{x:0,y:92,skX:18,skY:18,scY:.33}),Client.GameManager.instance.level.setSimpleTween(this.part4,9,{x:1,y:15,skX:0,skY:0,scY:.54})):6===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,10,{y:170,scY:.13}):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,15,{y:154}),Client.GameManager.instance.level.setSimpleTween(this.part4,27,{x:5,y:63,scY:.66})):16===this.counterAnim?this.setPart(this.part1,{x:-16,y:170,angle:0,scX:.37,scY:.13,skX:0,skY:0,alpha:1}):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:-16,y:131,skX:0,skY:0,scY:.54}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-12,y:112,skX:27,skY:27,scY:.22})):25===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,10,{y:170,scY:.13}):26===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,15,{y:154}):32===this.counterAnim?this.setPart(this.part3,{x:-12,y:112,angle:0,scX:.57,scY:.22,skX:27,skY:27,alpha:1}):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,9,{x:1,y:15,skX:0,skY:0,scY:.54}):35===this.counterAnim?this.setPart(this.part2,{x:-16,y:170,angle:0,scX:.37,scY:.13,skX:0,skY:0,alpha:1}):36===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:-16,y:131,skX:0,skY:0,scY:.54}):37===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,18,{x:0,y:92,skX:18,skY:18,scY:.33}):41===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,10,{y:170,scY:.13}):42===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,27,{x:5,y:63,scY:.66}):45===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,15,{y:154}):51===this.counterAnim?this.setPart(this.part1,{x:-16,y:170,angle:0,scX:.37,scY:.13,skX:0,skY:0,alpha:1}):52===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:-16,y:131,skX:0,skY:0,scY:.54}):55===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-12,y:112,skX:27,skY:27,scY:.22}):60===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,10,{y:170,scY:.13}):61===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,9,{y:145}):69===this.counterAnim?this.setPart(this.part3,{x:5,y:63,angle:0,scX:.57,scY:.66,skX:0,skY:0,alpha:1}):70===this.counterAnim&&this.animComplete())},Lvl4WaterFall3.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-16,y:146,angle:0,scX:.37,scY:.54,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:-13,y:116,angle:0,scX:.37,scY:.25,skX:17,skY:17,alpha:1}),this.setPart(this.part3,{x:4,y:66,angle:0,scX:.57,scY:.63,skX:2,skY:2,alpha:1}),this.setPart(this.part4,{x:0,y:0,angle:0,scX:.57,scY:.17,skX:-51,skY:-51,alpha:1}))},Lvl4WaterFall3.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part3=null,this.part3=null,this.water=null,this.glow=null,this.botWater=null,this.topWater=null},Lvl4WaterFall3})(Client.BasicSimpleAnim);Client.Lvl4WaterFall3=Lvl4WaterFall3})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Barrier=(_super=>{function Lvl5Barrier(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=-16,_this.group.y=448,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.graphic=new Client.SASprite(game,0,0,"level5","barrier instance 10000"),_this.graphic.pivot.set(57,93),_this.group.addChild(_this.graphic),_this.setParts("anim"),_this}return __extends(Lvl5Barrier,_super),Lvl5Barrier.prototype.activate=function(){this.playAnim("anim"),Client.SoundManager.playSFX("s_lvl5_woodWallUp")},Lvl5Barrier.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,28,{skX:0,skY:0}):29===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,6,{skX:-5,skY:-5}):35===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,6,{skX:0,skY:0}):41===this.counterAnim&&this.animComplete())},Lvl5Barrier.prototype.setParts=function(value){"anim"===value&&this.setPart(this.graphic,{x:59,y:86,angle:0,scX:1,scY:1,skX:-90,skY:-90,alpha:1})},Lvl5Barrier.prototype.free=function(){this.group=null,this.graphic=null},Lvl5Barrier})(Client.BasicSimpleAnim);Client.Lvl5Barrier=Lvl5Barrier})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Bear=(_super=>{function Lvl5Bear(game){var _this=_super.call(this,game)||this;return _this.startCount=!0,_this.counter=0,_this.group=game.make.group(),_this.group.x=693,_this.group.y=405,_this.group.scale.x=-1,_this.group.angle=14,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part2=new Client.SASprite(game,0,0,"level5","bearPart2 instance 10000"),_this.part2.pivot.set(5,4),_this.group.addChild(_this.part2),_this.part3=new Client.SASprite(game,0,0,"level5","bearPart3 instance 10000"),_this.part3.pivot.set(53,23),_this.group.addChild(_this.part3),_this.part1=new Client.SASprite(game,0,0,"level5","bearPart1 instance 10000"),_this.part1.pivot.set(61,30),_this.group.addChild(_this.part1),_this.group.visible=!1,_this}return __extends(Lvl5Bear,_super),Lvl5Bear.prototype.update=function(){_super.prototype.update.call(this),!0===this.startCount&&(this.counter+=1,200===this.counter)&&(this.counter=0,this.startCount=!1,this.group.visible=!0,Client.SoundManager.playSFX("s_lvl5_bearScratch"),this.playAnim("play"),this.counterAnim=-30)},Lvl5Bear.prototype.onAnimComplete=function(){this.startCount=!0,this.group.visible=!1},Lvl5Bear.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"play"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{x:3,y:17,skX:1,scY:.97}),Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:19,y:14,skX:24,skY:23,scY:.97})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:0,y:16,skX:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:14,y:11,skX:0,skY:0,scY:1})):20===this.counterAnim?(this.setPart(this.part1,{x:0,y:16,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:14,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):25===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:15,y:14,skX:32,skY:32}):29===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:13,y:9,skX:-32,skY:-32}):34===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:14,y:11,skX:0,skY:0}):38===this.counterAnim?this.setPart(this.part2,{x:14,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):46===this.counterAnim?(this.part3.visible=!0,this.setPart(this.part3,{x:-30,y:-15,angle:0,scX:1,scY:1,skX:-69,skY:-69,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,14,{x:-4,y:-25,skX:0,skY:0})):60===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:-1,y:-14,skX:9,skY:9}):67===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-9,y:-19,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:13,y:8,skX:-16,skY:-16})):73===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-1,y:-14,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:14,y:11,skX:0,skY:0})):79===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-9,y:-19,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:13,y:8,skX:-16,skY:-16})):85===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,6,{x:-4,y:-25,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:14,y:11,skX:0,skY:0})):91===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,10,{x:-30,y:-15,skX:-69,skY:-69}),this.setPart(this.part2,{x:14,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):101===this.counterAnim?this.setPart(this.part3,{x:-30,y:-15,angle:0,scX:1,scY:1,skX:-69,skY:-69,alpha:1}):102===this.counterAnim?this.part3.visible=!1:109===this.counterAnim?this.setPart(this.part2,{x:14,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):110===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:15,y:14,skX:32,skY:32}):114===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,5,{x:13,y:9,skX:-32,skY:-32}):119===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,4,{x:14,y:11,skX:0,skY:0}):123===this.counterAnim?this.setPart(this.part2,{x:14,y:11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):132===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,9,{x:-60,y:18,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,9,{x:-47,y:13,skX:0,skY:0})):141===this.counterAnim&&this.animComplete())},Lvl5Bear.prototype.setParts=function(value){"play"===value&&(this.setPart(this.part1,{x:-60,y:18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.part3.visible=!1,this.setPart(this.part2,{x:-47,y:13,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5Bear.prototype.free=function(){this.group=null,this.part2=null,this.part3=null,this.part1=null},Lvl5Bear})(Client.BasicSimpleAnim);Client.Lvl5Bear=Lvl5Bear})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Bird1=(_super=>{function Lvl5Bird1(game){var _this=_super.call(this,game)||this;return _this.graphic=new Client.SASprite(game,0,0,"level5","bird1 instance 10000"),_this.graphic.pivot.set(23,-7),Client.GameManager.instance.layerBackground.addChild(_this.graphic),_this.setParts("anim"),_this}return __extends(Lvl5Bird1,_super),Lvl5Bird1.prototype.activate=function(){this.playAnim("anim",-1)},Lvl5Bird1.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.graphic.visible=!0,this.graphic.frameName="bird1 instance 10000",Client.GameManager.instance.level.setSimpleTween(this.graphic,9,{x:661,y:131})):10===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,6,{x:666,y:157}):16===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{x:654,y:146}):23===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,7,{y:163}):30===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,2,{y:167,scY:.79}):32===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{y:155,scY:1}):35===this.counterAnim?this.graphic.frameName="bird1 instance 10001":37===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,5,{y:163}):42===this.counterAnim?this.setPart(this.graphic,{x:654,y:163,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):50===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,18,{x:663,y:169,skX:25,skY:25}):68===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,10,{x:646,y:159,skX:-17,skY:-17}):78===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,4,{x:654,y:163,skX:0,skY:0}):82===this.counterAnim?this.setPart(this.graphic,{x:654,y:163,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):90===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.graphic,25,{x:696,y:126}):116===this.counterAnim?this.graphic.visible=!1:120===this.counterAnim&&this.animComplete())},Lvl5Bird1.prototype.setParts=function(value){"anim"===value&&this.setPart(this.graphic,{x:689,y:136,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})},Lvl5Bird1.prototype.free=function(){this.graphic=null},Lvl5Bird1})(Client.BasicSimpleAnim);Client.Lvl5Bird1=Lvl5Bird1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Bird2=(_super=>{function Lvl5Bird2(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=378,_this.group.y=508,_this.group.visible=!1,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.eye2=new Client.SASprite(game,0,0,"level5","bird2Eye instance 10000"),_this.eye2.pivot.set(5,5),_this.group.addChild(_this.eye2),_this.hair=new Client.SASprite(game,0,0,"level5","bird2Hair instance 10000"),_this.hair.pivot.set(9,8),_this.group.addChild(_this.hair),_this.tors=new Client.SASprite(game,0,0,"level5","bird2Tors instance 10000"),_this.tors.pivot.set(15,23),_this.group.addChild(_this.tors),_this.hand=new Client.SASprite(game,0,0,"level5","bird2Hand instance 10000"),_this.hand.pivot.set(11,8),_this.group.addChild(_this.hand),_this.nose=new Client.SASprite(game,0,0,"level5","bird2Nose instance 10000"),_this.nose.pivot.set(6,3),_this.group.addChild(_this.nose),_this.eye1=new Client.SASprite(game,0,0,"level5","bird2Eye instance 10000"),_this.eye1.pivot.set(5,5),_this.group.addChild(_this.eye1),_this.leg2=new Client.SASprite(game,0,0,"level5","bird2Leg instance 10000"),_this.leg2.pivot.set(3,6),_this.group.addChild(_this.leg2),_this.leg1=new Client.SASprite(game,0,0,"level5","bird2Leg instance 10000"),_this.leg1.pivot.set(3,6),_this.group.addChild(_this.leg1),_this.setParts("play"),_this}return __extends(Lvl5Bird2,_super),Lvl5Bird2.prototype.activate=function(){this.group.visible=!0,this.playAnim("play"),this.counterAnim=-40,Client.SoundManager.playSFX("s_lvl5_birdEvent")},Lvl5Bird2.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"play"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,14,{y:-58}),Client.GameManager.instance.level.setSimpleTween(this.leg2,14,{y:-57}),Client.GameManager.instance.level.setSimpleTween(this.eye1,14,{y:-97}),Client.GameManager.instance.level.setSimpleTween(this.nose,14,{y:-92,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.hand,14,{x:-11,y:-89,skX:57,skY:57}),Client.GameManager.instance.level.setSimpleTween(this.tors,14,{y:-83}),Client.GameManager.instance.level.setSimpleTween(this.hair,14,{x:1,y:-108,skX:57,skY:68,scX:1.02}),Client.GameManager.instance.level.setSimpleTween(this.eye2,14,{x:7,y:-97})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,3,{y:-57}),Client.GameManager.instance.level.setSimpleTween(this.leg2,3,{y:-55}),Client.GameManager.instance.level.setSimpleTween(this.eye1,8,{y:-74,scY:.8}),Client.GameManager.instance.level.setSimpleTween(this.nose,8,{y:-66,skX:9,skY:8,scX:.99,scY:.81}),Client.GameManager.instance.level.setSimpleTween(this.hand,8,{x:-10,y:-59,skX:13,skY:7,scX:.99,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{y:-62,scY:.8}),Client.GameManager.instance.level.setSimpleTween(this.hair,8,{x:-3,y:-78,skX:-19,skY:-7,scX:1,scY:.82}),Client.GameManager.instance.level.setSimpleTween(this.eye2,8,{y:-74,scY:.8})):18===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,5,{y:-42}),Client.GameManager.instance.level.setSimpleTween(this.leg2,5,{y:-40})):23===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,7,{y:-44}),Client.GameManager.instance.level.setSimpleTween(this.leg2,7,{y:-43}),Client.GameManager.instance.level.setSimpleTween(this.eye1,7,{y:-82,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.nose,7,{y:-74,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hand,7,{x:-9,y:-64,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,7,{y:-68,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hair,7,{x:-1,y:-92,skX:29,skY:29,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.eye2,7,{x:8,y:-82,scY:1})):30===this.counterAnim?(this.setPart(this.eye1,{x:2,y:-82,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.nose,{x:13,y:-74,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hand,{x:-9,y:-64,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:-5,y:-68,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.hair,4,{x:-2,y:-91,skX:18,skY:18}),this.setPart(this.eye2,{x:8,y:-82,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):31===this.counterAnim?this.setPart(this.leg2,{x:-6,y:-43,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):34===this.counterAnim?this.setPart(this.hair,{x:-2,y:-91,angle:0,scX:1,scY:1,skX:18,skY:18,alpha:1}):40===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,15,{x:4,y:-47,skX:-47,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.eye1,15,{x:-13,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.nose,15,{x:0,y:-80,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.hand,15,{x:-18,y:-63,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tors,15,{x:-13,y:-66,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.hair,15,{x:-21,y:-87,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.eye2,15,{x:-8,y:-85,skX:-28,skY:-28})):55===this.counterAnim?(this.setPart(this.leg1,{x:4,y:-47,angle:0,scX:1,scY:1,skX:-47,skY:-47,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.eye1,5,{x:6,skX:7,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.nose,5,{x:16,y:-74,skX:-4,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.hand,5,{x:-8,y:-65,skX:9,skY:8,scX:.99,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-3,y:-69,skX:7,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.hair,5,{x:6,y:-93,skX:64,skY:63}),Client.GameManager.instance.level.setSimpleTween(this.eye2,5,{x:11,y:-82,skX:7,skY:6})):60===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye1,5,{x:-13,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.nose,5,{x:0,y:-80,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.hand,5,{x:-18,y:-63,skX:-5,skY:-5,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-13,y:-66,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.hair,5,{x:-21,y:-87,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.eye2,5,{x:-8,y:-85,skX:-28,skY:-28})):65===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye1,5,{x:6,skX:7,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.nose,5,{x:16,y:-74,skX:-4,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.hand,5,{x:-8,y:-65,skX:9,skY:8,scX:.99,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-3,y:-69,skX:7,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.hair,5,{x:6,y:-93,skX:64,skY:63}),Client.GameManager.instance.level.setSimpleTween(this.eye2,5,{x:11,y:-82,skX:7,skY:6})):70===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye1,4,{x:-13,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.nose,4,{x:0,y:-80,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.hand,4,{x:-18,y:-63,skX:-5,skY:-5,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,4,{x:-13,y:-66,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.hair,4,{x:-21,y:-87,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.eye2,4,{x:-8,y:-85,skX:-28,skY:-28})):74===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye1,4,{x:6,skX:7,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.nose,4,{x:16,y:-74,skX:-4,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.hand,4,{x:-8,y:-65,skX:9,skY:8,scX:.99,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.tors,4,{x:-3,y:-69,skX:7,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.hair,4,{x:6,y:-93,skX:64,skY:63}),Client.GameManager.instance.level.setSimpleTween(this.eye2,4,{x:11,y:-82,skX:7,skY:6})):78===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,6,{x:-1,y:-44,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.eye1,6,{x:2,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.nose,6,{x:13,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.hand,6,{x:-9,y:-64,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,6,{x:-5,y:-68,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.hair,6,{x:-2,y:-91,skX:18,skY:18}),Client.GameManager.instance.level.setSimpleTween(this.eye2,6,{x:8,skX:0,skY:0})):84===this.counterAnim?(this.setPart(this.leg1,{x:-1,y:-44,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye1,{x:2,y:-82,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.nose,{x:13,y:-74,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hand,{x:-9,y:-64,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:-5,y:-68,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hair,{x:-2,y:-91,angle:0,scX:1,scY:1,skX:18,skY:18,alpha:1}),this.setPart(this.eye2,{x:8,y:-82,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):90===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye1,8,{y:-84,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.nose,8,{y:-75,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.hand,8,{x:-12,y:-70,skX:31,skY:31,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{y:-69,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.hair,8,{x:0,y:-94,skX:48,skY:49,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.eye2,8,{y:-84,scY:1.03})):98===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eye1,8,{y:-82,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.nose,8,{y:-74,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hand,8,{x:-9,y:-64,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{y:-68,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hair,8,{x:-3,y:-90,skX:-8,skY:-7,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.eye2,8,{y:-82,scY:1})):106===this.counterAnim?(this.setPart(this.eye1,{x:2,y:-82,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.nose,{x:13,y:-74,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hand,{x:-9,y:-64,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:-5,y:-68,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.hair,6,{x:-2,y:-91,skX:18,skY:18,scY:1}),this.setPart(this.eye2,{x:8,y:-82,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):112===this.counterAnim?this.setPart(this.hair,{x:-2,y:-91,angle:0,scX:1,scY:1,skX:18,skY:18,alpha:1}):130===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,7,{y:-43,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.leg2,7,{y:-42,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.eye1,7,{y:-78,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.nose,7,{y:-70,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.hand,7,{x:-10,skX:17,skY:17,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.tors,7,{x:-6,y:-65,scX:1.13,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.hair,7,{y:-86,skX:20,skY:16,scX:.99,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.eye2,7,{y:-78,scY:.9})):137===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,10,{x:3,y:-68,skX:-63,skY:-63,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.leg2,10,{x:-8,y:-67,skX:47,skY:47,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.eye1,10,{y:-105,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.nose,10,{y:-98,skX:-12,skY:-12,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hand,10,{y:-101,skX:78,skY:78,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:-5,y:-91,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hair,10,{x:-3,y:-110,skX:-23,skY:-23,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.eye2,10,{y:-105,scY:1})):147===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1,12,{y:26}),Client.GameManager.instance.level.setSimpleTween(this.leg2,12,{y:27}),Client.GameManager.instance.level.setSimpleTween(this.eye1,12,{y:-11}),Client.GameManager.instance.level.setSimpleTween(this.nose,12,{y:-4}),Client.GameManager.instance.level.setSimpleTween(this.hand,12,{x:-6,y:-11,skX:101,skY:101,scX:1.2}),Client.GameManager.instance.level.setSimpleTween(this.tors,12,{y:3}),Client.GameManager.instance.level.setSimpleTween(this.hair,12,{x:2,y:-23,skX:74,skY:74,scX:1.26}),Client.GameManager.instance.level.setSimpleTween(this.eye2,12,{y:-11})):159===this.counterAnim&&(this.animComplete(),this.group.visible=!1))},Lvl5Bird2.prototype.setParts=function(value){"play"===value&&(this.setPart(this.leg1,{x:-1,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.leg2,{x:-6,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye1,{x:2,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.nose,{x:13,y:-6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hand,{x:-9,y:4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:-5,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hair,{x:-3,y:-22,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eye2,{x:8,y:-14,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5Bird2.prototype.free=function(){this.group=null,this.eye2=null,this.hair=null,this.tors=null,this.hand=null,this.nose=null,this.eye1=null,this.leg2=null,this.leg1=null},Lvl5Bird2})(Client.BasicSimpleAnim);Client.Lvl5Bird2=Lvl5Bird2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5DirtyCloud=(_super=>{function Lvl5DirtyCloud(game,x,y){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=x,_this.group.y=y,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.part4=new Client.SASprite(game,0,0,"level5","dirtyCloud1 instance 10000"),_this.part4.pivot.set(53,44),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level5","dirtyCloud1 instance 10000"),_this.part3.pivot.set(53,44),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level5","dirtyCloud2 instance 10000"),_this.part2.pivot.set(118,79),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level5","dirtyCloud3 instance 10000"),_this.part1.pivot.set(81,61),_this.group.addChild(_this.part1),_this.playAnim("anim"),_this}return __extends(Lvl5DirtyCloud,_super),Lvl5DirtyCloud.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,17,{x:-41,y:15,scX:.82,scY:.82,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,12,{y:27,skX:-4,skY:-4,scX:.76,scY:.76,alpha:.98}),Client.GameManager.instance.level.setSimpleTween(this.part3,18,{x:-75,y:29,scX:1.86,scY:1.01,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,18,{x:-8,y:25,scX:.73,scY:.73,alpha:1})):13===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,12,{y:21,skX:0,skY:0,scX:1.28,scY:1.28,alpha:.84}):18===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,4,{y:10,scX:1,scY:1}):19===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-81,y:24,scX:2.57,scY:1.39,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-10,y:21,scX:1,scY:1,alpha:0})):22===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,16,{skX:-10,skY:-10,scX:1.43,scY:1.43,alpha:0}):25===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,15,{scX:1.73,scY:1.73,alpha:0}):34===this.counterAnim?(this.setPart(this.part3,{x:-81,y:24,angle:0,scX:2.57,scY:1.39,skX:0,skY:0,alpha:0}),this.setPart(this.part4,{x:-10,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0})):38===this.counterAnim?this.setPart(this.part1,{x:-41,y:10,angle:0,scX:1.43,scY:1.43,skX:-10,skY:-10,alpha:0}):40===this.counterAnim&&(this.animComplete(),this.group.visible=!1))},Lvl5DirtyCloud.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-39,y:33,angle:0,scX:.25,scY:.25,skX:0,skY:0,alpha:.05}),this.setPart(this.part2,{x:-31,y:30,angle:0,scX:.51,scY:.51,skX:-5,skY:-5,alpha:0}),this.setPart(this.part3,{x:-64,y:37,angle:0,scX:.59,scY:.32,skX:0,skY:0,alpha:0}),this.setPart(this.part4,{x:-4,y:31,angle:0,scX:.23,scY:.23,skX:0,skY:0,alpha:0}))},Lvl5DirtyCloud.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null},Lvl5DirtyCloud})(Client.BasicSimpleAnim);Client.Lvl5DirtyCloud=Lvl5DirtyCloud})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Door=(_super=>{function Lvl5Door(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=407,_this.group.y=300,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part3=new Client.SASprite(game,0,0,"level5","doorPart2 instance 10000"),_this.part3.pivot.set(0,4),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level5","doorPart2 instance 10000"),_this.part2.pivot.set(0,4),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level5","doorPart1 instance 10000"),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl5Door,_super),Lvl5Door.prototype.activate=function(){this.playAnim("anim")},Lvl5Door.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.setPart(this.part1,{x:-39,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,6,{skX:-104,skY:76}),Client.GameManager.instance.level.setSimpleTween(this.part3,6,{skX:104,skY:104})):7===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,4,{skX:-80,skY:100}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{skX:80,skY:80})):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,4,{skX:-90,skY:90}),Client.GameManager.instance.level.setSimpleTween(this.part3,4,{skX:90,skY:90})):15===this.counterAnim&&this.animComplete())},Lvl5Door.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-39,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:100,y:1,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.part3,{x:-33,y:1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5Door.prototype.free=function(){this.group=null,this.part3=null,this.part2=null,this.part1=null},Lvl5Door})(Client.BasicSimpleAnim);Client.Lvl5Door=Lvl5Door})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Monster=(_super=>{function Lvl5Monster(game){var _this=_super.call(this,game)||this;return _this.game=game,_this.body=new Phaser.Physics.Box2D.Body(game,null,653,540,1),_this.body.setCircle(60),_this.body.sensor=!0,_this.group=game.make.group(),_this.group.x=643,_this.group.y=485,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.tail=new Client.SASprite(game,0,0,"level5","monsterTail instance 10000"),_this.tail.pivot.set(7,10),_this.group.addChild(_this.tail),_this.leg2_2=new Client.SASprite(game,0,0,"level5","monsterLeg1_2 instance 10000"),_this.leg2_2.pivot.set(17,15),_this.group.addChild(_this.leg2_2),_this.leg2_1=new Client.SASprite(game,0,0,"level5","monsterLeg1_1 instance 10000"),_this.leg2_1.pivot.set(16,16),_this.group.addChild(_this.leg2_1),_this.hand2_3=new Client.SASprite(game,0,0,"level5","monsterHand1_3 instance 10000"),_this.hand2_3.pivot.set(22,30),_this.group.addChild(_this.hand2_3),_this.hand2_2=new Client.SASprite(game,0,0,"level5","monsterHand1_2 instance 10000"),_this.hand2_2.pivot.set(19,30),_this.group.addChild(_this.hand2_2),_this.hand2_1=new Client.SASprite(game,0,0,"level5","monsterHand1_1 instance 10000"),_this.hand2_1.pivot.set(22,22),_this.group.addChild(_this.hand2_1),_this.tors=new Client.SASprite(game,0,0,"level5","monsterTors instance 10000"),_this.tors.pivot.set(47,67),_this.group.addChild(_this.tors),_this.palka=new Client.SASprite(game,0,0,"level5","monsterPalka instance 10000"),_this.palka.pivot.set(40,42),_this.group.addChild(_this.palka),_this.leg1_2=new Client.SASprite(game,0,0,"level5","monsterLeg1_2 instance 10000"),_this.leg1_2.pivot.set(17,15),_this.group.addChild(_this.leg1_2),_this.leg1_1=new Client.SASprite(game,0,0,"level5","monsterLeg1_1 instance 10000"),_this.leg1_1.pivot.set(16,16),_this.group.addChild(_this.leg1_1),_this.head=new Client.SASprite(game,0,0,"level5","monsterHead instance 10000"),_this.head.pivot.set(30,38),_this.head.animations.add("anim1",Phaser.Animation.generateFrameNames("monsterHead instance 1",0,10,"",4),30,!1),_this.head.animations.add("anim2",Phaser.Animation.generateFrameNames("monsterHead instance 1",11,11,"",4),30,!1),_this.head.animations.add("anim3",Phaser.Animation.generateFrameNames("monsterHead instance 1",12,12,"",4),30,!1),_this.head.animations.add("anim4",Phaser.Animation.generateFrameNames("monsterHead instance 1",44,69,"",4),30,!1),_this.group.addChild(_this.head),_this.hand1_3=new Client.SASprite(game,0,0,"level5","monsterHand1_3 instance 10000"),_this.hand1_3.pivot.set(22,30),_this.group.addChild(_this.hand1_3),_this.hand1_2=new Client.SASprite(game,0,0,"level5","monsterHand1_2 instance 10000"),_this.hand1_2.pivot.set(19,30),_this.group.addChild(_this.hand1_2),_this.hand1_1=new Client.SASprite(game,0,0,"level5","monsterHand1_1 instance 10000"),_this.hand1_1.pivot.set(22,22),_this.group.addChild(_this.hand1_1),_this.tattoo=new Client.SASprite(game,0,0,"level5","monsterTattoo instance 10000"),_this.tattoo.pivot.set(11,6),_this.group.addChild(_this.tattoo),_this.playAnim("sleep",-1),_this}return __extends(Lvl5Monster,_super),Lvl5Monster.prototype.addArrow=function(x,y,angle,wheelyDiedSoon){x=this.tors.toLocal(new PIXI.Point(x,y),Client.GameManager.instance.layerUpper);this.arrow=new Client.SASprite(this.game,x.x,x.y,"level5","arrow instance 10001"),this.arrow.anchor.setTo(.5),this.arrow.angle=angle+134,this.tors.addChild(this.arrow),this.body.destroy(),!1===wheelyDiedSoon&&this.wakeUp()},Lvl5Monster.prototype.wakeUp=function(){this.playAnim("wakeUp"),Client.SoundManager.playSFX("s_lvl5_trollWakeUp")},Lvl5Monster.prototype.moveLeft=function(){this.playAnim("move_left",-1)},Lvl5Monster.prototype.attack=function(){this.playAnim("attack")},Lvl5Monster.prototype.moveRight=function(){this.playAnim("move_right",-1)},Lvl5Monster.prototype.destroy=function(){this.activeAnim=!1,this.group.visible=!1},Lvl5Monster.prototype.onAnimComplete=function(){"wakeUp"===this.currAnim?(Client.GameManager.instance.level.customAction(3),this.moveLeft()):"attack"===this.currAnim&&(Client.GameManager.instance.level.customAction(5),this.moveRight())},Lvl5Monster.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"sleep"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tattoo,17,{y:-15,skX:6,skY:6},!0),this.setPart(this.hand1_1,{x:40,y:47,angle:0,scX:1,scY:1,skX:-82,skY:-82,alpha:1},!0),this.setPart(this.hand1_2,{x:12,y:41,angle:0,scX:1,scY:1,skX:-71,skY:-71,alpha:1},!0),this.setPart(this.hand1_3,{x:-23,y:43,angle:0,scX:1,scY:1,skX:-95,skY:-95,alpha:1},!0),this.setPart(this.head,{x:-33,y:107,angle:0,scX:1,scY:1,skX:-153,skY:-153,alpha:1},!0),this.setPart(this.leg1_1,{x:31,y:3,angle:0,scX:1,scY:1,skX:-47,skY:133,alpha:1},!0),this.setPart(this.leg1_2,{x:22,y:1,angle:0,scX:1,scY:1,skX:-51,skY:129,alpha:1},!0),this.setPart(this.palka,{x:97,y:67,angle:0,scX:1,scY:1,skX:98,skY:98,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,17,{skY:-133,scX:1.06},!0),this.setPart(this.hand2_1,{x:61,y:38,angle:0,scX:1,scY:1,skX:-130,skY:50,alpha:1},!0),this.setPart(this.hand2_2,{x:41,y:59,angle:0,scX:1,scY:1,skX:-141,skY:39,alpha:1},!0),this.setPart(this.hand2_3,{x:8,y:81,angle:0,scX:1,scY:1,skX:-141,skY:39,alpha:1},!0),this.setPart(this.leg2_1,{x:58,y:34,angle:0,scX:1,scY:1,skX:-54,skY:-54,alpha:1},!0),this.setPart(this.leg2_2,{x:51,y:25,angle:0,scX:1,scY:1,skX:-50,skY:-50,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,17,{x:40,skX:20,skY:20},!0)):18===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tattoo,10,{y:-11,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{skY:-135,scX:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,10,{x:39,skX:0,skY:0},!0)):28===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tattoo,12,{y:-18,skX:8,skY:8},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,12,{x:-2,y:34,scX:1.1},!0),this.setPart(this.tail,{x:39,y:-23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):36===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tail,4,{x:44,y:-24,skX:24,skY:24,scY:1.23},!0):40===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tattoo,14,{y:-11,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,14,{x:-1,y:38,scX:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,4,{x:39,y:-23,skX:0,skY:0,scY:1},!0)):44===this.counterAnim?this.setPart(this.tail,{x:39,y:-23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0):54===this.counterAnim?(this.setPart(this.tattoo,{x:21,y:-11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.tors,{x:-1,y:38,angle:0,scX:1,scY:1,skX:-135,skY:-135,alpha:1},!0)):55===this.counterAnim&&this.animComplete():"wakeUp"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tattoo,7,{x:58,y:-2,skX:24,skY:24},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_1,14,{x:30,y:41,skX:29,skY:29},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,14,{x:42,y:11,skX:15,skY:15},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,14,{x:31,y:-13,skX:-42,skY:-42},!0),Client.GameManager.instance.level.setSimpleTween(this.head,14,{x:-34,y:-48,skX:-30,skY:-30},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,14,{x:86,y:39,skX:-9,skY:171},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,14,{x:81,y:28,skX:-13,skY:167},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,14,{x:-7,y:120,skX:175,skY:175},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,14,{x:33,y:-2,skX:-64,skY:-64},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,14,{x:8,y:82,skX:-53,skY:127},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,14,{x:-12,y:51,skX:-31,skY:149},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,14,{x:-21,y:12,skX:-31,skY:149},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,14,{x:84,y:53,skX:-68,skY:-68},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,14,{x:75,y:47,skX:-64,skY:-64},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,7,{x:78,y:-3,skX:51,skY:51},!0)):8===this.counterAnim?(this.setPart(this.tattoo,{x:58,y:-2,angle:0,scX:1,scY:1,skX:24,skY:24,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,7,{x:104,y:12,skX:76,skY:76},!0)):9===this.counterAnim?this.tattoo.visible=!1:15===this.counterAnim?this.head.animations.play("anim1"):48===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,7,{x:1,y:-18,skX:-5,skY:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,7,{x:9,y:-46,skX:25,skY:25},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,7,{x:2,y:-86,skX:-9,skY:-9},!0),Client.GameManager.instance.level.setSimpleTween(this.head,7,{x:-61,y:-116,skX:-23,skY:-23},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,7,{x:5,y:28,skX:3,skY:-177},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,7,{x:3,y:17,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,7,{x:-96,y:24,skX:-144,skY:-144},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,7,{x:-18,y:-46,skX:-23,skY:-23},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,7,{x:-54,y:6,skX:-12,skY:168},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,7,{x:-62,y:-21,skX:-23,skY:157},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,7,{x:-67,y:-61,skX:-23,skY:157},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,7,{x:-28,y:29,skX:-7,skY:-7},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,7,{x:-24,y:19,skX:16,skY:16},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,7,{x:34,y:-3,skX:103,skY:103},!0)):55===this.counterAnim?(this.head.animations.play("anim2"),this.arrow.destroy(),Client.GameManager.instance.level.setSimpleTween(this.hand1_1,4,{x:-7,y:-12,skX:-8,skY:-8},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,4,{x:-3,y:-40,skX:14,skY:14},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,4,{x:-12,y:-79,skX:-5,skY:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.head,4,{x:-71,y:-118,skX:-13,skY:-13},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,4,{x:-33,y:30,skX:-13,skY:167},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,4,{x:-36,y:15,skX:37,skY:-143},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,4,{x:-130,y:12,skX:-134,skY:-134},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,4,{x:-42,y:-43,skX:-13,skY:-13},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,4,{x:-84,y:1,skX:-1,skY:179},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,4,{x:-88,y:-26,skX:-13,skY:167},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,4,{x:-86,y:-65,skX:-13,skY:167},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,4,{x:-22,y:26,skX:-29,skY:-29},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,4,{x:-23,y:16,skX:-15,skY:-15},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,4,{x:-1,y:4},!0)):59===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,5,{x:-16,y:-5,skX:-11,skY:-11},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,5,{x:-18,y:-33,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,5,{x:-30,y:-71,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.head,5,{x:-82,y:-120,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-50,y:32,skX:4,skY:-176},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-52,y:21,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,5,{x:-170,y:-4,skX:-121,skY:-121},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-71,y:-38,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,5,{x:-123,y:-5,skX:11,skY:-169},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,5,{x:-121,y:-33,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,5,{x:-109,y:-71,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-98,y:32,skX:-4,skY:-4},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-96,y:21,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,5,{x:-26,y:2},!0)):64===this.counterAnim&&this.animComplete():"move_left"===this.currAnim?1===this.counterAnim?(this.head.animations.play("anim3"),this.setPart(this.hand1_1,{x:-16,y:-5,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1},!0),this.setPart(this.hand1_2,{x:-18,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.hand1_3,{x:-30,y:-71,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.head,{x:-82,y:-120,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-37,y:30,skX:-48,skY:132},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-51,y:18,skX:-12,skY:168},!0),this.setPart(this.palka,{x:-170,y:-4,angle:0,scX:1,scY:1,skX:-121,skY:-121,alpha:1},!0),this.setPart(this.tors,{x:-71,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.hand2_1,{x:-123,y:-5,angle:0,scX:1,scY:1,skX:11,skY:-169,alpha:1},!0),this.setPart(this.hand2_2,{x:-121,y:-33,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.hand2_3,{x:-109,y:-71,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-111,y:27,skX:18,skY:18},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-102,y:17,skX:41,skY:41},!0),this.setPart(this.tail,{x:-26,y:2,angle:0,scX:1,scY:1,skX:103,skY:103,alpha:1},!0)):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-73,y:29},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-64,y:17,skX:60,skY:-120},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-81,y:33,skX:-10,skY:-10},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-84,y:12,skX:-10,skY:-10},!0)):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-107,y:24,skX:-3,skY:177},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-97,y:8,skX:48,skY:-132},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-42,y:29,skX:-28,skY:-28},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-51,y:11,skX:-34,skY:-34},!0)):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-71,y:33},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-70,y:19,skX:3,skY:-177},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-84,y:23},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-81,y:8,skX:48,skY:48},!0)):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-37,y:30,skX:-48,skY:132},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-51,y:18,skX:-12,skY:168},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-111,y:27,skX:18,skY:18},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-102,y:17,skX:41,skY:41},!0)):26===this.counterAnim?(this.setPart(this.leg1_1,{x:-37,y:30,angle:0,scX:1,scY:1,skX:-48,skY:132,alpha:1},!0),this.setPart(this.leg1_2,{x:-51,y:18,angle:0,scX:1,scY:1,skX:-12,skY:168,alpha:1},!0),this.setPart(this.leg2_1,{x:-111,y:27,angle:0,scX:1,scY:1,skX:18,skY:18,alpha:1},!0),this.setPart(this.leg2_2,{x:-102,y:17,angle:0,scX:1,scY:1,skX:41,skY:41,alpha:1},!0)):27===this.counterAnim&&(this.counterAnim=5):"attack"===this.currAnim?1===this.counterAnim?(this.head.animations.play("anim4"),Client.GameManager.instance.level.setSimpleTween(this.hand1_1,10,{x:-15,y:-16,skX:21,skY:19,scX:1.01,scY:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,10,{x:-5,y:-44,skX:-3,skY:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,10,{x:-20,y:-74,skX:-14,skY:-16},!0),Client.GameManager.instance.level.setSimpleTween(this.head,10,{x:-72,y:-121,skX:11,skY:11},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,10,{skX:6},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,10,{x:-51,skX:2},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,10,{x:-145,y:-124,skX:9,skY:7},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:-70,y:-40,skX:2},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,10,{x:-174,y:-87,skX:140,skY:-40,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,10,{x:-144,y:-79,skX:90,skY:-88},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,10,{x:-116,y:-86,skX:42,skY:-139,scX:.98,scY:1.02},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,10,{skX:-2},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,10,{x:-95,skX:2},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,10,{x:-31,y:5,skX:122,skY:122},!0)):11===this.counterAnim?(Client.GameManager.instance.level.customAction(4),Client.GameManager.instance.level.setSimpleTween(this.hand1_1,5,{x:-46,y:-26,skX:61,skY:59,scX:1},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,5,{x:-29,y:-33,skX:37,skY:35},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,5,{y:-61,skX:16,skY:14},!0),Client.GameManager.instance.level.setSimpleTween(this.head,5,{x:-56,y:-123,skX:14,skY:14},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-51,skX:2,skY:-178},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-53,skX:9,skY:-173},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,5,{x:-65,y:-143,skX:61,skY:59,scX:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-63,y:-42,skX:6,skY:4},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,5,{x:-115,y:-148,skX:-128,skY:52,scX:1.01},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,5,{x:-119,y:-125,skX:176,skY:-2},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,5,{x:-108,y:-103,skX:97,skY:-84},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-103,y:24,skX:-5,skY:-7},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-99,y:13,skX:24,skY:22},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,5,{x:-28,y:8,skX:131,skY:131},!0)):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,10,{x:-74,y:-36,skX:101,skY:99,scX:1.01},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,10,{x:-44,y:-31,skX:77,skY:76},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,10,{x:-22,y:-54,skX:45,skY:43},!0),Client.GameManager.instance.level.setSimpleTween(this.head,10,{x:-40,y:-125,skX:17,skY:17},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,10,{x:-53,skX:-1,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,10,{x:-54,skX:16,skY:-166},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,10,{x:-19,y:-114,skX:113,skY:111,scX:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:-55,y:-43,skX:10,skY:8},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,10,{x:-46,skX:-72,skY:108,scX:1.02},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,10,{x:-73,y:-133,skX:-136,skY:45},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,10,{x:-81,skX:149,skY:-32},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,10,{x:-108,y:16,skX:-9,skY:-10},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,10,{x:-102,y:5,skX:46,skY:44},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,10,{x:-27,y:13,skX:136,skY:136},!0)):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,3,{x:-57,y:-45,skX:48,skY:47,scX:1},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,3,{x:-48,y:-48,skX:24,skY:22},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,3,{x:-37,y:-68,skX:-3,skY:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.head,3,{x:-87,skX:1,skY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,3,{x:-46,y:26,skX:-35,skY:145},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,3,{x:-51,y:18,skX:-9,skY:169},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,3,{x:-98,y:-145,skX:39,skY:37,scX:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,3,{x:-74,y:-46,skX:-9,skY:-11},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,3,{x:-141,y:-139,skX:-148,skY:31,scX:1.01},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,3,{x:-141,y:-110,skX:166,skY:-12},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,3,{x:-124,y:-92,skX:82,skY:-98},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,3,{x:-103,y:23,skX:-6,skY:-7},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,3,{x:-99,y:13,skX:26,skY:24},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,5,{x:-38,y:-15,skX:84,skY:84},!0)):29===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,2,{x:-30,y:-58,skX:-15,skY:-16,scX:1.01},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,2,{x:-43,y:-91,skX:-40,skY:-41},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,2,{x:-71,y:-103,skX:-61,skY:-63},!0),Client.GameManager.instance.level.setSimpleTween(this.head,2,{x:-138,y:-114,skX:-19,skY:-19},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,2,{x:-38,y:19,skX:-76,skY:102},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,2,{x:-48,y:12,skX:-40,skY:138},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,2,{x:-211,y:-97,skX:-50,skY:-52,scX:1},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,2,{x:-96,y:-42,skX:-33,skY:-35},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,2,{x:-199,y:-47,skX:120,skY:-61,scX:1.02},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,2,{x:-168,y:-50,skX:69,skY:-109},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,2,{x:-144,y:-67,skX:21,skY:-160},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,2,{x:-98,y:32,skX:-2,skY:-4},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,2,{x:-95,y:21,skX:2,skY:0},!0)):31===this.counterAnim?(Client.GameManager.instance.level.customAction(6),Client.GameManager.instance.level.setSimpleTween(this.hand1_1,2,{y:-68,skX:-35,skY:-37},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,2,{x:-54,y:-95,skX:-60,skY:-62},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,2,{x:-86},!0),Client.GameManager.instance.level.setSimpleTween(this.head,2,{x:-152,y:-103,skX:-36,skY:-36},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,2,{x:-49,y:20,skX:-54,skY:124},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,2,{x:-59,y:7,skX:-15,skY:164},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,2,{x:-234,y:-38,skX:-104,skY:-106},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,2,{x:-99,y:-43,skX:-39,skY:-39},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,2,{x:-188,y:-18,skX:97,skY:-84},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,2,{x:-160,y:-33,skX:46,skY:-132},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,2,{x:-145,y:-58,skX:-2,skY:177},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,2,{x:-97,skX:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,2,{y:18},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,2,{x:-39,y:-16,skX:69,skY:69},!0)):33===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,4,{x:-47,y:-41,skX:-17,skY:-19},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,4,{x:-62,y:-74,skX:-42,skY:-44},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,4,{x:-89,y:-91,skX:-43,skY:-45},!0),Client.GameManager.instance.level.setSimpleTween(this.head,4,{x:-154,y:-100},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,4,{x:-53,y:27,skX:-8,skY:170},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,4,{y:11,skX:-6,skY:172},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,4,{x:-228,y:-62,skX:-77,skY:-79},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,4,{x:-195,y:-26,skX:104,skY:-76},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,4,{x:-166,y:-38,skX:53,skY:-125},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,4,{x:-148,y:-60,skX:5,skY:-175},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,4,{x:-101,y:30,skX:-20,skY:-19},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,4,{x:-99,y:15,skX:29,skY:27},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,4,{y:-9,skX:101,skY:101},!0)):37===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,9,{x:-16,y:-5,skX:-11,skY:-11,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,9,{x:-18,y:-33,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,9,{x:-30,y:-71,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.head,9,{x:-82,y:-120,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,9,{x:-50,y:32,skX:4,skY:-176},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,9,{x:-52,y:21,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,9,{x:-170,y:-4,skX:-121,skY:-121},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,9,{x:-71,y:-38,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,9,{x:-123,y:-5,skX:11,skY:-169,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,9,{x:-121,y:-33,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,9,{x:-109,y:-71,skX:0,skY:180,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,9,{x:-98,y:32,skX:-4,skY:-4},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,9,{x:-96,y:21,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,9,{x:-26,y:3},!0)):62===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,7,{x:-24,y:-21,skX:-23,skY:-23},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,7,{x:-32,y:-48,skX:-12,skY:-12},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,7,{x:-56,y:-80,skX:-20,skY:-20},!0),Client.GameManager.instance.level.setSimpleTween(this.head,7,{x:-117,y:-110,skX:-22,skY:-22},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,7,{x:-80,y:31,skX:-7,skY:173},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,7,{x:-80,y:20,skX:20,skY:-160},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,7,{x:-189,y:-76,skX:-38,skY:-38},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,7,{x:-89,y:-37,skX:-9,skY:-9},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,7,{x:-182,y:-30,skX:94,skY:-86},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,7,{x:-155,y:-37,skX:64,skY:-116},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,7,{x:-133,y:-65,skX:-6,skY:174},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,7,{x:-101},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,7,{x:-99},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,7,{x:-46,y:9,skX:105,skY:105},!0)):69===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,8,{x:-73,y:-25,skX:-17,skY:-17},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,8,{x:-74,y:-65,skX:-6,skY:-6},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,8,{x:-93,y:-91,skX:-33,skY:-33},!0),Client.GameManager.instance.level.setSimpleTween(this.head,8,{x:-163,y:-115,skX:-25,skY:-25},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,8,{x:-140,y:28,skX:1,skY:-179},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,8,{x:-137,y:19,skX:46,skY:-134},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,8,{x:-147,y:-107,skX:40,skY:40},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-126,y:-42,skX:-12,skY:-12},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,8,{x:-190,y:-102,skX:-133,skY:47},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,8,{x:-186,y:-67,skX:163,skY:-17},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,8,{x:-168,y:-62,skX:31,skY:-149},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,8,{x:-113,y:29,skX:-13,skY:-13},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,8,{x:-114,y:17,skX:11,skY:11},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,8,{x:-82,y:7,skX:117,skY:117},!0)):77===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,10,{x:-115,y:-17,skX:-5,skY:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,10,{x:-107,y:-56,skX:6,skY:6},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,10,{x:-121,y:-86,skX:-21,skY:-21},!0),Client.GameManager.instance.level.setSimpleTween(this.head,10,{x:-171,y:-125,skX:5,skY:5},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,10,{x:-145,y:32},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,10,{x:-148,y:14,skX:1,skY:-179},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,10,{x:-161,y:-112,skX:63,skY:63},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:-163,y:-44,skX:-1,skY:-1},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,10,{x:-204,y:-119,skX:-122,skY:58},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,10,{x:-209,y:-82,skX:174,skY:-6},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,10,{x:-194,y:-71,skX:43,skY:-137},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,10,{x:-189,y:31,skX:-3,skY:-3},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,10,{x:-187,y:15,skX:-2,skY:-2},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,10,{x:-120,y:-3},!0)):91===this.counterAnim?(this.setPart(this.hand1_1,{x:-217,y:-17,angle:0,scX:1,scY:1,skX:5,skY:-175,alpha:1},!0),this.setPart(this.hand1_2,{x:-225,y:-56,angle:0,scX:1,scY:1,skX:-6,skY:174,alpha:1},!0),this.setPart(this.hand1_3,{x:-211,y:-86,angle:0,scX:1,scY:1,skX:21,skY:-159,alpha:1},!0),this.setPart(this.head,{x:-158,y:-128,angle:0,scX:1,scY:1,skX:-5,skY:175,alpha:1},!0),this.setPart(this.leg1_1,{x:-186,y:32,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1},!0),this.setPart(this.leg1_2,{x:-184,y:14,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1},!0),this.setPart(this.palka,{x:-171,y:-112,angle:0,scX:1,scY:1,skX:-63,skY:117,alpha:1},!0),this.setPart(this.tors,{x:-169,y:-44,angle:0,scX:1,scY:1,skX:1,skY:-179,alpha:1},!0),this.setPart(this.hand2_1,{x:-128,y:-119,angle:0,scX:1,scY:1,skX:122,skY:122,alpha:1},!0),this.setPart(this.hand2_2,{x:-123,y:-82,angle:0,scX:1,scY:1,skX:-174,skY:-174,alpha:1},!0),this.setPart(this.hand2_3,{x:-138,y:-71,angle:0,scX:1,scY:1,skX:-43,skY:-43,alpha:1},!0),this.setPart(this.leg2_1,{x:-143,y:31,angle:0,scX:1,scY:1,skX:3,skY:-177,alpha:1},!0),this.setPart(this.leg2_2,{x:-145,y:15,angle:0,scX:1,scY:1,skX:2,skY:-178,alpha:1},!0),this.setPart(this.tail,{x:-204,y:10,angle:0,scX:1,scY:1,skX:-132,skY:48,alpha:1},!0)):92===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,9,{x:-229,y:-11,skX:13,skY:-167},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,9,{x:-226,y:-48,skX:4,skY:-176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,9,{x:-207,y:-81,skX:22,skY:-158},!0),Client.GameManager.instance.level.setSimpleTween(this.head,9,{x:-152,y:-119,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,9,{x:-180,skX:2},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,9,{x:-180,y:17,skX:-39,skY:-39},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,9,{x:-178,y:-108,skX:-58,skY:122},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,9,{x:-170,y:-37,skX:5,skY:-175},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,9,{x:-135,y:-111,skX:119,skY:119},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,9,{x:-126,y:-76,skX:178,skY:178},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,9,{y:-69,skX:-49,skY:-49},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,9,{x:-136,skX:6},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,9,{x:-142,skX:-36,skY:144},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,9,{x:-208,y:13,skX:-121,skY:59},!0)):101===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,10,{x:-224,y:-13,skX:6,skY:-174},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,10,{y:-50,skX:-3,skY:177},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,10,{x:-212,y:-85,skX:15,skY:-165},!0),Client.GameManager.instance.level.setSimpleTween(this.head,10,{x:-162,y:-130,skX:-8,skY:172},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,10,{x:-182,y:35},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,10,{y:14,skX:-19,skY:-19},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,10,{x:-186,y:-115,skX:-65,skY:115},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:-169,y:-47,skX:-2,skY:178},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,10,{x:-143,y:-124,skX:112,skY:112},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,10,{x:-130,y:-91,skX:170,skY:170},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,10,{x:-141,y:-82,skX:-57,skY:-56},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,10,{x:-140,y:33},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,10,{x:-143,y:13,skX:-6,skY:174},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,10,{x:-207,y:3,skX:-114,skY:66},!0)):116===this.counterAnim&&this.animComplete():"move_right"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,5,{y:-24,skX:12,skY:-168},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,5,{x:-221,y:-60,skX:3,skY:-177},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,5,{x:-204,y:-94,skX:21,skY:-159},!0),Client.GameManager.instance.level.setSimpleTween(this.head,5,{x:-149,y:-134,skX:-2,skY:178},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,5,{x:-133,y:30,skX:-5,skY:-3},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,5,{x:-140,y:10,skX:-52,skY:-52},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,5,{x:-175,y:-122,skX:-59,skY:121},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-165,y:-52,skX:4,skY:-176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,5,{x:-132,y:-126,skX:118,skY:118},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,5,{x:-122,skX:176,skY:176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,5,{x:-134,y:-84,skX:-51,skY:-50},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,5,{x:-186,y:28,skX:42,skY:-141},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,5,{x:-182,y:10,skX:13,skY:-167},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,5,{x:-203,y:-1,skX:-129,skY:51},!0)):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,8,{x:-225,y:-21,skX:8,skY:-172},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,8,{x:-228,y:-59,skX:-1,skY:179},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,8,{x:-209,y:-92,skX:24,skY:-156},!0),Client.GameManager.instance.level.setSimpleTween(this.head,8,{x:-156,y:-132,skX:-5,skY:175},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,8,{x:-169,y:33,skX:-2,skY:-5},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,8,{x:-169,skX:-16,skY:-16},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,8,{x:-180,y:-118,skX:-63,skY:117},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-167,y:-49,skX:1,skY:-179},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,8,{x:-138,y:-125,skX:114,skY:114},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,8,{x:-126,skX:173,skY:173},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,8,{x:-137,y:-83,skX:-54,skY:-54},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,8,{x:-146,y:18,skX:20,skY:-163},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,8,{x:-155,y:3,skX:-49,skY:131},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,8,{y:3,skX:-148,skY:32},!0)):14===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,8,{x:-224,y:-24,skX:12,skY:-168},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,8,{x:-221,y:-60,skX:3,skY:-177},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,8,{x:-204,y:-94,skX:21,skY:-159},!0),Client.GameManager.instance.level.setSimpleTween(this.head,8,{x:-149,y:-134,skX:-2,skY:178},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,8,{x:-188,y:26,skX:48,skY:45},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,8,{x:-183,y:9},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,8,{x:-175,y:-122,skX:-59,skY:121},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-165,y:-52,skX:4,skY:-176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,8,{x:-132,y:-126,skX:118,skY:118},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,8,{x:-122,skX:176,skY:176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,8,{x:-134,y:-84,skX:-51,skY:-50},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,8,{x:-131,y:30,skX:5,skY:-178},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,8,{x:-137,y:11,skX:-25,skY:155},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,8,{y:-1,skX:-129,skY:51},!0)):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,8,{x:-225,y:-21,skX:8,skY:-172},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,8,{x:-228,y:-59,skX:-1,skY:179},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,8,{x:-209,y:-92,skX:24,skY:-156},!0),Client.GameManager.instance.level.setSimpleTween(this.head,8,{x:-156,y:-132,skX:-5,skY:175},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,8,{x:-146,y:21,skX:19,skY:16},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,8,{x:-150,y:6,skX:-54,skY:-54},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,8,{x:-180,y:-118,skX:-63,skY:117},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-167,y:-49,skX:1,skY:-179},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,8,{x:-138,y:-125,skX:114,skY:114},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,8,{x:-126,skX:173,skY:173},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,8,{x:-137,y:-83,skX:-54,skY:-54},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,8,{x:-167,y:31,skX:10,skY:-173},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,8,{x:-165,y:10,skX:11,skY:-169},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,8,{y:3,skX:-148,skY:32},!0)):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hand1_1,8,{x:-224,y:-24,skX:12,skY:-168},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_2,8,{x:-221,y:-60,skX:3,skY:-177},!0),Client.GameManager.instance.level.setSimpleTween(this.hand1_3,8,{x:-204,y:-94,skX:21,skY:-159},!0),Client.GameManager.instance.level.setSimpleTween(this.head,8,{x:-149,y:-134,skX:-2,skY:178},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_1,8,{x:-133,y:30,skX:-5,skY:-3},!0),Client.GameManager.instance.level.setSimpleTween(this.leg1_2,8,{x:-140,y:10,skX:-52,skY:-52},!0),Client.GameManager.instance.level.setSimpleTween(this.palka,8,{x:-175,y:-122,skX:-59,skY:121},!0),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-165,y:-52,skX:4,skY:-176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_1,8,{x:-132,y:-126,skX:118,skY:118},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_2,8,{x:-122,skX:176,skY:176},!0),Client.GameManager.instance.level.setSimpleTween(this.hand2_3,8,{x:-134,y:-84,skX:-51,skY:-50},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_1,8,{x:-186,y:28,skX:42,skY:-141},!0),Client.GameManager.instance.level.setSimpleTween(this.leg2_2,8,{x:-182,skX:13,skY:-167},!0),Client.GameManager.instance.level.setSimpleTween(this.tail,8,{y:-1,skX:-129,skY:51},!0)):38===this.counterAnim&&(this.counterAnim=5)))},Lvl5Monster.prototype.setParts=function(value){"sleep"===value||"wakeUp"===value?(this.setPart(this.tattoo,{x:21,y:-11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.hand1_1,{x:40,y:47,angle:0,scX:1,scY:1,skX:-82,skY:-82,alpha:1},!0),this.setPart(this.hand1_2,{x:12,y:41,angle:0,scX:1,scY:1,skX:-71,skY:-71,alpha:1},!0),this.setPart(this.hand1_3,{x:-23,y:43,angle:0,scX:1,scY:1,skX:-95,skY:-95,alpha:1},!0),this.setPart(this.head,{x:-33,y:107,angle:0,scX:1,scY:1,skX:-153,skY:-153,alpha:1},!0),this.setPart(this.leg1_1,{x:31,y:3,angle:0,scX:1,scY:1,skX:-47,skY:133,alpha:1},!0),this.setPart(this.leg1_2,{x:22,y:1,angle:0,scX:1,scY:1,skX:-51,skY:129,alpha:1},!0),this.setPart(this.palka,{x:97,y:67,angle:0,scX:1,scY:1,skX:98,skY:98,alpha:1},!0),this.setPart(this.tors,{x:-1,y:38,angle:0,scX:1,scY:1,skX:-135,skY:-135,alpha:1},!0),this.setPart(this.hand2_1,{x:61,y:38,angle:0,scX:1,scY:1,skX:-130,skY:50,alpha:1},!0),this.setPart(this.hand2_2,{x:41,y:59,angle:0,scX:1,scY:1,skX:-141,skY:39,alpha:1},!0),this.setPart(this.hand2_3,{x:8,y:81,angle:0,scX:1,scY:1,skX:-141,skY:39,alpha:1},!0),this.setPart(this.leg2_1,{x:58,y:34,angle:0,scX:1,scY:1,skX:-54,skY:-54,alpha:1},!0),this.setPart(this.leg2_2,{x:51,y:25,angle:0,scX:1,scY:1,skX:-50,skY:-50,alpha:1},!0),this.setPart(this.tail,{x:39,y:-23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):"move_left"===value||"attack"===value?(this.tattoo.visible=!1,this.setPart(this.hand1_1,{x:-16,y:-5,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1},!0),this.setPart(this.hand1_2,{x:-18,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.hand1_3,{x:-30,y:-71,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.head,{x:-82,y:-120,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.leg1_1,{x:-50,y:32,angle:0,scX:1,scY:1,skX:4,skY:-176,alpha:1},!0),this.setPart(this.leg1_2,{x:-52,y:21,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.palka,{x:-170,y:-4,angle:0,scX:1,scY:1,skX:-121,skY:-121,alpha:1},!0),this.setPart(this.tors,{x:-71,y:-38,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.hand2_1,{x:-123,y:-5,angle:0,scX:1,scY:1,skX:11,skY:-169,alpha:1},!0),this.setPart(this.hand2_2,{x:-121,y:-33,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.hand2_3,{x:-109,y:-71,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.leg2_1,{x:-98,y:32,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1},!0),this.setPart(this.leg2_2,{x:-96,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.tail,{x:-26,y:2,angle:0,scX:1,scY:1,skX:103,skY:103,alpha:1},!0)):"move_right"===value&&(this.tattoo.visible=!1,this.setPart(this.hand1_1,{x:-224,y:-13,angle:0,scX:1,scY:1,skX:6,skY:-174,alpha:1},!0),this.setPart(this.hand1_2,{x:-226,y:-50,angle:0,scX:1,scY:1,skX:-3,skY:177,alpha:1},!0),this.setPart(this.hand1_3,{x:-212,y:-85,angle:0,scX:1,scY:1,skX:15,skY:-165,alpha:1},!0),this.setPart(this.head,{x:-162,y:-130,angle:0,scX:1,scY:1,skX:-8,skY:172,alpha:1},!0),this.setPart(this.leg1_1,{x:-182,y:35,angle:0,scX:1,scY:1,skX:2,skY:-1,alpha:1},!0),this.setPart(this.leg1_2,{x:-180,y:14,angle:0,scX:1,scY:1,skX:-19,skY:-19,alpha:1},!0),this.setPart(this.palka,{x:-186,y:-115,angle:0,scX:1,scY:1,skX:-65,skY:115,alpha:1},!0),this.setPart(this.tors,{x:-169,y:-47,angle:0,scX:1,scY:1,skX:-2,skY:178,alpha:1},!0),this.setPart(this.hand2_1,{x:-143,y:-124,angle:0,scX:1,scY:1,skX:112,skY:112,alpha:1},!0),this.setPart(this.hand2_2,{x:-130,y:-91,angle:0,scX:1,scY:1,skX:170,skY:170,alpha:1},!0),this.setPart(this.hand2_3,{x:-141,y:-82,angle:0,scX:1,scY:1,skX:-57,skY:-56,alpha:1},!0),this.setPart(this.leg2_1,{x:-140,y:33,angle:0,scX:1,scY:1,skX:6,skY:-177,alpha:1},!0),this.setPart(this.leg2_2,{x:-143,y:13,angle:0,scX:1,scY:1,skX:-6,skY:174,alpha:1},!0),this.setPart(this.tail,{x:-207,y:3,angle:0,scX:1,scY:1,skX:-114,skY:66,alpha:1},!0))},Lvl5Monster.prototype.free=function(){this.game=null,this.group=null,this.tail=null,this.leg2_2=null,this.leg2_1=null,this.hand2_3=null,this.hand2_2=null,this.hand2_1=null,this.tors=null,this.palka=null,this.leg1_2=null,this.leg1_1=null,this.head=null,this.hand1_3=null,this.hand1_2=null,this.hand1_1=null,this.tattoo=null,this.body=null,this.arrow=null},Lvl5Monster})(Client.BasicSimpleAnim);Client.Lvl5Monster=Lvl5Monster})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5QuesCarBag=(_super=>{function Lvl5QuesCarBag(game){var _this=_super.call(this,game)||this;return _this.stop=!1,_this.group=game.make.group(),_this.group.x=605,_this.group.y=187,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.rope2=new Client.SASprite(game,0,0,"level5","questCarRope instance 10000"),_this.rope2.pivot.set(6,15),_this.group.addChild(_this.rope2),_this.bag=new Client.SASprite(game,0,0,"level5","questCarBag instance 10000"),_this.bag.pivot.set(23,29),_this.bag.animations.add("anim",Phaser.Animation.generateFrameNames("questCarBag instance 1",10,12,"",4),30,!1).onComplete.addOnce(_this.goCar,_this),_this.bag.animations.add("anim2",Phaser.Animation.generateFrameNames("questCarBag instance 1",13,40,"",4),30,!1),_this.group.addChild(_this.bag),_this.rope1=new Client.SASprite(game,0,0,"level5","questCarRope2 instance 10000"),_this.rope1.pivot.set(6,6),_this.group.addChild(_this.rope1),_this.playAnim("anim",-1),_this}return __extends(Lvl5QuesCarBag,_super),Lvl5QuesCarBag.prototype.goCar=function(){Client.SoundManager.playSFX("s_lvl5_lwFall"),this.bag.animations.play("anim2"),Client.GameManager.instance.level.customAction(7)},Lvl5QuesCarBag.prototype.activate=function(){this.bag.animations.play("anim"),this.stop=!0},Lvl5QuesCarBag.prototype.onAnimComplete=function(){!0===this.stop&&"anim"===this.currAnim&&(this.activeAnim=!1)},Lvl5QuesCarBag.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.rope1,6,{skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.bag,6,{x:1,y:1,skX:-2,scY:1.03})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.rope1,6,{skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.bag,6,{x:0,y:0,skX:0,scY:1})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.rope1,6,{y:-18,skX:7,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.bag,6,{x:-1,skX:3,scY:1.02})):28===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.rope1,7,{y:-17,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.bag,7,{x:0,skX:0,scY:1})):35===this.counterAnim?(this.setPart(this.rope1,{x:2,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bag,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):50===this.counterAnim&&this.animComplete())},Lvl5QuesCarBag.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.rope1,{x:2,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bag,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rope2,{x:0,y:-71,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5QuesCarBag.prototype.free=function(){this.group=null,this.rope2=null,this.bag=null,this.rope1=null},Lvl5QuesCarBag})(Client.BasicSimpleAnim);Client.Lvl5QuesCarBag=Lvl5QuesCarBag})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Robin=(_super=>{function Lvl5Robin(game){var _this=_super.call(this,game)||this;return _this.dead=!1,_this.startDefeat=!1,_this.counterDefeat=0,_this.contactHeroCount=0,_this.countStars=0,_this.game=game,_this.body=new Phaser.Physics.Box2D.Body(game,null,447,247,1),_this.body.setRectangle(130,72),_this.body.setCollisionCategory(Client.FilterGroups.CAR2),Client.GameManager.instance.hero.bodyBase.setBodyContactCallback(_this.body,_this.contactHero,_this),_this.bodyBow=new Phaser.Physics.Box2D.Body(game,null,482,240,2),_this.bodyBow.setRectangle(50,22),_this.bodyBow.fixedRotation=!0,_this.bodyBow.sensor=!0,game.physics.box2d.revoluteJoint(_this.body,_this.bodyBow,35,-7),_this.group=game.make.group(),_this.group.x=_this.body.x,_this.group.y=_this.body.y,Client.GameManager.instance.layerElements.addChild(_this.group),_this.bubble=_this.group.create(-150,-105,"level5"),_this.bubble.animations.add("anim",Phaser.Animation.generateFrameNames("robinBubble instance 1",0,61,"",4),30,!1).killOnComplete=!0,_this.bubble.visible=!1,_this.bodyWheel1=new Phaser.Physics.Box2D.Body(game,null,_this.body.x-35,_this.body.y+35,2),_this.bodyWheel1.setCircle(15),_this.bodyWheel1.setCollisionCategory(Client.FilterGroups.CAR2),game.physics.box2d.revoluteJoint(_this.body,_this.bodyWheel1,-35,35),_this.bodyWheel2=new Phaser.Physics.Box2D.Body(game,null,_this.body.x+30,_this.body.y+35,2),_this.bodyWheel2.setCircle(15),_this.bodyWheel2.setCollisionCategory(Client.FilterGroups.CAR2),game.physics.box2d.revoluteJoint(_this.body,_this.bodyWheel2,30,35),_this.lamp=new Client.SASprite(game,0,0,"level5","robinLamp instance 10000"),_this.lamp.pivot.set(7,9),_this.group.addChild(_this.lamp),_this.tors=new Client.SASprite(game,0,0,"level5","robinTors instance 10000"),_this.tors.pivot.set(69,37),_this.group.addChild(_this.tors),_this.hat=new Client.SASprite(game,0,0,"level5","robinHead instance 10000"),_this.hat.pivot.set(32,24),_this.group.addChild(_this.hat),_this.eyes=new Client.SASprite(game,0,0,"level5","robinEye instance 10000"),_this.eyes.pivot.set(11,12),_this.group.addChild(_this.eyes),_this.zzz=new Client.SASprite(game,0,0,"level5","robinZZZ instance 10000"),_this.zzz.pivot.set(20,25),_this.zzz.animations.add("anim",Phaser.Animation.generateFrameNames("robinZZZ instance 1",0,49,"",4),30,!0),_this.zzz.animations.play("anim"),_this.group.addChild(_this.zzz),_this.wheel1=_this.group.create(-35,35,"level5","robinWheel instance 10000"),_this.wheel1.anchor.setTo(.5),_this.wheel2=_this.group.create(32,32,"level5","robinWheel instance 10000"),_this.wheel2.anchor.setTo(.5),_this.wheel2.scale.setTo(1.2),_this.weapon=new Client.Lvl5RobinWeapon(game),_this.playAnim("sleep",-1),_this}return __extends(Lvl5Robin,_super),Lvl5Robin.prototype.destroy=function(){this.activeAnim=!1,this.group.destroy(),this.body.destroy(),this.bodyWheel1.destroy(),this.bodyWheel2.destroy()},Lvl5Robin.prototype.contactHero=function(){0===this.contactHeroCount&&(this.contactHeroCount=1)},Lvl5Robin.prototype.update=function(){_super.prototype.update.call(this),1===this.contactHeroCount&&(this.contactHeroCount=2,this.attack(),Client.GameManager.instance.level.customAction(8)),!0===this.startDefeat&&(this.counterDefeat+=1,90<=this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed()),this.group.x=this.body.x,this.group.y=this.body.y,this.wheel1.angle=this.bodyWheel1.angle,this.wheel2.angle=this.bodyWheel2.angle,!1===this.dead&&(this.weapon.group.x=this.group.x+10,this.weapon.group.y=this.group.y),this.weapon.update()},Lvl5Robin.prototype.wakeUp=function(){this.playAnim("wakeUp"),this.eyes.frameName="robinEye instance 10001",this.weapon.playAnim("wakeUp"),Client.SoundManager.playSFX("s_lvl5_robinAgression")},Lvl5Robin.prototype.menace=function(){this.bubble.visible=!0,this.bubble.animations.play("anim"),this.playAnim("menace",-1),this.weapon.playAnim("menace",-1),this.body.velocity.x=-20},Lvl5Robin.prototype.attack=function(){this.playAnim("attack"),this.weapon.playAnim("attack"),Client.SoundManager.playSFX("s_sword1")},Lvl5Robin.prototype.die=function(){this.dead=!0,this.body.velocity.x=0,this.bodyWheel1.angularVelocity=0,this.bodyWheel2.angularVelocity=0,this.bodyWheel1.velocity.x=0,this.bodyWheel2.velocity.x=0,this.eyes.frameName="robinEye instance 10002";var stars=this.game.make.sprite(-15,-30,"level5");stars.animations.add("cycle",Phaser.Animation.generateFrameNames("stars instance 1",0,18,"",4),30,!1).onComplete.add(this.endCycle,this),stars.animations.add("end",Phaser.Animation.generateFrameNames("stars instance 1",19,74,"",4),30,!1).killOnComplete=!0,stars.animations.play("cycle"),this.eyes.addChild(stars),this.playAnim("die"),Client.SoundManager.playSFX("s_lvl5_robinStars",!0),this.weapon.playAnim("die")},Lvl5Robin.prototype.endCycle=function(sprite,data){this.countStars+=1,6<=this.countStars?sprite.animations.play("end"):sprite.animations.play("cycle")},Lvl5Robin.prototype.onAnimComplete=function(){"wakeUp"===this.currAnim?(Client.GameManager.instance.level.customAction(2),this.body.dynamic=!0):"attack"===this.currAnim&&(Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,this.startDefeat=!0)},Lvl5Robin.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"sleep"===this.currAnim?1===this.counterAnim?(this.setPart(this.zzz,{x:-53,y:-9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.eyes,25,{y:-12}),Client.GameManager.instance.level.setSimpleTween(this.hat,25,{y:-38}),Client.GameManager.instance.level.setSimpleTween(this.tors,25,{y:-2,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.lamp,25,{y:-31})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,16,{y:-9}),Client.GameManager.instance.level.setSimpleTween(this.hat,16,{y:-35}),Client.GameManager.instance.level.setSimpleTween(this.tors,16,{y:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.lamp,16,{y:-28})):42===this.counterAnim&&this.animComplete():"wakeUp"===this.currAnim?11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.hat,6,{x:-11,y:-36,skX:-2,skY:-2}):17===this.counterAnim&&this.animComplete():"menace"===this.currAnim?14===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,8,{x:-33,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.hat,8,{x:-12,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-4}),Client.GameManager.instance.level.setSimpleTween(this.lamp,8,{y:-30,skX:-19,skY:-19})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,7,{x:-32,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hat,7,{x:-11,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.tors,7,{x:-3}),Client.GameManager.instance.level.setSimpleTween(this.lamp,7,{x:33,y:-27,skX:10,skY:10})):29===this.counterAnim?(this.setPart(this.eyes,{x:-32,y:-9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hat,{x:-11,y:-36,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.tors,{x:-3,y:1,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.lamp,4,{x:35,y:-28,skX:0,skY:0})):33===this.counterAnim?this.setPart(this.lamp,{x:35,y:-28,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):56===this.counterAnim&&this.animComplete():"attack"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,15,{x:-28,skX:-1,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.hat,15,{x:-8,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.tors,15,{x:1,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.lamp,15,{x:38,y:-29,skX:-1,skY:-1})):16===this.counterAnim?(this.setPart(this.eyes,{x:-28,y:-9,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1}),this.setPart(this.hat,{x:-8,y:-36,angle:0,scX:1,scY:1,skX:-5,skY:-5,alpha:1}),this.setPart(this.tors,{x:1,y:1,angle:0,scX:1,scY:1,skX:-3,skY:-3,alpha:1}),this.setPart(this.lamp,{x:38,y:-29,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,8,{x:-40,y:-15,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.hat,8,{x:-17,y:-44,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{x:-11,y:-3,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.lamp,8,{x:30,y:-32,skX:-18,skY:-18})):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:-32,y:-9,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.hat,5,{x:-11,y:-33,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-3,y:1,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.lamp,5,{x:33,y:-27,skX:15,skY:15})):39===this.counterAnim?(this.setPart(this.eyes,{x:-32,y:-9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.hat,4,{y:-36}),this.setPart(this.tors,{x:-3,y:1,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.lamp,4,{x:35,y:-28,skX:0,skY:0})):43===this.counterAnim&&this.animComplete():"die"===this.currAnim&&(13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.hat,4,{x:0,y:-44,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.lamp,4,{x:50,y:-25,skX:-61,skY:-61})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.eyes,5,{x:-32,y:-15,skX:15,skY:15,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.hat,5,{x:-4,y:-38}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{x:-2,y:0,skX:6,skY:6,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.lamp,5,{x:43,y:-27,skX:-46,skY:-46})):22===this.counterAnim?(this.setPart(this.eyes,{x:-32,y:-15,angle:0,scX:1,scY:1,skX:15,skY:15,alpha:1}),this.setPart(this.hat,{x:-4,y:-38,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}),this.setPart(this.tors,{x:-2,y:0,angle:0,scX:1,scY:.98,skX:6,skY:6,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.lamp,5,{x:39,y:-23,skX:0,skY:0})):27===this.counterAnim&&this.animComplete()))},Lvl5Robin.prototype.setParts=function(value){"sleep"===value||"wakeUp"===value?(this.setPart(this.zzz,{x:-53,y:-9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.eyes,{x:-32,y:-9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hat,{x:-9,y:-35,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1}),this.setPart(this.tors,{x:-3,y:1,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.lamp,{x:35,y:-28,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"menace"!==value&&"attack"!==value&&"die"!==value||(this.zzz.visible=!1,this.setPart(this.eyes,{x:-32,y:-9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.hat,{x:-11,y:-36,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.tors,{x:-3,y:1,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.lamp,{x:35,y:-28,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5Robin.prototype.free=function(){this.game=null,this.group=null,this.lamp=null,this.tors=null,this.hat=null,this.eyes=null,this.zzz=null,this.bubble=null,this.wheel1=null,this.wheel2=null,this.body=null,this.bodyWheel1=null,this.bodyWheel2=null,this.bodyBow=null,this.weapon.free(),this.weapon=null},Lvl5Robin})(Client.BasicSimpleAnim);Client.Lvl5Robin=Lvl5Robin})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5RobinWeapon=(_super=>{function Lvl5RobinWeapon(game){var _this=_super.call(this,game)||this;return _this.bowPressed=!1,_this.bowVec=new Client.NapeVec2,_this.currentFrame=0,_this.game=game,_this.group=game.make.group(),Client.GameManager.instance.layerElements.addChild(_this.group),_this.knife=new Client.SASprite(game,0,0,"level5","robinKnife instance 10000"),_this.knife.pivot.set(27,18),_this.group.addChild(_this.knife),_this.bowGroup=new Client.SAGroup(game,0,0),_this.group.addChild(_this.bowGroup),_this.bow=_this.bowGroup.create(0,0,"level5","robinBow instance 10000"),_this.bow.anchor.setTo(.7,.52),_this.bow.angle=-48,_this.bow.animations.add("shoot",Phaser.Animation.generateFrameNames("robinBow instance 1",18,32,"",4),30,!1),_this.bow.events.onInputOut.add(_this.bowOut,_this),_this.bow.events.onInputOver.add(_this.bowOver,_this),_this.bow.events.onInputDown.add(_this.bowDown,_this),_this.bow.events.onInputUp.add(_this.bowUp,_this),_this.arrow=_this.bowGroup.create(0,0,"level5","arrow instance 10000"),_this.arrow.anchor.setTo(.7,.5),_this.arrow.angle=-48,_this.arrow.visible=!1,_this.playAnim("sleep",-1),_this}return __extends(Lvl5RobinWeapon,_super),Lvl5RobinWeapon.prototype.takeArrow=function(){this.arrow.visible=!0,Client.SoundManager.playSFX("s_lvl5_takeArrow")},Lvl5RobinWeapon.prototype.bowOut=function(){!0!==this.bowPressed&&(this.bow.frameName="robinBow instance 10000")},Lvl5RobinWeapon.prototype.bowOver=function(){!0!==this.bowPressed&&(this.bow.frameName="robinBow instance 10001")},Lvl5RobinWeapon.prototype.bowDown=function(){!1!==this.arrow.visible&&(this.bowPressed=!0)},Lvl5RobinWeapon.prototype.bowUp=function(){!1!==this.arrow.visible&&(this.bowPressed=!1,this.arrow.visible=!1,this.bow.animations.play("shoot"),Client.SoundManager.playSFX("s_lvl5_arrowShoot"),Client.GameManager.instance.level.blowArrow(this.group.x+this.bowGroup.x,this.group.y+this.bowGroup.y,this.arrow.angle,this.bowVec))},Lvl5RobinWeapon.prototype.update=function(){var mframe;_super.prototype.update.call(this),!0===this.bowPressed&&(this.bowVec.x=this.group.x+(this.bowGroup.x+10)-this.game.input.worldX,this.bowVec.y=this.group.y+(this.bowGroup.y-10)-this.game.input.worldY,this.bow.rotation=this.bowVec.angle,this.arrow.rotation=this.bow.rotation,mframe=this.bowVec.length/12,0===this.currentFrame&&10<=mframe?(Client.SoundManager.playSFX("s_lvl5_loadBow"),this.currentFrame=1):this.currentFrame=0,this.bow.frameName="robinBow instance "+(10002+Client.Tools.roundDec(mframe=15<mframe?15:mframe)))},Lvl5RobinWeapon.prototype.playAnim=function(value,loop){_super.prototype.playAnim.call(this,value,loop=void 0===loop?0:loop),"menace"===value?(this.bow.inputEnabled=!0,this.bow.input.useHandCursor=!0):"die"===value&&(this.bow.angle=0,this.bow.inputEnabled=!1,this.bowOut())},Lvl5RobinWeapon.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"sleep"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,25,{y:-4}),Client.GameManager.instance.level.setSimpleTween(this.knife,25,{y:27})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,16,{y:-1}),Client.GameManager.instance.level.setSimpleTween(this.knife,16,{y:30})):42===this.counterAnim&&this.animComplete():"wakeUp"===this.currAnim?11===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.knife,6,{x:-29,y:15,skX:0,skY:0}):17===this.counterAnim&&this.animComplete():"menace"===this.currAnim?14===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,8,{x:31,y:0,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.knife,8,{x:-44,y:8,skX:-12,skY:-12})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,7,{x:36,y:-1,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.knife,7,{x:-29,y:15,skX:0,skY:0})):29===this.counterAnim?(this.setPart(this.bowGroup,{x:36,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.knife,{x:-29,y:15,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):56===this.counterAnim&&this.animComplete():"attack"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,15,{x:43,y:-2,skX:-1,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.knife,3,{x:-27,y:13,skX:9,skY:9})):4===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.knife,4,{x:-25,y:16,skX:-1,skY:-1}):8===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.knife,4,{x:-23,y:14,skX:5,skY:5}):12===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.knife,4,{x:-21,y:16,skX:-1,skY:-1}):16===this.counterAnim?(this.setPart(this.bowGroup,{x:43,y:-2,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1}),this.setPart(this.knife,{x:-21,y:16,angle:0,scX:1,scY:1,skX:-1,skY:-1,alpha:1})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,8,{x:28,y:-7,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.knife,8,{x:-54,y:-3,skX:22,skY:22})):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,5,{x:36,y:3,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.knife,5,{x:-46,y:23,skX:-13,skY:-13})):39===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,4,{y:-1}),Client.GameManager.instance.level.setSimpleTween(this.knife,4,{x:-29,y:15,skX:0,skY:0})):43===this.counterAnim&&this.animComplete():"die"===this.currAnim&&(13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,4,{x:76,y:-48,skX:-40,skY:-40}),Client.GameManager.instance.level.setSimpleTween(this.knife,4,{x:-53,y:-45,skX:98,skY:98})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bowGroup,10,{x:121,y:47,skX:-97,skY:-97}),Client.GameManager.instance.level.setSimpleTween(this.knife,10,{x:-68,y:43,skX:160,skY:160})):27===this.counterAnim?(this.setPart(this.bowGroup,{x:121,y:47,angle:0,scX:1,scY:1,skX:-97,skY:-97,alpha:1}),this.setPart(this.knife,{x:-68,y:43,angle:0,scX:1,scY:1,skX:160,skY:160,alpha:1})):87===this.counterAnim&&this.animComplete()))},Lvl5RobinWeapon.prototype.setParts=function(value){"sleep"===value||"wakeUp"===value?(this.setPart(this.bowGroup,{x:36,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.knife,{x:-32,y:30,angle:0,scX:1,scY:1,skX:-18,skY:-18,alpha:1})):"menace"!==value&&"attack"!==value&&"die"!==value||(this.setPart(this.bowGroup,{x:36,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.knife,{x:-29,y:15,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5RobinWeapon.prototype.free=function(){this.group=null,this.knife=null,this.bowGroup=null,this.bow=null,this.arrow=null,this.game=null},Lvl5RobinWeapon})(Client.BasicSimpleAnim);Client.Lvl5RobinWeapon=Lvl5RobinWeapon})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5Signal=(_super=>{function Lvl5Signal(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=356,_this.group.y=386,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.signal12=new Client.SASprite(game,0,0,"level5","signal2 instance 10000"),_this.signal12.pivot.set(6,6),_this.group.addChild(_this.signal12),_this.signal11=new Client.SASprite(game,0,0,"level5","signal4 instance 10000"),_this.signal11.pivot.set(2,38),_this.group.addChild(_this.signal11),_this.signal10=new Client.SASprite(game,0,0,"level5","signal4 instance 10000"),_this.signal10.pivot.set(2,38),_this.group.addChild(_this.signal10),_this.signal9=new Client.SASprite(game,0,0,"level5","signal4 instance 10000"),_this.signal9.pivot.set(2,38),_this.group.addChild(_this.signal9),_this.signal8=new Client.SASprite(game,0,0,"level5","signal4 instance 10000"),_this.signal8.pivot.set(2,38),_this.group.addChild(_this.signal8),_this.signal7=new Client.SASprite(game,0,0,"level5","signal3 instance 10000"),_this.signal7.pivot.set(6,7),_this.signal7.animations.add("anim",Phaser.Animation.generateFrameNames("signal3 instance 1",0,34,"",4),30,!1),_this.group.addChild(_this.signal7),_this.signal6=new Client.SASprite(game,0,0,"level5","signal3 instance 10000"),_this.signal6.pivot.set(6,7),_this.signal6.animations.add("anim",Phaser.Animation.generateFrameNames("signal3 instance 1",0,34,"",4),30,!1),_this.group.addChild(_this.signal6),_this.signal5=new Client.SASprite(game,0,0,"level5","signal3 instance 10000"),_this.signal5.pivot.set(6,7),_this.signal5.animations.add("anim",Phaser.Animation.generateFrameNames("signal3 instance 1",0,34,"",4),30,!1),_this.group.addChild(_this.signal5),_this.signal4=new Client.SASprite(game,0,0,"level5","signal3 instance 10000"),_this.signal4.pivot.set(6,7),_this.signal4.animations.add("anim",Phaser.Animation.generateFrameNames("signal3 instance 1",0,34,"",4),30,!1),_this.group.addChild(_this.signal4),_this.signal3=new Client.SASprite(game,0,0,"level5","signal5 instance 10000"),_this.signal3.pivot.set(3,8),_this.group.addChild(_this.signal3),_this.signal2=new Client.SASprite(game,0,0,"level5","signal1 instance 10000"),_this.signal2.pivot.set(6,6),_this.group.addChild(_this.signal2),_this.signal1=new Client.SASprite(game,0,0,"level5","signal instance 10000"),_this.signal1.pivot.set(5,10),_this.signal1.animations.add("anim",Phaser.Animation.generateFrameNames("signal instance 1",0,19,"",4),30,!1),_this.group.addChild(_this.signal1),_this.signal0=new Client.SASprite(game,0,0,"level5","signal instance 10000"),_this.signal0.pivot.set(5,15),_this.signal0.animations.add("anim",Phaser.Animation.generateFrameNames("signal instance 1",0,19,"",4),30,!1),_this.group.addChild(_this.signal0),_this.setParts("anim"),_this}return __extends(Lvl5Signal,_super),Lvl5Signal.prototype.activate=function(){this.playAnim("anim"),this.signal4.animations.play("anim"),this.signal5.animations.play("anim"),this.signal6.animations.play("anim"),this.signal7.animations.play("anim"),Client.SoundManager.playSFX("s_lvl5_bell")},Lvl5Signal.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.signal2,5,{x:23,y:-123,skX:46,skY:46}),Client.GameManager.instance.level.setSimpleTween(this.signal3,5,{x:-49,y:137,skX:30,skY:30}),this.setPart(this.signal4,{x:36,y:132,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.signal5,{x:52,y:54,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.signal6,{x:6,y:-85,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.signal7,{x:23,y:-141,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.signal8,5,{x:-4,y:134,skX:-92,skY:-92,scY:1.11}),this.setPart(this.signal9,{x:45,y:94,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}),this.setPart(this.signal10,{x:29,y:-15,angle:0,scX:1,scY:1.92,skX:-18,skY:-18,alpha:1}),this.setPart(this.signal11,{x:14,y:-113,angle:0,scX:1,scY:.73,skX:16,skY:16,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.signal12,5,{x:27,y:-134,skX:33,skY:33})):6===this.counterAnim?(this.signal0.visible=!0,this.signal0.animations.play("anim"),this.setPart(this.signal0,{x:54,y:-122,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.signal1.visible=!0,this.signal1.animations.play("anim"),this.setPart(this.signal1,{x:0,y:-122,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.signal2,9,{x:41,y:-140,skX:-94,skY:-94}),this.setPart(this.signal3,{x:-49,y:137,angle:0,scX:1,scY:1,skX:30,skY:30,alpha:1}),this.setPart(this.signal8,{x:-4,y:134,angle:0,scX:1,scY:1.11,skX:-92,skY:-92,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.signal12,9,{x:31,y:-141,skX:-33,skY:-33})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.signal2,6,{x:27,y:-125,skX:41,skY:41}),Client.GameManager.instance.level.setSimpleTween(this.signal12,6,{x:28,y:-135,skX:19,skY:19})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.signal2,6,{x:38,y:-130,skX:-61,skY:-61}),Client.GameManager.instance.level.setSimpleTween(this.signal12,6,{x:30,y:-137,skX:0,skY:0})):27===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.signal2,4,{x:32,y:-127,skX:24,skY:24}),this.setPart(this.signal12,{x:30,y:-137,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):31===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.signal2,4,{x:34,skX:0,skY:0}):35===this.counterAnim?this.setPart(this.signal2,{x:34,y:-127,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):59===this.counterAnim&&(this.animComplete(),Client.GameManager.instance.level.customAction(1)))},Lvl5Signal.prototype.setParts=function(value){"anim"===value&&(this.signal0.visible=!1,this.signal1.visible=!1,this.setPart(this.signal2,{x:34,y:-127,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.signal3,{x:-53,y:136,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.signal4,{x:36,y:132,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.signal5,{x:52,y:54,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.signal6,{x:6,y:-85,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.signal7,{x:23,y:-141,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.signal8,{x:-9,y:133,angle:0,scX:1,scY:1.14,skX:-90,skY:-90,alpha:1}),this.setPart(this.signal9,{x:45,y:94,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}),this.setPart(this.signal10,{x:29,y:-15,angle:0,scX:1,scY:1.92,skX:-18,skY:-18,alpha:1}),this.setPart(this.signal11,{x:14,y:-113,angle:0,scX:1,scY:.73,skX:16,skY:16,alpha:1}),this.setPart(this.signal12,{x:30,y:-137,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5Signal.prototype.free=function(){this.group=null,this.signal12=null,this.signal11=null,this.signal10=null,this.signal9=null,this.signal8=null,this.signal7=null,this.signal6=null,this.signal5=null,this.signal4=null,this.signal3=null,this.signal2=null,this.signal1=null,this.signal0=null},Lvl5Signal})(Client.BasicSimpleAnim);Client.Lvl5Signal=Lvl5Signal})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl5TreeBranch=(_super=>{function Lvl5TreeBranch(game){var _this=_super.call(this,game)||this;return _this.game=game,_this.brunch6=new Client.SASprite(game,0,0,"level5","branch6 instance 10000"),_this.brunch6.pivot.set(272,161),Client.GameManager.instance.layerBackground0.addChild(_this.brunch6),_this.brunch8=new Client.SASprite(game,0,0,"level5","branch2 instance 10000"),_this.brunch8.pivot.set(106,99),Client.GameManager.instance.layerBackground0.addChild(_this.brunch8),_this.brunch7=new Client.SASprite(game,0,0,"level5","branch2 instance 10000"),_this.brunch7.pivot.set(106,99),Client.GameManager.instance.layerBackground0.addChild(_this.brunch7),_this.branch1=new Client.SASprite(game,0,0,"level5","branch1 instance 10000"),_this.branch1.pivot.set(142,106),Client.GameManager.instance.layerBackground0.addChild(_this.branch1),_this.brunch4=new Client.SASprite(game,0,0,"level5","branch4 instance 10000"),_this.brunch4.pivot.set(169,189),Client.GameManager.instance.layerBackground.addChild(_this.brunch4),_this.bird=new Client.Lvl5Bird1(game),_this.brunch5=new Client.SASprite(game,0,0,"level5","branch5 instance 10000"),_this.brunch5.pivot.set(69,58),Client.GameManager.instance.layerBackground.addChild(_this.brunch5),Client.GameManager.instance.layerBackground.create(526,84,"level5","bgPart1 instance 10000").cacheAsBitmap=!0,_this.brunch3=new Client.SASprite(game,0,0,"level5","branch3 instance 10000"),_this.brunch3.pivot.set(186,206),Client.GameManager.instance.layerBackground.addChild(_this.brunch3),_this.brunch2=new Client.SASprite(game,0,0,"level5","branch2 instance 10000"),_this.brunch2.pivot.set(106,99),Client.GameManager.instance.layerBackground.addChild(_this.brunch2),_this.setParts("anim"),_this}return __extends(Lvl5TreeBranch,_super),Lvl5TreeBranch.prototype.activate=function(){this.playAnim("anim")},Lvl5TreeBranch.prototype.createLeaf=function(parent,x,y){x=this.game.make.sprite(x,y-30,"level5");Math.random()<.5?x.animations.add("anim",Phaser.Animation.generateFrameNames("leafAnim1 instance 1",0,48,"",4),30,!1).killOnComplete=!0:x.animations.add("anim",Phaser.Animation.generateFrameNames("leafAnim2 instance 1",0,91,"",4),30,!1).killOnComplete=!0,x.animations.play("anim"),parent.parent.addChildAt(x,parent.parent.getChildIndex(parent)+1)},Lvl5TreeBranch.prototype.onAnimComplete=function(){this.bird.activate()},Lvl5TreeBranch.prototype.update=function(){_super.prototype.update.call(this),this.bird.update()},Lvl5TreeBranch.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch5,2,{x:713,y:128,skX:33,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.brunch4,2,{x:649,y:162,skX:2,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.brunch3,2,{y:127,skX:-1,skY:-2,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.brunch2,2,{x:335,y:157,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.branch1,2,{x:262,y:178,skX:-2,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.brunch7,2,{x:462,y:122,skX:-158,skY:-158}),Client.GameManager.instance.level.setSimpleTween(this.brunch8,2,{x:604,y:161,skX:77,skY:77}),Client.GameManager.instance.level.setSimpleTween(this.brunch6,3,{scX:1.01})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch5,2,{x:711,y:126,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.brunch4,2,{x:647,y:161,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.brunch3,2,{x:486,y:128,skX:0,skY:0,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.brunch2,2,{x:338,y:155,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.branch1,2,{x:265,y:176,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.brunch7,2,{x:459,y:123,skX:-156,skY:-156}),Client.GameManager.instance.level.setSimpleTween(this.brunch8,2,{x:606,y:163,skX:79,skY:79})):23===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.brunch6,3,{scX:1}):24===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch5,2,{x:713,y:128,skX:33,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.brunch4,2,{x:649,y:162,skX:2,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.brunch3,2,{x:485,y:127,skX:-1,skY:-2,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.brunch2,2,{x:335,y:157,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.branch1,2,{x:262,y:178,skX:-2,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.brunch7,2,{x:462,y:122,skX:-158,skY:-158}),Client.GameManager.instance.level.setSimpleTween(this.brunch8,2,{x:604,y:161,skX:77,skY:77})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch5,2,{x:711,y:126,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.brunch4,2,{x:647,y:161,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.brunch3,2,{y:129,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.brunch2,2,{x:338,y:155,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.branch1,2,{x:265,y:176,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.brunch7,2,{x:459,y:123,skX:-156,skY:-156}),Client.GameManager.instance.level.setSimpleTween(this.brunch8,2,{x:606,y:163,skX:79,skY:79}),Client.GameManager.instance.level.setSimpleTween(this.brunch6,3,{scX:1.01})):28===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch5,2,{x:713,y:128,skX:33,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.brunch4,2,{x:649,y:162,skX:2,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.brunch3,2,{y:127,skX:-1,skY:-2,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.brunch2,2,{x:335,y:157,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.branch1,2,{x:262,y:178,skX:-2,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.brunch7,2,{x:462,y:122,skX:-158,skY:-158}),Client.GameManager.instance.level.setSimpleTween(this.brunch8,2,{x:604,y:161,skX:77,skY:77})):29===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch6,3,{scX:1}),this.createLeaf(this.branch1,144,255),this.createLeaf(this.branch1,213,238),this.createLeaf(this.brunch2,315,175),this.createLeaf(this.brunch2,470,80),this.createLeaf(this.brunch3,585,88),this.createLeaf(this.brunch4,685,130),this.createLeaf(this.brunch5,755,185),this.createLeaf(this.brunch6,565,335)):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.brunch5,2,{x:711,y:126,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.brunch4,2,{x:647,y:161,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.brunch3,2,{y:129,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.brunch2,2,{x:338,y:155,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.branch1,2,{x:265,y:176,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.brunch7,2,{x:459,y:123,skX:-156,skY:-156}),Client.GameManager.instance.level.setSimpleTween(this.brunch8,2,{x:606,y:163,skX:79,skY:79})):40===this.counterAnim&&this.animComplete())},Lvl5TreeBranch.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.brunch5,{x:711,y:126,angle:0,scX:1,scY:1,skX:31,skY:31,alpha:1}),this.setPart(this.brunch4,{x:647,y:161,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.brunch3,{x:485,y:129,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.brunch2,{x:338,y:155,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.branch1,{x:265,y:176,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.brunch7,{x:459,y:123,angle:0,scX:1,scY:1,skX:-156,skY:-156,alpha:1}),this.setPart(this.brunch8,{x:606,y:163,angle:0,scX:1,scY:1,skX:79,skY:79,alpha:1}),this.setPart(this.brunch6,{x:437,y:173,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl5TreeBranch.prototype.free=function(){this.game=null,this.brunch6=null,this.brunch8=null,this.brunch7=null,this.branch1=null,this.brunch2=null,this.brunch3=null,this.brunch4=null,this.brunch5=null,this.bird.free(),this.bird=null},Lvl5TreeBranch})(Client.BasicSimpleAnim);Client.Lvl5TreeBranch=Lvl5TreeBranch})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Cape=(_super=>{function Lvl6Cape(game,_x,_y,_a){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=_x,_this.group.y=_y+20,_this.group.angle=_a,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.capePart5=new Client.SASprite(game,0,0,"level6","car2Part8 instance 10000"),_this.capePart5.anchor.set(.5),_this.group.addChild(_this.capePart5),_this.capePart4=new Client.SASprite(game,0,0,"level6","car2Part7 instance 10000"),_this.capePart4.anchor.set(.5),_this.group.addChild(_this.capePart4),_this.capePart3=new Client.SASprite(game,0,0,"level6","car2Part6 instance 10000"),_this.capePart3.anchor.set(.5),_this.group.addChild(_this.capePart3),_this.caprPart2=new Client.SASprite(game,0,0,"level6","car2Part5 instance 10000"),_this.caprPart2.anchor.set(.5),_this.group.addChild(_this.caprPart2),_this.capePart1=new Client.SASprite(game,0,0,"level6","car2Part4 instance 10000"),_this.capePart1.anchor.set(.5),_this.group.addChild(_this.capePart1),_this.playAnim("out"),_this}return __extends(Lvl6Cape,_super),Lvl6Cape.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"out"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.capePart1,14,{x:15,y:7,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.caprPart2,14,{x:19,y:9}),Client.GameManager.instance.level.setSimpleTween(this.capePart3,14,{x:-20,y:-3,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.capePart4,14,{x:31,y:31,skX:-3}),Client.GameManager.instance.level.setSimpleTween(this.capePart5,14,{x:-25,y:26,skX:3})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.capePart1,11,{x:20,y:44}),Client.GameManager.instance.level.setSimpleTween(this.caprPart2,11,{x:26,y:48,skX:6,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.capePart3,11,{x:-24,y:45,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.capePart4,11,{x:34,y:52,skX:16,scY:.23}),Client.GameManager.instance.level.setSimpleTween(this.capePart5,11,{x:-26,y:51,scY:.21})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.capePart1,9,{y:46,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.caprPart2,9,{y:51,skX:11,skY:8,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.capePart3,9,{y:49,skX:-15,skY:-7,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.capePart4,9,{y:54,scY:.17}),Client.GameManager.instance.level.setSimpleTween(this.capePart5,9,{x:-27,y:53,scY:.17})):35===this.counterAnim?(this.setPart(this.capePart1,{x:20,y:46,angle:0,scX:1,scY:1,skX:-21,skY:-21,alpha:1}),this.setPart(this.caprPart2,{x:26,y:51,angle:0,scX:1,scY:.75,skX:11,skY:8,alpha:1}),this.setPart(this.capePart3,{x:-24,y:49,angle:0,scX:1,scY:.75,skX:-15,skY:-7,alpha:1}),this.setPart(this.capePart4,{x:34,y:54,angle:0,scX:1,scY:.17,skX:16,skY:0,alpha:1}),this.setPart(this.capePart5,{x:-27,y:53,angle:0,scX:1,scY:.17,skX:3,skY:0,alpha:1})):60===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.capePart1,9,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.caprPart2,9,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.capePart3,9,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.capePart4,9,{alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.capePart5,9,{alpha:0})):69===this.counterAnim&&this.animComplete())},Lvl6Cape.prototype.setParts=function(value){"out"===value&&(this.setPart(this.capePart1,{x:8,y:-16,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.caprPart2,{x:15,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.capePart3,{x:-16,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.capePart4,{x:26,y:8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.capePart5,{x:-21,y:4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl6Cape.prototype.free=function(){this.group=null,this.capePart5=null,this.capePart4=null,this.capePart3=null,this.caprPart2=null,this.capePart1=null},Lvl6Cape})(Client.BasicSimpleAnim);Client.Lvl6Cape=Lvl6Cape})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Car1=(_super=>{function Lvl6Car1(game){var _this=_super.call(this,game)||this;return _this.tryCount=0,_this.group=game.make.group(),_this.group.x=604,_this.group.y=408,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.car1Part6=new Client.SASprite(game,0,0,"level6","car1Part6 instance 10000"),_this.car1Part6.anchor.set(.5),_this.group.addChild(_this.car1Part6),_this.car1Part5=new Client.SASprite(game,0,0,"level6","car1Part5 instance 10000"),_this.car1Part5.anchor.set(.5),_this.group.addChild(_this.car1Part5),_this.car1Part4=new Client.SASprite(game,0,0,"level6","car1Part4 instance 10000"),_this.car1Part4.anchor.set(.5),_this.group.addChild(_this.car1Part4),_this.car1Part3=new Client.SASprite(game,0,0,"level6","car1Part3 instance 10000"),_this.car1Part3.anchor.set(.5),_this.group.addChild(_this.car1Part3),_this.carPart2=new Client.SASprite(game,0,0,"level6","car1Part2 instance 10000"),_this.carPart2.anchor.set(.5),_this.group.addChild(_this.carPart2),_this.carPart1=new Client.SASprite(game,0,0,"level6","car1Part1 instance 10000"),_this.carPart1.anchor.set(.5),_this.group.addChild(_this.carPart1),_this.car1Eye=new Client.SASprite(game,0,0,"level6","car1Eye instance 10000"),_this.car1Eye.animations.add("try",Phaser.Animation.generateFrameNames("car1Eye instance 1",0,62,"",4),30,!1).onComplete.add(_this.try,_this),_this.car1Eye.animations.add("sad",Phaser.Animation.generateFrameNames("car1Eye instance 1",63,83,"",4),30,!1),_this.car1Eye.anchor.set(.5),_this.group.addChild(_this.car1Eye),_this.try(),_this.addPhysics(),_this}return __extends(Lvl6Car1,_super),Lvl6Car1.prototype.try=function(){2===this.tryCount?(this.car1Eye.play("sad"),this.move(),Client.GameManager.instance.level.moveCars(),Client.GameManager.instance.level.swordAnim.pause()):(this.car1Eye.play("try"),this.playAnim("try")),this.tryCount+=1},Lvl6Car1.prototype.move=function(){this.jointBack.EnableMotor(!0),this.jointBack.SetMotorSpeed(5)},Lvl6Car1.prototype.addPhysics=function(){this.physics=new Phaser.Physics.Box2D.Body(Client.Main.instance,null,this.group.x,this.group.y),this.physics.setRectangle(133,40,0,0),this.physics.setCollisionCategory(Client.FilterGroups.CAR1),this.physics.collideWorldBounds=!1,this.wheel1=Client.GameManager.instance.layerBackground.create(this.group.x-28,this.group.y+39,"level6","firstWheel_mc instance 10000"),this.wheel1.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel1),this.wheel1.body.setCircle(16),this.wheel1.body.friction=3,this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1.body.collideWorldBounds=!1,this.wheel2=Client.GameManager.instance.layerBackground.create(this.group.x+40,this.group.y+39,"level6","firstWheel_mc instance 10000"),this.wheel2.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel2),this.wheel2.body.setCircle(16),this.wheel2.body.friction=3,this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel2.body.collideWorldBounds=!1;this.jointBack=Client.Main.instance.physics.box2d.wheelJoint(this.physics,this.wheel1,-35,39,0,0,0,1,5,.3,0,4,!0),Client.Main.instance.physics.box2d.revoluteJoint(this.physics,this.wheel2,32,39,0,0)},Lvl6Car1.prototype.update=function(){_super.prototype.update.call(this),this.group.x=this.physics.x,this.group.y=this.physics.y,this.group.angle=this.physics.angle},Lvl6Car1.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"try"===this.currAnim)&&(5===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car1Eye,10,{x:23,y:-22,skX:5,skY:3,scY:.96}),Client.GameManager.instance.level.setSimpleTween(this.carPart1,10,{x:-30,y:-19,skX:1,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.carPart2,10,{x:-51,y:-21,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car1Part3,10,{x:-40,y:-20,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car1Part4,10,{x:24,y:1,skX:5,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car1Part5,10,{x:-14,y:-3,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car1Part6,10,{x:57,y:-17,skX:10,skY:10})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car1Eye,33,{x:29,y:-25,skX:-6,skY:-6,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.carPart1,33,{x:-25,y:-17,skY:-2,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.carPart2,33,{y:-16,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.car1Part3,33,{x:-36,y:-18,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.car1Part4,33,{x:32,y:-3,skX:-2,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.car1Part5,33,{x:-8,y:-2,skX:-1,skY:-2,scX:1.03}),Client.GameManager.instance.level.setSimpleTween(this.car1Part6,33,{x:60,y:-24,skX:-5,skY:-5})):48===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car1Eye,6,{x:36,y:-29,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.carPart1,6,{x:-22,y:-29,skX:7,skY:3,scY:.89}),Client.GameManager.instance.level.setSimpleTween(this.carPart2,6,{x:-36,y:-36,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.car1Part3,6,{x:-32,y:-31,skX:-5,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.car1Part4,6,{x:34,y:-10,skX:1,skY:-2,scY:.98}),Client.GameManager.instance.level.setSimpleTween(this.car1Part5,6,{x:-7,y:-9,skX:4,skY:2}),Client.GameManager.instance.level.setSimpleTween(this.car1Part6,6,{x:64,y:-26,skX:0,skY:-1})):54===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car1Eye,6,{x:28,y:-24,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.carPart1,6,{x:-25,y:-18,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.carPart2,6,{x:-47,y:-19,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car1Part3,6,{x:-36,y:-18,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car1Part4,6,{x:29,y:-1,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car1Part5,6,{x:-8,y:-2,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.car1Part6,6,{x:61,y:-21,skY:0})):60===this.counterAnim&&this.animComplete())},Lvl6Car1.prototype.setParts=function(value){"try"===value&&(this.setPart(this.car1Eye,{x:28,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.carPart1,{x:-25,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.carPart2,{x:-47,y:-19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car1Part3,{x:-36,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car1Part4,{x:29,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car1Part5,{x:-8,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car1Part6,{x:61,y:-21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl6Car1.prototype.free=function(){this.group=null,this.car1Part6=null,this.car1Part5=null,this.car1Part4=null,this.car1Part3=null,this.carPart2=null,this.carPart1=null,this.car1Eye=null,this.physics=null,this.wheel1=null,this.wheel2=null,this.jointBack=null},Lvl6Car1})(Client.BasicSimpleAnim);Client.Lvl6Car1=Lvl6Car1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Car2=(_super=>{function Lvl6Car2(game){var _this=_super.call(this,game)||this;return _this.goOut=!1,_this.stopNow=!1,_this.group=game.make.group(),_this.group.x=480,_this.group.y=400,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.car2Part14=new Client.SASprite(game,0,0,"level6","car2Part14 instance 10000"),_this.car2Part14.anchor.set(.5),_this.group.addChild(_this.car2Part14),_this.car2Part13=new Client.SASprite(game,0,0,"level6","car2Part12 instance 10000"),_this.car2Part13.anchor.set(.5),_this.group.addChild(_this.car2Part13),_this.car2Part12=new Client.SASprite(game,0,0,"level6","car2Part12 instance 10000"),_this.car2Part12.anchor.set(.5),_this.group.addChild(_this.car2Part12),_this.car2Part11=new Client.SASprite(game,0,0,"level6","car2Part11 instance 10000"),_this.car2Part11.pivot.set(14,13),_this.group.addChild(_this.car2Part11),_this.car2Part10=new Client.SASprite(game,0,0,"level6","car2Part10 instance 10000"),_this.car2Part10.anchor.set(.5),_this.group.addChild(_this.car2Part10),_this.car2Part9=new Client.SASprite(game,0,0,"level6","car2Part9 instance 10000"),_this.car2Part9.pivot.set(15,13),_this.group.addChild(_this.car2Part9),_this.car2Part8=new Client.SASprite(game,0,0,"level6","car2Part8 instance 10000"),_this.car2Part8.anchor.set(.5),_this.group.addChild(_this.car2Part8),_this.car2Part7=new Client.SASprite(game,0,0,"level6","car2Part7 instance 10000"),_this.car2Part7.anchor.set(.5),_this.group.addChild(_this.car2Part7),_this.car2Part6=new Client.SASprite(game,0,0,"level6","car2Part6 instance 10000"),_this.car2Part6.anchor.set(.5),_this.group.addChild(_this.car2Part6),_this.car2Part5=new Client.SASprite(game,0,0,"level6","car2Part5 instance 10000"),_this.car2Part5.anchor.set(.5),_this.group.addChild(_this.car2Part5),_this.car2Part4=new Client.SASprite(game,0,0,"level6","car2Part4 instance 10002"),_this.car2Part4.events.onInputOver.add(_this.over,_this),_this.car2Part4.events.onInputUp.add(_this.up,_this),_this.car2Part4.events.onInputOut.add(_this.out,_this),_this.car2Part4.anchor.set(.5),_this.group.addChild(_this.car2Part4),_this.car2Part3=new Client.SASprite(game,0,0,"level6","car2Part3 instance 10000"),_this.car2Part3.anchor.set(.5),_this.group.addChild(_this.car2Part3),_this.car2Part2=new Client.SASprite(game,0,0,"level6","car2Part2 instance 10000"),_this.car2Part2.anchor.set(.5),_this.group.addChild(_this.car2Part2),_this.car2Part1=new Client.SASprite(game,0,0,"level6","car2Part1 instance 10000"),_this.car2Part1.anchor.set(.5),_this.group.addChild(_this.car2Part1),_this.playAnim("wait",-1),_this.addPhysics(),_this}return __extends(Lvl6Car2,_super),Lvl6Car2.prototype.over=function(){this.car2Part4.frameName="car2Part4 instance 10001"},Lvl6Car2.prototype.out=function(){this.car2Part4.frameName="car2Part4 instance 10000"},Lvl6Car2.prototype.up=function(){this.car2Part4.inputEnabled=!1,this.car2Part4.frameName="car2Part4 instance 10003",this.activeAnim=!1,this.car2Part1.visible=!1,this.car2Part2.visible=!1,this.car2Part3.visible=!1,this.car2Part4.visible=!1,this.car2Part5.visible=!1,this.car2Part6.visible=!1,this.car2Part7.visible=!1,this.car2Part8.visible=!1,this.car2Part11.visible=!1,this.car2Part12.visible=!1,this.car2Part13.visible=!1,this.car2Part14.visible=!1,this.goOut=!0,this.topCar=Client.GameManager.instance.layerBackground.create(this.group.x,this.group.y-20,"level6","topCar instance 10000"),this.topCar.anchor.set(.5),Client.Main.instance.add.tween(this.topCar).to({x:900,y:480,angle:19},1500,"Linear",!0);var cape=new Client.Lvl6Cape(Client.Main.instance,this.group.x,this.group.y,this.group.angle);Client.GameManager.instance.level.updateElements.push(cape),Client.GameManager.instance.level.moveCars(),Client.GameManager.instance.level.swordAnim.stop()},Lvl6Car2.prototype.addPhysics=function(){this.physics=new Phaser.Physics.Box2D.Body(Client.Main.instance,null,this.group.x,this.group.y),this.physics.setRectangle(95,40,0,50),this.physics.setCollisionCategory(Client.FilterGroups.CAR1),this.physics.collideWorldBounds=!1,this.wheel1=Client.GameManager.instance.layerBackground.create(this.group.x-22,this.group.y+70,"level6","secondWheel2_mc instance 10000"),this.wheel1.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel1),this.wheel1.body.setCircle(11),this.wheel1.body.friction=3,this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1.body.collideWorldBounds=!1,this.wheel2=Client.GameManager.instance.layerBackground.create(this.group.x+33,this.group.y+70,"level6","secondWheel1_mc instance 10000"),this.wheel2.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel2),this.wheel2.body.setCircle(8),this.wheel2.body.friction=3,this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel2.body.collideWorldBounds=!1;this.jointBack=Client.Main.instance.physics.box2d.wheelJoint(this.physics,this.wheel1,-22,70,0,0,0,1,5,.3,0,4,!0),Client.Main.instance.physics.box2d.revoluteJoint(this.physics,this.wheel2,29,70,0,0)},Lvl6Car2.prototype.move=function(){this.wheel1.body.dynamic=!0,this.wheel2.body.static=!1,this.physics.dynamic=!0,this.jointBack.EnableMotor(!0),this.jointBack.SetMotorSpeed(10)},Lvl6Car2.prototype.stopMove=function(){!1===this.goOut&&(this.jointBack.EnableMotor(!1),this.jointBack.SetMotorSpeed(0),this.wheel1.body.static=!0,this.wheel2.body.static=!0,this.physics.static=!0)},Lvl6Car2.prototype.update=function(){_super.prototype.update.call(this),this.group.x=this.physics.x,this.group.y=this.physics.y,this.group.angle=this.physics.angle,!1===this.stopNow&&590<this.physics.x&&(this.stopNow=!0,this.car2Part4.inputEnabled=!0,this.car2Part4.input.useHandCursor=!0,this.car2Part4.frameName="car2Part4 instance 10000",this.stopMove(),this.playAnim("trying",-1),!1===this.goOut)&&Client.GameManager.instance.level.playAnim()},Lvl6Car2.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"wait"===this.currAnim?5===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car2Part1,5,{x:29,y:5,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.car2Part2,5,{x:41,y:1,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.car2Part3,5,{y:-40,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.car2Part4,5,{y:10,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.car2Part5,5,{y:12,skX:-4,skY:-4,scX:1.1}),Client.GameManager.instance.level.setSimpleTween(this.car2Part6,5,{x:-17,y:2,skX:-4,skY:-4}),Client.GameManager.instance.level.setSimpleTween(this.car2Part7,5,{x:27,y:32,skX:-1,skY:-1,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.car2Part8,5,{y:29,skX:2,skY:2,scY:.9}),Client.GameManager.instance.level.setSimpleTween(this.car2Part11,5,{x:13,y:-34}),Client.GameManager.instance.level.setSimpleTween(this.car2Part12,5,{y:17}),Client.GameManager.instance.level.setSimpleTween(this.car2Part13,5,{y:21}),Client.GameManager.instance.level.setSimpleTween(this.car2Part14,5,{x:2,y:-5})):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car2Part1,4,{x:30,y:3,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car2Part2,4,{x:40,y:0,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part3,4,{y:-43,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.car2Part4,4,{y:6,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part5,4,{y:9,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.car2Part6,4,{x:-16,y:-3,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part7,4,{x:26,y:29,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car2Part8,4,{y:26,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car2Part11,4,{x:12,y:-37}),Client.GameManager.instance.level.setSimpleTween(this.car2Part12,4,{y:14}),Client.GameManager.instance.level.setSimpleTween(this.car2Part13,4,{y:18}),Client.GameManager.instance.level.setSimpleTween(this.car2Part14,4,{x:1,y:-8})):14===this.counterAnim?(this.setPart(this.car2Part1,{x:30,y:3,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.car2Part2,{x:40,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part3,{x:13,y:-43,angle:0,scX:1,scY:1,skX:-3,skY:-3,alpha:1}),this.setPart(this.car2Part4,{x:8,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part5,{x:15,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part6,{x:-16,y:-3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part7,{x:26,y:29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part8,{x:-21,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part9,{x:17,y:19,angle:0,scX:1.07,scY:1.07,skX:18,skY:18,alpha:1}),this.setPart(this.car2Part10,{x:1,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part11,{x:12,y:-37,angle:0,scX:1.07,scY:1.07,skX:14,skY:14,alpha:1}),this.setPart(this.car2Part12,{x:26,y:14,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.car2Part13,{x:-23,y:18,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.car2Part14,{x:1,y:-8,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1})):42===this.counterAnim&&this.animComplete():"trying"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car2Part1,22,{x:26,y:7,skX:30,skY:30}),Client.GameManager.instance.level.setSimpleTween(this.car2Part2,22,{x:41,y:3,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.car2Part3,22,{x:14,y:-37,skX:-1,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.car2Part4,22,{y:12,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.car2Part5,22,{y:14,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.car2Part6,22,{y:2,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.car2Part7,22,{y:34,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.car2Part8,22,{y:31,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car2Part10,22,{x:2,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car2Part11,22,{y:-30}),Client.GameManager.instance.level.setSimpleTween(this.car2Part14,22,{y:-1})):23===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car2Part1,8,{x:33,y:-1,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.car2Part2,8,{y:-6,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.car2Part3,10,{x:12,y:-61,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.car2Part4,8,{y:-1,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part5,8,{y:1,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.car2Part6,8,{y:-8,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.car2Part7,8,{x:27,y:27,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.car2Part8,8,{y:23,skX:4,skY:4,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.car2Part10,8,{x:1,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part11,8,{y:-42}),Client.GameManager.instance.level.setSimpleTween(this.car2Part14,8,{x:2,y:-12})):31===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car2Part1,5,{x:30,y:3,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car2Part2,5,{x:40,y:0,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part4,5,{y:6}),Client.GameManager.instance.level.setSimpleTween(this.car2Part5,5,{y:9,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part6,5,{y:-3,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part7,5,{x:26,y:29,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car2Part8,5,{y:26,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car2Part11,5,{y:-37}),Client.GameManager.instance.level.setSimpleTween(this.car2Part14,5,{x:1,y:-8})):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.car2Part3,7,{x:13,y:-43,skX:-3,skY:-3}):36===this.counterAnim?(this.setPart(this.car2Part1,{x:30,y:3,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.car2Part2,{x:40,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part4,{x:8,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part5,{x:15,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part6,{x:-16,y:-3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part7,{x:26,y:29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part8,{x:-21,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part9,{x:17,y:19,angle:0,scX:1.07,scY:1.07,skX:18,skY:18,alpha:1}),this.setPart(this.car2Part10,{x:1,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part11,{x:12,y:-37,angle:0,scX:1.07,scY:1.07,skX:14,skY:14,alpha:1}),this.setPart(this.car2Part12,{x:26,y:14,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.car2Part13,{x:-23,y:18,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.car2Part14,{x:1,y:-8,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1})):40===this.counterAnim?this.setPart(this.car2Part3,{x:13,y:-43,angle:0,scX:1,scY:1,skX:-3,skY:-3,alpha:1}):46===this.counterAnim&&this.animComplete()))},Lvl6Car2.prototype.setParts=function(value){("wait"===value||"trying"===value)&&(this.setPart(this.car2Part1,{x:30,y:3,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.car2Part2,{x:40,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part3,{x:13,y:-43,angle:0,scX:1,scY:1,skX:-3,skY:-3,alpha:1}),this.setPart(this.car2Part4,{x:8,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part5,{x:15,y:9,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part6,{x:-16,y:-3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part7,{x:26,y:29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part8,{x:-21,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part9,{x:17,y:19,angle:0,scX:1.07,scY:1.07,skX:18,skY:18,alpha:1}),this.setPart(this.car2Part10,{x:1,y:45,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car2Part11,{x:12,y:-37,angle:0,scX:1.07,scY:1.07,skX:14,skY:14,alpha:1}),this.setPart(this.car2Part12,{x:26,y:14,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.car2Part13,{x:-23,y:18,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.car2Part14,{x:1,y:-8,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}))},Lvl6Car2.prototype.free=function(){this.group=null,this.car2Part14=null,this.car2Part14=null,this.car2Part13=null,this.car2Part12=null,this.car2Part11=null,this.car2Part10=null,this.car2Part9=null,this.car2Part8=null,this.car2Part7=null,this.car2Part6=null,this.car2Part5=null,this.car2Part4=null,this.car2Part2=null,this.car2Part3=null,this.physics=null,this.wheel1=null,this.wheel2=null,this.topCar=null,this.jointBack=null},Lvl6Car2})(Client.BasicSimpleAnim);Client.Lvl6Car2=Lvl6Car2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Car3=(_super=>{function Lvl6Car3(game){var _this=_super.call(this,game)||this;return _this.ligthningNow=!1,_this.ligthningTimer=0,_this.goOut=!1,_this.stopNow=!1,_this.group=game.make.group(),_this.group.x=370,_this.group.y=435,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.ligthning=_this.group.create(0,0,"level6","car3Ligthning instance 10000"),_this.ligthning.anchor.set(.5),_this.ligthning.animations.add("anim",Phaser.Animation.generateFrameNames("car3Ligthning instance 1",0,7,"",4),30,!0),_this.ligthning.visible=!1,_this.car3Part7=new Client.SASprite(game,0,0,"level6","car3Part7 instance 10000"),_this.car3Part7.anchor.set(.5),_this.car3Part7.animations.add("normal",Phaser.Animation.generateFrameNames("car3Part7 instance 1",0,0,"",4),30,!1),_this.car3Part7.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Part7 instance 1",1,9,"",4),30,!0),_this.group.addChild(_this.car3Part7),_this.car3Eye=new Client.SASprite(game,0,0,"level6","car3Eye instance 10000"),_this.car3Eye.animations.add("normal",Phaser.Animation.generateFrameNames("car3Eye instance 1",0,23,"",4),30,!0),_this.car3Eye.animations.add("try",Phaser.Animation.generateFrameNames("car3Eye instance 1",24,55,"",4),30,!1),_this.car3Eye.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Eye instance 1",56,63,"",4),30,!1),_this.car3Eye.pivot.set(52,57),_this.group.addChild(_this.car3Eye),_this.car3Part5=new Client.SASprite(game,0,0,"level6","car3Part3 instance 10000"),_this.car3Part5.anchor.set(.5),_this.car3Part5.animations.add("normal",Phaser.Animation.generateFrameNames("car3Part3 instance 1",0,0,"",4),30,!1),_this.car3Part5.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Part3 instance 1",1,9,"",4),30,!0),_this.group.addChild(_this.car3Part5),_this.car3Part4=new Client.SASprite(game,0,0,"level6","car3Part3 instance 10000"),_this.car3Part4.anchor.set(.5),_this.car3Part4.animations.add("normal",Phaser.Animation.generateFrameNames("car3Part3 instance 1",0,0,"",4),30,!1),_this.car3Part4.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Part3 instance 1",1,9,"",4),30,!0),_this.group.addChild(_this.car3Part4),_this.car3Part3=new Client.SASprite(game,0,0,"level6","car3Part3 instance 10000"),_this.car3Part3.anchor.set(.5),_this.car3Part3.animations.add("normal",Phaser.Animation.generateFrameNames("car3Part3 instance 1",0,0,"",4),30,!1),_this.car3Part3.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Part3 instance 1",1,9,"",4),30,!0),_this.group.addChild(_this.car3Part3),_this.car3Part2=new Client.SASprite(game,0,0,"level6","car3Part1 instance 10000"),_this.car3Part2.anchor.set(.5),_this.car3Part2.animations.add("normal",Phaser.Animation.generateFrameNames("car3Part1 instance 1",0,0,"",4),30,!1),_this.car3Part2.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Part1 instance 1",1,9,"",4),30,!0),_this.group.addChild(_this.car3Part2),_this.car3Part1=new Client.SASprite(game,0,0,"level6","car3Part1 instance 10000"),_this.car3Part1.anchor.set(.5),_this.car3Part1.animations.add("normal",Phaser.Animation.generateFrameNames("car3Part1 instance 1",0,0,"",4),30,!1),_this.car3Part1.animations.add("ligthning",Phaser.Animation.generateFrameNames("car3Part1 instance 1",1,9,"",4),30,!0),_this.group.addChild(_this.car3Part1),_this.playAnim("normal",-1),_this.car3Eye.play("normal"),_this.addPhysics(),_this}return __extends(Lvl6Car3,_super),Lvl6Car3.prototype.addPhysics=function(){this.physics=new Phaser.Physics.Box2D.Body(Client.Main.instance,null,this.group.x,this.group.y),this.physics.setRectangle(120,40,0,20),this.physics.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1=Client.GameManager.instance.layerBackground.create(this.group.x-31,this.group.y+47,"level6","thirdWheel2_mc instance 10000"),this.wheel1.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel1),this.wheel1.body.setCircle(16),this.wheel1.body.friction=3,this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1.animations.add("normal",Phaser.Animation.generateFrameNames("thirdWheel2_mc instance 1",0,0,"",4),30,!1),this.wheel1.animations.add("ligthning",Phaser.Animation.generateFrameNames("thirdWheel2_mc instance 1",1,9,"",4),30,!0),this.wheel2=Client.GameManager.instance.layerBackground.create(this.group.x+32,this.group.y+47,"level6","thirdWheel1_mc instance 10000"),this.wheel2.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel2),this.wheel2.body.setCircle(13),this.wheel2.body.friction=3,this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel2.animations.add("normal",Phaser.Animation.generateFrameNames("thirdWheel1_mc instance 1",0,0,"",4),30,!1),this.wheel2.animations.add("ligthning",Phaser.Animation.generateFrameNames("thirdWheel1_mc instance 1",1,9,"",4),30,!0);this.jointBack=Client.Main.instance.physics.box2d.wheelJoint(this.physics,this.wheel1,-31,48,0,0,0,1,5,.3,0,4,!0),Client.Main.instance.physics.box2d.revoluteJoint(this.physics,this.wheel2,32,48,0,0)},Lvl6Car3.prototype.move=function(){this.wheel1.body.dynamic=!0,this.wheel2.body.static=!1,this.physics.dynamic=!0,this.jointBack.EnableMotor(!0),this.jointBack.SetMotorSpeed(7)},Lvl6Car3.prototype.stopMove=function(){!1===this.goOut&&(this.jointBack.EnableMotor(!1),this.jointBack.SetMotorSpeed(0),this.wheel1.body.static=!0,this.wheel2.body.static=!0,this.physics.static=!0)},Lvl6Car3.prototype.update=function(){_super.prototype.update.call(this),this.group.x=this.physics.x,this.group.y=this.physics.y,this.group.angle=this.physics.angle,!0===this.ligthningNow&&(this.ligthningTimer+=1,30<=this.ligthningTimer)&&(this.ligthningTimer=0,this.ligthningNow=!1,this.playNormal(),this.goOut=!0,this.move(),this.car3Eye.frameName="car3Eye instance 10055",this.physics.setRectangle(120,40,0,20),this.physics.setCollisionCategory(Client.FilterGroups.CAR1),this.physics.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.wheel1.body.setCircle(16),this.wheel1.body.friction=3,this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.wheel2.body.setCircle(13),this.wheel2.body.friction=3,this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel2.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.move(),this.physics.collideWorldBounds=!1,this.wheel1.body.collideWorldBounds=!1,this.wheel2.body.collideWorldBounds=!1,Client.GameManager.instance.level.car4.move(),Client.GameManager.instance.level.swordAnim.stop()),!1===this.stopNow&&590<this.physics.x&&(this.stopNow=!0,this.stopMove(),this.playAnim("trying",-1),Client.GameManager.instance.level.playAnim())},Lvl6Car3.prototype.playLightning=function(){this.ligthningNow=!0,this.ligthning.visible=!0,this.ligthning.play("anim"),this.playAnim("lightning",-1),this.car3Eye.play("ligthning"),this.wheel1.play("ligthning"),this.wheel2.play("ligthning"),this.car3Part1.play("ligthning"),this.car3Part2.play("ligthning"),this.car3Part3.play("ligthning"),this.car3Part4.play("ligthning"),this.car3Part5.play("ligthning"),this.car3Part7.play("ligthning")},Lvl6Car3.prototype.playNormal=function(){this.playAnim("normal",-1),this.ligthning.visible=!1,this.wheel1.play("normal"),this.wheel2.play("normal"),this.car3Part1.play("normal"),this.car3Part2.play("normal"),this.car3Part3.play("normal"),this.car3Part4.play("normal"),this.car3Part5.play("normal"),this.car3Part7.play("normal")},Lvl6Car3.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"lightning"===this.currAnim?11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,4,{x:-20,y:23,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,4,{x:-38,y:20,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,4,{x:42,y:28,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,4,{x:30,y:24,skX:-45,skY:-45}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,4,{x:17,y:30,skX:-86,skY:-86}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,4,{y:-29,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,4,{x:-3,y:6,skX:0,skY:0})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,2,{x:-19,y:21,skX:28,skY:28}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,2,{y:18,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,2,{x:44,y:26,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,2,{y:22,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,2,{y:28,skX:-80,skY:-80}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,2,{y:-30}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,2,{y:5})):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,2,{x:-20,y:23,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,2,{y:20,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,2,{x:42,y:28,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,2,{y:24,skX:-45,skY:-45}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,2,{y:30,skX:-86,skY:-86}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,2,{y:-29}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,2,{y:6})):19===this.counterAnim&&this.animComplete():"trying"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,16,{x:-19,y:25,skX:36,skY:31,scX:1.02,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,16,{x:-39,y:22,skX:-5,skY:-4,scX:1.05,scY:.96}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,16,{x:45,y:31,skX:3,skY:2,scX:1.05,scY:.96}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,16,{x:32,y:26,skX:-39,skY:-34,scX:1.02,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,16,{y:32,skX:-78,skY:-76,scX:.96,scY:1.04}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,16,{x:12,y:-21,scX:1.04,scY:.95}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,16,{y:12,scX:1.05,scY:.92})):17===this.counterAnim?(this.setPart(this.car3Part1,{x:-19,y:25,angle:0,scX:1.02,scY:.99,skX:36,skY:31,alpha:1}),this.setPart(this.car3Part2,{x:-39,y:22,angle:0,scX:1.05,scY:.96,skX:-5,skY:-4,alpha:1}),this.setPart(this.car3Part3,{x:45,y:31,angle:0,scX:1.05,scY:.96,skX:3,skY:2,alpha:1}),this.setPart(this.car3Part4,{x:32,y:26,angle:0,scX:1.02,scY:.99,skX:-39,skY:-34,alpha:1}),this.setPart(this.car3Part5,{x:17,y:32,angle:0,scX:.96,scY:1.04,skX:-78,skY:-76,alpha:1}),this.setPart(this.car3Eye,{x:12,y:-21,angle:0,scX:1.04,scY:.95,skX:0,skY:0,alpha:1}),this.setPart(this.car3Part7,{x:-3,y:12,angle:0,scX:1.05,scY:.92,skX:0,skY:0,alpha:1})):27===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,7,{x:-16,y:16,skX:43,skY:44,scX:1,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,7,{x:-36,y:12,skX:6,skY:6,scX:1,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,7,{x:44,y:23,skX:6,skY:6,scX:1,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,7,{x:31,y:18,skX:-32,skY:-33,scX:1.01,scY:1.01}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,7,{x:16,y:22,skX:-66,skY:-66,scX:1.02,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,7,{y:-34,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,7,{y:2,scX:1,scY:1.02})):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,4,{x:-20,y:23,skX:25,skY:25,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,4,{x:-38,y:20,skX:-11,skY:-11,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,4,{x:42,y:28,skX:-2,skY:-2,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,4,{x:30,y:24,skX:-45,skY:-45,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,4,{x:17,y:30,skX:-86,skY:-86,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,4,{x:11,y:-29}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,4,{y:6,scY:1})):38===this.counterAnim?(this.setPart(this.car3Part1,{x:-20,y:23,angle:0,scX:1,scY:1,skX:25,skY:25,alpha:1}),this.setPart(this.car3Part2,{x:-38,y:20,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1}),this.setPart(this.car3Part3,{x:42,y:28,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.car3Part4,{x:30,y:24,angle:0,scX:1,scY:1,skX:-45,skY:-45,alpha:1}),this.setPart(this.car3Part5,{x:17,y:30,angle:0,scX:1,scY:1,skX:-86,skY:-86,alpha:1}),this.setPart(this.car3Eye,{x:11,y:-29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car3Part7,{x:-3,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):60===this.counterAnim&&this.animComplete():"normal"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,9,{x:-18,y:19,skX:36,skY:36}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,9,{x:-37,y:15,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,9,{x:44,y:25,skX:7,skY:7}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,9,{x:31,y:20,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,9,{x:16,y:25,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,9,{y:-32}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,9,{y:4})):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car3Part1,5,{x:-20,y:23,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.car3Part2,5,{x:-38,y:20,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.car3Part3,5,{x:42,y:28,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.car3Part4,5,{x:30,y:24,skX:-45,skY:-45}),Client.GameManager.instance.level.setSimpleTween(this.car3Part5,5,{x:17,y:30,skX:-86,skY:-86}),Client.GameManager.instance.level.setSimpleTween(this.car3Eye,5,{y:-29}),Client.GameManager.instance.level.setSimpleTween(this.car3Part7,5,{y:6})):15===this.counterAnim?(this.setPart(this.car3Part1,{x:-20,y:23,angle:0,scX:1,scY:1,skX:25,skY:25,alpha:1}),this.setPart(this.car3Part2,{x:-38,y:20,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1}),this.setPart(this.car3Part3,{x:42,y:28,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.car3Part4,{x:30,y:24,angle:0,scX:1,scY:1,skX:-45,skY:-45,alpha:1}),this.setPart(this.car3Part5,{x:17,y:30,angle:0,scX:1,scY:1,skX:-86,skY:-86,alpha:1}),this.setPart(this.car3Eye,{x:11,y:-29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car3Part7,{x:-3,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):43===this.counterAnim&&this.animComplete()))},Lvl6Car3.prototype.setParts=function(value){"lightning"===value?(this.setPart(this.car3Part1,{x:-12,y:12,angle:0,scX:1,scY:1,skX:51,skY:51,alpha:1}),this.setPart(this.car3Part2,{x:-34,y:8,angle:0,scX:1,scY:1,skX:14,skY:14,alpha:1}),this.setPart(this.car3Part3,{x:51,y:18,angle:0,scX:1,scY:1,skX:31,skY:31,alpha:1}),this.setPart(this.car3Part4,{x:34,y:11,angle:0,scX:1,scY:1,skX:-17,skY:-17,alpha:1}),this.setPart(this.car3Part5,{x:16,y:18,angle:0,scX:1,scY:1,skX:-47,skY:-47,alpha:1}),this.setPart(this.car3Eye,{x:11,y:-36,angle:0,scX:1,scY:1,skX:1,skY:1,alpha:1}),this.setPart(this.car3Part7,{x:-2,y:-1,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1})):"trying"!==value&&"normal"!==value||(this.setPart(this.car3Part1,{x:-20,y:23,angle:0,scX:1,scY:1,skX:25,skY:25,alpha:1}),this.setPart(this.car3Part2,{x:-38,y:20,angle:0,scX:1,scY:1,skX:-11,skY:-11,alpha:1}),this.setPart(this.car3Part3,{x:42,y:28,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.car3Part4,{x:30,y:24,angle:0,scX:1,scY:1,skX:-45,skY:-45,alpha:1}),this.setPart(this.car3Part5,{x:17,y:30,angle:0,scX:1,scY:1,skX:-86,skY:-86,alpha:1}),this.setPart(this.car3Eye,{x:11,y:-29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.car3Part7,{x:-3,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl6Car3.prototype.free=function(){this.group=null,this.car3Part7=null,this.car3Eye=null,this.car3Part5=null,this.car3Part4=null,this.car3Part3=null,this.car3Part2=null,this.car3Part1=null,this.physics=null,this.wheel1=null,this.wheel2=null,this.jointBack=null},Lvl6Car3})(Client.BasicSimpleAnim);Client.Lvl6Car3=Lvl6Car3})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Car4=(_super=>{function Lvl6Car4(game){var _this=_super.call(this,game)||this;return _this.dreamCounter=0,_this.haveSword=!1,_this.goOut=!1,_this.stopNow=!1,_this.group=game.make.group(),_this.group.x=226,_this.group.y=473,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.car4Part6=new Client.SASprite(game,0,0,"level6","car4Part6 instance 10000"),_this.car4Part6.anchor.set(.5),_this.group.addChild(_this.car4Part6),_this.car4Part5=new Client.SASprite(game,0,0,"level6","car4Part5 instance 10000"),_this.car4Part5.anchor.set(.5),_this.group.addChild(_this.car4Part5),_this.car4Part4=new Client.SASprite(game,0,0,"level6","car4Part4 instance 10000"),_this.car4Part4.anchor.set(.5),_this.group.addChild(_this.car4Part4),_this.car4Part3=new Client.SASprite(game,0,0,"level6","car4Part3 instance 10000"),_this.car4Part3.anchor.set(.5),_this.group.addChild(_this.car4Part3),_this.car4Part2=new Client.SASprite(game,0,0,"level6","car4Part2 instance 10000"),_this.car4Part2.anchor.set(.5),_this.group.addChild(_this.car4Part2),_this.car4Eye=new Client.SASprite(game,0,0,"level6","car4Eye instance 10000"),_this.car4Eye.animations.add("normal",Phaser.Animation.generateFrameNames("car4Eye instance 1",0,46,"",4),30,!0),_this.car4Eye.animations.add("dream",Phaser.Animation.generateFrameNames("car4Eye instance 1",47,88,"",4),30,!1),_this.car4Eye.animations.add("happy",Phaser.Animation.generateFrameNames("car4Eye instance 1",89,113,"",4),30,!1),_this.car4Eye.anchor.set(.5),_this.car4Eye.play("normal"),_this.group.addChild(_this.car4Eye),_this.car4Part1=new Client.SASprite(game,0,0,"level6","car4Part1 instance 10000"),_this.car4Part1.anchor.set(.5),_this.group.addChild(_this.car4Part1),_this.car4Sword=new Client.SASprite(game,0,0,"level6","car4Sword instance 10002"),_this.car4Sword.anchor.set(.5),_this.group.addChild(_this.car4Sword),_this.playAnim("normal",-1),_this.addPhysics(),_this.addSword(),_this}return __extends(Lvl6Car4,_super),Lvl6Car4.prototype.addPhysics=function(){this.physics=new Phaser.Physics.Box2D.Body(Client.Main.instance,null,this.group.x,this.group.y),this.physics.setRectangle(133,40,0,0),this.physics.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1=Client.GameManager.instance.layerBackground.create(this.group.x-28,this.group.y+39,"level6","fourWheel2_mc instance 10000"),this.wheel1.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel1),this.wheel1.body.setCircle(21),this.wheel1.body.friction=3,this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel2=Client.GameManager.instance.layerBackground.create(this.group.x+40,this.group.y+39,"level6","fourWheel1_mc instance 10000"),this.wheel2.anchor.set(.5),Client.Main.instance.physics.box2d.enable(this.wheel2),this.wheel2.body.setCircle(14),this.wheel2.body.friction=3,this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1);this.jointBack=Client.Main.instance.physics.box2d.wheelJoint(this.physics,this.wheel1,-35,30,0,0,0,1,5,.3,0,4,!0),Client.Main.instance.physics.box2d.revoluteJoint(this.physics,this.wheel2,32,30,0,0)},Lvl6Car4.prototype.addSword=function(){this.sword=Client.GameManager.instance.layerElements.create(58,311,"level6","car4Sword instance 10000"),this.sword.anchor.set(.5),this.sword.inputEnabled=!0,this.sword.input.useHandCursor=!0,this.sword.events.onInputOver.add(this.over,this),this.sword.events.onInputOut.add(this.out,this),this.sword.events.onInputDown.add(this.down,this),Client.Main.instance.physics.box2d.enable(this.sword),this.sword.body.setRectangle(15,105,0,0),this.sword.body.addCircle(5,0,55),this.sword.body.static=!0,this.sword.body.data.SetUserData("DragBody"),this.sword.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR)},Lvl6Car4.prototype.over=function(){this.sword.frameName="car4Sword instance 10001"},Lvl6Car4.prototype.out=function(){this.sword.frameName="car4Sword instance 10000"},Lvl6Car4.prototype.down=function(){this.sword.body.dynamic=!0,Client.GameManager.instance.level.mouseDragStart()},Lvl6Car4.prototype.move=function(){this.wheel1.body.dynamic=!0,this.wheel2.body.static=!1,this.physics.dynamic=!0,this.jointBack.EnableMotor(!0),this.jointBack.SetMotorSpeed(7)},Lvl6Car4.prototype.stopMove=function(){!1===this.goOut&&(this.jointBack.EnableMotor(!1),this.jointBack.SetMotorSpeed(0),this.wheel1.body.static=!0,this.wheel2.body.static=!0,this.physics.static=!0)},Lvl6Car4.prototype.update=function(){_super.prototype.update.call(this),this.group.x=this.physics.x,this.group.y=this.physics.y,this.group.angle=this.physics.angle,!1===this.haveSword&&Phaser.Math.distance(this.group.x,this.group.y,this.sword.x,this.sword.y)<50&&(Client.GameManager.instance.level.mouseDragEnd(),this.haveSword=!0,this.sword.body.data.SetActive(!1),this.sword.visible=!1,this.car4Sword.visible=!0,this.playAnim("happy",-1),this.car4Eye.play("happy"),Client.SoundManager.playSFX("s_lvl6_rubeGladness"),this.goOut=!0,null!=this.dream&&(this.dream.visible=!1),this.physics.setRectangle(133,40,0,0),this.physics.setCollisionCategory(Client.FilterGroups.CAR1),this.physics.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.wheel1.body.setCircle(21),this.wheel1.body.friction=3,this.wheel1.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.wheel2.body.setCircle(14),this.wheel2.body.friction=3,this.wheel2.body.setCollisionCategory(Client.FilterGroups.CAR1),this.wheel2.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),this.move(),this.physics.collideWorldBounds=!1,this.wheel1.body.collideWorldBounds=!1,this.wheel2.body.collideWorldBounds=!1,Client.GameManager.instance.level.swordAnim.stop()),!1===this.haveSword&&!1===this.stopNow&&590<this.physics.x&&(this.stopNow=!0,this.stopMove(),this.playAnim("trying",-1),Client.GameManager.instance.level.playAnim()),this.dreamCounter+=1,150===this.dreamCounter&&(this.dreamCounter=0,this.dreamNow())},Lvl6Car4.prototype.dreamNow=function(){!1===this.haveSword&&(this.car4Eye.play("dream"),null==this.dream&&(this.dream=this.group.create(30,-40,"level6","swordBubble instance 10000"),this.dream.anchor.set(0,1)),Client.Main.instance.add.tween(this.dream.scale).to({x:1,y:1},400,"Linear",!0).onComplete.add(function(){Client.Main.instance.add.tween(this.dream.scale).to({x:0,y:0},200,"Linear",!0,1500).onComplete.add(function(){this.car4Eye.play("normal")},this)},this))},Lvl6Car4.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"normal"===this.currAnim?35===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,10,{x:44,y:-17,skX:3,skY:3},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,10,{x:19,y:-41,scY:1.07},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,10,{x:66,y:-3},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,10,{y:-33,scY:1.09},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,10,{y:-18,scY:1.04},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,10,{y:-27,scY:1.08},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,10,{y:22,scY:1.02},!0)):45===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,3,{x:43,y:-10,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,3,{x:18,y:-33,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,3,{x:65,y:2},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,3,{y:-24,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,3,{y:-10,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,3,{y:-19,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,3,{y:24,scY:1},!0)):48===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,2,{x:44,y:-12,skX:2,skY:2},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,2,{y:-35,scY:1.04},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,2,{x:66,y:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,2,{y:-27,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,2,{y:-13,scY:1.02},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,2,{y:-21,scY:1.04},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,2,{y:23,scY:1.01},!0)):50===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,2,{x:43,y:-10,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,2,{y:-33,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,2,{x:65,y:2},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,2,{y:-24,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,2,{y:-10,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,2,{y:-19,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,2,{y:24,scY:1},!0)):52===this.counterAnim?(this.setPart(this.car4Part1,{x:43,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Eye,{x:18,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part2,{x:65,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part3,{x:-23,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part4,{x:-3,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part5,{x:0,y:-19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part6,{x:-1,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):96===this.counterAnim&&this.animComplete():"trying"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,30,{x:45,y:-3,skX:10,skY:10},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,30,{y:-26,skX:-6,skY:-6},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,30,{x:67,y:12},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,30,{x:-25,y:-19,scX:1.07,scY:.95},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,30,{y:-5,scX:1.07,scY:.95},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,30,{y:-14,scX:1.07,scY:.96},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,30,{x:0,y:27,scX:1.07},!0)):31===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,5,{x:42,y:-16,skX:-9,skY:-9},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,5,{y:-36,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,5,{x:78,y:-16,skX:-62,skY:-62},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,5,{x:-23,y:-29,scX:1,scY:1.03},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,5,{y:-16,scX:1,scY:1.04},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,5,{y:-26,scX:1,scY:1.15},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,5,{x:-1,y:21,scX:1},!0)):36===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,8,{x:43,y:-10,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,8,{y:-33},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,4,{x:77,y:-10,skX:-46,skY:-46},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,8,{y:-24,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,8,{y:-10,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,8,{y:-19,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,8,{y:24},!0)):40===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.car4Part2,4,{x:60,y:2,skX:27,skY:27},!0):44===this.counterAnim?(this.setPart(this.car4Part1,{x:43,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Eye,{x:18,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,4,{x:65,skX:0,skY:0},!0),this.setPart(this.car4Part3,{x:-23,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part4,{x:-3,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part5,{x:0,y:-19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part6,{x:-1,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):48===this.counterAnim?this.setPart(this.car4Part2,{x:65,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0):50===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,15,{x:44,y:-14,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,15,{y:-39,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,15,{x:66,y:-2,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,15,{x:-22,y:-29,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,15,{x:-2,y:-15,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,15,{x:1,y:-23,scY:1.05},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,15,{x:0,y:21,scY:1.05},!0)):65===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,7,{x:43,y:-10,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,7,{y:-33,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,7,{x:65,y:2,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,7,{x:-23,y:-24,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,7,{x:-3,y:-10,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,7,{x:0,y:-19,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,7,{x:-1,y:24,scY:1},!0)):72===this.counterAnim&&this.animComplete():"happy"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Sword,12,{x:2,y:-38,skX:-172,skY:-172},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part1,6,{x:40,y:-8,skX:-11,skY:-8,scX:1.01,scY:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,6,{x:15,y:-28,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,6,{x:62,y:1,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,6,{x:-27,y:-21,skX:-2,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,6,{x:-5,y:-6,skX:-2,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,6,{x:-3,y:-15,skX:-2,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,6,{x:-2,y:28,skX:-2},!0)):14===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,6,{x:43,y:-10,skX:0,skY:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,6,{x:18,y:-33,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,6,{x:65,y:2,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,6,{x:-23,y:-24,skX:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,6,{x:-3,y:-10,skX:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,6,{x:0,y:-19,skX:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,6,{x:-1,y:24,skX:0},!0)):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Sword,12,{x:-28,y:-27,skX:143,skY:143},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part1,6,{x:44,y:-8,skX:-7,skY:-8,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,6,{x:19,y:-29,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,6,{y:1,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,6,{y:-21,skX:2,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,6,{x:-2,y:-6,skX:2,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,6,{x:1,y:-15,skX:2,scX:1.02,scY:.98},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,6,{y:28,skX:2},!0)):38===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.car4Part1,6,{x:43,y:-10,skX:0,skY:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Eye,6,{x:18,y:-33,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part2,6,{y:2,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part3,6,{y:-24,skX:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part4,6,{x:-3,y:-10,skX:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part5,6,{x:0,y:-19,skX:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.car4Part6,6,{y:24,skX:0},!0)):50===this.counterAnim&&this.animComplete()))},Lvl6Car4.prototype.setParts=function(value){"normal"===value||"trying"===value?(this.car4Sword.visible=!1,this.setPart(this.car4Part1,{x:43,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Eye,{x:18,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part2,{x:65,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part3,{x:-23,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part4,{x:-3,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part5,{x:0,y:-19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part6,{x:-1,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):"happy"===value&&(this.car4Sword.visible=!0,this.setPart(this.car4Sword,{x:-28,y:-27,angle:0,scX:1,scY:1,skX:143,skY:143,alpha:1},!0),this.setPart(this.car4Part1,{x:43,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Eye,{x:18,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part2,{x:65,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part3,{x:-23,y:-24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part4,{x:-3,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part5,{x:0,y:-19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.car4Part6,{x:-1,y:24,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0))},Lvl6Car4.prototype.free=function(){this.group=null,this.car4Part6=null,this.car4Part6=null,this.car4Part5=null,this.car4Part4=null,this.car4Part3=null,this.car4Part2=null,this.car4Eye=null,this.car4Part1=null,this.physics=null,this.wheel1=null,this.wheel2=null,this.jointBack=null},Lvl6Car4})(Client.BasicSimpleAnim);Client.Lvl6Car4=Lvl6Car4})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Chicken=(_super=>{function Lvl6Chicken(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=Client.GameManager.instance.hero.bodyBase.x,_this.group.y=Client.GameManager.instance.hero.bodyBase.y+18,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.chickPart8=new Client.SASprite(game,0,0,"level6","chick7 instance 10000"),_this.chickPart8.anchor.set(.5),_this.group.addChild(_this.chickPart8),_this.chickPart7=new Client.SASprite(game,0,0,"level6","chick7 instance 10000"),_this.chickPart7.anchor.set(.5),_this.group.addChild(_this.chickPart7),_this.chickPart6=new Client.SASprite(game,0,0,"level6","chick6 instance 10000"),_this.chickPart6.anchor.set(.5),_this.group.addChild(_this.chickPart6),_this.chickPart5=new Client.SASprite(game,0,0,"level6","chick5 instance 10000"),_this.chickPart5.anchor.set(.5),_this.group.addChild(_this.chickPart5),_this.chickPart4=new Client.SASprite(game,0,0,"level6","chick4 instance 10000"),_this.chickPart4.anchor.set(.5),_this.group.addChild(_this.chickPart4),_this.chickPart3=new Client.SASprite(game,0,0,"level6","chick3 instance 10000"),_this.chickPart3.anchor.set(.5),_this.group.addChild(_this.chickPart3),_this.chickPart2=new Client.SASprite(game,0,0,"level6","chick2 instance 10000"),_this.chickPart2.anchor.set(.5),_this.group.addChild(_this.chickPart2),_this.chickPart1=new Client.SASprite(game,0,0,"level6","chick1 instance 10000"),_this.chickPart1.pivot.set(2,20),_this.group.addChild(_this.chickPart1),_this.magic=Client.GameManager.instance.layerUpper.create(_this.group.x,_this.group.y,"level6","magicAnim2 instance 10000"),_this.magic.anchor.set(.5),_this.magic.animations.add("anim",Phaser.Animation.generateFrameNames("magicAnim2 instance 1",0,21,"",4),30,!1),_this.magic.play("anim"),_this.playAnim("play"),Client.GameManager.instance.level.gameOver=!0,Client.SoundManager.playSFX("s_lvl6_wheelyHexed"),Client.SoundManager.playSFX("s_lvl6_checken"),_this}return __extends(Lvl6Chicken,_super),Lvl6Chicken.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"play"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,7,{x:9,y:-9,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,7,{x:15,y:3,skX:-19,skY:-19,scY:1.07}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,7,{x:12,y:-12,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,7,{x:-6,y:4,skX:57,skY:57}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,7,{y:2,scY:.88}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,7,{y:9}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,7,{x:1,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,7,{x:-8,skX:23,skY:23})):8===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,8,{x:5,y:-46,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,8,{x:10,y:-34,skX:16,skY:16,scX:.9,scY:1.22}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,8,{x:8,y:-50,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,8,{x:-1,y:-24,skX:-16,skY:-25,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,8,{x:-19,y:-30,skX:-28,skY:-28,scY:.97}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,8,{x:-3,y:-25,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,8,{x:2,y:-13,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,8,{x:-4,y:-13,skX:14,skY:14})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,10,{x:6,y:-33,skX:6,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,10,{x:13,y:-23,skX:-16,skY:-16,scX:1.03,scY:1.06}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,10,{x:9,y:-37,skX:6,skY:6}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,10,{x:-7,y:-23,skX:87,skY:87,scX:.99}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,10,{x:-16,y:-31,skX:29,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,10,{x:-6,y:-17,skX:19,skY:19}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,10,{x:-3,y:-5,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,10,{x:-13,y:-7,skX:42,skY:42})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,8,{y:-9}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,8,{y:2}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,8,{y:-13}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,8,{y:1}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,8,{y:-6}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,8,{y:7}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,8,{y:20}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,8,{y:18})):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,3,{y:-3,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,3,{x:15,y:6,skX:-62,skY:-62}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,3,{y:-7,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,3,{x:-5,y:6,skX:103,skY:103}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,3,{x:-17,y:1,skX:31,skY:31}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,3,{y:13,skX:16,skY:16,scY:.87}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,3,{x:1,y:22,skX:-71,skY:-71}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,3,{y:20,skX:89,skY:89})):37===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,5,{x:4,y:-12,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,5,{x:11,y:-2,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,5,{x:7,y:-17,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,5,{x:-3,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,5,{y:-1,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,5,{x:-4,y:6,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,5,{x:-1,y:19,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,5,{x:-5,y:19,skX:0,skY:0})):42===this.counterAnim?(this.setPart(this.chickPart1,{x:4,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart2,{x:11,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart3,{x:7,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart4,{x:-3,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart5,{x:-17,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart6,{x:-4,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart7,{x:-1,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart8,{x:-5,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):51===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,3,{x:10,y:-8,skX:29,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,3,{x:12,y:6,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,3,{x:14,y:-10,skX:25,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,3,{x:-6,y:4,skX:41,skY:41}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,3,{x:-13,y:-7,skX:29,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,3,{x:-5,y:5,skX:29,skY:29}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,3,{x:2,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,3,{x:-7,y:18,skX:15,skY:15})):54===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,13,{y:-6,scY:.67}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,13,{y:8}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,13,{y:-8}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,3,{x:-5,y:0,skX:85,skY:85}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,13,{y:-5}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,13,{y:7})):57===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.chickPart4,3,{x:-6,y:5,skX:41,skY:41}):60===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.chickPart4,3,{x:-5,y:1,skX:86,skY:86}):63===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.chickPart4,4,{x:-6,y:6,skX:41,skY:41}):67===this.counterAnim?(this.setPart(this.chickPart1,{x:10,y:-6,angle:0,scX:1,scY:.67,skX:29,skY:29,alpha:1}),this.setPart(this.chickPart2,{x:12,y:8,angle:0,scX:1,scY:1,skX:9,skY:9,alpha:1}),this.setPart(this.chickPart3,{x:14,y:-8,angle:0,scX:1,scY:1,skX:25,skY:29,alpha:1}),this.setPart(this.chickPart4,{x:-6,y:6,angle:0,scX:1,scY:1,skX:41,skY:41,alpha:1}),this.setPart(this.chickPart5,{x:-13,y:-5,angle:0,scX:1,scY:1,skX:29,skY:29,alpha:1}),this.setPart(this.chickPart6,{x:-5,y:7,angle:0,scX:1,scY:1,skX:29,skY:29,alpha:1}),this.setPart(this.chickPart7,{x:2,y:19,angle:0,scX:1,scY:1,skX:-21,skY:-21,alpha:1}),this.setPart(this.chickPart8,{x:-7,y:18,angle:0,scX:1,scY:1,skX:15,skY:15,alpha:1})):88===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.chickPart1,6,{x:4,y:-12,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.chickPart2,6,{x:11,y:-2,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart3,6,{x:7,y:-17,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart4,6,{x:-3,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart5,6,{x:-17,y:-1,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart6,6,{x:-4,y:6,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart7,6,{x:-1,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.chickPart8,6,{x:-5,y:19,skX:0,skY:0})):94===this.counterAnim?(this.setPart(this.chickPart1,{x:4,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart2,{x:11,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart3,{x:7,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart4,{x:-3,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart5,{x:-17,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart6,{x:-4,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart7,{x:-1,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart8,{x:-5,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):107===this.counterAnim&&this.animComplete())},Lvl6Chicken.prototype.setParts=function(value){"play"===value&&(this.setPart(this.chickPart1,{x:4,y:-12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart2,{x:11,y:-2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart3,{x:7,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart4,{x:-3,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart5,{x:-17,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart6,{x:-4,y:6,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart7,{x:-1,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.chickPart8,{x:-5,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl6Chicken.prototype.free=function(){this.group=null,this.chickPart8=null,this.chickPart7=null,this.chickPart6=null,this.chickPart5=null,this.chickPart4=null,this.chickPart3=null,this.chickPart2=null,this.chickPart1=null,this.magic=null},Lvl6Chicken})(Client.BasicSimpleAnim);Client.Lvl6Chicken=Lvl6Chicken})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Flags=(_super=>{function Lvl6Flags(game){var _this=_super.call(this,game)||this,game=(_this.downNow=!1,_this.directionMove=0,_this.timer=0,_this.group=game.make.group(),_this.group.x=575,_this.group.y=221,Client.GameManager.instance.layerBackground0.addChild(_this.group),_this.flags=new Client.SASprite(game,0,0,"level6","flags instance 10000"),_this.flags.pivot.set(179,127),_this.group.addChild(_this.flags),_this.flags.inputEnabled=!0,_this.flags.input.useHandCursor=!0,_this.flags.events.onInputOver.add(_this.over,_this),_this.flags.events.onInputOut.add(_this.out,_this),_this.flags.events.onInputDown.add(_this.down,_this),_this.flags.events.onInputUp.add(_this.up,_this),_this.setParts("anim"),_this.currAnim="anim",Client.GameManager.instance.level.addQuestCar(355,110,_this.flags,0,90),new Phaser.Graphics(game,215,-20));return game.beginFill(0,0),game.drawRect(-50,-50,100,100),game.endFill(),game.inputEnabled=!0,_this.group.addChild(game),_this}return __extends(Lvl6Flags,_super),Lvl6Flags.prototype.move=function(){!0===this.downNow&&(this.directionMove=1)},Lvl6Flags.prototype.over=function(){this.flags.frameName="flags instance 10001"},Lvl6Flags.prototype.out=function(){this.flags.frameName="flags instance 10000"},Lvl6Flags.prototype.down=function(){this.point=new Phaser.Point(Client.Main.instance.input.activePointer.x,Client.Main.instance.input.activePointer.y),this.downNow=!0},Lvl6Flags.prototype.up=function(){this.downNow=!1,this.directionMove=0,this.timer=0},Lvl6Flags.prototype.update=function(){_super.prototype.update.call(this),!0===this.downNow&&(this.point.x!==Client.Main.instance.input.activePointer.x&&this.point.y!==Client.Main.instance.input.activePointer.y&&(Client.Main.instance.input.activePointer.x<this.point.x?this.directionMove=1:this.directionMove=-1,this.updateFlags(this.directionMove)),this.point=new Phaser.Point(Client.Main.instance.input.activePointer.x,Client.Main.instance.input.activePointer.y))},Lvl6Flags.prototype.updateFlags=function(_direction){this.counterAnim+=_direction,this.counterAnim<1?this.counterAnim=1:33<this.counterAnim&&(this.counterAnim=33),"anim"===this.currAnim&&(1===this.counterAnim?this.setPart(this.flags,{x:31,y:5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):2===this.counterAnim?this.setPart(this.flags,{x:25,y:5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}):3===this.counterAnim?this.setPart(this.flags,{x:19,y:5,angle:0,scX:1,scY:1,skX:1,skY:1,alpha:1}):4===this.counterAnim?this.setPart(this.flags,{x:12,y:5,angle:0,scX:1,scY:1,skX:1,skY:1,alpha:1}):5===this.counterAnim?this.setPart(this.flags,{x:6,y:5,angle:0,scX:1,scY:1,skX:2,skY:2,alpha:1}):6===this.counterAnim?this.setPart(this.flags,{x:-1,y:5,angle:0,scX:1,scY:1,skX:2,skY:2,alpha:1}):7===this.counterAnim?this.setPart(this.flags,{x:-7,y:5,angle:0,scX:1,scY:1,skX:2,skY:2,alpha:1}):8===this.counterAnim?this.setPart(this.flags,{x:-14,y:4,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):9===this.counterAnim?this.setPart(this.flags,{x:-20,y:4,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):10===this.counterAnim?this.setPart(this.flags,{x:-27,y:4,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}):11===this.counterAnim?this.setPart(this.flags,{x:-33,y:4,angle:0,scX:1,scY:1,skX:4,skY:4,alpha:1}):12===this.counterAnim?this.setPart(this.flags,{x:-40,y:4,angle:0,scX:1,scY:1,skX:4,skY:4,alpha:1}):13===this.counterAnim?this.setPart(this.flags,{x:-46,y:4,angle:0,scX:1,scY:1,skX:5,skY:5,alpha:1}):14===this.counterAnim?this.setPart(this.flags,{x:-53,y:4,angle:0,scX:1,scY:1,skX:5,skY:5,alpha:1}):15===this.counterAnim?this.setPart(this.flags,{x:-59,y:4,angle:0,scX:1,scY:1,skX:5,skY:5,alpha:1}):16===this.counterAnim?this.setPart(this.flags,{x:-66,y:4,angle:0,scX:1,scY:1,skX:6,skY:6,alpha:1}):17===this.counterAnim?this.setPart(this.flags,{x:-72,y:3,angle:0,scX:1,scY:1,skX:6,skY:6,alpha:1}):18===this.counterAnim?this.setPart(this.flags,{x:-78,y:3,angle:0,scX:1,scY:1,skX:6,skY:6,alpha:1}):19===this.counterAnim?this.setPart(this.flags,{x:-85,y:3,angle:0,scX:1,scY:1,skX:7,skY:7,alpha:1}):20===this.counterAnim?this.setPart(this.flags,{x:-91,y:3,angle:0,scX:1,scY:1,skX:7,skY:7,alpha:1}):21===this.counterAnim?this.setPart(this.flags,{x:-98,y:3,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}):22===this.counterAnim?this.setPart(this.flags,{x:-104,y:3,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}):23===this.counterAnim?this.setPart(this.flags,{x:-111,y:3,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}):24===this.counterAnim?this.setPart(this.flags,{x:-117,y:3,angle:0,scX:1,scY:1,skX:9,skY:9,alpha:1}):25===this.counterAnim?this.setPart(this.flags,{x:-124,y:3,angle:0,scX:1,scY:1,skX:9,skY:9,alpha:1}):26===this.counterAnim?this.setPart(this.flags,{x:-130,y:2,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}):27===this.counterAnim?this.setPart(this.flags,{x:-137,y:2,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}):28===this.counterAnim?this.setPart(this.flags,{x:-143,y:2,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}):29===this.counterAnim?this.setPart(this.flags,{x:-150,y:2,angle:0,scX:1,scY:1,skX:11,skY:11,alpha:1}):30===this.counterAnim?this.setPart(this.flags,{x:-156,y:2,angle:0,scX:1,scY:1,skX:11,skY:11,alpha:1}):31===this.counterAnim?this.setPart(this.flags,{x:-163,y:2,angle:0,scX:1,scY:1,skX:11,skY:11,alpha:1}):32===this.counterAnim?this.setPart(this.flags,{x:-169,y:2,angle:0,scX:1,scY:1,skX:12,skY:12,alpha:1}):33===this.counterAnim&&this.animComplete())},Lvl6Flags.prototype.setParts=function(value){"anim"===value&&this.setPart(this.flags,{x:31,y:5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})},Lvl6Flags.prototype.free=function(){this.group=null,this.flags=null},Lvl6Flags})(Client.BasicSimpleAnim);Client.Lvl6Flags=Lvl6Flags})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6FlyChicken=(_super=>{function Lvl6FlyChicken(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=345,_this.group.y=85,Client.GameManager.instance.layerBackground0.addChild(_this.group),_this.fly2=new Client.SASprite(game,0,0,"level6","fly2 instance 10000"),_this.fly2.anchor.set(.5),_this.group.addChild(_this.fly2),_this.fly1=new Client.SASprite(game,0,0,"level6","fly1 instance 10000"),_this.fly1.anchor.set(.5),_this.group.addChild(_this.fly1),_this}return __extends(Lvl6FlyChicken,_super),Lvl6FlyChicken.prototype.fly=function(){this.playAnim("fly")},Lvl6FlyChicken.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"fly"===this.currAnim)&&(1===this.counterAnim?this.setPart(this.fly1,{x:-9,y:3,angle:0,scX:.55,scY:.55,skX:0,skY:0,alpha:1}):2===this.counterAnim?this.setPart(this.fly1,{x:-1,y:1,angle:0,scX:.61,scY:.61,skX:1,skY:1,alpha:1}):3===this.counterAnim?this.setPart(this.fly1,{x:6,y:-1,angle:0,scX:.66,scY:.66,skX:2,skY:2,alpha:1}):4===this.counterAnim?this.setPart(this.fly1,{x:14,y:-2,angle:0,scX:.72,scY:.72,skX:3,skY:3,alpha:1}):5===this.counterAnim?this.setPart(this.fly1,{x:22,y:-4,angle:0,scX:.78,scY:.78,skX:4,skY:4,alpha:1}):6===this.counterAnim?this.setPart(this.fly1,{x:30,y:-5,angle:0,scX:.83,scY:.83,skX:4,skY:4,alpha:1}):7===this.counterAnim?this.setPart(this.fly1,{x:37,y:-7,angle:0,scX:.89,scY:.89,skX:5,skY:5,alpha:1}):8===this.counterAnim?this.setPart(this.fly1,{x:45,y:-8,angle:0,scX:.94,scY:.94,skX:6,skY:6,alpha:1}):9===this.counterAnim?this.setPart(this.fly1,{x:53,y:-9,angle:0,scX:1,scY:1,skX:7,skY:7,alpha:1}):10===this.counterAnim?this.setPart(this.fly1,{x:61,y:-10,angle:0,scX:1,scY:1,skX:8,skY:8,alpha:1}):11===this.counterAnim?this.setPart(this.fly1,{x:69,y:-11,angle:0,scX:1,scY:1,skX:9,skY:9,alpha:1}):12===this.counterAnim?this.setPart(this.fly1,{x:77,y:-12,angle:0,scX:1,scY:1,skX:10,skY:10,alpha:1}):13===this.counterAnim?this.setPart(this.fly1,{x:85,y:-13,angle:0,scX:1,scY:1,skX:11,skY:11,alpha:1}):14===this.counterAnim?this.setPart(this.fly1,{x:93,y:-13,angle:0,scX:1,scY:1,skX:12,skY:12,alpha:1}):15===this.counterAnim?this.setPart(this.fly1,{x:101,y:-13,angle:0,scX:1,scY:1,skX:12,skY:12,alpha:1}):16===this.counterAnim?(this.setPart(this.fly1,{x:109,y:-14,angle:0,scX:1,scY:1,skX:13,skY:13,alpha:1}),this.fly2.visible=!0,this.setPart(this.fly2,{x:80,y:-12,angle:0,scX:.56,scY:1,skX:-4,skY:-4,alpha:0}),this.setPart(this.fly2,{x:80,y:-12,angle:0,scX:.56,scY:1,skX:-4,skY:-4,alpha:0})):17===this.counterAnim?(this.setPart(this.fly1,{x:117,y:-14,angle:0,scX:1,scY:1,skX:14,skY:14,alpha:1}),this.setPart(this.fly2,{x:88,y:-13,angle:0,scX:.57,scY:1,skX:-3,skY:-3,alpha:.03})):18===this.counterAnim?(this.setPart(this.fly1,{x:125,y:-14,angle:0,scX:1,scY:1,skX:15,skY:15,alpha:1}),this.setPart(this.fly2,{x:96,y:-13,angle:0,scX:.58,scY:1,skX:-1,skY:-1,alpha:.05})):19===this.counterAnim?(this.setPart(this.fly1,{x:133,y:-13,angle:0,scX:1,scY:1,skX:16,skY:16,alpha:1}),this.setPart(this.fly2,{x:104,y:-14,angle:0,scX:.59,scY:1,skX:0,skY:0,alpha:.08})):20===this.counterAnim?(this.setPart(this.fly1,{x:142,y:-13,angle:0,scX:1,scY:1,skX:17,skY:17,alpha:1}),this.setPart(this.fly2,{x:112,y:-14,angle:0,scX:.6,scY:1,skX:2,skY:2,alpha:.11})):21===this.counterAnim?(this.setPart(this.fly1,{x:150,y:-12,angle:0,scX:1,scY:1,skX:18,skY:18,alpha:1}),this.setPart(this.fly2,{x:120,y:-14,angle:0,scX:.62,scY:1,skX:3,skY:3,alpha:.14})):22===this.counterAnim?(this.setPart(this.fly1,{x:158,y:-11,angle:0,scX:1,scY:1,skX:19,skY:19,alpha:1}),this.setPart(this.fly2,{x:129,y:-13,angle:0,scX:.63,scY:1,skX:5,skY:5,alpha:.16})):23===this.counterAnim?(this.setPart(this.fly1,{x:166,y:-10,angle:0,scX:1,scY:1,skX:20,skY:20,alpha:1}),this.setPart(this.fly2,{x:137,y:-13,angle:0,scX:.64,scY:1,skX:6,skY:6,alpha:.19})):24===this.counterAnim?(this.setPart(this.fly1,{x:174,y:-9,angle:0,scX:1,scY:1,skX:21,skY:21,alpha:1}),this.setPart(this.fly2,{x:145,y:-13,angle:0,scX:.65,scY:1,skX:8,skY:8,alpha:.21})):25===this.counterAnim?(this.setPart(this.fly1,{x:182,y:-7,angle:0,scX:1,scY:1,skX:22,skY:22,alpha:1}),this.setPart(this.fly2,{x:153,y:-12,angle:0,scX:.66,scY:1,skX:9,skY:9,alpha:.24})):26===this.counterAnim?(this.setPart(this.fly1,{x:190,y:-6,angle:0,scX:1,scY:1,skX:22,skY:22,alpha:1}),this.setPart(this.fly2,{x:161,y:-11,angle:0,scX:.68,scY:1,skX:11,skY:11,alpha:.27})):27===this.counterAnim?(this.setPart(this.fly1,{x:198,y:-4,angle:0,scX:1,scY:1,skX:23,skY:23,alpha:1}),this.setPart(this.fly2,{x:169,y:-10,angle:0,scX:.69,scY:1,skX:13,skY:13,alpha:.3})):28===this.counterAnim?(this.setPart(this.fly1,{x:205,y:-2,angle:0,scX:1,scY:1,skX:24,skY:24,alpha:1}),this.setPart(this.fly2,{x:177,y:-8,angle:0,scX:.7,scY:1,skX:14,skY:14,alpha:.32})):29===this.counterAnim?(this.setPart(this.fly1,{x:213,y:0,angle:0,scX:1,scY:1,skX:25,skY:25,alpha:1}),this.setPart(this.fly2,{x:186,y:-7,angle:0,scX:.71,scY:1,skX:16,skY:16,alpha:.35})):30===this.counterAnim?(this.setPart(this.fly1,{x:221,y:3,angle:0,scX:1,scY:1,skX:26,skY:26,alpha:1}),this.setPart(this.fly2,{x:194,y:-5,angle:0,scX:.72,scY:1,skX:17,skY:17,alpha:.38})):31===this.counterAnim?(this.setPart(this.fly1,{x:229,y:6,angle:0,scX:1,scY:1,skX:27,skY:27,alpha:1}),this.setPart(this.fly2,{x:202,y:-3,angle:0,scX:.74,scY:1,skX:19,skY:19,alpha:.41})):32===this.counterAnim?(this.setPart(this.fly1,{x:237,y:9,angle:0,scX:1,scY:1,skX:28,skY:28,alpha:1}),this.setPart(this.fly2,{x:210,y:-1,angle:0,scX:.75,scY:1,skX:20,skY:20,alpha:.43})):33===this.counterAnim?(this.setPart(this.fly1,{x:244,y:12,angle:0,scX:1,scY:1,skX:29,skY:29,alpha:1}),this.setPart(this.fly2,{x:217,y:2,angle:0,scX:.76,scY:1,skX:22,skY:22,alpha:.46})):34===this.counterAnim?(this.setPart(this.fly1,{x:252,y:15,angle:0,scX:1,scY:1,skX:30,skY:30,alpha:1}),this.setPart(this.fly2,{x:225,y:4,angle:0,scX:.77,scY:1,skX:23,skY:23,alpha:.49})):35===this.counterAnim?(this.setPart(this.fly1,{x:259,y:19,angle:0,scX:1,scY:1,skX:31,skY:31,alpha:1}),this.setPart(this.fly2,{x:233,y:7,angle:0,scX:.78,scY:1,skX:25,skY:25,alpha:.51})):36===this.counterAnim?(this.setPart(this.fly1,{x:266,y:23,angle:0,scX:1,scY:1,skX:31,skY:31,alpha:1}),this.setPart(this.fly2,{x:241,y:10,angle:0,scX:.79,scY:1,skX:26,skY:26,alpha:.54})):37===this.counterAnim?(this.setPart(this.fly1,{x:274,y:27,angle:0,scX:1,scY:1,skX:32,skY:32,alpha:1}),this.setPart(this.fly2,{x:248,y:14,angle:0,scX:.81,scY:1,skX:28,skY:28,alpha:.57})):38===this.counterAnim?(this.setPart(this.fly1,{x:281,y:31,angle:0,scX:1,scY:1,skX:33,skY:33,alpha:1}),this.setPart(this.fly2,{x:256,y:17,angle:0,scX:.82,scY:1,skX:29,skY:29,alpha:.59})):39===this.counterAnim?(this.setPart(this.fly1,{x:288,y:36,angle:0,scX:1,scY:1,skX:34,skY:34,alpha:1}),this.setPart(this.fly2,{x:263,y:21,angle:0,scX:.83,scY:1,skX:31,skY:31,alpha:.62})):40===this.counterAnim?(this.setPart(this.fly1,{x:294,y:40,angle:0,scX:1,scY:1,skX:35,skY:35,alpha:1}),this.setPart(this.fly2,{x:270,y:25,angle:0,scX:.84,scY:1,skX:33,skY:33,alpha:.65})):41===this.counterAnim?(this.setPart(this.fly1,{x:301,y:45,angle:0,scX:1,scY:1,skX:36,skY:36,alpha:1}),this.setPart(this.fly2,{x:277,y:29,angle:0,scX:.85,scY:1,skX:34,skY:34,alpha:.68})):42===this.counterAnim?(this.setPart(this.fly1,{x:308,y:50,angle:0,scX:1,scY:1,skX:37,skY:37,alpha:1}),this.setPart(this.fly2,{x:285,y:34,angle:0,scX:.87,scY:1,skX:36,skY:36,alpha:.7})):43===this.counterAnim?(this.setPart(this.fly1,{x:314,y:56,angle:0,scX:1,scY:1,skX:38,skY:38,alpha:1}),this.setPart(this.fly2,{x:291,y:38,angle:0,scX:.88,scY:1,skX:37,skY:37,alpha:.73})):44===this.counterAnim?(this.setPart(this.fly1,{x:320,y:61,angle:0,scX:1,scY:1,skX:39,skY:39,alpha:1}),this.setPart(this.fly2,{x:298,y:43,angle:0,scX:.89,scY:1,skX:39,skY:39,alpha:.76})):45===this.counterAnim?(this.setPart(this.fly1,{x:326,y:67,angle:0,scX:1,scY:1,skX:40,skY:40,alpha:1}),this.setPart(this.fly2,{x:305,y:48,angle:0,scX:.9,scY:1,skX:40,skY:40,alpha:.79})):46===this.counterAnim?(this.setPart(this.fly1,{x:332,y:73,angle:0,scX:1,scY:1,skX:41,skY:41,alpha:1}),this.setPart(this.fly2,{x:311,y:53,angle:0,scX:.91,scY:1,skX:42,skY:42,alpha:.81})):47===this.counterAnim?(this.setPart(this.fly1,{x:338,y:79,angle:0,scX:1,scY:1,skX:41,skY:41,alpha:1}),this.setPart(this.fly2,{x:318,y:59,angle:0,scX:.93,scY:1,skX:43,skY:43,alpha:.84})):48===this.counterAnim?(this.setPart(this.fly1,{x:344,y:85,angle:0,scX:1,scY:1,skX:42,skY:42,alpha:1}),this.setPart(this.fly2,{x:324,y:64,angle:0,scX:.94,scY:1,skX:45,skY:45,alpha:.86})):49===this.counterAnim?(this.setPart(this.fly1,{x:349,y:91,angle:0,scX:1,scY:1,skX:43,skY:43,alpha:1}),this.setPart(this.fly2,{x:330,y:70,angle:0,scX:.95,scY:1,skX:46,skY:46,alpha:.89})):50===this.counterAnim?(this.setPart(this.fly1,{x:355,y:97,angle:0,scX:1,scY:1,skX:44,skY:44,alpha:1}),this.setPart(this.fly2,{x:336,y:76,angle:0,scX:.96,scY:1,skX:48,skY:48,alpha:.92})):51===this.counterAnim?(this.setPart(this.fly1,{x:360,y:104,angle:0,scX:1,scY:1,skX:45,skY:45,alpha:1}),this.setPart(this.fly2,{x:341,y:82,angle:0,scX:.97,scY:1,skX:50,skY:50,alpha:.95})):52===this.counterAnim?(this.setPart(this.fly1,{x:365,y:110,angle:0,scX:1,scY:1,skX:46,skY:46,alpha:1}),this.setPart(this.fly2,{x:347,y:88,angle:0,scX:.98,scY:1,skX:51,skY:51,alpha:.97})):53===this.counterAnim?(this.setPart(this.fly1,{x:370,y:117,angle:0,scX:1,scY:1,skX:47,skY:47,alpha:1}),this.setPart(this.fly2,{x:352,y:94,angle:0,scX:1,scY:1,skX:53,skY:53,alpha:1})):54===this.counterAnim?(this.setPart(this.fly1,{x:375,y:124,angle:0,scX:1,scY:1,skX:48,skY:48,alpha:1}),this.setPart(this.fly2,{x:358,y:101,angle:0,scX:1,scY:1,skX:53,skY:53,alpha:1})):55===this.counterAnim?(this.setPart(this.fly1,{x:379,y:131,angle:0,scX:1,scY:1,skX:49,skY:49,alpha:1}),this.setPart(this.fly2,{x:363,y:107,angle:0,scX:1,scY:1,skX:54,skY:54,alpha:1})):56===this.counterAnim?(this.setPart(this.fly1,{x:384,y:138,angle:0,scX:1,scY:1,skX:50,skY:50,alpha:1}),this.setPart(this.fly2,{x:368,y:114,angle:0,scX:1,scY:1,skX:55,skY:55,alpha:1})):57===this.counterAnim?(this.setPart(this.fly1,{x:388,y:145,angle:0,scX:1,scY:1,skX:50,skY:50,alpha:1}),this.setPart(this.fly2,{x:373,y:121,angle:0,scX:1,scY:1,skX:56,skY:56,alpha:1})):58===this.counterAnim?(this.setPart(this.fly1,{x:392,y:152,angle:0,scX:1,scY:1,skX:51,skY:51,alpha:1}),this.setPart(this.fly2,{x:377,y:128,angle:0,scX:1,scY:1,skX:57,skY:57,alpha:1})):59===this.counterAnim?(this.setPart(this.fly1,{x:397,y:159,angle:0,scX:1,scY:1,skX:52,skY:52,alpha:1}),this.setPart(this.fly2,{x:382,y:135,angle:0,scX:1,scY:1,skX:58,skY:58,alpha:1})):60===this.counterAnim?(this.setPart(this.fly1,{x:401,y:166,angle:0,scX:1,scY:1,skX:53,skY:53,alpha:1}),this.setPart(this.fly2,{x:386,y:142,angle:0,scX:1,scY:1,skX:58,skY:58,alpha:1})):61===this.counterAnim?(this.setPart(this.fly1,{x:404,y:174,angle:0,scX:1,scY:1,skX:54,skY:54,alpha:1}),this.setPart(this.fly2,{x:391,y:149,angle:0,scX:1,scY:1,skX:59,skY:59,alpha:1})):62===this.counterAnim?(this.setPart(this.fly1,{x:408,y:181,angle:0,scX:1,scY:1,skX:55,skY:55,alpha:1}),this.setPart(this.fly2,{x:395,y:156,angle:0,scX:1,scY:1,skX:60,skY:60,alpha:1})):63===this.counterAnim?(this.setPart(this.fly1,{x:412,y:188,angle:0,scX:1,scY:1,skX:56,skY:56,alpha:1}),this.setPart(this.fly2,{x:399,y:163,angle:0,scX:1,scY:1,skX:61,skY:61,alpha:1})):64===this.counterAnim?(this.setPart(this.fly1,{x:415,y:196,angle:0,scX:1,scY:1,skX:57,skY:57,alpha:1}),this.setPart(this.fly2,{x:403,y:171,angle:0,scX:1,scY:1,skX:62,skY:62,alpha:1})):65===this.counterAnim?(this.setPart(this.fly1,{x:419,y:203,angle:0,scX:1,scY:1,skX:58,skY:58,alpha:1}),this.setPart(this.fly2,{x:407,y:178,angle:0,scX:1,scY:1,skX:63,skY:63,alpha:1})):66===this.counterAnim?(this.setPart(this.fly1,{x:422,y:211,angle:0,scX:1,scY:1,skX:59,skY:59,alpha:1}),this.setPart(this.fly2,{x:410,y:185,angle:0,scX:1,scY:1,skX:64,skY:64,alpha:1})):67===this.counterAnim?(this.setPart(this.fly1,{x:425,y:218,angle:0,scX:1,scY:1,skX:59,skY:59,alpha:1}),this.setPart(this.fly2,{x:414,y:193,angle:0,scX:1,scY:1,skX:64,skY:64,alpha:1})):68===this.counterAnim?(this.setPart(this.fly1,{x:428,y:226,angle:0,scX:1,scY:1,skX:60,skY:60,alpha:1}),this.setPart(this.fly2,{x:417,y:200,angle:0,scX:1,scY:1,skX:65,skY:65,alpha:1})):69===this.counterAnim?(this.setPart(this.fly1,{x:431,y:234,angle:0,scX:1,scY:1,skX:61,skY:61,alpha:1}),this.setPart(this.fly2,{x:421,y:208,angle:0,scX:1,scY:1,skX:66,skY:66,alpha:1})):70===this.counterAnim?(this.setPart(this.fly1,{x:434,y:241,angle:0,scX:1,scY:1,skX:62,skY:62,alpha:1}),this.setPart(this.fly2,{x:424,y:216,angle:0,scX:1,scY:1,skX:67,skY:67,alpha:1})):71===this.counterAnim?(this.setPart(this.fly1,{x:437,y:249,angle:0,scX:1,scY:1,skX:63,skY:63,alpha:1}),this.setPart(this.fly2,{x:427,y:223,angle:0,scX:1,scY:1,skX:68,skY:68,alpha:1})):72===this.counterAnim?(this.setPart(this.fly1,{x:439,y:257,angle:0,scX:1,scY:1,skX:64,skY:64,alpha:1}),this.setPart(this.fly2,{x:430,y:231,angle:0,scX:1,scY:1,skX:69,skY:69,alpha:1})):73===this.counterAnim?(this.setPart(this.fly1,{x:442,y:265,angle:0,scX:1,scY:1,skX:65,skY:65,alpha:1}),this.setPart(this.fly2,{x:433,y:239,angle:0,scX:1,scY:1,skX:69,skY:69,alpha:1})):74===this.counterAnim?(this.setPart(this.fly1,{x:445,y:272,angle:0,scX:1,scY:1,skX:66,skY:66,alpha:1}),this.setPart(this.fly2,{x:436,y:246,angle:0,scX:1,scY:1,skX:70,skY:70,alpha:1})):75===this.counterAnim?(this.setPart(this.fly1,{x:447,y:280,angle:0,scX:1,scY:1,skX:67,skY:67,alpha:1}),this.setPart(this.fly2,{x:439,y:254,angle:0,scX:1,scY:1,skX:71,skY:71,alpha:1})):76===this.counterAnim?(this.setPart(this.fly1,{x:449,y:288,angle:0,scX:1,scY:1,skX:68,skY:68,alpha:1}),this.setPart(this.fly2,{x:441,y:262,angle:0,scX:1,scY:1,skX:72,skY:72,alpha:1})):77===this.counterAnim?(this.setPart(this.fly1,{x:452,y:296,angle:0,scX:1,scY:1,skX:69,skY:69,alpha:1}),this.setPart(this.fly2,{x:444,y:270,angle:0,scX:1,scY:1,skX:73,skY:73,alpha:1})):78===this.counterAnim?(this.setPart(this.fly1,{x:454,y:304,angle:0,scX:1,scY:1,skX:69,skY:69,alpha:1}),this.setPart(this.fly2,{x:446,y:278,angle:0,scX:1,scY:1,skX:74,skY:74,alpha:1})):79===this.counterAnim?(this.setPart(this.fly1,{x:456,y:312,angle:0,scX:1,scY:1,skX:70,skY:70,alpha:1}),this.setPart(this.fly2,{x:449,y:285,angle:0,scX:1,scY:1,skX:74,skY:74,alpha:1})):80===this.counterAnim&&this.animComplete())},Lvl6FlyChicken.prototype.setParts=function(value){"fly"===value&&(this.setPart(this.fly1,{x:-9,y:3,angle:0,scX:.55,scY:.55,skX:0,skY:0,alpha:1}),this.fly2.visible=!1)},Lvl6FlyChicken.prototype.free=function(){this.group=null,this.fly2=null,this.fly1=null},Lvl6FlyChicken})(Client.BasicSimpleAnim);Client.Lvl6FlyChicken=Lvl6FlyChicken})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6House=(_super=>{function Lvl6House(){var _this=_super.call(this)||this;return _this.addRoof(),Client.GameManager.instance.layerElements.create(322,188,"level6","roofPart instance 10000").anchor.set(.5),_this.addWindows(),_this.redButton=Client.GameManager.instance.layerElements.create(321,218,"level6","redButton instance 10000"),_this.redButton.anchor.set(.5),_this.redButton.inputEnabled=!0,_this.redButton.input.useHandCursor=!0,_this.redButton.events.onInputOut.add(_this.out,_this),_this.redButton.events.onInputOver.add(_this.over,_this),_this.redButton.events.onInputDown.add(_this.down,_this),_this}return __extends(Lvl6House,_super),Lvl6House.prototype.over=function(){this.redButton.frameName="redButton instance 10001"},Lvl6House.prototype.out=function(){!0===this.redButton.input.enabled&&(this.redButton.frameName="redButton instance 10000")},Lvl6House.prototype.down=function(){this.redButton.input.enabled=!1,this.redButton.frameName="redButton instance 10003",this.roof.use(),this.window1.playAnim(),this.window2.playAnim()},Lvl6House.prototype.enableButton=function(){this.redButton.input.enabled=!0,this.redButton.input.useHandCursor=!0,this.redButton.frameName="redButton instance 10000"},Lvl6House.prototype.addLightningEffect=function(){1===this.window1.currentSymbol&&0===this.window2.currentSymbol?(this.addLigthning(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y),Client.GameManager.instance.hero.addShock(),Client.GameManager.instance.level.gameOver=!0):1===this.window1.currentSymbol&&1===this.window2.currentSymbol?(this.addLigthning(Client.GameManager.instance.level.car3.group.x+15,Client.GameManager.instance.level.car3.group.y+30),Client.GameManager.instance.level.car3.playLightning()):0===this.window1.currentSymbol&&0===this.window2.currentSymbol?this.chickenMagic():0===this.window1.currentSymbol&&1===this.window2.currentSymbol&&(null==this.flyChicken&&(this.flyChicken=new Client.Lvl6FlyChicken(Client.Main.instance),Client.GameManager.instance.level.updateElements.push(this.flyChicken)),this.flyChicken.fly())},Lvl6House.prototype.chickenMagic=function(){var magic=Client.GameManager.instance.layerUpper.create(335,100,"level6","chickenMagic instance 10000",!0,1),angle=(magic.anchor.set(.5,1),magic.scale.set(2,-2),Phaser.Math.angleBetween(magic.x,magic.y,Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y));magic.rotation=angle-Phaser.Math.degToRad(90),magic.animations.add("boom",Phaser.Animation.generateFrameNames("chickenMagic instance 1",0,14,"",4),30,!1).onComplete.add(function(){Client.GameManager.instance.hero.setVisibility(!1),Client.GameManager.instance.level.addChicken()},this),magic.play("boom")},Lvl6House.prototype.addLigthning=function(_x,_y){null==this.ligthningTop&&(this.ligthningTop=Client.GameManager.instance.layerBackground.create(322,120,"level6","lightningAnim instance 10000",!0,1),this.ligthningTop.anchor.set(.5,0),this.ligthningTop.scale.set(2,-2),this.ligthningTop.animations.add("boom",Phaser.Animation.generateFrameNames("lightningAnim instance 1",0,14,"",4),30,!1)),this.ligthningTop.play("boom"),null==this.ligthningMain&&(this.ligthningMain=Client.GameManager.instance.layerUpper.create(0,0,"level6","lightningAnim instance 10000",!0,1),this.ligthningMain.anchor.set(.5,1),this.ligthningMain.scale.set(2,2),this.ligthningMain.animations.add("boom",Phaser.Animation.generateFrameNames("lightningAnim instance 1",0,14,"",4),30,!1)),this.ligthningMain.x=_x,this.ligthningMain.y=_y,this.ligthningMain.play("boom"),Client.SoundManager.playSFX("s_lightning")},Lvl6House.prototype.addWindows=function(){this.window1=new Client.Lvl6Window(Client.Main.instance,278,270,-1,4,3,1),Client.GameManager.instance.level.updateElements.push(this.window1),this.window2=new Client.Lvl6Window(Client.Main.instance,370,270,1,2,1,0),Client.GameManager.instance.level.updateElements.push(this.window2)},Lvl6House.prototype.addRoof=function(){this.roof=new Client.Lvl6Roof(Client.Main.instance),Client.GameManager.instance.level.updateElements.push(this.roof)},Lvl6House.prototype.free=function(){this.window1=null,this.window2=null,this.roof=null,this.redButton=null,this.ligthningTop=null,this.ligthningMain=null,this.flyChicken=null},Lvl6House})(Client.BasicElement);Client.Lvl6House=Lvl6House})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Magic=(_super=>{function Lvl6Magic(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.x=322,_this.group.y=141,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.white13=new Client.SASprite(game,0,0,"level6","blueLine instance 10000"),_this.white13.anchor.set(.5),_this.group.addChild(_this.white13),_this.white12=new Client.SASprite(game,0,0,"level6","blueLine instance 10000"),_this.white12.anchor.set(.5),_this.group.addChild(_this.white12),_this.white11=new Client.SASprite(game,0,0,"level6","blueLine instance 10000"),_this.white11.anchor.set(.5),_this.group.addChild(_this.white11),_this.white10=new Client.SASprite(game,0,0,"level6","blueLine instance 10000"),_this.white10.anchor.set(.5),_this.group.addChild(_this.white10),_this.white9=new Client.SASprite(game,0,0,"level6","blueLine instance 10000"),_this.white9.anchor.set(.5),_this.group.addChild(_this.white9),_this.white8=new Client.SASprite(game,0,0,"level6","blueCircle instance 10000"),_this.white8.anchor.set(.5),_this.group.addChild(_this.white8),_this.white7=new Client.SASprite(game,0,0,"level6","blueCircle instance 10000"),_this.white7.anchor.set(.5),_this.group.addChild(_this.white7),_this.white6=new Client.SASprite(game,0,0,"level6","blueCircle instance 10000"),_this.white6.anchor.set(.5),_this.group.addChild(_this.white6),_this.white5=new Client.SASprite(game,0,0,"level6","blueCircle instance 10000"),_this.white5.anchor.set(.5),_this.group.addChild(_this.white5),_this.white4=new Client.SASprite(game,0,0,"level6","whiteCircle instance 10000"),_this.white4.anchor.set(.5),_this.group.addChild(_this.white4),_this.white3=new Client.SASprite(game,0,0,"level6","whiteCircle instance 10000"),_this.white3.anchor.set(.5),_this.group.addChild(_this.white3),_this.white2=new Client.SASprite(game,0,0,"level6","whiteCircle instance 10000"),_this.white2.anchor.set(.5),_this.group.addChild(_this.white2),_this.white1=new Client.SASprite(game,0,0,"level6","whiteCircle instance 10000"),_this.white1.anchor.set(.5),_this.group.addChild(_this.white1),_this.playAnim("anim",-1),_this}return __extends(Lvl6Magic,_super),Lvl6Magic.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,19,{x:8,y:-29,skX:9,skY:9,scX:.44,scY:.44},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,19,{x:12,y:-56,scX:.47,scY:.47},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,19,{x:-20,y:-49,skX:-4,skY:-4,scX:.5,scY:.5},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,19,{y:-41,scX:1.07,scY:1.08},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,19,{y:-38,scX:1.64,scY:1.65},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,19,{y:-28,skX:9,skY:9,scX:.73,scY:.73},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,19,{x:13,y:-57,scX:.83,scY:.83},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,19,{x:-22,y:-50,skX:-4,skY:-4,scX:.84,scY:.84},!0),Client.GameManager.instance.level.setSimpleTween(this.white10,19,{x:-15,skX:-149,skY:-149},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,19,{y:-33,skX:-146,skY:-146,scY:1.1},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,19,{x:11,y:-42,skX:100,skY:100,scY:1.25},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,19,{x:5,scY:1.5},!0)):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,20,{x:9,y:-26,skX:0,skY:0,scX:.31,scY:.31},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,20,{x:16,y:-60,scX:.57,scY:.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,20,{x:-19,y:-51,skX:0,skY:0,scX:.57,scY:.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,20,{y:-37,scX:.99,scY:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,20,{y:-37,scX:1.57,scY:1.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,20,{y:-26,skX:0,skY:0,scX:.52,scY:.52},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,20,{x:18,y:-61,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,20,{x:-20,y:-52,skX:0,skY:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white10,20,{x:-14,skX:-133,skY:-133},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,20,{y:-32,skX:-149,skY:-149,scY:.86},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,20,{x:13,y:-43,skX:102,skY:102,scY:.86},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,20,{x:6,scY:1},!0)):40===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,15,{x:12,y:-30,skX:2,skY:2,scX:.73,scY:.73},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,15,{x:15,y:-59,scX:.48,scY:.48},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,15,{x:-25,y:-48,skX:-12,skY:-12,scX:.75,scY:.75},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,15,{x:-6,y:-40,scX:1.27,scY:1.3},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,15,{x:-6,y:-40,scX:1.79,scY:1.82},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,15,{x:13,y:-28,skX:2,skY:2,scX:1.21,scY:1.21},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,15,{x:16,y:-60,scX:.85,scY:.85},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,15,{x:-26,y:-48,skX:-12,skY:-12,scX:1.15,scY:1.15},!0),Client.GameManager.instance.level.setSimpleTween(this.white10,15,{x:-16,y:-45,skX:-167,skY:-167,scY:1.92},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,15,{x:3,y:-35,scX:.61,scY:1.55},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,15,{x:15,y:-44,skX:95,skY:95,scY:1.12},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,15,{y:-52,skX:-38,skY:-38,scY:1.25},!0)):55===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,17,{x:1,skX:1,skY:1,scX:.53,scY:.53},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,17,{x:17,y:-40,scX:.25,scY:.25},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,17,{x:-22,y:-49,skX:-6,skY:-6,scX:.66,scY:.66},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,17,{x:0,y:-54,scX:.29,scY:.29},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,17,{x:1,y:-54,scX:.92,scY:.93},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,17,{x:1,y:-30,skX:1,skY:1,scX:.83,scY:.83},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,17,{x:17,y:-41,scX:.48,scY:.48},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,17,{x:-23,y:-50,skX:-6,skY:-6,scX:1.08,scY:1.08},!0),Client.GameManager.instance.level.setSimpleTween(this.white10,17,{x:-12,y:-53,skX:171,skY:171,scX:.82,scY:.95},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,17,{x:0,y:-42,skX:-92,skY:-92,scX:.86,scY:1.04},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,17,{x:9,y:-36,skX:151,skY:151,scX:1,scY:.62},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,17,{x:8,y:-48,skX:41,skY:41,scY:.69},!0)):72===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,18,{x:-7,y:-37,skX:0,skY:0,scX:.99,scY:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,18,{x:9,y:-26,scX:.31,scY:.31},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,18,{x:-19,y:-51,skX:0,skY:0,scX:.57,scY:.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,18,{x:16,y:-60,scX:.57,scY:.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,18,{x:18,y:-61,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,18,{x:-7,y:-37,skX:0,skY:0,scX:1.57,scY:1.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,18,{x:9,y:-26,scX:.52,scY:.52},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,18,{x:-20,y:-52,skX:0,skY:0,scX:1,scY:1},!0),this.setPart(this.white10,{x:-12,y:-53,angle:0,scX:.82,scY:.95,skX:171,skY:171,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,18,{x:6,y:-51,skX:-44,skY:-44,scX:1.13,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,18,{x:1,y:-32,skX:-149,skY:-149,scX:1.03,scY:.86},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,10,{x:11,y:-45,skX:84,skY:84,scX:1.33,scY:.86},!0)):73===this.counterAnim?this.white10.visible=!1:76===this.counterAnim?(this.white9.visible=!0,this.setPart(this.white9,{x:-11,y:-42,angle:0,scX:1.17,scY:.42,skX:-140,skY:-140,alpha:0},!0),Client.GameManager.instance.level.setSimpleTween(this.white9,14,{x:-14,y:-46,skX:-133,skY:-133,scX:.54,scY:1.39,alpha:1},!0)):82===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.white13,8,{x:13,y:-43,skX:102,skY:102,scX:1.54},!0):90===this.counterAnim?(this.setPart(this.white1,{x:-7,y:-37,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1},!0),this.setPart(this.white2,{x:9,y:-26,angle:0,scX:.31,scY:.31,skX:0,skY:0,alpha:1},!0),this.setPart(this.white3,{x:-19,y:-51,angle:0,scX:.57,scY:.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white4,{x:16,y:-60,angle:0,scX:.57,scY:.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white5,{x:18,y:-61,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.white6,{x:-7,y:-37,angle:0,scX:1.57,scY:1.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white7,{x:9,y:-26,angle:0,scX:.52,scY:.52,skX:0,skY:0,alpha:1},!0),this.setPart(this.white8,{x:-20,y:-52,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.white9,{x:-14,y:-46,angle:0,scX:.54,scY:1.39,skX:-133,skY:-133,alpha:1},!0),this.setPart(this.white11,{x:6,y:-51,angle:0,scX:1.13,scY:1,skX:-44,skY:-44,alpha:1},!0),this.setPart(this.white12,{x:1,y:-32,angle:0,scX:1.03,scY:.86,skX:-149,skY:-149,alpha:1},!0),this.setPart(this.white13,{x:13,y:-43,angle:0,scX:1.54,scY:.86,skX:102,skY:102,alpha:1},!0)):94===this.counterAnim&&this.animComplete():"magic"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,14,{x:-4,y:-47,skX:-2,skY:-2,scX:1.81,scY:1.81},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,14,{x:19,y:-36,skX:-2,skY:-2},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,14,{x:-28,y:-62,skX:-2,skY:-2,scX:.5,scY:.5},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,14,{x:22,y:-64,skX:29,skY:29,scX:.44,scY:.44},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,14,{x:24,y:-64,skX:29,skY:29,scX:.78,scY:.78},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,14,{x:-5,y:-47,skX:-2,skY:-2,scX:2.71,scY:2.71},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,14,{x:20,y:-36,skX:-2,skY:-2},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,14,{x:-29,y:-62,skX:-2,skY:-2,scX:.88,scY:.88},!0),Client.GameManager.instance.level.setSimpleTween(this.white9,14,{x:-19,y:-57,skX:-147,skY:-147,scX:.73},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,14,{x:12,y:-59,skX:-29,skY:-29},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,14,{x:8,y:-40,skX:-160,skY:-160,scX:1.27},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,14,{x:21,y:-50,skX:97,skY:97},!0)):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,16,{x:6,y:-52,skX:-8,skY:-8,scX:2.32,scY:2.32},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,16,{x:25,y:-43,skX:-8,skY:-8},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,16,{x:-23,y:-63,skX:-8,skY:-8,scX:.81,scY:.81},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,16,{x:26,y:-71,skX:23,skY:23},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,16,{x:27,y:-71,skX:23,skY:23},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,16,{x:3,y:-52,skX:-8,skY:-8,scX:3.04,scY:3.04},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,16,{x:26,y:-43,skX:-8,skY:-8},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,16,{x:-25,y:-64,skX:-8,skY:-8,scX:1.42,scY:1.42},!0),Client.GameManager.instance.level.setSimpleTween(this.white9,16,{x:-15,y:-60,skX:-153,skY:-153},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,16,{x:16,y:-65,skX:-35,skY:-35},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,16,{x:14,y:-46,skX:-166,skY:-166},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,16,{x:26,y:-57,skX:91,skY:91},!0)):31===this.counterAnim?(Client.GameManager.instance.level.house.addLightningEffect(),this.setPart(this.white1,{x:6,y:-52,angle:0,scX:2.32,scY:2.32,skX:-8,skY:-8,alpha:1},!0),this.setPart(this.white2,{x:25,y:-43,angle:0,scX:.31,scY:.31,skX:-8,skY:-8,alpha:1},!0),this.setPart(this.white3,{x:-23,y:-63,angle:0,scX:.81,scY:.81,skX:-8,skY:-8,alpha:1},!0),this.setPart(this.white4,{x:26,y:-71,angle:0,scX:.44,scY:.44,skX:23,skY:23,alpha:1},!0),this.setPart(this.white5,{x:27,y:-71,angle:0,scX:.78,scY:.78,skX:23,skY:23,alpha:1},!0),this.setPart(this.white6,{x:3,y:-52,angle:0,scX:3.04,scY:3.04,skX:-8,skY:-8,alpha:1},!0),this.setPart(this.white7,{x:26,y:-43,angle:0,scX:.52,scY:.52,skX:-8,skY:-8,alpha:1},!0),this.setPart(this.white8,{x:-25,y:-64,angle:0,scX:1.42,scY:1.42,skX:-8,skY:-8,alpha:1},!0),this.setPart(this.white9,{x:-15,y:-60,angle:0,scX:.73,scY:1.39,skX:-153,skY:-153,alpha:1},!0),this.setPart(this.white11,{x:16,y:-65,angle:0,scX:1.13,scY:1,skX:-35,skY:-35,alpha:1},!0),this.setPart(this.white12,{x:14,y:-46,angle:0,scX:1.27,scY:.86,skX:-166,skY:-166,alpha:1},!0),this.setPart(this.white13,{x:26,y:-57,angle:0,scX:1.54,scY:.86,skX:91,skY:91,alpha:1},!0)):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.white1,15,{x:-7,y:-37,skX:0,skY:0,scX:.99,scY:.99},!0),Client.GameManager.instance.level.setSimpleTween(this.white2,15,{x:9,y:-26,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.white3,15,{x:-19,y:-51,skX:0,skY:0,scX:.57,scY:.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white4,15,{x:16,y:-60,skX:0,skY:0,scX:.57,scY:.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white5,15,{x:18,y:-61,skX:0,skY:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white6,15,{x:-7,y:-37,skX:0,skY:0,scX:1.57,scY:1.57},!0),Client.GameManager.instance.level.setSimpleTween(this.white7,15,{x:9,y:-26,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.white8,15,{x:-20,y:-52,skX:0,skY:0,scX:1,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.white9,15,{x:-14,y:-46,skX:-133,skY:-133,scX:.54},!0),Client.GameManager.instance.level.setSimpleTween(this.white11,15,{x:6,y:-51,skX:-44,skY:-44},!0),Client.GameManager.instance.level.setSimpleTween(this.white12,15,{x:1,y:-32,skX:-149,skY:-149,scX:1.03},!0),Client.GameManager.instance.level.setSimpleTween(this.white13,15,{x:13,y:-43,skX:102,skY:102},!0)):61===this.counterAnim&&(this.animComplete(),this.playAnim("anim",-1))))},Lvl6Magic.prototype.setParts=function(value){"anim"===value?(this.setPart(this.white1,{x:9,y:-26,angle:0,scX:.31,scY:.31,skX:0,skY:0,alpha:1},!0),this.setPart(this.white2,{x:16,y:-60,angle:0,scX:.57,scY:.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white3,{x:-19,y:-51,angle:0,scX:.57,scY:.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white4,{x:-7,y:-37,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1},!0),this.setPart(this.white5,{x:-7,y:-37,angle:0,scX:1.57,scY:1.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white6,{x:9,y:-26,angle:0,scX:.52,scY:.52,skX:0,skY:0,alpha:1},!0),this.setPart(this.white7,{x:18,y:-61,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.white8,{x:-20,y:-52,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.white9.visible=!1,this.setPart(this.white10,{x:-14,y:-46,angle:0,scX:.54,scY:1.39,skX:-133,skY:-133,alpha:1},!0),this.setPart(this.white11,{x:1,y:-32,angle:0,scX:1.03,scY:.86,skX:-149,skY:-149,alpha:1},!0),this.setPart(this.white12,{x:13,y:-43,angle:0,scX:1.54,scY:.86,skX:102,skY:102,alpha:1},!0),this.setPart(this.white13,{x:6,y:-51,angle:0,scX:1.13,scY:1,skX:-44,skY:-44,alpha:1},!0)):"magic"===value&&(this.setPart(this.white1,{x:-7,y:-37,angle:0,scX:.99,scY:.99,skX:0,skY:0,alpha:1},!0),this.setPart(this.white2,{x:9,y:-26,angle:0,scX:.31,scY:.31,skX:0,skY:0,alpha:1},!0),this.setPart(this.white3,{x:-19,y:-51,angle:0,scX:.57,scY:.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white4,{x:16,y:-60,angle:0,scX:.57,scY:.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white5,{x:18,y:-61,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.white6,{x:-7,y:-37,angle:0,scX:1.57,scY:1.57,skX:0,skY:0,alpha:1},!0),this.setPart(this.white7,{x:9,y:-26,angle:0,scX:.52,scY:.52,skX:0,skY:0,alpha:1},!0),this.setPart(this.white8,{x:-20,y:-52,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.white9,{x:-14,y:-46,angle:0,scX:.54,scY:1.39,skX:-133,skY:-133,alpha:1},!0),this.white10.visible=!1,this.setPart(this.white11,{x:6,y:-51,angle:0,scX:1.13,scY:1,skX:-44,skY:-44,alpha:1},!0),this.setPart(this.white12,{x:1,y:-32,angle:0,scX:1.03,scY:.86,skX:-149,skY:-149,alpha:1},!0),this.setPart(this.white13,{x:13,y:-43,angle:0,scX:1.54,scY:.86,skX:102,skY:102,alpha:1},!0))},Lvl6Magic.prototype.free=function(){this.group=null,this.white13=null,this.white13=null,this.white12=null,this.white11=null,this.white9=null,this.white8=null,this.white7=null,this.white6=null,this.white5=null,this.white4=null,this.white3=null,this.white2=null,this.white1=null},Lvl6Magic})(Client.BasicSimpleAnim);Client.Lvl6Magic=Lvl6Magic})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Roof=(_super=>{function Lvl6Roof(game){var _this=_super.call(this,game)||this;return _this.addTopMagic(),_this.group=game.make.group(),_this.group.x=322,_this.group.y=141,Client.GameManager.instance.layerBackground.addChild(_this.group),_this.part14=new Client.SASprite(game,0,0,"level6","roofPart14 instance 10000"),_this.part14.anchor.set(.5),_this.group.addChild(_this.part14),_this.part13=new Client.SASprite(game,0,0,"level6","roofPart11 instance 10000"),_this.part13.anchor.set(.5),_this.group.addChild(_this.part13),_this.part12=new Client.SASprite(game,0,0,"level6","roofPart11 instance 10000"),_this.part12.anchor.set(.5),_this.group.addChild(_this.part12),_this.part11=new Client.SASprite(game,0,0,"level6","roofPart11 instance 10000"),_this.part11.anchor.set(.5),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level6","roofPart7 instance 10000"),_this.part10.anchor.set(.5),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level6","roofPart6 instance 10000"),_this.part9.anchor.set(.5),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level6","roofPart5 instance 10000"),_this.part8.anchor.set(.5),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level6","roofPart7 instance 10000"),_this.part7.anchor.set(.5),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level6","roofPart6 instance 10000"),_this.part6.anchor.set(.5),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level6","roofPart5 instance 10000"),_this.part5.anchor.set(.5),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level6","roofPart4 instance 10000"),_this.part4.anchor.set(.5),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level6","roofPart3 instance 10000"),_this.part3.anchor.set(.5),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level6","roofPart2 instance 10000"),_this.part2.anchor.set(.5),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level6","roofPart1 instance 10000"),_this.part1.anchor.set(.5),_this.group.addChild(_this.part1),_this.setParts("magic"),_this}return __extends(Lvl6Roof,_super),Lvl6Roof.prototype.use=function(){this.playAnim("magic"),this.magic.playAnim("magic")},Lvl6Roof.prototype.addTopMagic=function(){this.magic=new Client.Lvl6Magic(Client.Main.instance),Client.GameManager.instance.level.updateElements.push(this.magic)},Lvl6Roof.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"magic"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,14,{x:-17,y:-31,skX:53,skY:53,scY:1.01},!0),Client.GameManager.instance.level.setSimpleTween(this.part3,14,{x:-19,y:-9,skX:19,skY:19,scY:1.03},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,14,{x:-40,y:-36,skX:15,skY:-165},!0),Client.GameManager.instance.level.setSimpleTween(this.part6,14,{x:-55,y:-13,skX:38,skY:-142},!0),Client.GameManager.instance.level.setSimpleTween(this.part8,14,{x:40,y:-37,skX:-15,skY:-15},!0),Client.GameManager.instance.level.setSimpleTween(this.part9,14,{x:55,y:-14,skX:-43,skY:-43},!0),Client.GameManager.instance.level.setSimpleTween(this.part11,14,{x:-18,y:-21,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part12,14,{x:49,y:-26,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part13,14,{x:-51,y:-27,alpha:1},!0)):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,16,{x:-16,y:-37,skX:43,skY:43,scY:1.26},!0),Client.GameManager.instance.level.setSimpleTween(this.part3,16,{scY:1.06},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,16,{x:-39,y:-41,skX:1,skY:-179},!0),Client.GameManager.instance.level.setSimpleTween(this.part6,16,{x:-54,y:-14,skX:42,skY:-138},!0),Client.GameManager.instance.level.setSimpleTween(this.part8,16,{x:39,y:-42,skX:-3,skY:-3},!0),Client.GameManager.instance.level.setSimpleTween(this.part9,16,{x:54,skX:-48,skY:-48},!0),Client.GameManager.instance.level.setSimpleTween(this.part11,16,{y:-23},!0),Client.GameManager.instance.level.setSimpleTween(this.part12,16,{x:46,y:-27},!0),Client.GameManager.instance.level.setSimpleTween(this.part13,16,{x:-49,y:-29},!0)):31===this.counterAnim?(this.setPart(this.part1,{x:0,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part2,{x:-16,y:-37,angle:0,scX:1,scY:1.26,skX:43,skY:43,alpha:1},!0),this.setPart(this.part3,{x:-19,y:-9,angle:0,scX:1,scY:1.06,skX:19,skY:19,alpha:1},!0),this.setPart(this.part4,{x:-17,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part5,{x:-39,y:-41,angle:0,scX:1,scY:1,skX:1,skY:-179,alpha:1},!0),this.setPart(this.part6,{x:-54,y:-14,angle:0,scX:1,scY:1,skX:42,skY:-138,alpha:1},!0),this.setPart(this.part7,{x:-49,y:-3,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.part8,{x:39,y:-42,angle:0,scX:1,scY:1,skX:-3,skY:-3,alpha:1},!0),this.setPart(this.part9,{x:54,y:-14,angle:0,scX:1,scY:1,skX:-48,skY:-48,alpha:1},!0),this.setPart(this.part10,{x:50,y:-3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part11,{x:-18,y:-23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part12,{x:46,y:-27,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part13,{x:-49,y:-29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part14,{x:0,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):46===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-22,y:-23,skX:62,skY:62,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-21,y:-8,skX:0,skY:0,scY:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,15,{x:-58,y:-27,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.part6,15,{x:-59,y:-7,skX:0,skY:180},!0),Client.GameManager.instance.level.setSimpleTween(this.part8,15,{x:59,y:-27,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.part9,15,{x:60,y:-7,skX:0,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.part11,15,{x:-22,y:-17,alpha:0},!0),Client.GameManager.instance.level.setSimpleTween(this.part12,15,{x:62,y:-18,alpha:0},!0),Client.GameManager.instance.level.setSimpleTween(this.part13,15,{x:-63,y:-18,alpha:0},!0)):61===this.counterAnim&&this.animComplete())},Lvl6Roof.prototype.setParts=function(value){"magic"===value&&(this.setPart(this.part1,{x:0,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part2,{x:-22,y:-23,angle:0,scX:1,scY:1,skX:62,skY:62,alpha:1},!0),this.setPart(this.part3,{x:-21,y:-8,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part4,{x:-17,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part5,{x:-58,y:-27,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.part6,{x:-59,y:-7,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.part7,{x:-49,y:-3,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1},!0),this.setPart(this.part8,{x:59,y:-27,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part9,{x:60,y:-7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part10,{x:50,y:-3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part11,{x:-22,y:-17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0),this.setPart(this.part12,{x:62,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0),this.setPart(this.part13,{x:-63,y:-18,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0),this.setPart(this.part14,{x:0,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0))},Lvl6Roof.prototype.free=function(){this.group=null,this.part14=null,this.part13=null,this.part12=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null},Lvl6Roof})(Client.BasicSimpleAnim);Client.Lvl6Roof=Lvl6Roof})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6SwordUI=(_super=>{function Lvl6SwordUI(){var _this=_super.call(this)||this;return _this.full=!1,_this.musicPlay=!1,_this.back=Client.GameManager.instance.layerElements.create(592,300,"level6","barBack instance 10000"),_this.back.anchor.set(.5),_this.bar=Client.Main.instance.make.sprite(-101,0,"level6","barProgress instance 10000"),_this.bar.anchor.set(.5),_this.back.addChild(_this.bar),_this.mask=new Phaser.Graphics(Client.Main.instance,0,0),_this.mask.beginFill(0,1),_this.mask.drawRoundedRect(-51,-11,101,22,11),_this.mask.endFill(),_this.back.addChild(_this.mask),_this.bar.mask=_this.mask,_this.border=Client.Main.instance.make.sprite(0,0,"level6","border instance 10000"),_this.border.anchor.set(.5),_this.back.addChild(_this.border),_this.help=Client.GameManager.instance.layerElements.create(592,333,"level6","swordUI instance 10000"),_this.help.anchor.set(.5),_this.setProgress(0),_this.hide(),_this}return __extends(Lvl6SwordUI,_super),Lvl6SwordUI.prototype.hide=function(){this.back.visible=!1,this.help.visible=!1,Client.SoundManager.stopSFXLoop("s_lvl6_swordDrag")},Lvl6SwordUI.prototype.show=function(){this.back.visible=!0,this.help.visible=!0},Lvl6SwordUI.prototype.up=function(){!1===this.full&&Client.Main.instance.add.tween(this.bar).to({x:-101},150,"Linear",!0),this.musicPlay=!1,Client.SoundManager.stopSFXLoop("s_lvl6_swordDrag")},Lvl6SwordUI.prototype.setProgress=function(_value){this.bar.x+=_value,0<=this.bar.x&&(this.bar.x=0,this.hide(),this.full=!0),0!==_value&&!1===this.musicPlay&&(this.musicPlay=!0,Client.SoundManager.playSFX("s_lvl6_swordDrag",!0))},Lvl6SwordUI.prototype.free=function(){this.back=null,this.bar=null,this.mask=null,this.border=null,this.help=null},Lvl6SwordUI})(Client.BasicElement);Client.Lvl6SwordUI=Lvl6SwordUI})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl6Window=(_super=>{function Lvl6Window(game,_x,_y,_scale,_symbol1,_symbol2,_currentSymbol){var _this=_super.call(this)||this,_currentSymbol=(_this.currentSymbol=0,_this.currentSymbol=_currentSymbol,_this.group=new Phaser.Group(game),_this.group.x=_x,_this.group.y=_y,_this.group.scale.x=_scale,Client.GameManager.instance.layerElements.addChild(_this.group),_this.back=_this.group.create(0,0,"level6","back instance 10000"),_this.back.anchor.set(.5),new Phaser.Graphics(game,0,0));return _currentSymbol.beginFill(0,1),_currentSymbol.drawRect(-20,-35,40,70),_currentSymbol.endFill(),_this.group.addChild(_currentSymbol),_this.symbol1=_this.group.create(0,-105,"level6","symbol"+_symbol1+" instance 10000"),_this.symbol1.animations.add("zero",Phaser.Animation.generateFrameNames("symbol"+_symbol1+" instance 1",0,0,"",4),30,!1),_this.symbol1.animations.add("anim",Phaser.Animation.generateFrameNames("symbol"+_symbol1+" instance 1",0,39,"",4),30,!1).onComplete.add(function(){this.symbol1.play("zero"),this.handler.inputEnabled=!0,this.handler.frameName="handlerBody instance 10000",Client.GameManager.instance.level.house.enableButton()},_this),_this.symbol1.anchor.set(.5),_this.symbol1.mask=_currentSymbol,_this.symbol2=_this.group.create(0,5,"level6","symbol"+_symbol2+" instance 10000"),_this.symbol2.animations.add("zero",Phaser.Animation.generateFrameNames("symbol"+_symbol2+" instance 1",0,0,"",4),30,!1),_this.symbol2.animations.add("anim",Phaser.Animation.generateFrameNames("symbol"+_symbol2+" instance 1",0,39,"",4),30,!1).onComplete.add(function(){this.symbol2.play("zero"),this.handler.inputEnabled=!0,this.handler.frameName="handlerBody instance 10000",Client.GameManager.instance.level.house.enableButton()},_this),_this.symbol2.anchor.set(.5),_this.symbol2.mask=_currentSymbol,1===_this.currentSymbol&&(_this.symbol1.y=5,_this.symbol2.y=105),_this.window=_this.group.create(0,0,"level6","window instance 10000"),_this.window.anchor.set(.5),_this.handler=game.make.button(25,-22,"level6",_this.use,_this,"handlerBody instance 10001","handlerBody instance 10000","handlerBody instance 10000","handlerBody instance 10000"),_this.handler.anchor.set(0,.5),_this.handler.angle=-45,_this.group.addChild(_this.handler),_this.arm=_this.group.create(25,-22,"level6","arm instance 10000"),_this.arm.anchor.set(.5),_this}return __extends(Lvl6Window,_super),Lvl6Window.prototype.use=function(){this.changeSymbols(),this.handler.inputEnabled=!1,Client.Main.instance.add.tween(this.handler).to({angle:45},100,"Linear",!0).onComplete.add(function(){Client.Main.instance.add.tween(this.handler).to({angle:-45},300,"Linear",!0).onComplete.add(function(){this.handler.inputEnabled=!0},this)},this)},Lvl6Window.prototype.changeSymbols=function(){0===this.currentSymbol?(this.currentSymbol=1,Client.Main.instance.add.tween(this.symbol1).to({y:5},400,"Linear",!0),Client.Main.instance.add.tween(this.symbol2).to({y:105},400,"Linear",!0)):(this.currentSymbol=0,Client.Main.instance.add.tween(this.symbol1).to({y:-105},400,"Linear",!0),Client.Main.instance.add.tween(this.symbol2).to({y:5},400,"Linear",!0))},Lvl6Window.prototype.playAnim=function(){this.handler.inputEnabled=!1,this.handler.frameName="handlerBody instance 10002",(1===this.currentSymbol?this.symbol1:this.symbol2).play("anim")},Lvl6Window.prototype.free=function(){this.group=null,this.window=null,this.back=null,this.symbol1=null,this.symbol2=null,this.arm=null,this.handler=null},Lvl6Window})(Client.BasicElement);Client.Lvl6Window=Lvl6Window})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7Bridge=(_super=>{function Lvl7Bridge(game){var _this=_super.call(this)||this,leftSupport=(_this.game=game,_this.joints=new Array,new Phaser.Physics.Box2D.Body(game,null,132,477,0)),rightSupport=(leftSupport.setRectangle(10,74),leftSupport.sensor=!0,new Phaser.Physics.Box2D.Body(game,null,689,477,0)),qpart1=(rightSupport.setRectangle(10,74),rightSupport.sensor=!0,Client.GameManager.instance.layerUpper.create(191,514,"level7","bridgePart instance 10000")),qpart2=(game.physics.box2d.enable(qpart1),qpart1.body.setRectangle(120,10),qpart1.body.angle=8.7,qpart1.body.setCollisionCategory(Client.FilterGroups.WALL),Client.GameManager.instance.layerUpper.create(300,527,"level7","bridgePart instance 10000")),qpart3=(game.physics.box2d.enable(qpart2),qpart2.body.setRectangle(120,10),qpart2.body.angle=5,qpart2.body.setCollisionCategory(Client.FilterGroups.WALL),Client.GameManager.instance.layerUpper.create(410,532,"level7","bridgePart instance 10000")),qpart4=(game.physics.box2d.enable(qpart3),qpart3.body.setRectangle(120,10),qpart3.body.setCollisionCategory(Client.FilterGroups.WALL),Client.GameManager.instance.layerUpper.create(520,527,"level7","bridgePart instance 10000")),qpart5=(game.physics.box2d.enable(qpart4),qpart4.body.setRectangle(120,10),qpart4.body.angle=-5,qpart4.body.setCollisionCategory(Client.FilterGroups.WALL),Client.GameManager.instance.layerUpper.create(629,514,"level7","bridgePart instance 10000")),bpart=(game.physics.box2d.enable(qpart5),qpart5.body.setRectangle(120,10),qpart5.body.angle=-8.5,qpart5.body.setCollisionCategory(Client.FilterGroups.WALL),_this.joints.push(game.physics.box2d.revoluteJoint(leftSupport,qpart1,0,28,-60,0)),_this.joints.push(game.physics.box2d.revoluteJoint(qpart1,qpart2,55,0,-55,0)),_this.joints.push(game.physics.box2d.revoluteJoint(qpart2,qpart3,55,0,-55,0)),_this.joints.push(game.physics.box2d.revoluteJoint(qpart3,qpart4,55,0,-55,0)),_this.joints.push(game.physics.box2d.revoluteJoint(qpart4,qpart5,55,0,-55,0)),_this.joints.push(game.physics.box2d.revoluteJoint(qpart5,rightSupport,60,0,0,28)),Client.GameManager.instance.layerUpper.create(230,461,"level7","bridgePart1 instance 10000")),bpart2=(game.physics.box2d.enable(bpart),bpart.body.setRectangle(204,10),bpart.body.angle=8.5,bpart.body.setCollisionCategory(Client.FilterGroups.WALL),bpart.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),Client.GameManager.instance.layerUpper.create(421,490,"level7","bridgePart2 instance 10000")),bpart1=(bpart2.pivot.set(3,-2),game.physics.box2d.enable(bpart2),bpart2.body.setRectangle(160,10),bpart2.angle=2.7,bpart2.body.setCollisionCategory(Client.FilterGroups.WALL),bpart2.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),Client.GameManager.instance.layerUpper.create(328,498,"level7","bridgePart4 instance 10000")),bpart4=(game.physics.box2d.enable(bpart1),bpart1.body.setRectangle(64,10),bpart1.body.angle=-75.6,bpart1.body.setCollisionCategory(Client.FilterGroups.WALL),bpart1.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),Client.GameManager.instance.layerUpper.create(590,473,"level7","bridgePart3 instance 10000")),bpart3=(bpart4.pivot.y=4,game.physics.box2d.enable(bpart4),bpart4.body.setRectangle(180,10),bpart4.body.angle=-8.9,bpart4.body.setCollisionCategory(Client.FilterGroups.WALL),bpart4.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),Client.GameManager.instance.layerUpper.create(499,504,"level7","bridgePart5 instance 10000"));return game.physics.box2d.enable(bpart3),bpart3.body.setRectangle(50,10),bpart3.body.angle=-84.8,bpart3.body.setCollisionCategory(Client.FilterGroups.WALL),bpart3.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),_this.joints.push(game.physics.box2d.revoluteJoint(leftSupport,bpart,4,-30,-95,0)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart,bpart1,102,0,22,-3)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart1,bpart2,12,0,-90,0)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart2,bpart3,80,0,10,0)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart3,bpart4,17,0,-90,0)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart4,rightSupport,95,0,-5,-18)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart1,qpart2,-32,0,20,0)),_this.joints.push(game.physics.box2d.revoluteJoint(bpart3,qpart4,-25,0,-23,0)),bpart4=bpart3=bpart2=bpart1=bpart=qpart5=qpart4=qpart3=qpart2=qpart1=rightSupport=leftSupport=null,_this}return __extends(Lvl7Bridge,_super),Lvl7Bridge.prototype.crash=function(){Client.SoundManager.stopSFXLoop("s_lvl10_bridgeCreak"),Client.SoundManager.playSFX("s_lvl10_bridgeFall");for(var i=0;i<this.joints.length;i++)this.game.physics.box2d.world.DestroyJoint(this.joints[i])},Lvl7Bridge.prototype.free=function(){this.game=null,this.joints=[],this.joints=null},Lvl7Bridge})(Client.BasicElement);Client.Lvl7Bridge=Lvl7Bridge})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7Buttons=(_super=>{function Lvl7Buttons(game,level){var _this=_super.call(this)||this;return _this.active1=!1,_this.active2=!1,_this.active3=!1,_this.level=level,_this.btn1_1=Client.GameManager.instance.layerUpper.create(743,570,"level7","btnRune1_1 instance 10000"),_this.btn1_1.anchor.setTo(.5),_this.btn1_1.name="btnRune1",_this.btn1_1.inputEnabled=!0,_this.btn1_1.input.useHandCursor=!0,_this.btn1_1.events.onInputOut.add(_this.out,_this),_this.btn1_1.events.onInputOver.add(_this.over,_this),_this.btn1_1.events.onInputDown.add(_this.down,_this),_this.btn1_2=game.make.sprite(-2,-2,"level7","btnRune1_2 instance 10000"),_this.btn1_2.anchor.setTo(.5),_this.btn1_1.addChild(_this.btn1_2),_this.btn2_1=Client.GameManager.instance.layerUpper.create(757,641,"level7","btnRune2_1 instance 10000"),_this.btn2_1.anchor.setTo(.5),_this.btn2_1.name="btnRune2",_this.btn2_1.inputEnabled=!0,_this.btn2_1.input.useHandCursor=!0,_this.btn2_1.events.onInputOut.add(_this.out,_this),_this.btn2_1.events.onInputOver.add(_this.over,_this),_this.btn2_1.events.onInputDown.add(_this.down,_this),_this.btn2_2=game.make.sprite(-1,-1,"level7","btnRune2_2 instance 10000"),_this.btn2_2.anchor.setTo(.5),_this.btn2_1.addChild(_this.btn2_2),_this.btn3_1=Client.GameManager.instance.layerUpper.create(766,727,"level7","btnRune3_1 instance 10000"),_this.btn3_1.anchor.setTo(.5),_this.btn3_1.name="btnRune3",_this.btn3_1.inputEnabled=!0,_this.btn3_1.input.useHandCursor=!0,_this.btn3_1.events.onInputOut.add(_this.out,_this),_this.btn3_1.events.onInputOver.add(_this.over,_this),_this.btn3_1.events.onInputDown.add(_this.down,_this),_this.btn3_2=game.make.sprite(-3,-5,"level7","btnRune3_2 instance 10000"),_this.btn3_2.anchor.setTo(.5),_this.btn3_1.addChild(_this.btn3_2),_this}return __extends(Lvl7Buttons,_super),Lvl7Buttons.prototype.out=function(sprite,pointer){sprite.frameName=sprite.name+"_1 instance 10000","btnRune1"===sprite.name?this.btn1_2.scale.setTo(1):"btnRune2"===sprite.name?this.btn2_2.scale.setTo(1):"btnRune3"===sprite.name&&this.btn3_2.scale.setTo(1)},Lvl7Buttons.prototype.over=function(sprite,pointer){sprite.frameName=sprite.name+"_1 instance 10001","btnRune1"===sprite.name?this.btn1_2.scale.setTo(1.06):"btnRune2"===sprite.name?this.btn2_2.scale.setTo(1.06):"btnRune3"===sprite.name&&this.btn3_2.scale.setTo(1.06)},Lvl7Buttons.prototype.down=function(sprite,pointer){!0!==this.level.heroInWater&&(Client.SoundManager.playSFX("s_lvl10_runeClick"),"btnRune1"===sprite.name?this.level.stoneVisible===this.active1&&(!1===this.active1?this.btn1_2.frameName="btnRune1_2 instance 10001":this.btn1_2.frameName="btnRune1_2 instance 10000",this.active1=!this.active1,Client.GameManager.instance.level.customAction(1)):"btnRune2"===sprite.name?(!1===this.active2?this.btn2_2.frameName="btnRune2_2 instance 10001":this.btn2_2.frameName="btnRune2_2 instance 10000",this.active2=!this.active2,Client.GameManager.instance.level.customAction(2)):"btnRune3"===sprite.name&&!0!==this.level.magicBullet.active&&(!1===this.active3?this.btn3_2.frameName="btnRune3_2 instance 10001":this.btn3_2.frameName="btnRune3_2 instance 10000",this.active3=!this.active3,Client.GameManager.instance.level.customAction(3)))},Lvl7Buttons.prototype.activateButton1=function(){this.active1=!0,this.btn1_2.frameName="btnRune1_2 instance 10001"},Lvl7Buttons.prototype.deactivateButton3=function(){this.active3=!1,this.btn3_2.frameName="btnRune3_2 instance 10000"},Lvl7Buttons.prototype.free=function(){this.btn1_1=null,this.btn1_2=null,this.btn2_1=null,this.btn2_2=null,this.btn3_1=null,this.btn3_2=null,this.level=null},Lvl7Buttons})(Client.BasicElement);Client.Lvl7Buttons=Lvl7Buttons})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7CloudPlatform=(_super=>{function Lvl7CloudPlatform(game){var _this=_super.call(this)||this,sprite=(_this.active=!1,_this.counter=0,_this.magicBridgeBodyActive=!1,_this.stars=new Array,_this.body=new Phaser.Physics.Box2D.Body(game,null,403,1e3,1),_this.body.setRectangle(100,50,-2,-25),_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.body.friction=2,_this.group=game.make.group(),_this.group.x=_this.body.x,_this.group.y=_this.body.y,_this.group.visible=!1,Client.GameManager.instance.layerElements.addChild(_this.group),_this.flame=_this.group.create(0,-14,"level7"),_this.flame.anchor.x=.5,_this.flame.animations.add("anim",Phaser.Animation.generateFrameNames("cloudPlatform3 instance 1",0,21,"",4),30,!0),_this.flame.animations.play("anim"),_this.cloud=_this.group.create(-3,-40,"level7","cloudPlatform2 instance 10000"),_this.cloud.anchor.setTo(.5),game.add.tween(_this.cloud).to({y:[-36,-40]},400,Phaser.Easing.Linear.None,!0,0,-1),game.add.tween(_this.cloud.scale).to({x:[1.06,1],y:[1.06,1]},1100,Phaser.Easing.Linear.None,!0,0,-1),_this.group.create(0,0,"level7","cloudPlatform1 instance 10000"));sprite.anchor.setTo(.5);for(var i=0;i<6;i++)(sprite=_this.group.create(0,0,"level7")).animations.add("anim",Phaser.Animation.generateFrameNames("starAnim instance 1",0,14,"",4),30,!0),sprite.animations.play("anim"),_this.stars.push(sprite);return sprite=null,_this.changeStarPos(),_this}return __extends(Lvl7CloudPlatform,_super),Lvl7CloudPlatform.prototype.setActivity=function(){!1===this.active?(this.group.visible=!0,this.body.y=Client.GameManager.instance.hero.bodyBase.y+120,this.body.velocity.y=-50,this.counter=0,this.magicBridgeBodyActive=!1,Client.SoundManager.playSFX("s_lvl10_cloudSpell",!0)):(this.group.visible=!1,this.body.y=1e3,this.body.velocity.y=0,Client.GameManager.instance.hero.bodyBase.data.SetAwake(!0),Client.SoundManager.stopSFXLoop("s_lvl10_cloudSpell")),this.active=!this.active},Lvl7CloudPlatform.prototype.update=function(){!1!==this.active&&(this.group.y=this.body.y,this.body.y<=500&&(this.body.velocity.y=0),Client.GameManager.instance.hero.bodyBase.y<=480&&!1===this.magicBridgeBodyActive&&(Client.GameManager.instance.level.customAction(12),this.magicBridgeBodyActive=!0),this.counter+=1,20===this.counter)&&(this.counter=0,this.changeStarPos())},Lvl7CloudPlatform.prototype.changeStarPos=function(){for(var i=0;i<this.stars.length;i++){var randY=Client.Tools.random(0,100);this.stars[i].y=-50+randY,this.stars[i].x=(-60+Client.Tools.random(0,80))*((100-randY)/100)}},Lvl7CloudPlatform.prototype.free=function(){this.group=null,this.flame=null,this.cloud=null,this.body=null,this.stars=[],this.stars=null},Lvl7CloudPlatform})(Client.BasicElement);Client.Lvl7CloudPlatform=Lvl7CloudPlatform})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7Dragon=(_super=>{function Lvl7Dragon(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,814,-106),Client.GameManager.instance.layerUpper.addChild(_this.group),_this.dragonWing2=new Client.Lvl3DragonWing(game,"_1"),_this.group.addChild(_this.dragonWing2.group),_this.dragonLeg1_1=new Client.SASprite(game,0,0,"dragon","dragonLeg1_1 instance 10000"),_this.dragonLeg1_1.pivot.set(56,42),_this.group.addChild(_this.dragonLeg1_1),_this.dragonLeg2_1=new Client.SASprite(game,0,0,"dragon","dragonLeg2_1 instance 10000"),_this.dragonLeg2_1.pivot.set(46,47),_this.group.addChild(_this.dragonLeg2_1),_this.dragonBase=new Client.SASprite(game,0,0,"dragon","dragonBase instance 10000"),_this.dragonBase.pivot.set(61,39),_this.group.addChild(_this.dragonBase),_this.dragonTail1=new Client.SASprite(game,0,0,"dragon","dragonTail1 instance 10000"),_this.dragonTail1.pivot.set(27,28),_this.group.addChild(_this.dragonTail1),_this.dragonTail2=new Client.SASprite(game,0,0,"dragon","dragonTail2 instance 10000"),_this.dragonTail2.pivot.set(20,21),_this.group.addChild(_this.dragonTail2),_this.dragonTail3=new Client.SASprite(game,0,0,"dragon","dragonTail3 instance 10000"),_this.dragonTail3.pivot.set(19,12),_this.group.addChild(_this.dragonTail3),_this.dragonTail4=new Client.SASprite(game,0,0,"dragon","dragonTail4 instance 10000"),_this.dragonTail4.pivot.set(18,14),_this.group.addChild(_this.dragonTail4),_this.dragonTail5=new Client.SASprite(game,0,0,"dragon","dragonTail5 instance 10000"),_this.dragonTail5.pivot.set(16,12),_this.group.addChild(_this.dragonTail5),_this.dragonTail6=new Client.SASprite(game,0,0,"dragon","dragonTail6 instance 10000"),_this.dragonTail6.pivot.set(14,43),_this.group.addChild(_this.dragonTail6),_this.dragonNeck3=new Client.SASprite(game,0,0,"dragon","dragonNeck3 instance 10000"),_this.dragonNeck3.pivot.set(23,36),_this.group.addChild(_this.dragonNeck3),_this.dragonNeck2=new Client.SASprite(game,0,0,"dragon","dragonNeck2 instance 10000"),_this.dragonNeck2.pivot.set(23,38),_this.group.addChild(_this.dragonNeck2),_this.dragonNeck1=new Client.SASprite(game,0,0,"dragon","dragonNeck1 instance 10000"),_this.dragonNeck1.pivot.set(19,29),_this.group.addChild(_this.dragonNeck1),_this.dragonHead=new Client.SASprite(game,0,0,"dragon","dragonHead instance 10000"),_this.dragonHead.pivot.set(49,27),_this.group.addChild(_this.dragonHead),_this.dragonEye=game.make.sprite(36,6,"dragon"),_this.dragonEye.animations.add("anim",Phaser.Animation.generateFrameNames("dragonEye instance 1",0,0,"",4),30,!1),_this.dragonEye.animations.add("anim2",Phaser.Animation.generateFrameNames("dragonEye instance 1",1,84,"",4),30,!0),_this.dragonEye.animations.play("anim2"),_this.dragonHead.addChild(_this.dragonEye),_this.dragonLeg1_2=new Client.SASprite(game,0,0,"dragon","dragonLeg1_2 instance 10000"),_this.dragonLeg1_2.pivot.set(56,42),_this.group.addChild(_this.dragonLeg1_2),_this.dragonLeg2_2=new Client.SASprite(game,0,0,"dragon","dragonLeg2_2 instance 10000"),_this.dragonLeg2_2.pivot.set(46,47),_this.group.addChild(_this.dragonLeg2_2),_this.dragonSeddle=new Client.SASprite(game,0,0,"dragon","dragonSeddle instance 10000"),_this.dragonSeddle.pivot.set(57,24),_this.group.addChild(_this.dragonSeddle),_this.dragonMage=new Lvl7DragonMage(game),_this.group.addChild(_this.dragonMage.group),_this.dragonWing1=new Client.Lvl3DragonWing(game),_this.group.addChild(_this.dragonWing1.group),_this.setParts("appear"),_this}return __extends(Lvl7Dragon,_super),Lvl7Dragon.prototype.playAppear=function(){this.playAnim("appear"),this.dragonMage.play()},Lvl7Dragon.prototype.update=function(){_super.prototype.update.call(this),this.dragonWing1.update(),this.dragonWing2.update(),this.dragonMage.update()},Lvl7Dragon.prototype.onAnimComplete=function(){"appear"===this.currAnim?(this.playAnim("dragon_cycle"),this.dragonWing1.playAnim("anim",3),this.dragonWing2.playAnim("anim",3),Client.GameManager.instance.level.customAction(13)):"dragon_cycle"===this.currAnim?(this.playAnim("attack2"),this.dragonMage.playCast()):"attack2"===this.currAnim?this.playAnim("princess"):"princess"===this.currAnim&&(this.group.visible=!1)},Lvl7Dragon.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"appear"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-31,y:377,skX:44,skY:44}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-50,y:296,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-25,y:360,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:44,y:406,skX:-40,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-12,y:431,skX:-48,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-148,y:381,skX:-30,skY:-30}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-117,y:386,skX:-113,skY:-113}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-87,y:380,skX:-114,skY:-114}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-67,y:390,skX:-47,skY:-47}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:155,y:308,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:131,y:349,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:109,y:357,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:85,y:366,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:60,y:367,skX:-49,skY:-49}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:31,y:368,skX:-46,skY:-46}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-14,y:393,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:26,y:411,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-23,y:437,skX:-49,skY:-49}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-56,y:382,skX:25,skY:25})):15===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,15,{x:-90,y:425,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,15,{x:-77,y:342,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,15,{x:-78,y:412,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,15,{x:-30,y:479,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,15,{x:-102,y:479,skX:-9,skY:-8,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,15,{x:-189,y:374,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,15,{x:-168,y:393,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,15,{x:-141,y:412,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,15,{x:-129,y:424,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,15,{x:113,y:430,skX:34,skY:34}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,15,{x:75,y:459,skX:22,skY:22}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,15,{x:52,y:458,skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,15,{x:27,y:457,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,15,{x:-2,y:451,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,15,{x:-29,y:440,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,15,{x:-80,y:446,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,15,{x:-50,y:478,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,15,{x:-105,y:476,skX:8,skY:8,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,15,{x:-116,y:420,skX:-1,skY:-1})):30===this.counterAnim&&this.animComplete():"dragon_cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,22,{y:444}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,22,{y:361}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,22,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,22,{x:-32,y:499,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,22,{x:-93,y:501,skX:-26,skY:-25,scY:.88}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,22,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,22,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,22,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,22,{y:443}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,22,{y:449}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,22,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,22,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,22,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,22,{y:470}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,22,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,22,{y:465}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,22,{y:497,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,22,{x:-106,y:502,skX:-27,skY:-27,scY:.89}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,22,{y:439})):23===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,22,{y:425}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,22,{y:342}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,22,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,22,{x:-30,y:479,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,22,{x:-90,y:480,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,22,{y:374}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,22,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,22,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,22,{y:424}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,22,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,22,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,22,{y:458}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,22,{y:457}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,22,{y:451}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,22,{y:440}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,22,{y:446}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,22,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,22,{y:483,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,22,{y:420})):45===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,19,{y:444}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,19,{y:360}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,19,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,19,{x:-32,y:499,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,19,{x:-93,y:500,skX:-26,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,19,{y:392}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,19,{y:411}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,19,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,19,{y:442}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,19,{y:448}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,19,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,19,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,19,{y:475}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,19,{y:469,scX:.93,scY:.93}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,19,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,19,{y:465}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,19,{y:496}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,19,{y:501,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,19,{y:438})):64===this.counterAnim&&this.animComplete():"attack2"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,20,{x:-83,y:361,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,20,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,20,{y:501}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,20,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,20,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,20,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,20,{y:443}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,20,{y:449}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,20,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,20,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,20,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,20,{y:470,scX:.94,scY:.94}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,20,{y:497}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,20,{y:502}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,20,{y:439})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,27,{y:425}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,27,{y:343}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,27,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,27,{x:-30,y:479,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,27,{x:-90,y:480,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,27,{y:374}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,27,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,27,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,27,{y:424}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,27,{y:430}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,27,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,27,{y:458}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,27,{y:457}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,27,{y:451}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,27,{y:440}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,27,{y:446}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,27,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,27,{y:483,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,27,{y:420})):48===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,19,{y:444}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,19,{x:-76,y:366,skX:-9,skY:-9}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,19,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,19,{x:-32,y:499,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,19,{x:-93,y:501,skX:-26,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,19,{y:393}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,19,{y:412}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,19,{y:431}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,19,{y:443}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,19,{y:449}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,19,{y:478}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,19,{y:477}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,19,{y:476}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,19,{y:470}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,19,{y:459}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,19,{y:465}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,19,{y:497}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,19,{y:502,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,19,{y:439})):100===this.counterAnim&&this.animComplete():"princess"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,22,{x:-206,y:415,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,22,{x:-213,y:336,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,22,{x:-199,y:399,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,22,{x:-134,y:451,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,22,{x:-192,y:470,skX:-43,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,22,{x:-316,y:395,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,22,{x:-290,y:407,skX:-75,skY:-75}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,22,{x:-259,y:417,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,22,{x:-244,y:425,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,22,{x:-11,y:360,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,22,{x:-39,y:399,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,22,{x:-61,y:405,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,22,{x:-85,y:411,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,22,{x:-115,y:414,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,22,{x:-144,y:412,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,22,{x:-191,y:432,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,22,{x:-153,y:454,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,22,{x:-230,y:463,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,22,{x:-232,y:418,skX:-28,skY:-28})):23===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-209,y:403,skX:44,skY:44}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-206,y:323,skX:-15,skY:-15}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-200,y:388,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-142,y:447,skX:-28,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-201,y:459,skX:-36,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-315,y:370,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-291,y:385,skX:-68,skY:-68}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-261,y:399,skX:-51,skY:-51}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-247,y:408,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-8,y:371,skX:24,skY:24}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-41,y:406,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-63,y:409,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-88,y:413,skX:-11,skY:-11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-118,y:412,skX:-37,skY:-37}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-146,y:407,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-196,y:422,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-160,y:448,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-262,y:447,skX:25,skY:25}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-235,y:403,skX:14,skY:14})):37===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,5,{x:-264,y:406,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,5,{x:-270,y:327,skX:-21,skY:-21}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,5,{x:-256,y:390,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,5,{x:-191,y:442,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,5,{x:-269,y:471,skX:-2,skY:-1}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,5,{x:-373,y:386,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,5,{x:-347,y:398,skX:-75,skY:-75}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,5,{x:-316,y:408,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,5,{x:-301,y:416,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,5,{x:-68,y:351,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,5,{x:-96,y:390,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,5,{x:-118,y:396,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,5,{x:-142,y:402,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,5,{x:-172,y:405,skX:-43,skY:-43}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,5,{x:-201,y:403,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,5,{x:-248,y:423,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,5,{x:-210,y:445,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,5,{x:-298,y:453,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,5,{x:-289,y:409,skX:-18,skY:-18})):42===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-306,y:281,skX:117,skY:117}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-280,y:206,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-292,y:270,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-258,y:346,skX:-7,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-312,y:329,skX:-14,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-394,y:213,skX:-23,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-377,y:236,skX:-48,skY:-48}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-353,y:259,skX:-31,skY:-31}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-344,y:273,skX:-14,skY:-14}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-106,y:322,skX:45,skY:45}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-149,y:343,skX:32,skY:32}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-171,y:339,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-196,y:333,skX:10,skY:10}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-224,y:322,skX:-16,skY:-16}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-248,y:307,skX:-13,skY:-13}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-300,y:304,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-276,y:341,skX:-7,skY:-7}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-344,y:317,skX:-22,skY:-22}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-330,y:272,skX:90,skY:90})):56===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-305,y:276,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-279,y:201}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-291,y:265}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-257,y:341}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-311,y:324}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-393,y:208}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-376,y:231}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-352,y:254}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-343,y:268}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-105,y:317}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-148,y:338}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-170,y:334}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-195,y:328}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-223,y:317}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-247,y:302}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-299,y:299}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-275,y:336}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-343,y:312}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-329,y:267,skX:9,skY:9})):70===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,15,{x:-322,y:192,skX:87,skY:87}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,15,{x:-310,y:113,skX:-12,skY:-12}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,15,{x:-309,y:179,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,15,{x:-263,y:247,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,15,{x:-319,y:240,skX:-24,skY:-23}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,15,{x:-420,y:140,skX:-33,skY:-33}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,15,{x:-399,y:160,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,15,{x:-372,y:178,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,15,{x:-360,y:190,skX:-25,skY:-25}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,15,{x:-118,y:196,skX:34,skY:34}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,15,{x:-156,y:225,skX:22,skY:22}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,15,{x:-179,y:224,skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,15,{x:-204,y:224,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,15,{x:-233,y:217,skX:-26,skY:-26}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,15,{x:-260,y:207,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,15,{x:-312,y:213,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,15,{x:-281,y:245,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,15,{x:-353,y:234,skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,15,{x:-347,y:187,skX:72,skY:72})):85===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,10,{x:-319,y:221,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,10,{x:-307,y:142}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,10,{x:-306,y:208}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,10,{x:-260,y:276}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,10,{x:-316,y:269}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,10,{x:-417,y:169}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,10,{x:-396,y:189}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,10,{x:-369,y:207}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,10,{x:-357,y:219}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,10,{x:-115,y:225}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,10,{x:-153,y:254}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,10,{x:-176,y:253}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,10,{x:-201,y:253}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,10,{x:-230,y:246}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,10,{x:-257,y:236}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,10,{x:-309,y:242}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,10,{x:-278,y:274}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,10,{x:-350,y:263}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,10,{x:-344,y:216,skX:-1,skY:-1})):95===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.dragonWing1.group,14,{x:-376,y:35,skX:85,skY:85}),Client.GameManager.instance.level.setSimpleTween(this.dragonMage.group,14,{x:-388,y:-43,skX:-29,skY:-29}),Client.GameManager.instance.level.setSimpleTween(this.dragonSeddle,14,{x:-368,y:20,skX:-28,skY:-28}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_2,14,{x:-303,y:71,skX:-35,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_2,14,{x:-359,y:81,skX:-41,skY:-40}),Client.GameManager.instance.level.setSimpleTween(this.dragonHead,14,{x:-485,y:16,skX:-50,skY:-50}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck1,14,{x:-459,y:28,skX:-75,skY:-75}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck2,14,{x:-428,y:38,skX:-58,skY:-58}),Client.GameManager.instance.level.setSimpleTween(this.dragonNeck3,14,{x:-413,y:46,skX:-42,skY:-42}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail6,14,{x:-180,y:-20,skX:17,skY:17}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail5,14,{x:-208,y:19,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail4,14,{x:-230,y:25,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail3,14,{x:-254,y:31,skX:-18,skY:-18}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail2,14,{x:-284,y:34,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.dragonTail1,14,{x:-313,y:32,skX:-41,skY:-41}),Client.GameManager.instance.level.setSimpleTween(this.dragonBase,14,{x:-360,y:53,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg2_1,14,{x:-321,y:74,skX:-34,skY:-34}),Client.GameManager.instance.level.setSimpleTween(this.dragonLeg1_1,14,{x:-393,y:85,skX:-49,skY:-49}),Client.GameManager.instance.level.setSimpleTween(this.dragonWing2.group,14,{x:-401,y:39,skX:67,skY:67})):109===this.counterAnim&&this.animComplete()))},Lvl7Dragon.prototype.setParts=function(value){"appear"===value?(this.setPart(this.dragonWing1.group,{x:150,y:300,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:163,y:217,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonSeddle,{x:162,y:287,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:208,y:355,angle:0,scX:.94,scY:.88,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_2,{x:147,y:357,angle:0,scX:.94,scY:.88,skX:-26,skY:-25}),this.setPart(this.dragonHead,{x:49,y:245,angle:0,scX:.93,scY:.93,skX:-8,skY:-8}),this.setPart(this.dragonNeck1,{x:72,y:268,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:99,y:287,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:111,y:299,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:354,y:307,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:316,y:336,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:293,y:335,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:267,y:334,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:238,y:326,angle:0,scX:.94,scY:.94,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:211,y:315,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:160,y:321,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:190,y:353,angle:0,scX:.84,scY:.96,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_1,{x:134,y:358,angle:0,scX:.89,scY:.89,skX:-27,skY:-27}),this.setPart(this.dragonWing2.group,{x:124,y:295,angle:0,scX:.94,scY:.94,skX:-1,skY:-1})):"dragon_cycle"===value?(this.setPart(this.dragonWing1.group,{x:-90,y:425,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:-77,y:342,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonSeddle,{x:-78,y:412,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:-30,y:479,angle:0,scX:.94,scY:.88,skX:-21,skY:-21}),this.setPart(this.dragonLeg1_2,{x:-102,y:479,angle:0,scX:.94,scY:.75,skX:-9,skY:-8}),this.setPart(this.dragonHead,{x:-189,y:374,angle:0,scX:.93,scY:.93,skX:-33,skY:-33}),this.setPart(this.dragonNeck1,{x:-168,y:393,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:-141,y:412,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:-129,y:424,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:113,y:430,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:75,y:459,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:52,y:458,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:27,y:457,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:-2,y:451,angle:0,scX:.94,scY:.94,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:-29,y:440,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:-80,y:446,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:-50,y:478,angle:0,scX:.84,scY:.96,skX:-9,skY:-9}),this.setPart(this.dragonLeg1_1,{x:-105,y:476,angle:0,scX:.89,scY:.74,skX:8,skY:8}),this.setPart(this.dragonWing2.group,{x:-116,y:420,angle:0,scX:.94,scY:.94,skX:-1,skY:-1})):"attack2"===value?(this.setPart(this.dragonWing1.group,{x:-90,y:444,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:-77,y:360,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonSeddle,{x:-78,y:430,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:-32,y:499,angle:0,scX:.94,scY:.88,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_2,{x:-93,y:500,angle:0,scX:.94,scY:.88,skX:-26,skY:-25}),this.setPart(this.dragonHead,{x:-189,y:392,angle:0,scX:.93,scY:.93,skX:-33,skY:-33}),this.setPart(this.dragonNeck1,{x:-168,y:411,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:-141,y:430,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:-129,y:442,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:113,y:448,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:75,y:477,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:52,y:476,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:27,y:475,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:-2,y:469,angle:0,scX:.93,scY:.93,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:-29,y:459,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:-80,y:465,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:-50,y:496,angle:0,scX:.84,scY:.96,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_1,{x:-106,y:501,angle:0,scX:.89,scY:.89,skX:-27,skY:-27}),this.setPart(this.dragonWing2.group,{x:-116,y:438,angle:0,scX:.94,scY:.94,skX:-1,skY:-1})):"princess"===value&&(this.setPart(this.dragonWing1.group,{x:-90,y:444,angle:0,scX:.94,scY:.94,skX:-13,skY:-13}),this.setPart(this.dragonMage.group,{x:-76,y:366,angle:0,scX:.94,scY:.94,skX:-9,skY:-9}),this.setPart(this.dragonSeddle,{x:-78,y:431,angle:0,scX:.94,scY:.94,skX:-10,skY:-10}),this.setPart(this.dragonLeg2_2,{x:-32,y:499,angle:0,scX:.94,scY:.88,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_2,{x:-93,y:501,angle:0,scX:.94,scY:.88,skX:-26,skY:-25}),this.setPart(this.dragonHead,{x:-189,y:393,angle:0,scX:.93,scY:.93,skX:-33,skY:-33}),this.setPart(this.dragonNeck1,{x:-168,y:412,angle:0,scX:.93,scY:.93,skX:-58,skY:-58}),this.setPart(this.dragonNeck2,{x:-141,y:431,angle:0,scX:.93,scY:.93,skX:-41,skY:-41}),this.setPart(this.dragonNeck3,{x:-129,y:443,angle:0,scX:.94,scY:.94,skX:-25,skY:-25}),this.setPart(this.dragonTail6,{x:113,y:449,angle:0,scX:.93,scY:.93,skX:34,skY:34}),this.setPart(this.dragonTail5,{x:75,y:478,angle:0,scX:.93,scY:.93,skX:22,skY:22}),this.setPart(this.dragonTail4,{x:52,y:477,angle:0,scX:.93,scY:.93,skX:11,skY:11}),this.setPart(this.dragonTail3,{x:27,y:476,angle:0,scX:.93,scY:.93,skX:0,skY:0}),this.setPart(this.dragonTail2,{x:-2,y:470,angle:0,scX:.94,scY:.94,skX:-26,skY:-26}),this.setPart(this.dragonTail1,{x:-29,y:459,angle:0,scX:.94,scY:.94,skX:-24,skY:-24}),this.setPart(this.dragonBase,{x:-80,y:465,angle:0,scX:.93,scY:.93,skX:-2,skY:-2}),this.setPart(this.dragonLeg2_1,{x:-50,y:497,angle:0,scX:.84,scY:.96,skX:-17,skY:-17}),this.setPart(this.dragonLeg1_1,{x:-106,y:502,angle:0,scX:.89,scY:.89,skX:-27,skY:-27}),this.setPart(this.dragonWing2.group,{x:-116,y:439,angle:0,scX:.94,scY:.94,skX:-1,skY:-1}))},Lvl7Dragon.prototype.free=function(){this.group=null,this.dragonSeddle=null,this.dragonLeg2_2=null,this.dragonLeg1_2=null,this.dragonHead=null,this.dragonEye=null,this.dragonNeck1=null,this.dragonNeck2=null,this.dragonNeck3=null,this.dragonTail6=null,this.dragonTail5=null,this.dragonTail4=null,this.dragonTail3=null,this.dragonTail2=null,this.dragonTail1=null,this.dragonBase=null,this.dragonLeg2_1=null,this.dragonLeg1_1=null,this.dragonWing1.free(),this.dragonWing1=null,this.dragonWing2.free(),this.dragonWing2=null,this.dragonMage.free(),this.dragonMage=null},Lvl7Dragon})(Client.BasicSimpleAnim),Lvl7DragonMage=(Client.Lvl7Dragon=Lvl7Dragon,(_super=>{function Lvl7DragonMage(game){var _this=_super.call(this,game)||this;return _this.group=new Client.SAGroup(game,0,0),_this.base=new Client.SASprite(game,0,0,"dragon","dragonMageBase instance 10000"),_this.base.pivot.set(55,33),_this.group.addChild(_this.base),_this.eyes=new Client.SASprite(game,0,0,"dragon","dragonMageEyes instance 10000"),_this.eyes.pivot.set(14,16),_this.eyes.animations.add("anim",Phaser.Animation.generateFrameNames("dragonMageEyes instance 1",0,107,"",4),30,!1),_this.group.addChild(_this.eyes),_this.hat=new Client.SASprite(game,0,0,"dragon","dragonMageHat instance 10000"),_this.hat.pivot.set(23,87),_this.group.addChild(_this.hat),_this.brown=new Client.SASprite(game,0,0,"dragon","dragonMageBrown instance 10000"),_this.brown.pivot.set(12,24),_this.brown.animations.add("anim",Phaser.Animation.generateFrameNames("dragonMageBrown instance 1",0,107,"",4),30,!1),_this.group.addChild(_this.brown),_this.scepter=new Client.SASprite(game,0,0,"dragon","dragonMageScepter instance 10000"),_this.scepter.pivot.set(22,59),_this.group.addChild(_this.scepter),_this.castAnim=game.make.sprite(-430,145,"level3","magicBad1 instance 10000"),_this.castAnim.animations.add("anim",Phaser.Animation.generateFrameNames("magicBad1 instance 1",0,24,"",4),30,!1).killOnComplete=!0,_this.castAnim.angle=-30,_this.castAnim.scale.x=1.4,_this.group.addChild(_this.castAnim),_this.castAnim.visible=!1,_this.setParts("cast"),_this}return __extends(Lvl7DragonMage,_super),Lvl7DragonMage.prototype.play=function(){this.setParts("cast"),this.eyes.animations.play("anim"),this.brown.animations.play("anim")},Lvl7DragonMage.prototype.playCast=function(){this.playAnim("cast")},Lvl7DragonMage.prototype.update=function(){_super.prototype.update.call(this)},Lvl7DragonMage.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"cast"===this.currAnim)&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,20,{x:-92,y:34,skX:-102,skY:-102}):21===this.counterAnim?(this.castAnim.visible=!0,this.castAnim.animations.play("anim"),Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-89,y:30,skX:-87,skY:-87})):25===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-92,y:34,skX:-102,skY:-102}):29===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-89,y:30,skX:-87,skY:-87}):33===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-92,y:34,skX:-102,skY:-102}):37===this.counterAnim?(Client.GameManager.instance.level.customAction(14),Client.GameManager.instance.level.setSimpleTween(this.scepter,4,{x:-89,y:30,skX:-87,skY:-87})):41===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,7,{x:-4,y:12,skX:25,skY:25}):48===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.scepter,19,{x:22,y:11}):67===this.counterAnim&&this.animComplete())},Lvl7DragonMage.prototype.setParts=function(value){"cast"===value&&(this.setPart(this.scepter,{x:9,y:16,angle:0,scX:.94,scY:.94,skX:16,skY:16}),this.setPart(this.brown,{x:-48,y:19,angle:0,scX:.94,scY:.94,skX:-12,skY:-12}),this.setPart(this.hat,{x:-48,y:19,angle:0,scX:.94,scY:.94,skX:-12,skY:-12}),this.setPart(this.eyes,{x:-48,y:19,angle:0,scX:.94,scY:.94,skX:-12,skY:-12}),this.setPart(this.base,{x:-22,y:28,angle:0,scX:.94,scY:.94,skX:-5,skY:-5}))},Lvl7DragonMage.prototype.free=function(){this.group=null,this.scepter=null,this.brown=null,this.hat=null,this.eyes=null,this.base=null,this.castAnim=null},Lvl7DragonMage})(Client.BasicSimpleAnim));Client.Lvl7DragonMage=Lvl7DragonMage})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7Flowers=(_super=>{function Lvl7Flowers(game){var _this=_super.call(this)||this;return _this.counterAnim1=0,_this.counterAnim2=0,_this.flower1_1=new Client.SASprite(game,0,0,"level7","flower1_1 instance 10000"),_this.flower1_1.anchor.setTo(.5),Client.GameManager.instance.layerUpper.addChild(_this.flower1_1),_this.flower1_2=new Client.SASprite(game,0,0,"level7","flower1_2 instance 10000"),_this.flower1_2.anchor.setTo(.5),Client.GameManager.instance.layerUpper.addChild(_this.flower1_2),_this.flower2_1=new Client.SASprite(game,0,0,"level7","flower2_1 instance 10000"),_this.flower2_1.anchor.setTo(.5),Client.GameManager.instance.layerUpper.addChild(_this.flower2_1),_this.flower2_2=new Client.SASprite(game,0,0,"level7","flower2_2 instance 10000"),_this.flower2_2.anchor.setTo(.5),Client.GameManager.instance.layerUpper.addChild(_this.flower2_2),_this.setParts(),_this}return __extends(Lvl7Flowers,_super),Lvl7Flowers.prototype.update=function(){this.updateAnimation1(),this.updateAnimation2()},Lvl7Flowers.prototype.updateAnimation1=function(){this.counterAnim1+=1,1===this.counterAnim1?(Client.GameManager.instance.level.setSimpleTween(this.flower1_1,26,{x:230,y:856,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.flower1_2,26,{x:259,y:811,skX:-3,skY:-3})):27===this.counterAnim1?(Client.GameManager.instance.level.setSimpleTween(this.flower1_1,25,{x:229,y:855,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.flower1_2,25,{x:258,y:810,skX:0,skY:0})):53===this.counterAnim1&&(this.counterAnim1=0)},Lvl7Flowers.prototype.updateAnimation2=function(){this.counterAnim2+=1,1===this.counterAnim2?(Client.GameManager.instance.level.setSimpleTween(this.flower2_1,29,{x:122,y:815,skX:9,skY:9}),Client.GameManager.instance.level.setSimpleTween(this.flower2_2,29,{x:142,y:854,skX:-3,skY:-3})):30===this.counterAnim2?(Client.GameManager.instance.level.setSimpleTween(this.flower2_1,30,{x:124,y:814,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.flower2_2,30,{x:144,y:853,skX:0,skY:0})):60===this.counterAnim2&&(this.counterAnim2=0)},Lvl7Flowers.prototype.setParts=function(){this.setPart(this.flower1_1,{x:229,y:855,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.flower1_2,{x:258,y:810,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.flower2_1,{x:124,y:814,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.flower2_2,{x:144,y:853,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})},Lvl7Flowers.prototype.setPart=function(part,properties){if(part)for(var _i=0,_a=Object.keys(properties);_i<_a.length;_i++){var itemName=_a[_i];part[itemName]=properties[itemName]}},Lvl7Flowers.prototype.free=function(){this.flower1_1=null,this.flower1_2=null,this.flower2_1=null,this.flower2_2=null},Lvl7Flowers})(Client.BasicElement);Client.Lvl7Flowers=Lvl7Flowers})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7Frog=(_super=>{function Lvl7Frog(game){var _this=_super.call(this,game)||this;return _this.body=new Phaser.Physics.Box2D.Body(game,null,185,773,2),_this.body.setRectangle(80,46).SetRestitution(.2),_this.body.fixedRotation=!0,_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.group=game.make.group(),_this.group.x=_this.body.x,_this.group.y=_this.body.y,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.lLeg3=new Client.SASprite(game,0,0,"level7","frogLLeg2 instance 10000"),_this.lLeg3.pivot.set(0,3),_this.group.addChild(_this.lLeg3),_this.rLeg3=new Client.SASprite(game,0,0,"level7","frogRLeg2 instance 10000"),_this.rLeg3.pivot.set(0,2),_this.group.addChild(_this.rLeg3),_this.legs=new Client.SASprite(game,0,0,"level7","frogLegs instance 10000"),_this.legs.pivot.set(39,12),_this.group.addChild(_this.legs),_this.rLeg2=new Client.SASprite(game,0,0,"level7","frogLeg2 instance 10000"),_this.rLeg2.pivot.set(5,6),_this.group.addChild(_this.rLeg2),_this.tors=new Client.SASprite(game,0,0,"level7","frogTors instance 10000"),_this.tors.pivot.set(23,23),_this.group.addChild(_this.tors),_this.lLeg2=new Client.SASprite(game,0,0,"level7","frogLeg2 instance 10000"),_this.lLeg2.pivot.set(5,6),_this.group.addChild(_this.lLeg2),_this.rEye1=new Client.SASprite(game,0,0,"level7","frogEye1 instance 10000"),_this.rEye1.pivot.set(9,10),_this.group.addChild(_this.rEye1),_this.rEye2=new Client.SASprite(game,0,0,"level7","frogEye2 instance 10000"),_this.rEye2.pivot.set(3,3),_this.group.addChild(_this.rEye2),_this.lLeg1=new Client.SASprite(game,0,0,"level7","frogLLeg instance 10000"),_this.group.addChild(_this.lLeg1),_this.rLeg1=new Client.SASprite(game,0,0,"level7","frogRleg instance 10000"),_this.group.addChild(_this.rLeg1),_this.lEye1=new Client.SASprite(game,0,0,"level7","frogEye1 instance 10000"),_this.lEye1.pivot.set(9,10),_this.group.addChild(_this.lEye1),_this.lEye2=new Client.SASprite(game,0,0,"level7","frogEye2 instance 10000"),_this.lEye2.pivot.set(3,3),_this.group.addChild(_this.lEye2),_this.mouth=new Client.SASprite(game,0,0,"level7","frogMouth instance 10000"),_this.mouth.pivot.set(13,17),_this.group.addChild(_this.mouth),_this.crown=new Client.SASprite(game,0,0,"level7","frogCrown instance 10000"),_this.crown.pivot.set(22,14),_this.group.addChild(_this.crown),_this.tongue=new Client.SASprite(game,0,0,"level7","frogTongue instance 10000"),_this.tongue.pivot.set(114,8),_this.group.addChild(_this.tongue),_this.playAnim("idle",-1),_this}return __extends(Lvl7Frog,_super),Lvl7Frog.prototype.playAnim=function(value,loop){_super.prototype.playAnim.call(this,value,loop=void 0===loop?0:loop),"jump"===value?(Client.SoundManager.playSFX("s_lvl10_frogJump"),Client.GameManager.instance.level.customAction(4),this.body.data.ApplyLinearImpulse(new box2d.b2Vec2(0,9.8),this.body.data.GetPosition())):"eat"===value&&Client.SoundManager.playSFX("s_lvl10_frogEating")},Lvl7Frog.prototype.onAnimComplete=function(){"eat"!==this.currAnim&&"jump"!==this.currAnim||this.playAnim("idle",-1)},Lvl7Frog.prototype.update=function(){_super.prototype.update.call(this),this.group.x=this.body.x,this.group.y=this.body.y},Lvl7Frog.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"idle"===this.currAnim?49===this.counterAnim?(Client.SoundManager.playSFX("s_lvl10_frogroaks"),Client.GameManager.instance.level.setSimpleTween(this.crown,16,{y:-23,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.mouth,16,{scX:.32,scY:.32}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,16,{x:4,y:-1}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,16,{x:0,y:-3,skX:-11,skY:-11,scY:.71}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,16,{skX:33,skY:33}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,16,{x:-11,skX:-48,skY:-48}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,16,{x:18,y:-8}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,16,{x:15,y:-8,skX:-13,skY:-13,scY:.56}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,16,{x:-10,y:27,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.tors,16,{scX:1.13,scY:1.13}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,16,{skX:-54,skY:143})):65===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,6,{x:-3,y:-22,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.mouth,6,{scX:.25,scY:.25}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,6,{x:5}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,6,{x:1,y:-2,skX:-6,skY:-6,scY:.84}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,6,{y:29,skX:52,skY:52}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,6,{x:-7,skX:-65,skY:-65}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,6,{x:19,y:-7}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,6,{x:16,y:-7,skX:-7,skY:-7,scY:.64}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,6,{x:-7,y:26,skX:11,skY:11}),Client.GameManager.instance.level.setSimpleTween(this.tors,6,{scX:1.07,scY:1.07}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,6,{skX:-49,skY:149})):71===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,9,{x:-4,y:-23,skX:-6,skY:-6}),Client.GameManager.instance.level.setSimpleTween(this.mouth,9,{scX:.32,scY:.32}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,9,{x:4}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,9,{x:0,y:-3,skX:-11,skY:-11,scY:.71}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,9,{x:20,y:28,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,9,{x:-11,y:36,skX:-39,skY:-39}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,9,{x:18,y:-8}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,9,{x:15,y:-8,skX:-13,skY:-13,scY:.56}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,9,{x:-10,y:27,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.tors,9,{scX:1.13,scY:1.13}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,9,{skX:-54,skY:143})):80===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,8,{x:-2,y:-20,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.mouth,8,{scX:.16,scY:.16}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,8,{x:6,y:0}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,8,{x:2,y:-1,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,8,{x:18,y:29}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,8,{x:-3,y:35,skX:-44,skY:-44}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,8,{x:19,y:-6}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,8,{x:17,y:-6,skX:0,skY:0,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,8,{x:-5,y:25,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tors,8,{scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,8,{x:19,skX:-42,skY:156})):88===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.mouth,5,{y:10}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,5,{x:4,y:2,skX:0,skY:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,5,{x:19,skX:45,skY:45}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,5,{skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,5,{y:-4,skX:0,skY:0,scY:.74})):93===this.counterAnim?(this.setPart(this.crown,{x:-2,y:-20,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.16,scY:.16,skX:11,skY:11,alpha:1}),this.setPart(this.lEye2,{x:4,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.lEye1,{x:2,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg1,{x:19,y:29,angle:0,scX:1,scY:1,skX:45,skY:45,alpha:1}),this.setPart(this.lLeg1,{x:-3,y:35,angle:0,scX:1,scY:1,skX:-54,skY:-54,alpha:1}),this.setPart(this.rEye2,{x:19,y:-4,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.rEye1,{x:17,y:-6,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.lLeg2,{x:-5,y:25,angle:0,scX:1.21,scY:1.21,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:3,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg2,{x:19,y:26,angle:0,scX:1,scY:1.05,skX:-42,skY:156,alpha:1}),this.setPart(this.legs,{x:-1,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):105===this.counterAnim&&this.animComplete():"eat"===this.currAnim?1===this.counterAnim?(this.setPart(this.tongue,{x:30,y:0,angle:0,scX:.19,scY:.77,skX:-28,skY:-28,alpha:0}),Client.GameManager.instance.level.setSimpleTween(this.crown,10,{x:-5,y:-25,skX:-8,skY:-8}),Client.GameManager.instance.level.setSimpleTween(this.mouth,10,{skX:13,skY:52,scX:.96,scY:1.09}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,10,{x:6,y:-7,skX:-3,skY:-3,scX:.9,scY:1.43}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,10,{x:1,y:-7,scX:1.06,scY:1.06}),this.setPart(this.rLeg1,{x:19,y:29,angle:0,scX:1,scY:1,skX:45,skY:45,alpha:1}),this.setPart(this.lLeg1,{x:-3,y:35,angle:0,scX:1,scY:1,skX:-54,skY:-54,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,10,{x:20,y:-13,skX:-3,skY:-3,scX:.79,scY:1.02}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,10,{y:-12,scX:.79,scY:.79}),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{y:6,scX:1.13,scY:1.13}),this.setPart(this.rLeg3,{x:18,y:39,angle:0,scX:1,scY:1,skX:-73,skY:-73,alpha:1}),this.setPart(this.lLeg3,{x:-16,y:28,angle:0,scX:1,scY:1,skX:57,skY:57,alpha:1})):5===this.counterAnim?(this.tongue.alpha=1,Client.GameManager.instance.level.customAction(9),Client.GameManager.instance.level.setSimpleTween(this.tongue,6,{x:109,y:-39,skX:-27,skY:-27,scX:1,scY:1})):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tongue,10,{x:27,y:2,scX:.18}),this.setPart(this.crown,{x:-5,y:-25,angle:0,scX:1,scY:1,skX:-8,skY:-8,alpha:1}),this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.96,scY:1.09,skX:13,skY:52,alpha:1}),this.setPart(this.lEye2,{x:6,y:-7,angle:0,scX:.9,scY:1.43,skX:-3,skY:-3,alpha:1}),this.setPart(this.lEye1,{x:1,y:-7,angle:0,scX:1.06,scY:1.06,skX:0,skY:0,alpha:1}),this.setPart(this.rEye2,{x:20,y:-13,angle:0,scX:.79,scY:1.02,skX:-3,skY:-3,alpha:1}),this.setPart(this.rEye1,{x:17,y:-12,angle:0,scX:.79,scY:.79,skX:0,skY:0,alpha:1}),this.setPart(this.lLeg2,{x:-5,y:25,angle:0,scX:1.21,scY:1.21,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:3,y:6,angle:0,scX:1.13,scY:1.13,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg2,{x:19,y:26,angle:0,scX:1,scY:1.05,skX:-42,skY:156,alpha:1}),this.setPart(this.legs,{x:-1,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):21===this.counterAnim?this.setPart(this.tongue,{x:27,y:2,angle:0,scX:.18,scY:1,skX:-27,skY:-27,alpha:1}):22===this.counterAnim?this.setPart(this.tongue,{x:8,y:15,angle:0,scX:.04,scY:1,skX:-27,skY:-27,alpha:0}):26===this.counterAnim?(Client.GameManager.instance.level.customAction(11),this.tongue.visible=!1):29===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,7,{x:-2,y:-20,skX:-2,skY:-2}),Client.GameManager.instance.level.setSimpleTween(this.mouth,7,{skX:11,skY:11,scX:.16,scY:.16}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,7,{x:4,y:2,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,7,{x:2,y:-1,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,7,{x:19,y:-4,skX:0,skY:0,scX:.74,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,7,{y:-6,scX:.74,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.tors,7,{y:7,scX:1.07,scY:1.07})):36===this.counterAnim?(this.setPart(this.crown,{x:-2,y:-20,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.16,scY:.16,skX:11,skY:11,alpha:1}),this.setPart(this.lEye2,{x:4,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.lEye1,{x:2,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rEye2,{x:19,y:-4,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.rEye1,{x:17,y:-6,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.lLeg2,{x:-5,y:25,angle:0,scX:1.21,scY:1.21,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:3,y:7,angle:0,scX:1.07,scY:1.07,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg2,{x:19,y:26,angle:0,scX:1,scY:1.05,skX:-42,skY:156,alpha:1}),this.setPart(this.legs,{x:-1,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):43===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.mouth,7,{scX:.35,scY:.35}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,4,{x:2,y:-1,scX:1.16,scY:1.16}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,4,{x:17,y:-6,scX:.97,scY:.97})):47===this.counterAnim?(this.setPart(this.lEye2,{x:2,y:-1,angle:0,scX:1.16,scY:1.16,skX:0,skY:0,alpha:1}),this.setPart(this.rEye2,{x:17,y:-6,angle:0,scX:.97,scY:.97,skX:0,skY:0,alpha:1})):50===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.mouth,8,{scX:.16,scY:.16}):58===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.mouth,8,{scX:.29,scY:.29}):66===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.mouth,7,{scX:.16,scY:.16}):73===this.counterAnim?this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.16,scY:.16,skX:11,skY:11,alpha:1}):74===this.counterAnim&&this.animComplete():"jump"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,6,{x:-1,y:-14}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,6,{x:3,y:3}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,6,{y:3}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,6,{x:25,y:28,skX:56,skY:56}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,6,{x:-16,y:37,skX:-64,skY:-64}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,6,{y:-2}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,6,{y:-2}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,6,{x:-10,y:26,skX:54,skY:54}),Client.GameManager.instance.level.setSimpleTween(this.tors,6,{y:11,scY:.87}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,6,{x:21,y:25,skX:-67,skY:130}),Client.GameManager.instance.level.setSimpleTween(this.legs,6,{y:25,scX:1.19,scY:.73}),Client.GameManager.instance.level.setSimpleTween(this.rLeg3,6,{skX:-63,skY:-63}),Client.GameManager.instance.level.setSimpleTween(this.lLeg3,6,{x:-19,y:27,skX:49,skY:49})):7===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,3,{x:0,y:-39}),Client.GameManager.instance.level.setSimpleTween(this.mouth,3,{y:8}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,3,{x:1,y:-20,skX:-1,skY:-1,scX:.84,scY:1.8}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,3,{x:0,y:-12,scY:1.52}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,3,{x:5,y:35,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,3,{x:-3,y:36,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,3,{x:15,y:-25,skX:-1,skY:-1,scX:.7,scY:1.51}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,3,{x:15,y:-20,scY:1.13}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,3,{x:-2,y:30,skX:16,skY:16}),Client.GameManager.instance.level.setSimpleTween(this.tors,3,{y:-2,scX:.95,scY:1.46}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,3,{x:11,y:30,skX:-7,skY:180,scY:1.21}),Client.GameManager.instance.level.setSimpleTween(this.legs,3,{x:2,y:15,scX:.79,scY:1.32}),Client.GameManager.instance.level.setSimpleTween(this.rLeg3,3,{x:13,y:29,skX:19,skY:19}),Client.GameManager.instance.level.setSimpleTween(this.lLeg3,3,{x:-18,y:35,skX:-27,skY:-27})):10===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,14,{y:-31}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,14,{y:-13,scY:1.45}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,14,{y:-9,scY:1.22}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,14,{x:6,y:31}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,14,{x:-4,y:32}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,14,{y:-17,skY:0,scY:1.22}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,14,{y:-16,scY:.91}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,14,{x:-4,y:25}),Client.GameManager.instance.level.setSimpleTween(this.tors,14,{y:1,scY:1.24}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,14,{x:13,y:26}),Client.GameManager.instance.level.setSimpleTween(this.legs,14,{y:20,scX:.89,scY:.96}),Client.GameManager.instance.level.setSimpleTween(this.rLeg3,14,{y:32,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.lLeg3,14,{y:32,skX:-1,skY:-1})):24===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,5,{x:-1,y:-14}),Client.GameManager.instance.level.setSimpleTween(this.mouth,5,{y:10}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,5,{x:3,y:3,skX:0,skY:0,scX:1.16,scY:1.16}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,5,{x:2,y:3,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,5,{x:20,y:30,skX:56,skY:56}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,5,{x:-16,y:37,skX:-64,skY:-64}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,5,{x:17,y:-2,skX:0,scX:.97,scY:.97}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,5,{x:17,y:-2,scY:.74}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,5,{x:-10,y:26,skX:54,skY:54}),Client.GameManager.instance.level.setSimpleTween(this.tors,5,{y:11,scX:1.07,scY:.87}),Client.GameManager.instance.level.setSimpleTween(this.rLeg2,5,{x:19,skX:-42,skY:156,scY:1.05}),Client.GameManager.instance.level.setSimpleTween(this.legs,5,{x:-1,y:25,scX:1.19,scY:.73}),Client.GameManager.instance.level.setSimpleTween(this.rLeg3,5,{x:20,y:39,skX:-89,skY:-89}),Client.GameManager.instance.level.setSimpleTween(this.lLeg3,5,{x:-11,y:26,skX:84,skY:84})):29===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.crown,11,{x:-2,y:-20}),Client.GameManager.instance.level.setSimpleTween(this.lEye2,11,{x:2,y:-1}),Client.GameManager.instance.level.setSimpleTween(this.lEye1,11,{y:-1}),Client.GameManager.instance.level.setSimpleTween(this.rLeg1,11,{x:19,y:29,skX:45,skY:45}),Client.GameManager.instance.level.setSimpleTween(this.lLeg1,11,{x:-3,y:35,skX:-54,skY:-54}),Client.GameManager.instance.level.setSimpleTween(this.rEye2,11,{y:-6}),Client.GameManager.instance.level.setSimpleTween(this.rEye1,11,{y:-6}),Client.GameManager.instance.level.setSimpleTween(this.lLeg2,11,{x:-5,y:25,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tors,11,{y:7,scY:1.07}),Client.GameManager.instance.level.setSimpleTween(this.legs,11,{y:21,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rLeg3,11,{x:18,skX:-73,skY:-73}),Client.GameManager.instance.level.setSimpleTween(this.lLeg3,11,{x:-16,y:28,skX:57,skY:57})):40===this.counterAnim&&this.animComplete()))},Lvl7Frog.prototype.setParts=function(value){"idle"===value?(this.tongue.visible=!1,this.setPart(this.crown,{x:-2,y:-20,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.16,scY:.16,skX:11,skY:11,alpha:1}),this.setPart(this.lEye2,{x:4,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.lEye1,{x:2,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg1,{x:19,y:28,angle:0,scX:1,scY:1,skX:56,skY:56,alpha:1}),this.setPart(this.lLeg1,{x:-3,y:36,angle:0,scX:1,scY:1,skX:-64,skY:-64,alpha:1}),this.setPart(this.rEye2,{x:19,y:-4,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.rEye1,{x:17,y:-6,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.lLeg2,{x:-5,y:25,angle:0,scX:1.21,scY:1.21,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:3,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg2,{x:19,y:26,angle:0,scX:1,scY:1.05,skX:-42,skY:156,alpha:1}),this.setPart(this.legs,{x:-1,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg3,{x:18,y:39,angle:0,scX:1,scY:1,skX:-73,skY:-73,alpha:1}),this.setPart(this.lLeg3,{x:-16,y:28,angle:0,scX:1,scY:1,skX:57,skY:57,alpha:1})):"eat"===value?(this.tongue.visible=!0,this.setPart(this.tongue,{x:30,y:0,angle:0,scX:.19,scY:.77,skX:-28,skY:-28,alpha:0}),this.setPart(this.crown,{x:-2,y:-20,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.16,scY:.16,skX:11,skY:11,alpha:1}),this.setPart(this.lEye2,{x:4,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.lEye1,{x:2,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg1,{x:19,y:29,angle:0,scX:1,scY:1,skX:45,skY:45,alpha:1}),this.setPart(this.lLeg1,{x:-3,y:35,angle:0,scX:1,scY:1,skX:-54,skY:-54,alpha:1}),this.setPart(this.rEye2,{x:19,y:-4,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.rEye1,{x:17,y:-6,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.lLeg2,{x:-5,y:25,angle:0,scX:1.21,scY:1.21,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:3,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg2,{x:19,y:26,angle:0,scX:1,scY:1.05,skX:-42,skY:156,alpha:1}),this.setPart(this.legs,{x:-1,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg3,{x:18,y:39,angle:0,scX:1,scY:1,skX:-73,skY:-73,alpha:1}),this.setPart(this.lLeg3,{x:-16,y:28,angle:0,scX:1,scY:1,skX:57,skY:57,alpha:1})):"jump"===value&&(this.tongue.visible=!1,this.setPart(this.crown,{x:-2,y:-20,angle:0,scX:1,scY:1,skX:-2,skY:-2,alpha:1}),this.setPart(this.mouth,{x:17,y:10,angle:0,scX:.16,scY:.16,skX:11,skY:11,alpha:1}),this.setPart(this.lEye2,{x:2,y:-1,angle:0,scX:1.16,scY:1.16,skX:0,skY:0,alpha:1}),this.setPart(this.lEye1,{x:2,y:-1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg1,{x:19,y:29,angle:0,scX:1,scY:1,skX:45,skY:45,alpha:1}),this.setPart(this.lLeg1,{x:-3,y:35,angle:0,scX:1,scY:1,skX:-54,skY:-54,alpha:1}),this.setPart(this.rEye2,{x:17,y:-6,angle:0,scX:.97,scY:.97,skX:0,skY:0,alpha:1}),this.setPart(this.rEye1,{x:17,y:-6,angle:0,scX:.74,scY:.74,skX:0,skY:0,alpha:1}),this.setPart(this.lLeg2,{x:-5,y:25,angle:0,scX:1.21,scY:1.21,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:3,y:7,angle:0,scX:1.07,scY:1.07,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg2,{x:19,y:26,angle:0,scX:1,scY:1.05,skX:-42,skY:156,alpha:1}),this.setPart(this.legs,{x:-1,y:21,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rLeg3,{x:18,y:39,angle:0,scX:1,scY:1,skX:-73,skY:-73,alpha:1}),this.setPart(this.lLeg3,{x:-16,y:28,angle:0,scX:1,scY:1,skX:57,skY:57,alpha:1}))},Lvl7Frog.prototype.free=function(){this.group=null,this.tongue=null,this.crown=null,this.mouth=null,this.lEye2=null,this.lEye1=null,this.rLeg1=null,this.lLeg1=null,this.rEye2=null,this.rEye1=null,this.lLeg2=null,this.tors=null,this.rLeg2=null,this.legs=null,this.rLeg3=null,this.lLeg3=null,this.body=null},Lvl7Frog})(Client.BasicSimpleAnim);Client.Lvl7Frog=Lvl7Frog})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7MagicBridge=(_super=>{function Lvl7MagicBridge(game){for(var _this=_super.call(this)||this,angle=(_this.stars=new Array,_this.graphic=Client.GameManager.instance.layerUpper.create(415,480,"level7"),_this.graphic.anchor.x=.5,_this.graphic.animations.add("show",Phaser.Animation.generateFrameNames("magicBridge instance 1",0,9,"",4),30,!1),_this.graphic.visible=!1,_this.body=new Phaser.Physics.Box2D.Body(game,null,405,540,0),_this.body.setRectangle(110,10),_this.body.addRectangle(110,10,-110,-6,Client.Tools.toRad(7)),_this.body.addRectangle(110,10,-220,-21,Client.Tools.toRad(9)),_this.body.addRectangle(110,10,110,-6,Client.Tools.toRad(-7)),_this.body.addRectangle(110,10,220,-21,Client.Tools.toRad(-9)),_this.body.data.SetActive(!1),7),stepAngle=2*Math.abs(angle)/16,dis=-260,stepDis=2*Math.abs(dis)/16,i=0;i<17;i++){var newA=Client.Tools.toRad(angle);_this.stars.push(new Client.Lvl7Star(game,_this.graphic,_this.body.x+Math.cos(newA)*dis-_this.graphic.x,_this.body.y+Math.sin(newA)*dis-_this.graphic.y)),angle-=stepAngle,dis+=stepDis}return _this}return __extends(Lvl7MagicBridge,_super),Lvl7MagicBridge.prototype.show=function(){this.graphic.visible=!0,this.graphic.animations.play("show"),Client.SoundManager.playSFX("s_lvl10_createBridge");for(var i=0;i<this.stars.length;i++)this.stars[i].start();Client.GameManager.instance.hero.bodyBase.y<=480&&this.activeteBody()},Lvl7MagicBridge.prototype.activeteBody=function(){!0===this.graphic.visible&&this.body.data.SetActive(!0)},Lvl7MagicBridge.prototype.hide=function(){this.body.data.SetActive(!1),this.graphic.visible=!1;for(var i=0;i<this.stars.length;i++)this.stars[i].stop()},Lvl7MagicBridge.prototype.update=function(){for(var i=0;i<this.stars.length;i++)this.stars[i].update()},Lvl7MagicBridge.prototype.free=function(){this.graphic=null,this.body=null;for(var i=0;i<this.stars.length;i++)this.stars[i].free();this.stars=[],this.stars=null},Lvl7MagicBridge})(Client.BasicElement);Client.Lvl7MagicBridge=Lvl7MagicBridge})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7MagicBullet=(_super=>{function Lvl7MagicBullet(game){var _this=_super.call(this)||this;return _this.active=!1,_this.checkPointFrogJump=!1,_this.graphic=Client.GameManager.instance.layerElements.create(0,0,"level7"),_this.graphic.anchor.setTo(.5),_this.graphic.animations.add("anim",Phaser.Animation.generateFrameNames("magicBullet instance 1",0,56,"",4),30,!0),_this.graphic.visible=!1,_this.body=new Phaser.Physics.Box2D.Body(game,null,-100,-100),_this.body.setCircle(19),_this.body.kinematic=!0,_this.body.sensor=!0,_this}return __extends(Lvl7MagicBullet,_super),Lvl7MagicBullet.prototype.blow=function(){Client.SoundManager.playSFX("s_lvl10_createBridge"),this.active=!0,this.checkPointFrogJump=!1,this.graphic.visible=!0,this.graphic.animations.play("anim"),this.body.dynamic=!0,this.body.x=730,this.body.y=810,this.body.velocity.x=this.body.velocity.y=0,this.body.data.ApplyLinearImpulse(new box2d.b2Vec2(3.5,3.3),this.body.data.GetPosition())},Lvl7MagicBullet.prototype.update=function(){!1!==this.active&&(this.graphic.x=this.body.x,this.graphic.y=this.body.y,900<this.body.y&&this.deactive(),!1===this.checkPointFrogJump)&&this.body.x<420&&(this.checkPointFrogJump=!0,Client.GameManager.instance.level.customAction(7))},Lvl7MagicBullet.prototype.deactive=function(){this.active=!1,this.body.kinematic=!0,this.graphic.visible=!1,this.graphic.animations.stop(),this.body.x=-100,this.body.y=-100,Client.GameManager.instance.level.customAction(10)},Lvl7MagicBullet.prototype.free=function(){this.graphic=null,this.body=null},Lvl7MagicBullet})(Client.BasicElement);Client.Lvl7MagicBullet=Lvl7MagicBullet})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7Mosquito=(_super=>{function Lvl7Mosquito(game,frog){var _this=_super.call(this,game)||this;return _this.active=!0,_this.counter=0,_this.group=game.make.group(),_this.group.x=380,_this.group.y=700,Client.GameManager.instance.layerUpper.addChildAt(_this.group,Client.GameManager.instance.layerUpper.getChildIndex(frog.group)+1),_this.wing2=new Client.SASprite(game,0,0,"level7"),_this.wing2.pivot.set(30,36),_this.wing2.animations.add("anim",Phaser.Animation.generateFrameNames("mosquitoWing instance 1",0,7,"",4),30,!0),_this.wing2.animations.add("anim2",Phaser.Animation.generateFrameNames("mosquitoWing instance 1",8,8,"",4),30,!1),_this.wing2.animations.play("anim"),_this.group.addChild(_this.wing2),_this.ass=new Client.SASprite(game,0,0,"level7","mosquitoAss instance 10000"),_this.ass.pivot.set(15,10),_this.group.addChild(_this.ass),_this.tors=new Client.SASprite(game,0,0,"level7","mosquitoTors instance 10000"),_this.tors.pivot.set(11,12),_this.group.addChild(_this.tors),_this.leg4=new Client.SASprite(game,0,0,"level7","mosquitoLeg2 instance 10000"),_this.leg4.pivot.set(4,16),_this.group.addChild(_this.leg4),_this.leg3=new Client.SASprite(game,0,0,"level7","mosquitoLeg2 instance 10000"),_this.leg3.pivot.set(4,16),_this.group.addChild(_this.leg3),_this.leg2=new Client.SASprite(game,0,0,"level7","mosquitoLeg1 instance 10000"),_this.leg2.pivot.set(3,14),_this.group.addChild(_this.leg2),_this.leg1=new Client.SASprite(game,0,0,"level7","mosquitoLeg1 instance 10000"),_this.leg1.pivot.set(3,14),_this.group.addChild(_this.leg1),_this.nose=new Client.SASprite(game,0,0,"level7","mosquitoNose instance 10000"),_this.nose.pivot.set(4,15),_this.group.addChild(_this.nose),_this.eyes=new Client.SASprite(game,0,0,"level7"),_this.eyes.pivot.set(1,8),_this.eyes.animations.add("anim",Phaser.Animation.generateFrameNames("mosquitoEyes instance 1",0,198,"",4),30,!0),_this.eyes.animations.play("anim"),_this.group.addChild(_this.eyes),_this.wing1=new Client.SASprite(game,0,0,"level7"),_this.wing1.pivot.set(30,36),_this.wing1.animations.add("anim",Phaser.Animation.generateFrameNames("mosquitoWing instance 1",0,7,"",4),30,!0),_this.wing1.animations.add("anim2",Phaser.Animation.generateFrameNames("mosquitoWing instance 1",8,8,"",4),30,!1),_this.wing1.animations.play("anim"),_this.group.addChild(_this.wing1),_this.setParts("anim"),_this}return __extends(Lvl7Mosquito,_super),Lvl7Mosquito.prototype.update=function(){_super.prototype.update.call(this),!0===this.active&&(this.counter+=1,70===this.counter?(this.active=!1,Client.GameManager.instance.level.customAction(8)):150===this.counter&&(this.active=!1,Client.LevelBuilder.instance.levelFailed()))},Lvl7Mosquito.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing1,9,{x:-1,y:11,skX:-65,skY:-65}),Client.GameManager.instance.level.setSimpleTween(this.eyes,9,{x:6,skX:-23,skY:-25,scX:1.09,scY:.76}),Client.GameManager.instance.level.setSimpleTween(this.nose,9,{x:36,y:-18,skX:-83,skY:-83}),Client.GameManager.instance.level.setSimpleTween(this.leg1,9,{x:30,y:0,skX:-89,skY:-89}),Client.GameManager.instance.level.setSimpleTween(this.leg2,9,{x:29,y:-6,skX:-103,skY:-103}),Client.GameManager.instance.level.setSimpleTween(this.leg3,9,{x:29,y:5,skX:-93,skY:-93}),Client.GameManager.instance.level.setSimpleTween(this.leg4,9,{x:26,y:9,skX:-81,skY:-81}),Client.GameManager.instance.level.setSimpleTween(this.tors,9,{x:12,y:-8,skX:-37,skY:-37,scX:1.13,scY:.8}),Client.GameManager.instance.level.setSimpleTween(this.ass,9,{x:10,y:13,skX:-67,skY:-72,scX:1.06,scY:1.14}),Client.GameManager.instance.level.setSimpleTween(this.wing2,9,{x:-4,y:8,skX:-51,skY:-51})):7===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.group,10,{x:190,y:780}):10===this.counterAnim?(this.wing1.animations.play("anim2"),this.wing2.animations.play("anim2"),Client.GameManager.instance.level.setSimpleTween(this.wing1,10,{x:16,y:7,skX:-111,skY:-111,scX:.75,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.eyes,10,{x:8,y:-16,scX:.82,scY:.58}),Client.GameManager.instance.level.setSimpleTween(this.nose,10,{x:29,y:-14,skX:-95,skY:-95,scX:.75,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.leg1,10,{x:25,y:-2,skX:-106,skY:-106,scX:.75,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.leg2,10,{x:25,y:-5,skX:-111,skY:-111,scX:.75,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.leg3,10,{x:25,y:1,skX:-112,skY:-112,scX:.75,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.leg4,10,{x:23,y:4,skX:-102,skY:-102,scX:.75,scY:.75}),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{y:-5,scX:.85,scY:.61}),Client.GameManager.instance.level.setSimpleTween(this.ass,10,{x:17,y:8,skX:-97,skY:-102,scX:.8,scY:.86}),Client.GameManager.instance.level.setSimpleTween(this.wing2,10,{x:12,y:9,skX:-91,skY:-91,scX:.75,scY:.75})):20===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.wing1,10,{x:20,y:-5,skX:-172,skY:-172,scX:.6,scY:.6}),Client.GameManager.instance.level.setSimpleTween(this.eyes,10,{x:6,y:-11,skX:-34,skY:-36,scX:.66,scY:.46}),Client.GameManager.instance.level.setSimpleTween(this.nose,10,{x:23,y:-13,skX:-107,skY:-107,scX:.6,scY:.6}),Client.GameManager.instance.level.setSimpleTween(this.leg1,10,{x:20,y:-4,skX:-131,skY:-131,scX:.6,scY:.6}),Client.GameManager.instance.level.setSimpleTween(this.leg2,10,{x:20,skX:-128,skY:-128,scX:.6,scY:.6}),Client.GameManager.instance.level.setSimpleTween(this.leg3,10,{x:21,y:-2,skX:-135,skY:-135,scX:.6,scY:.6}),Client.GameManager.instance.level.setSimpleTween(this.leg4,10,{x:21,y:0,skX:-125,skY:-125,scX:.6,scY:.6}),Client.GameManager.instance.level.setSimpleTween(this.tors,10,{x:11,y:-3,skX:-48,skY:-48,scX:.68,scY:.49}),Client.GameManager.instance.level.setSimpleTween(this.ass,10,{x:19,y:1,skX:-139,skY:-145,scX:.64,scY:.69}),Client.GameManager.instance.level.setSimpleTween(this.wing2,10,{x:21,y:-9,skX:174,skY:174,scX:.6,scY:.6})):30===this.counterAnim&&this.animComplete())},Lvl7Mosquito.prototype.eated=function(){this.activeAnim=!1,this.group.visible=!1,this.active=!0},Lvl7Mosquito.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.wing1,{x:-12,y:-9,angle:0,scX:1,scY:1,skX:6,skY:6,alpha:1}),this.setPart(this.eyes,{x:16,y:-23,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.nose,{x:32,y:5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.leg1,{x:19,y:20,angle:0,scX:1,scY:1,skX:9,skY:9,alpha:1}),this.setPart(this.leg2,{x:23,y:19,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.leg3,{x:13,y:20,angle:0,scX:1,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.leg4,{x:9,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tors,{x:17,y:-5,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.ass,{x:-3,y:4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.wing2,{x:-10,y:-15,angle:0,scX:1,scY:1,skX:20,skY:20,alpha:1}))},Lvl7Mosquito.prototype.free=function(){this.group=null,this.wing1=null,this.eyes=null,this.nose=null,this.leg1=null,this.leg2=null,this.leg3=null,this.leg4=null,this.tors=null,this.ass=null,this.wing2=null},Lvl7Mosquito})(Client.BasicSimpleAnim);Client.Lvl7Mosquito=Lvl7Mosquito})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7QuestTree=(_super=>{function Lvl7QuestTree(game){var _this=_super.call(this)||this,rootBase=(_this.pressed=!1,_this.treeStY=306,_this.game=game,_this.tree=Client.GameManager.instance.layerBackground.create(0,_this.treeStY,"level7","questTree instance 10000"),game.make.group()),mask=(rootBase.x=75,rootBase.y=723,Client.GameManager.instance.layerUpper.addChild(rootBase),_this.treeRoot=game.make.button(0,0,"level7",_this.rootUp,_this,"questTreeRoot instance 10001","questTreeRoot instance 10000"),_this.treeRoot.onInputDown.add(_this.rootDown,_this),_this.treeRoot.anchor.setTo(.5),rootBase.addChild(_this.treeRoot),game.make.graphics(0,0));return mask.beginFill(16711680,.4),mask.drawRect(-18,-50,200,100),mask.endFill(),rootBase.addChild(mask),rootBase.mask=mask,mask=rootBase=null,_this.body=new Phaser.Physics.Box2D.Body(game,null,75,723,1),_this.body.setRectangle(60,20),_this.setBody(),_this}return __extends(Lvl7QuestTree,_super),Lvl7QuestTree.prototype.setBody=function(){this.body.x=this.treeRoot.x+75},Lvl7QuestTree.prototype.rootDown=function(){this.pressed=!0,this.rootOffX=this.game.input.worldX-75-this.treeRoot.x},Lvl7QuestTree.prototype.rootUp=function(){this.pressed=!1},Lvl7QuestTree.prototype.update=function(){!1!==this.pressed&&(this.treeRoot.x=this.game.input.worldX-75-this.rootOffX,this.treeRoot.x<0?this.treeRoot.x=0:47<this.treeRoot.x&&(this.treeRoot.x=47),this.tree.y=this.treeStY+this.treeRoot.x)},Lvl7QuestTree.prototype.free=function(){this.game=null,this.tree=null,this.treeRoot=null,this.body=null},Lvl7QuestTree})(Client.BasicElement);Client.Lvl7QuestTree=Lvl7QuestTree})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7StarAnim=(()=>{function Lvl7StarAnim(game,parent,x,y,randomX,randomY,amount){this.stars=new Array;for(var star,stepX=2*randomX/amount,stX=x,i=0;i<amount;i++)(star=new Lvl7Star(game,parent,stX,y+Client.Tools.random(0,randomY))).start(),this.stars.push(star),stX+=stepX}return Lvl7StarAnim.prototype.show=function(){for(var i=0;i<this.stars.length;i++)this.stars[i].start()},Lvl7StarAnim.prototype.hide=function(){for(var i=0;i<this.stars.length;i++)this.stars[i].stop()},Lvl7StarAnim.prototype.update=function(){for(var i=0;i<this.stars.length;i++)this.stars[i].update()},Lvl7StarAnim.prototype.free=function(){for(var i=0;i<this.stars.length;i++)this.stars[i].free();this.stars=[],this.stars=null},Lvl7StarAnim})(),Lvl7Star=(Client.Lvl7StarAnim=Lvl7StarAnim,(()=>{function Lvl7Star(game,parent,x,y){this.counter=0,this.endDis=30,this.active=0,this.startY=y,this.graphic=game.make.sprite(x,y,"level7"),this.graphic.anchor.setTo(.5),this.graphic.animations.add("anim",Phaser.Animation.generateFrameNames("starAnim instance 1",0,14,"",4),30,!1).onComplete.add(this.animComplete,this),this.graphic.visible=!1,parent.addChild(this.graphic)}return Lvl7Star.prototype.start=function(){this.active=1,this.counter=Client.Tools.random(0,60),this.endCounter=Client.Tools.random(60,80)},Lvl7Star.prototype.stop=function(){this.active=2},Lvl7Star.prototype.animComplete=function(){this.graphic.visible=!1},Lvl7Star.prototype.update=function(){0!==this.active&&(this.counter+=1,1===this.counter?(this.graphic.visible=!0,this.graphic.animations.play("anim"),this.graphic.y=this.startY):2<=this.counter&&this.counter<=30?this.graphic.y=this.startY+this.endDis*((this.counter-2)/30):this.counter>=this.endCounter&&(this.counter=0,this.endCounter=Client.Tools.random(60,80),2===this.active)&&(this.active=0))},Lvl7Star.prototype.free=function(){this.graphic=null},Lvl7Star})());Client.Lvl7Star=Lvl7Star})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl7StonePlatform=(_super=>{function Lvl7StonePlatform(game){var _this=_super.call(this)||this;return _this.active=!0,_this.counter=0,_this.startAnim=!1,_this.animShow=!1,_this.graphic=Client.GameManager.instance.layerUpper.create(405,882,"level7","stonePlatform instance 10000"),_this.graphic.anchor.setTo(.5,1),_this.starAnim=new Client.Lvl7StarAnim(game,_this.graphic,-70,-120,70,30,10),_this.body=new Phaser.Physics.Box2D.Body(game,null,400,815,1),_this.body.setRectangle(124,100),_this.body.setCollisionMask(~Client.FilterGroups.WALL),_this.body.friction=2,_this}return __extends(Lvl7StonePlatform,_super),Lvl7StonePlatform.prototype.show=function(){this.starAnim.show(),this.counter=0,this.animShow=!0,this.startAnim=!0,this.graphic.visible=!0,Client.GameManager.instance.level.setSimpleTween(this.graphic,16,{alpha:1})},Lvl7StonePlatform.prototype.hide=function(){this.starAnim.hide(),this.counter=0,this.animShow=!1,this.startAnim=!0,Client.GameManager.instance.level.setSimpleTween(this.graphic,16,{alpha:0}),this.body.data.SetActive(!1)},Lvl7StonePlatform.prototype.update=function(){this.starAnim.update(),!0===this.startAnim&&(this.counter+=1,17===this.counter)&&(!0===this.animShow?(Client.GameManager.instance.level.customAction(5),this.body.data.SetActive(!0)):(Client.GameManager.instance.level.customAction(6),this.graphic.visible=!1),this.startAnim=!1)},Lvl7StonePlatform.prototype.free=function(){this.graphic=null,this.body=null,this.starAnim.free(),this.starAnim=null},Lvl7StonePlatform})(Client.BasicElement);Client.Lvl7StonePlatform=Lvl7StonePlatform})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl8Elevator=(_super=>{function Lvl8Elevator(game){var _this=_super.call(this)||this,mask=(_this.speed=50,_this.move=!1,_this.floor=472,_this.top=190,_this.direction=0,new Phaser.Graphics(game,570,100));return mask.beginFill(0,1),mask.drawRect(-10,0,20,360),mask.endFill(),Client.GameManager.instance.layerElements.addChild(mask),_this.rope=Client.GameManager.instance.layerElements.create(570,165,"level8","rope instance 10000"),_this.rope.anchor.set(.5,1),_this.rope.mask=mask,_this.platform=Client.GameManager.instance.layerElements.create(570,190,"level8","elevator instance 10000"),game.physics.box2d.enable(_this.platform),_this.platform.body.setRectangle(120,20,0,15),_this.platform.body.kinematic=!0,_this.wheel=Client.GameManager.instance.layerUpper.create(570,70,"level8","wheel instance 10000"),_this.wheel.anchor.set(.5),_this}return __extends(Lvl8Elevator,_super),Lvl8Elevator.prototype.moveTo=function(_dir){0!==(this.direction=_dir)?(this.move=!0,this.platform.body.velocity.y=this.speed*_dir):(this.move=!1,this.platform.body.setZeroVelocity())},Lvl8Elevator.prototype.update=function(){!0===this.move&&(this.platform.body.y>this.floor?(this.platform.body.y=this.floor,this.platform.body.setZeroVelocity(),this.move=!1):this.platform.body.y<this.top&&(this.platform.body.y=this.top,this.platform.body.setZeroVelocity(),this.move=!1),this.wheel.angle+=-2*this.direction),this.rope.y=this.platform.body.y-25},Lvl8Elevator.prototype.free=function(){this.rope=null,this.platform=null,this.wheel=null},Lvl8Elevator})(Client.BasicElement);Client.Lvl8Elevator=Lvl8Elevator})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl8Platform=(_super=>{function Lvl8Platform(game){var _this=_super.call(this)||this;return _this.level=0,_this.direction=1,_this.levelAngle=new Array,_this.rotateSpeed=-1,_this.startRotate=!1,_this.levelAngle=[2,-31,-74],_this.bigWheel=Client.GameManager.instance.layerBackground.create(408,369,"level8","bigWheel instance 10000"),_this.bigWheel.anchor.set(.5),_this.bigWheel.angle=22,_this.platform=game.make.sprite(438,305,"level8","platform instance 10000"),_this.platform.pivot.set(115,0),game.physics.box2d.enable(_this.platform),_this.platform.body.setRectangle(280,40,-140,0,Client.Tools.toRad(2)),_this.platform.body.kinematic=!0,_this.platform.body.angle=2,_this.platform.body.friction=10,Client.GameManager.instance.layerBackground.addChild(_this.platform),_this.rotateLevel=Client.GameManager.instance.layerUpper.create(417,292,"level8","platformLevel instance 10000"),_this.rotator=new Phaser.Group(game),_this.rotator.x=474,_this.rotator.y=305,Client.GameManager.instance.layerUpper.addChild(_this.rotator),_this.lever=game.make.button(0,-15,"level8",_this.rotatePlatform,_this,"lever instance 10001","lever instance 10000","lever instance 10000","lever instance 10000"),_this.lever.anchor.set(.5,1),_this.rotator.addChild(_this.lever),_this.rotator.create(0,0,"level8","rotator instance 10000").pivot.set(39,26),_this}return __extends(Lvl8Platform,_super),Lvl8Platform.prototype.rotatePlatform=function(){(1===this.direction&&2===this.level||-1===this.direction&&0===this.level)&&(this.direction*=-1),Client.SoundManager.playSFX("s_lvl7_armMove"),this.level+=this.direction,this.startRotate=!0,this.rotateLevel.frameName="platformLevel instance 10003",Client.GameManager.instance.level.setWheelRotate(!1)},Lvl8Platform.prototype.update=function(){!0===this.startRotate&&(this.rotator.angle+=this.direction*this.rotateSpeed,this.platform.body.angle=this.rotator.angle,this.bigWheel.angle-=this.direction*this.rotateSpeed,1===this.direction&&this.rotator.angle<this.levelAngle[this.level]||-1===this.direction&&this.rotator.angle>this.levelAngle[this.level])&&this.stopRotate()},Lvl8Platform.prototype.stopRotate=function(){this.rotateLevel.frameName="platformLevel instance 1000"+this.level,this.rotator.angle=this.levelAngle[this.level],this.startRotate=!1,2===this.level&&Client.GameManager.instance.level.setWheelRotate(!0)},Lvl8Platform.prototype.free=function(){_super.prototype.free.call(this),this.platform=null,this.rotator=null,this.lever=null,this.rotateLevel=null,this.levelAngle=[],this.levelAngle=null},Lvl8Platform})(Client.BasicElement);Client.Lvl8Platform=Lvl8Platform})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl8RopeArm=(_super=>{function Lvl8RopeArm(_game,_x,_y){var _this=_super.call(this)||this,_game=(_this.direction=0,_this.oldAngle=0,_this.active=!0,_this.game=_game,_this.group=new Phaser.Group(_game),_this.group.x=_x,_this.group.y=720,Client.GameManager.instance.layerUpper.addChild(_this.group),_this.anim=_this.group.create(-13,-5,"level8","ropeAnim instance 10000"),_this.anim.animations.add("work1",Phaser.Animation.generateFrameNames("ropeAnim instance 1",0,4,"",4),30,!0),_this.anim.animations.add("work2",Phaser.Animation.generateFrameNames("ropeAnim instance 1",4,0,"",4),30,!0),_this.arm=_this.game.make.sprite(0,0),_this.arm.anchor.set(.5,.5),_this.group.addChild(_this.arm),_this.button=_this.game.make.sprite(30,0,"level8","lever instance 10000"),_this.button.angle=90,_this.button.anchor.set(.5),_this.button.inputEnabled=!0,_this.button.input.useHandCursor=!0,_this.arm.addChild(_this.button),_this.button.events.onInputDown.add(_this.down,_this),_this.button.events.onInputUp.add(_this.up,_this),_this.button.events.onInputOver.add(_this.over,_this),_this.button.events.onInputOut.add(_this.out,_this),_this.game.make.sprite(0,0,"level8","rotator2 instance 10000"));return _game.anchor.set(.5),_this.arm.addChild(_game),_this}return __extends(Lvl8RopeArm,_super),Lvl8RopeArm.prototype.show=function(){this.game.add.tween(this.group).to({y:490},1e3,Phaser.Easing.Linear.None,!0)},Lvl8RopeArm.prototype.down=function(){this.buttonDown=!0},Lvl8RopeArm.prototype.up=function(){this.buttonDown=!1,this.direction=0,this.anim.animations.stop()},Lvl8RopeArm.prototype.over=function(){!0===this.active&&(this.button.frameName="lever instance 10001")},Lvl8RopeArm.prototype.out=function(){!0===this.active&&(this.button.frameName="lever instance 10000")},Lvl8RopeArm.prototype.getDirection=function(){return this.direction},Lvl8RopeArm.prototype.update=function(){var angle;!0===this.buttonDown&&(angle=Phaser.Math.angleBetween(this.game.input.activePointer.x,this.game.input.activePointer.y,this.arm.world.x,this.arm.world.y),this.oldAngle===angle?(this.anim.animations.stop(),this.direction=0):(angle>this.oldAngle?(this.anim.play("work1"),this.direction=-1):(this.anim.play("work2"),this.direction=1),this.arm.rotation=angle-Client.Tools.toRad(180),this.oldAngle=angle))},Lvl8RopeArm.prototype.free=function(){this.game=null,this.arm=null,this.button=null,this.group=null},Lvl8RopeArm})(Client.BasicElement);Client.Lvl8RopeArm=Lvl8RopeArm})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Background=(()=>{function Lvl9Background(game,x,y){this.parts=new Array;for(var part,startX=x,startY=y,i=0;i<4;i++){this.parts.push(new Array);for(var j=0;j<4;j++)(part=Client.GameManager.instance.layerBackground0.create(startX,startY,"level9","bgMove instance 10000")).cacheAsBitmap=!0,this.parts[i].push(part),startY+=210;startX+=309,startY=y}part=null,this.checkX(),this.checkY()}return Lvl9Background.prototype.move=function(speedX,speedY){0!==speedX&&this.checkX(),0!==speedY&&this.checkY();for(var i=0;i<this.parts.length;i++)for(var j=0;j<this.parts[i].length;j++)this.parts[i][j].x+=speedX,this.parts[i][j].y+=speedY},Lvl9Background.prototype.checkX=function(){for(var i=0;i<this.parts.length;i++)if(this.parts[i][0].x<=-309)for(var j=0;j<this.parts[i].length;j++)this.parts[i][j].x+=1236;else if(927<=this.parts[i][0].x)for(j=0;j<this.parts[i].length;j++)this.parts[i][j].x-=1236},Lvl9Background.prototype.checkY=function(){for(var j=0;j<this.parts[0].length;j++)if(this.parts[0][j].y<=-210)for(var i=0;i<this.parts.length;i++)this.parts[i][j].y+=840;else if(630<=this.parts[0][j].y)for(i=0;i<this.parts.length;i++)this.parts[i][j].y-=840},Lvl9Background.prototype.free=function(){this.parts=[],this.parts=null},Lvl9Background})();Client.Lvl9Background=Lvl9Background})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9BasicRoom=(_super=>{function Lvl9BasicRoom(game,id){var _this=_super.call(this)||this;return _this._x=0,_this._y=0,_this.game=game,_this.id=id,_this.groupBack=game.make.group(),Client.GameManager.instance.layerBackground.addChild(_this.groupBack),_this.groupFront=game.make.group(),Client.GameManager.instance.layerUpper.addChild(_this.groupFront),_this}return __extends(Lvl9BasicRoom,_super),Object.defineProperty(Lvl9BasicRoom.prototype,"x",{get:function(){return this._x},set:function(value){this._x=value,this.groupBack.x=this._x,this.groupFront.x=this._x,this.front.x=this._x},enumerable:!1,configurable:!0}),Object.defineProperty(Lvl9BasicRoom.prototype,"y",{get:function(){return this._y},set:function(value){this._y=value,this.groupBack.y=this._y,this.groupFront.y=this._y,this.front.y=this._y},enumerable:!1,configurable:!0}),Lvl9BasicRoom.prototype.createBg=function(){var sprite=this.groupBack.create(0,0,"level9_2","room"+this.id+" instance 10000");sprite.anchor.setTo(.5),sprite.cacheAsBitmap=!0},Lvl9BasicRoom.prototype.createDoors=function(){this.doors=new Array;var door=new Client.Lvl9RoomDoor(this.game,1);door.group.y=-170,this.groupFront.addChild(door.group),this.doors.push(door),(door=new Client.Lvl9RoomDoor(this.game,2)).group.angle=90,door.group.x=257,this.groupFront.addChild(door.group),this.doors.push(door),(door=new Client.Lvl9RoomDoor(this.game,3)).group.angle=180,door.group.y=170,this.groupFront.addChild(door.group),this.doors.push(door),(door=new Client.Lvl9RoomDoor(this.game,4)).group.angle=270,door.group.x=-257,this.groupFront.addChild(door.group),this.doors.push(door)},Lvl9BasicRoom.prototype.createFront=function(){this.front=Client.GameManager.instance.layerUpper.create(0,0,"level9_2","room"+this.id+"Front instance 10000"),this.front.anchor.setTo(.5),this.front.angle=-90,this.front.cacheAsBitmap=!0,this.front.inputEnabled=!0},Lvl9BasicRoom.prototype.createWalls=function(wallId){var sprite=this.groupFront.create(-264,-178,"level9_2","room"+wallId+"wall1 instance 10000");sprite.cacheAsBitmap=!0,(sprite=this.groupFront.create(264,-178,"level9_2","room"+wallId+"wall2 instance 10000")).anchor.x=1,sprite.cacheAsBitmap=!0,(sprite=this.groupFront.create(-264,177,"level9_2","room"+wallId+"wall3 instance 10000")).anchor.y=1,sprite.cacheAsBitmap=!0,(sprite=this.groupFront.create(264,177,"level9_2","room"+wallId+"wall4 instance 10000")).anchor.setTo(1),sprite.cacheAsBitmap=!0},Lvl9BasicRoom.prototype.activateDoors=function(){},Lvl9BasicRoom.prototype.activate=function(closeDoor){!0===(closeDoor=void 0===closeDoor?!0:closeDoor)&&this.closeDoor()},Lvl9BasicRoom.prototype.show=function(openDoor){this.groupBack.visible=!0,this.groupFront.visible=!0,this.front.visible=!1,0<=openDoor?this.openDoor(openDoor):this.activate(!1)},Lvl9BasicRoom.prototype.openDoor=function(value){this.doors[value].open()},Lvl9BasicRoom.prototype.closeDoor=function(){for(var i=0;i<this.doors.length;i++)if(!0===this.doors[i].opened)return void this.doors[i].close()},Lvl9BasicRoom.prototype.hide=function(closeDoor){void 0===closeDoor&&(closeDoor=!1),this.groupBack.visible=!1,this.groupFront.visible=!1,(this.front.visible=!0)===closeDoor&&this.closeDoor()},Lvl9BasicRoom.prototype.deactivateDoors=function(){for(var i=0;i<this.doors.length;i++)this.doors[i].deactivate()},Lvl9BasicRoom.prototype.update=function(){for(var i=0;i<this.doors.length;i++)this.doors[i].update()},Lvl9BasicRoom.prototype.addMask=function(group){var mask=this.game.make.graphics(0,0);mask.beginFill(16711680,.5),mask.drawRect(-263,-176,526,352),mask.endFill(),group.addChild(mask),group.mask=mask},Lvl9BasicRoom.prototype.free=function(){this.game=null,this.groupBack=null,this.groupFront=null,this.front=null;for(var i=0;i<this.doors.length;i++)this.doors[i].free();this.doors=[],this.doors=null},Lvl9BasicRoom})(Client.BasicElement);Client.Lvl9BasicRoom=Lvl9BasicRoom})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9PlatformHero=(_super=>{function Lvl9PlatformHero(game,x,y){var _this=_super.call(this)||this,x=(_this.moving=!1,_this.body=new Phaser.Physics.Box2D.Body(game,null,x,y,1),_this.body.setRectangle(130,14),_this.graphic=Client.GameManager.instance.layerElements.create(_this.body.x,_this.body.y,"level9","platformHero instance 10000"),_this.graphic.anchor.setTo(.5),_this.graphic.pivot.y=17,_this.gear1=game.make.sprite(-12,24,"level9","platformHeroGear instance 10000"),_this.gear1.anchor.setTo(.5),_this.gear1.angle=47,_this.graphic.addChild(_this.gear1),_this.gear2=game.make.sprite(12,24,"level9","platformHeroGear instance 10000"),_this.gear2.anchor.setTo(.5),_this.gear2.angle=20,_this.graphic.addChild(_this.gear2),game.make.sprite(0,16,"level9","platformHeroFloor instance 10000"));return x.anchor.setTo(.5),x.cacheAsBitmap=!0,_this.graphic.addChild(x),x=null,_this}return __extends(Lvl9PlatformHero,_super),Lvl9PlatformHero.prototype.move=function(speedX,speedY){this.body.velocity.x=speedX,this.body.velocity.y=speedY,this.moving=!0,Client.SoundManager.playSFX("s_lvl8_platformStart"),Client.SoundManager.playSFX("s_lvl8_platformMove",!0)},Lvl9PlatformHero.prototype.stop=function(){this.body.velocity.x=0,this.body.velocity.y=0,this.moving=!1,Client.SoundManager.playSFX("s_lvl8_platformStop"),Client.SoundManager.stopSFXLoop("s_lvl8_platformMove")},Lvl9PlatformHero.prototype.update=function(){!0===this.moving&&(this.graphic.x=this.body.x,this.graphic.y=this.body.y,this.gear1.angle+=1,--this.gear2.angle)},Lvl9PlatformHero.prototype.free=function(){this.body=null,this.graphic=null,this.gear1=null,this.gear2=null},Lvl9PlatformHero})(Client.BasicElement);Client.Lvl9PlatformHero=Lvl9PlatformHero})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room1=(_super=>{function Lvl9Room1(game){game=_super.call(this,game,1)||this;return game.createBg(),game.createDoors(),game.createWalls(game.id),game.createFront(),game.hide(),game.x=585,game.y=265,game}return __extends(Lvl9Room1,_super),Lvl9Room1.prototype.activateDoors=function(){this.doors[1].activate(),this.doors[2].activate()},Lvl9Room1.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.activateDoors()},Lvl9Room1})(Client.Lvl9BasicRoom);Client.Lvl9Room1=Lvl9Room1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room2=(_super=>{function Lvl9Room2(game){var _this=_super.call(this,game,2)||this;return _this.lives=10,_this.addMask(_this.groupBack),_this.moves=new Client.Lvl9Room2Moves(game),_this.moves.group.x=201,_this.moves.group.y=-87,_this.groupBack.addChild(_this.moves.group),_this.createBg(),_this.createBtns(),_this.createDoors(),_this.createWalls(5),_this.tube=new Client.Lvl9Room2Tube(game),_this.tube.group.x=-257,_this.tube.group.y=-148,_this.groupFront.addChild(_this.tube.group),_this.createFront(),_this.hide(),_this.x=1430,_this.y=265,_this}return __extends(Lvl9Room2,_super),Lvl9Room2.prototype.createBtns=function(){this.btn1=this.groupBack.create(-120,-86,"level9","room2BtnSquare instance 10000"),this.btn1.anchor.setTo(.5),this.btn1.events.onInputDown.add(this.btnDown,this),this.btn1.events.onInputOut.add(this.btnOut,this),this.btn1.events.onInputOver.add(this.btnOver,this),this.btn1.angle=90;var blue=this.game.make.sprite(-3,-3,"level9","room2BtnSquareBlue instance 10000");blue.visible=!1,this.btn1.addChild(blue),this.btn2=this.groupBack.create(120,-86,"level9","room2BtnSquare instance 10000"),this.btn2.anchor.setTo(.5),this.btn2.events.onInputDown.add(this.btnDown,this),this.btn2.events.onInputOut.add(this.btnOut,this),this.btn2.events.onInputOver.add(this.btnOver,this),(blue=this.game.make.sprite(-3,-3,"level9","room2BtnSquareBlue instance 10000")).visible=!1,this.btn2.addChild(blue),this.btn3=this.groupBack.create(-120,94,"level9","room2BtnSquare instance 10000"),this.btn3.anchor.setTo(.5),this.btn3.events.onInputDown.add(this.btnDown,this),this.btn3.events.onInputOut.add(this.btnOut,this),this.btn3.events.onInputOver.add(this.btnOver,this),this.btn3.angle=90,(blue=this.game.make.sprite(-3,-3,"level9","room2BtnSquareBlue instance 10000")).visible=!1,this.btn3.addChild(blue),this.btn4=this.groupBack.create(120,94,"level9","room2BtnSquare instance 10000"),this.btn4.anchor.setTo(.5),this.btn4.events.onInputDown.add(this.btnDown,this),this.btn4.events.onInputOut.add(this.btnOut,this),this.btn4.events.onInputOver.add(this.btnOver,this),this.btn4.angle=-90,(blue=this.game.make.sprite(-3,-3,"level9","room2BtnSquareBlue instance 10000")).visible=!1,this.btn4.addChild(blue)},Lvl9Room2.prototype.btnDown=function(sprite){"used"!==sprite.name&&(sprite===this.btn1&&0===this.btn1.angle&&(this.btn1.getChildAt(0).visible=!1),sprite===this.btn2&&90===this.btn2.angle&&(this.btn2.getChildAt(0).visible=!1),sprite===this.btn3&&-90===this.btn3.angle&&(this.btn3.getChildAt(0).visible=!1),sprite===this.btn4&&180===Math.abs(this.btn4.angle)&&(this.btn4.getChildAt(0).visible=!1),Client.SoundManager.playSFX("s_lvl8_squareRotate"),sprite.name="used",this.game.add.tween(sprite).to({angle:sprite.angle+90},500,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.completeRotation,this,0,sprite),--this.lives,0===this.lives&&this.tube.playAnim("appear"),this.moves.minus())},Lvl9Room2.prototype.completeRotation=function(sprite){sprite.name="";sprite=0;0===this.btn1.angle&&(this.btn1.getChildAt(0).visible=!0,sprite+=1),90===this.btn2.angle&&(this.btn2.getChildAt(0).visible=!0,sprite+=1),-90===this.btn3.angle&&(this.btn3.getChildAt(0).visible=!0,sprite+=1),180===Math.abs(this.btn4.angle)&&(this.btn4.getChildAt(0).visible=!0,sprite+=1),4===sprite&&this.activateDoors()},Lvl9Room2.prototype.btnOut=function(sprite){!0===sprite.inputEnabled&&(sprite.frameName="room2BtnSquare instance 10001")},Lvl9Room2.prototype.btnOver=function(sprite){!0===sprite.inputEnabled&&(sprite.frameName="room2BtnSquare instance 10002")},Lvl9Room2.prototype.activateDoors=function(){0<this.lives&&(this.doors[1].activate(),this.doors[2].activate(),this.moves.playAnim("close"),Client.SoundManager.playSFX("s_lvl8_cube2Complite"),Client.SoundManager.playSFX("s_lvl8_closeStep")),this.btn1.inputEnabled=!1,this.btn1.frameName="room2BtnSquare instance 10000",this.btn2.inputEnabled=!1,this.btn2.frameName="room2BtnSquare instance 10000",this.btn3.inputEnabled=!1,this.btn3.frameName="room2BtnSquare instance 10000",this.btn4.inputEnabled=!1,this.btn4.frameName="room2BtnSquare instance 10000"},Lvl9Room2.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.btn1.inputEnabled=!0,this.btn1.input.useHandCursor=!0,this.btnOut(this.btn1),this.btn2.inputEnabled=!0,this.btn2.input.useHandCursor=!0,this.btnOut(this.btn2),this.btn3.inputEnabled=!0,this.btn3.input.useHandCursor=!0,this.btnOut(this.btn3),this.btn4.inputEnabled=!0,this.btn4.input.useHandCursor=!0,this.btnOut(this.btn4),this.moves.playAnim("open"),Client.SoundManager.playSFX("s_lvl8_openStep")},Lvl9Room2.prototype.update=function(){_super.prototype.update.call(this),this.tube.update(),this.moves.update()},Lvl9Room2.prototype.free=function(){_super.prototype.free.call(this),this.btn1=null,this.btn2=null,this.btn3=null,this.btn4=null,this.tube.free(),this.tube=null,this.moves.free(),this.moves=null},Lvl9Room2})(Client.Lvl9BasicRoom);Client.Lvl9Room2=Lvl9Room2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room2Moves=(_super=>{function Lvl9Room2Moves(game){var _this=_super.call(this,game)||this;return _this.count=0,_this.group=game.make.group(),_this.bg=new Client.SASprite(game,0,0,"level9","doorBg instance 10000"),_this.group.addChild(_this.bg),_this.progress=new Client.SASprite(game,0,0,"level9","doorProgress instance 10000"),_this.progress.pivot.set(26,29),_this.group.addChild(_this.progress),_this.top=new Client.SASprite(game,0,0,"level9","doorTop instance 10000"),_this.top.pivot.set(43,42),_this.group.addChild(_this.top),_this.bot=new Client.SASprite(game,0,0,"level9","doorBot instance 10000"),_this.bot.pivot.set(39,39),_this.group.addChild(_this.bot),_this.setParts("open"),_this}return __extends(Lvl9Room2Moves,_super),Lvl9Room2Moves.prototype.minus=function(){10!==this.count&&(this.count+=1,this.progress.frameName="doorProgress instance "+(1e4+this.count))},Lvl9Room2Moves.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"open"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bot,50,{y:48}),Client.GameManager.instance.level.setSimpleTween(this.top,50,{y:-75}),this.setPart(this.progress,{x:17,y:-22,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bg,{x:-33,y:-66,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):51===this.counterAnim&&this.animComplete():"close"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bot,15,{y:26}),Client.GameManager.instance.level.setSimpleTween(this.top,15,{y:-29}),this.setPart(this.progress,{x:17,y:-22,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bg,{x:-33,y:-66,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):16===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bot,5,{y:29}),Client.GameManager.instance.level.setSimpleTween(this.top,5,{y:-35})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.bot,14,{y:26}),Client.GameManager.instance.level.setSimpleTween(this.top,14,{y:-29})):35===this.counterAnim&&this.animComplete()))},Lvl9Room2Moves.prototype.setParts=function(value){"open"===value?(this.setPart(this.bot,{x:6,y:26,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.top,{x:10,y:-29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.progress,{x:17,y:-22,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bg,{x:-33,y:-66,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"close"===value&&(this.setPart(this.bot,{x:6,y:48,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.top,{x:10,y:-75,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.progress,{x:17,y:-22,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.bg,{x:-33,y:-66,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room2Moves.prototype.free=function(){this.group=null,this.bg=null,this.progress=null,this.top=null,this.bot=null},Lvl9Room2Moves})(Client.BasicSimpleAnim);Client.Lvl9Room2Moves=Lvl9Room2Moves})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room2Tube=(_super=>{function Lvl9Room2Tube(game){var _this=_super.call(this,game)||this;return _this.activeAsid=!1,_this.counterAsid=0,_this.startDefeat=!1,_this.counterDefeat=0,_this.game=game,_this.asids=new Array,_this.group=game.make.group(),_this.tube1=new Client.SASprite(game,0,0,"level9","Tube_1 instance 10000"),_this.group.addChild(_this.tube1),_this.tube2=new Client.SASprite(game,0,0,"level9","Tube_2 instance 10000"),_this.group.addChild(_this.tube2),_this.tube3=new Client.SASprite(game,0,0,"level9","Tube_3 instance 10000"),_this.group.addChild(_this.tube3),_this.tube4=new Client.SASprite(game,0,0,"level9","Tube_4 instance 10000"),_this.group.addChild(_this.tube4),_this.setParts("appear"),_this}return __extends(Lvl9Room2Tube,_super),Lvl9Room2Tube.prototype.update=function(){_super.prototype.update.call(this),this.updateAsidParticle(),!0===this.startDefeat&&(this.counterDefeat+=1,70===this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed())},Lvl9Room2Tube.prototype.updateAsidParticle=function(){var angle;!1!==this.activeAsid&&(this.counterAsid+=1,this.counterAsid%2==0&&(angle=20*Math.random()-10,this.setAsid(30,20+2*angle,30+angle,1.2+.8*Math.random())),50===this.counterAsid)&&(this.startDefeat=!0,Client.GameManager.instance.hero.addAsid())},Lvl9Room2Tube.prototype.setAsid=function(x,y,angle,scale){for(var i=0;i<this.asids.length;i++)if(!1===this.asids[i].visible)return this.asids[i].x=x,this.asids[i].y=y,this.asids[i].angle=angle,this.asids[i].scale.setTo(scale),this.asids[i].animations.play("anim"),void(this.asids[i].visible=!0);var part=this.game.make.sprite(x,y,"level9");part.animations.add("anim",Phaser.Animation.generateFrameNames("asidAnim instance 1",0,24,"",4),30,!1).onComplete.add(this.asidPartComp,this),part.animations.play("anim"),part.angle=angle,part.scale.setTo(scale),this.group.addChildAt(part,0),this.asids.push(part)},Lvl9Room2Tube.prototype.asidPartComp=function(sprite,data){sprite.visible=!1},Lvl9Room2Tube.prototype.onAnimComplete=function(){"appear"===this.currAnim?(this.activeAsid=!0,Client.SoundManager.playSFX("s_8_acid",!0),this.playAnim("cycle",3)):"cycle"===this.currAnim&&0===this.loopAnim&&(this.activeAsid=!1,Client.SoundManager.stopSFXLoop("s_8_acid"),this.playAnim("hide"))},Lvl9Room2Tube.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"appear"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tube4,19,{x:32,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.tube3,19,{x:20,y:1,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.tube2,19,{x:11,y:1,skX:0,skY:0,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.tube1,19,{x:0,y:2,scX:1})):20===this.counterAnim&&this.animComplete():"cycle"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tube4,4,{x:40,y:1,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.tube3,4,{x:24,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.tube2,4,{x:14,skX:2,skY:2})):5===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tube4,9,{x:32,y:0,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tube3,9,{x:20,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tube2,9,{x:11,skX:0,skY:0})):14===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tube4,7,{x:40,y:1,skX:8,skY:8}),Client.GameManager.instance.level.setSimpleTween(this.tube3,7,{x:24,skX:4,skY:4}),Client.GameManager.instance.level.setSimpleTween(this.tube2,7,{x:14,skX:2,skY:2})):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.tube4,13,{x:32,y:0,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tube3,13,{x:20,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.tube2,13,{x:11,skX:0,skY:0})):34===this.counterAnim&&this.animComplete():"hide"===this.currAnim&&(1===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tube4,11,{x:25,skX:-3,scX:1.12}):5===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tube1,20,{x:-4,y:4,scX:.67}):7===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tube2,18,{x:-5,y:3,skX:-4,skY:-4,scX:.53}):9===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tube3,16,{x:-12,y:3,skX:-8,skY:-12,scX:.75}):12===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.tube4,13,{x:-17,skX:-11,skY:-11,scX:.85}):25===this.counterAnim&&this.animComplete()))},Lvl9Room2Tube.prototype.setParts=function(value){"appear"===value?(this.setPart(this.tube4,{x:-12,y:0,angle:0,scX:.76,scY:1,skX:-10,skY:-11,alpha:1}),this.setPart(this.tube3,{x:-12,y:3,angle:0,scX:.75,scY:1,skX:-8,skY:-12,alpha:1}),this.setPart(this.tube2,{x:-5,y:3,angle:0,scX:.53,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.tube1,{x:-4,y:4,angle:0,scX:.67,scY:1,skX:0,skY:0,alpha:1})):"cycle"!==value&&"hide"!==value||(this.setPart(this.tube4,{x:32,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tube3,{x:20,y:1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tube2,{x:11,y:1,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.tube1,{x:0,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room2Tube.prototype.free=function(){this.game=null,this.group=null,this.tube1=null,this.tube2=null,this.tube3=null,this.tube4=null,this.asids=[],this.asids=null},Lvl9Room2Tube})(Client.BasicSimpleAnim);Client.Lvl9Room2Tube=Lvl9Room2Tube})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room3=(_super=>{function Lvl9Room3(game){game=_super.call(this,game,3)||this;return game.active=!1,game.counter=0,game.step=0,game.startDefeat=!1,game.counterDefeat=0,game.createBg(),game.wallBot=game.groupFront.create(0,166,"level9","wallBot instance 10000"),game.wallBot.anchor.x=.5,game.wallTop=game.groupFront.create(0,-166,"level9","wallTop instance 10000"),game.wallTop.anchor.setTo(.5,1),game.createDoors(),game.createWalls(5),game.createFront(),game.hide(),game.addMask(game.groupFront),game.x=1970,game.y=265,game}return __extends(Lvl9Room3,_super),Lvl9Room3.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.active=!0},Lvl9Room3.prototype.update=function(){_super.prototype.update.call(this),!0===this.active&&(this.counter+=1,10===this.counter&&Client.SoundManager.playSFX("s_lvl8_cube3FloorMove"),this.wallBot.y-=1.5,this.wallTop.y+=1.5,-120<=this.wallTop.y&&0===this.step?(this.step=1,Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid):1<=this.wallTop.y&&(this.active=!1,this.startDefeat=!0)),!0===this.startDefeat&&(this.counterDefeat+=1,40===this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed())},Lvl9Room3.prototype.free=function(){_super.prototype.free.call(this),this.wallBot=null,this.wallTop=null},Lvl9Room3})(Client.Lvl9BasicRoom);Client.Lvl9Room3=Lvl9Room3})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room4=(_super=>{function Lvl9Room4(game){game=_super.call(this,game,4)||this;return game.activeArrows=!1,game.arrowStep=0,game.createBg(),game.createDoors(),game.createWalls(game.id),game.createArrows(),game.createFront(),game.hide(),game.x=890,game.y=630,game}return __extends(Lvl9Room4,_super),Lvl9Room4.prototype.createArrows=function(){this.arrows=new Array,this.addArrow(-213,-144,115),this.addArrow(-224,-121,115),this.addArrow(-236,-98,115),this.addArrow(213,-144,-115),this.addArrow(224,-121,-115),this.addArrow(236,-98,-115),this.addArrow(-213,144,63),this.addArrow(-224,121,63),this.addArrow(-236,98,63),this.addArrow(213,144,-63),this.addArrow(224,121,-63),this.addArrow(236,98,-63,!0)},Lvl9Room4.prototype.addArrow=function(x,y,angle,onComp){void 0===onComp&&(onComp=!1);x=this.groupFront.create(x,y,"level9","room4ArrowBlow instance 10000");!1===onComp?x.animations.add("anim",Phaser.Animation.generateFrameNames("room4ArrowBlow instance 1",0,42,"",4),30,!1):x.animations.add("anim",Phaser.Animation.generateFrameNames("room4ArrowBlow instance 1",0,42,"",4),30,!1).onComplete.addOnce(this.oneArrowComplete,this),x.angle=angle,x.anchor.setTo(.5,.97),this.arrows.push(x)},Lvl9Room4.prototype.oneArrowComplete=function(){Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars;var sprite=this.game.make.sprite(0,0,"level9","arrowsHited instance 10000");sprite.anchor.setTo(.5),Client.GameManager.instance.hero.baseGroup.addChild(sprite)},Lvl9Room4.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.activeArrows=!0;for(var i=0;i<this.arrows.length;i++)this.arrows[i].animations.play("anim")},Lvl9Room4.prototype.update=function(){_super.prototype.update.call(this),!0===this.activeArrows&&(this.arrowStep+=1,20===this.arrowStep?Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid:35!==this.arrowStep&&45!==this.arrowStep&&120===this.arrowStep&&(Client.LevelBuilder.instance.levelFailed(),this.activeArrows=!1))},Lvl9Room4.prototype.free=function(){_super.prototype.free.call(this),this.arrows=[],this.arrows=null},Lvl9Room4})(Client.Lvl9BasicRoom);Client.Lvl9Room4=Lvl9Room4})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room5=(_super=>{function Lvl9Room5(game){game=_super.call(this,game,5)||this;return game.startDefeat=!1,game.counterDefeat=0,game.updateWater=!1,game.afraid=0,game.startSpawningBubbles=!1,game.spawningBubblesCounter=0,game.createBg(),game.createMachines(),game.createElements(),game.createDoors(),game.createWalls(game.id),game.createFront(),game.hide(),game.addMask(game.groupFront),game.x=1430,game.y=630,game}return __extends(Lvl9Room5,_super),Lvl9Room5.prototype.createMachines=function(){this.machine1=new Client.Lvl9Room5Machine(this.game,1),this.machine1.group.x=-140,this.machine1.group.y=100,this.machine1.onComplete.add(this.machineComplete,this),this.groupFront.addChild(this.machine1.group),this.machine2=new Client.Lvl9Room5Machine(this.game,3),this.machine2.group.x=0,this.machine2.group.y=100,this.machine2.onComplete.add(this.machineComplete,this),this.groupFront.addChild(this.machine2.group),this.machine3=new Client.Lvl9Room5Machine(this.game,2),this.machine3.group.x=140,this.machine3.group.y=100,this.machine3.onComplete.add(this.machineComplete,this),this.groupFront.addChild(this.machine3.group)},Lvl9Room5.prototype.createElements=function(){this.saws=new Array,this.addSaw(-237,-22,-15,1,1),this.addSaw(-204,20,-15),this.addSaw(-168,60,-15),this.addSaw(237,-22,15,-1),this.addSaw(204,20,15,-1),this.addSaw(168,60,15,-1),this.bodyBrorder=new Phaser.Physics.Box2D.Body(this.game,null,1430,630,0),this.bodyBrorder.setRectangle(550,24,0,-163),this.bodyBrorder.addRectangle(550,24,0,172),this.bodyBrorder.addRectangle(24,338,-258,0),this.bodyBrorder.addRectangle(24,338,258,0),this.bodyBrorder.sensor=!0,this.questCarPlatform=this.groupFront.create(290,-95,"level9","questCarPlatform instance 10000"),this.questCarPlatform.anchor.setTo(.5),(this.questCarPlatform.visible=!1)===Client.GameManager.instance.level.questCarFounded&&(Client.GameManager.instance.level.addQuestCar(-4,-26,this.questCarPlatform),Client.GameManager.instance.level.questCar.scale.x=-1,Client.GameManager.instance.level.questCar.inputEnabled=!1)},Lvl9Room5.prototype.addSaw=function(x,y,angle,scaleX,onComp){void 0===scaleX&&(scaleX=1),void 0===onComp&&(onComp=0);x=this.groupBack.create(x,y,"level9");0===onComp?x.animations.add("anim",Phaser.Animation.generateFrameNames("saw1fatality instance 1",0,49,"",4),30,!1):1===onComp&&(x.animations.add("anim",Phaser.Animation.generateFrameNames("saw1fatality instance 1",0,9,"",4),30,!1).onComplete.addOnce(this.sawComp,this),x.animations.add("anim2",Phaser.Animation.generateFrameNames("saw1fatality instance 1",10,49,"",4),30,!1)),x.scale.x=scaleX,x.angle=angle,x.visible=!1,this.saws.push(x)},Lvl9Room5.prototype.sawComp=function(sprite,data){sprite.animations.play("anim2"),this.saws[3].visible=!0,this.saws[3].animations.play("anim"),this.saws[4].visible=!0,this.saws[4].animations.play("anim"),this.saws[5].visible=!0,this.saws[5].animations.play("anim"),Client.GameManager.instance.hero.setVisibility(!1),Client.SoundManager.playSFX("s_lvl8_wheelyCrushed"),this.brokenHero=new Client.BrokeHero(this.game,Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y),this.startDefeat=!0,this.totalDefeat=90},Lvl9Room5.prototype.activateDoors=function(){this.doors[1].activate(),this.doors[2].activate(),this.doors[3].activate(),this.bodyBrorder.sensor=!0,Client.SoundManager.playSFX("s_lvl8_cube5Complite")},Lvl9Room5.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),!0===closeDoor?(this.machine1.playAnim("show"),this.machine1.counterAnim=50,this.machine2.playAnim("show"),this.machine2.counterAnim=50,this.machine3.playAnim("show"),this.machine3.counterAnim=50):(this.machine1.setParts("hide"),this.machine2.setParts("hide"),this.machine3.setParts("hide")),this.bodyBrorder.sensor=!1},Lvl9Room5.prototype.machineComplete=function(){0===this.machine1.currStep&&0===this.machine2.currStep&&0===this.machine3.currStep?(!(this.questCarPlatform.visible=!0)===Client.GameManager.instance.level.questCarFounded&&(Client.GameManager.instance.level.questCar.inputEnabled=!0,Client.GameManager.instance.level.questCar.input.useHandCursor=!0),Client.GameManager.instance.level.setSimpleTween(this.questCarPlatform,18,{x:214}),Client.SoundManager.playSFX("s_lvl8_secretShelf")):1===this.machine1.currStep&&1===this.machine2.currStep&&1===this.machine3.currStep?(this.startSaw(),this.machine1.disable(),this.machine2.disable(),this.machine3.disable()):2===this.machine1.currStep&&2===this.machine2.currStep&&2===this.machine3.currStep?(this.startDrop(),this.machine1.disable(),this.machine2.disable(),this.machine3.disable()):3===this.machine1.currStep&&3===this.machine2.currStep&&3===this.machine3.currStep&&(this.machine1.disable(),this.machine2.disable(),this.machine3.disable(),this.activateDoors())},Lvl9Room5.prototype.startSaw=function(){this.saws[0].visible=!0,this.saws[0].animations.play("anim"),this.saws[1].visible=!0,this.saws[1].animations.play("anim"),this.saws[2].visible=!0,this.saws[2].animations.play("anim"),Client.SoundManager.playSFX("s_lvl8_saws")},Lvl9Room5.prototype.startDrop=function(){this.updateWater=!0,Client.SoundManager.playSFX("s_lvl8_water",!0),Client.GameManager.instance.level.customAction(5),Client.GameManager.instance.hero.bodyBase.data.SetUserData("canWater"),Client.GameManager.instance.hero.bodyBase.mass=2,this.bubbles=new Array,this.water=this.game.make.sprite(0,340,"level9","room5Water instance 10000"),this.water.anchor.setTo(.5),this.water.inputEnabled=!0,this.groupFront.addChildAt(this.water,this.groupFront.getChildIndex(this.doors[0].group)),this.waterBody=new Phaser.Physics.Box2D.Body(this.game,null,1430,970,1);var fixtureDef=this.waterBody.setRectangle(512,322);fixtureDef.SetDensity(2),fixtureDef.SetFriction(.3),fixtureDef.SetRestitution(0),this.waterBody.sensor=!(fixtureDef=null),this.waterBody.setCategoryContactCallback(1,this.onContactWithWater,this),this.waterBody.velocity.y=-50,this.m_controller=new box2d.b2BuoyancyController,this.m_controller.normal.SetXY(0,1),this.m_controller.offset=0,this.m_controller.useDensity=!0,this.m_controller.density=2,this.m_controller.linearDrag=3,this.m_controller.angularDrag=2,this.game.physics.box2d.world.AddController(this.m_controller)},Lvl9Room5.prototype.onContactWithWater=function(body1,body2,fixture1,fixture2,begin){body1===body2||!0===body2.sensor||!1===body2.dynamic||"canWater"!==body2.data.GetUserData()&&"DragBody"!==body2.data.GetUserData()||(!0===begin?null===body2.data.GetControllerList()&&(body2.data.SetAwake(!0),this.m_controller.AddBody(body2.data)):null!==body2.data.GetControllerList()&&this.m_controller.RemoveBody(body2.data))},Lvl9Room5.prototype.update=function(){_super.prototype.update.call(this),this.machine1.update(),this.machine2.update(),this.machine3.update(),!0===this.updateWater&&(this.water.y=this.waterBody.y-640,this.m_controller.offset=-(this.waterBody.y-161)/50,this.waterBody.y<=650&&(this.updateWater=!1,Client.SoundManager.stopSFXLoop("s_lvl8_water"),this.waterBody.velocity.y=0),Client.GameManager.instance.hero.bodyBase.y-10>this.waterBody.y-161&&(this.startSpawningBubbles=!0,Client.SoundManager.playSFX("sfx_bubles",!0),this.startDefeat=!0,this.totalDefeat=180),0===this.afraid&&Client.GameManager.instance.hero.bodyBase.y+70>this.waterBody.y-161?(this.afraid=1,Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid):1===this.afraid&&Client.GameManager.instance.hero.bodyBase.y+20>this.waterBody.y-161&&(this.afraid=2,Client.GameManager.instance.hero.currEyesState=Client.EyesState.bumpForEver)),!0===this.startDefeat&&(this.counterDefeat+=1,this.counterDefeat===this.totalDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed()),!0===this.startSpawningBubbles&&(this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter)&&(this.spawningBubblesCounter=0,this.spawnBubble(Client.GameManager.instance.hero.bodyBase.x+Client.Tools.random(-40,40),Client.GameManager.instance.hero.bodyBase.y+Client.Tools.random(-30,10),.7+.5*Math.random()))},Lvl9Room5.prototype.spawnBubble=function(x,y,scale){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].visible=!0,this.bubbles[i].x=x,this.bubbles[i].y=y,this.bubbles[i].scale.setTo(scale),void this.bubbles[i].animations.play("anim");var bubble=Client.GameManager.instance.layerUpper.create(x,y,"level9");bubble.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),bubble.animations.play("anim"),bubble.scale.setTo(scale),this.bubbles.push(bubble)},Lvl9Room5.prototype.bubbleComplete=function(bubble,tween){bubble.visible=!1},Lvl9Room5.prototype.free=function(){_super.prototype.free.call(this),this.machine1.free(),this.machine1=null,this.machine2.free(),this.machine2=null,this.machine3.free(),this.machine3=null,this.questCarPlatform=null,this.saws=[],this.saws=null,this.brokenHero&&this.brokenHero.free(),this.brokenHero=null,this.bodyBrorder=null,this.water=null,this.waterBody=null,this.bubbles=[],this.bubbles=null,this.m_controller=null},Lvl9Room5})(Client.Lvl9BasicRoom);Client.Lvl9Room5=Lvl9Room5})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room5Machine=(_super=>{function Lvl9Room5Machine(game,currStep){var _this=_super.call(this,game)||this,currStep=(_this.currStep=1,_this.startWheel=!1,_this.counterWheel=0,_this.currStep=currStep,_this.group=game.make.group(),_this.onComplete=new Phaser.Signal,_this.lpart=new Client.SASprite(game,0,0,"level9","room5Machine1 instance 10000"),_this.lpart.pivot.set(23,43),_this.group.addChild(_this.lpart),_this.rpart=new Client.SASprite(game,0,0,"level9","room5Machine1 instance 10000"),_this.rpart.pivot.set(23,43),_this.group.addChild(_this.rpart),_this.wheel=new Client.SASprite(game,0,0,"level9","room5MachineBg instance 10000"),_this.wheel.anchor.setTo(.5),_this.group.addChild(_this.wheel),_this.wheel.inputEnabled=!0,_this.wheel.hitArea=new Phaser.Rectangle(-19,-35,38,70),_this.wheel.input.useHandCursor=!0,_this.wheel.events.onInputDown.add(_this.wheelDown,_this),game.make.group()),sprite=(_this.wheel.addChild(currStep),_this.choKey=new Client.SASprite(game,0,-58,"level9","cho_key instance 10000"),_this.choKey.animations.add("show",Phaser.Animation.generateFrameNames("cho_key instance 1",0,13,"",4),30,!1),_this.choKey.animations.add("hide",Phaser.Animation.generateFrameNames("cho_key instance 1",0,0,"",4),30,!1),_this.choKey.anchor.setTo(.5),_this.choKey.scale.y=.62,currStep.addChild(_this.choKey),_this.choDrop=new Client.SASprite(game,-.5,-32,"level9","cho_drop instance 10000"),_this.choDrop.animations.add("show",Phaser.Animation.generateFrameNames("cho_drop instance 1",0,13,"",4),30,!1),_this.choDrop.animations.add("hide",Phaser.Animation.generateFrameNames("cho_drop instance 1",0,0,"",4),30,!1),_this.choDrop.anchor.setTo(.5),_this.choDrop.scale.y=.62,currStep.addChild(_this.choDrop),_this.choSaw=new Client.SASprite(game,0,0,"level9","cho_saw instance 10000"),_this.choSaw.animations.add("show",Phaser.Animation.generateFrameNames("cho_saw instance 1",0,13,"",4),30,!1),_this.choSaw.animations.add("hide",Phaser.Animation.generateFrameNames("cho_saw instance 1",0,0,"",4),30,!1),_this.choSaw.anchor.setTo(.5),currStep.addChild(_this.choSaw),_this.choCar=new Client.SASprite(game,0,32,"level9","cho_quest instance 10000"),_this.choCar.animations.add("show",Phaser.Animation.generateFrameNames("cho_quest instance 1",0,13,"",4),30,!1),_this.choCar.animations.add("hide",Phaser.Animation.generateFrameNames("cho_quest instance 1",0,0,"",4),30,!1),_this.choCar.anchor.setTo(.5),_this.choCar.scale.y=.62,currStep.addChild(_this.choCar),game.make.sprite(0,0,"level9","room5MachineFront instance 10000")),sprite=(sprite.anchor.setTo(.5),_this.wheel.addChild(sprite),sprite=null,game.make.graphics(0,0));return sprite.beginFill(65280),sprite.drawRect(-19,-35,38,70),sprite.beginFill(255),sprite.drawEllipse(0,-33,17,5),sprite.drawEllipse(0,33,17,5),sprite.endFill(),currStep.addChild(sprite),currStep.mask=sprite,currStep=null,_this.arrow=new Client.SASprite(game,0,0,"level9","room5MachineArrow instance 10000"),_this.arrow.pivot.set(17,13),_this.arrow.animations.add("anim",Phaser.Animation.generateFrameNames("room5MachineArrow instance 1",0,10,"",4),30,!1),_this.group.addChild(_this.arrow),_this.setParts("show"),_this.setWheel(),_this}return __extends(Lvl9Room5Machine,_super),Lvl9Room5Machine.prototype.setWheel=function(){0===this.currStep?(this.setPart(this.choCar,{y:0,scY:1}),this.setPart(this.choSaw,{y:-32,scY:.62}),this.setPart(this.choDrop,{y:58,scY:.62}),this.setPart(this.choKey,{y:32,scY:.62}),this.choCar.frameName="cho_quest instance 10013"):1===this.currStep?(this.setPart(this.choCar,{y:32,scY:.62}),this.setPart(this.choSaw,{y:0,scY:1}),this.setPart(this.choDrop,{y:-32,scY:.62}),this.setPart(this.choKey,{y:58,scY:.62}),this.choSaw.frameName="cho_saw instance 10013"):2===this.currStep?(this.setPart(this.choCar,{y:58,scY:.62}),this.setPart(this.choSaw,{y:32,scY:.62}),this.setPart(this.choDrop,{y:0,scY:1}),this.setPart(this.choKey,{y:-32,scY:.62}),this.choDrop.frameName="cho_drop instance 10013"):3===this.currStep&&(this.setPart(this.choCar,{y:-32,scY:.62}),this.setPart(this.choSaw,{y:58,scY:.62}),this.setPart(this.choDrop,{y:32,scY:.62}),this.setPart(this.choKey,{y:0,scY:1}),this.choKey.frameName="cho_key instance 10013")},Lvl9Room5Machine.prototype.disable=function(){this.wheel.inputEnabled=!1,this.playAnim("hide")},Lvl9Room5Machine.prototype.wheelDown=function(){!0!==this.startWheel&&(Client.SoundManager.playSFX("s_lvl8_drumRotate"),this.startWheel=!0,this.counterWheel=0,this.arrow.animations.play("anim"),0===this.currStep?(this.choDrop.y=-58,Client.GameManager.instance.level.setSimpleTween(this.choCar,10,{y:32,scY:.62}),Client.GameManager.instance.level.setSimpleTween(this.choSaw,10,{y:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.choDrop,10,{y:-32}),Client.GameManager.instance.level.setSimpleTween(this.choKey,10,{y:58}),this.choCar.animations.play("hide")):1===this.currStep?(this.choKey.y=-58,Client.GameManager.instance.level.setSimpleTween(this.choCar,10,{y:58}),Client.GameManager.instance.level.setSimpleTween(this.choSaw,10,{y:32,scY:.62}),Client.GameManager.instance.level.setSimpleTween(this.choDrop,10,{y:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.choKey,10,{y:-32}),this.choSaw.animations.play("hide")):2===this.currStep?(this.choCar.y=-58,Client.GameManager.instance.level.setSimpleTween(this.choCar,10,{y:-32}),Client.GameManager.instance.level.setSimpleTween(this.choSaw,10,{y:58}),Client.GameManager.instance.level.setSimpleTween(this.choDrop,10,{y:32,scY:.62}),Client.GameManager.instance.level.setSimpleTween(this.choKey,10,{y:0,scY:1}),this.choDrop.animations.play("hide")):3===this.currStep&&(this.choSaw.y=-58,Client.GameManager.instance.level.setSimpleTween(this.choCar,10,{y:0,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.choSaw,10,{y:-32}),Client.GameManager.instance.level.setSimpleTween(this.choDrop,10,{y:58}),Client.GameManager.instance.level.setSimpleTween(this.choKey,10,{y:32,scY:.62}),this.choKey.animations.play("hide")))},Lvl9Room5Machine.prototype.update=function(){_super.prototype.update.call(this),!0===this.startWheel&&(this.counterWheel+=1,10===this.counterWheel)&&(this.startWheel=!1,this.currStep+=1,3<this.currStep&&(this.currStep=0),0===this.currStep?this.choCar.animations.play("show"):1===this.currStep?this.choSaw.animations.play("show"):2===this.currStep?this.choDrop.animations.play("show"):3===this.currStep&&this.choKey.animations.play("show"),this.onComplete.dispatch())},Lvl9Room5Machine.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"show"===this.currAnim?59===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.arrow,10,{y:-17,scX:1.03}),Client.GameManager.instance.level.setSimpleTween(this.wheel,10,{y:0,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.rpart,10,{y:24,scY:1.03}),Client.GameManager.instance.level.setSimpleTween(this.lpart,10,{y:24,scY:1.03})):69===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.arrow,8,{y:-9,scX:1}),Client.GameManager.instance.level.setSimpleTween(this.wheel,8,{y:2,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.rpart,8,{y:25,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.lpart,8,{y:25,scY:1})):77===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.arrow,5,{x:32,y:-4,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.rpart,5,{x:37}),Client.GameManager.instance.level.setSimpleTween(this.lpart,5,{x:-35})):82===this.counterAnim&&this.animComplete():"hide"===this.currAnim&&(12===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.arrow,10,{x:25,y:-9,skX:90,skY:90}),Client.GameManager.instance.level.setSimpleTween(this.rpart,10,{x:20}),Client.GameManager.instance.level.setSimpleTween(this.lpart,10,{x:-17})):22===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.arrow,10,{y:98}),Client.GameManager.instance.level.setSimpleTween(this.wheel,10,{y:109}),Client.GameManager.instance.level.setSimpleTween(this.rpart,10,{y:132}),Client.GameManager.instance.level.setSimpleTween(this.lpart,10,{y:132})):32===this.counterAnim&&(this.animComplete(),this.group.visible=!1)))},Lvl9Room5Machine.prototype.setParts=function(value){"show"===value?(this.setPart(this.arrow,{x:25,y:100,angle:0,scX:.93,scY:1,skX:90,skY:90,alpha:1}),this.setPart(this.wheel,{x:1,y:120,angle:0,scX:1,scY:.93,skX:0,skY:0,alpha:1}),this.setPart(this.rpart,{x:20,y:132,angle:0,scX:1,scY:.93,skX:0,skY:180,alpha:1}),this.setPart(this.lpart,{x:-17,y:132,angle:0,scX:1,scY:.93,skX:0,skY:0,alpha:1})):"hide"===value&&(this.setPart(this.arrow,{x:32,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.wheel,{x:1,y:2,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.rpart,{x:37,y:25,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.lpart,{x:-35,y:25,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room5Machine.prototype.free=function(){this.group=null,this.lpart=null,this.rpart=null,this.wheel=null,this.arrow=null,this.choCar=null,this.choDrop=null,this.choKey=null,this.choSaw=null,this.onComplete=null},Lvl9Room5Machine})(Client.BasicSimpleAnim);Client.Lvl9Room5Machine=Lvl9Room5Machine})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6=(_super=>{function Lvl9Room6(game){game=_super.call(this,game,6)||this;return game.activeSpray=!1,game.counterSpray=0,game.createBg(),game.createElements(),game.createDoors(),game.createWalls(game.id),game.createFront(),game.hide(),game.addMask(game.groupFront),game.x=1970,game.y=630,game}return __extends(Lvl9Room6,_super),Lvl9Room6.prototype.createElements=function(){this.spray=new Client.Lvl9Room6Spray(this.game),this.spray.group.x=198,this.spray.group.y=-112,this.groupFront.addChild(this.spray.group),this.hammer=new Client.Lvl9Room6Hammer(this.game),this.hammer.group.x=-114,this.hammer.group.y=-150,this.groupFront.addChild(this.hammer.group)},Lvl9Room6.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.spray.playAnim("anim"),Client.SoundManager.playSFX("s_lvl8_frostMashine"),this.activeSpray=!0},Lvl9Room6.prototype.update=function(){_super.prototype.update.call(this),this.spray.update(),this.hammer.update(),this.freezeWheely&&this.freezeWheely.update(),!0===this.activeSpray&&(this.counterSpray+=1,80===this.counterSpray?this.freezeWheely=new Client.Lvl9Room6FrostWheely(this.game):130===this.counterSpray?(this.hammer.playAnim("anim"),Client.SoundManager.playSFX("s_lvl8_frostHammer")):217===this.counterSpray?(this.freezeWheely.playBroke(),Client.SoundManager.playSFX("s_lvl8_hammerHit")):300===this.counterSpray&&(this.activeSpray=!1,Client.LevelBuilder.instance.levelFailed()))},Lvl9Room6.prototype.free=function(){_super.prototype.free.call(this),this.spray.free(),this.spray=null,this.hammer.free(),this.hammer=null,this.freezeWheely&&this.freezeWheely.free(),this.freezeWheely=null},Lvl9Room6})(Client.Lvl9BasicRoom);Client.Lvl9Room6=Lvl9Room6})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6BrokeFreeze=(_super=>{function Lvl9Room6BrokeFreeze(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.part11=new Client.SASprite(game,0,0,"level9","brokePart11 instance 10000"),_this.part11.pivot.set(0,1),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level9","brokePart10 instance 10000"),_this.part10.pivot.set(1,1),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level9","brokePart9 instance 10000"),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level9","brokePart8 instance 10000"),_this.part8.pivot.set(1,1),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level9","brokePart7 instance 10000"),_this.part7.pivot.set(1,1),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level9","brokePart6 instance 10000"),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level9","brokePart5 instance 10000"),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level9","brokePart4 instance 10000"),_this.part4.pivot.set(0,1),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level9","brokePart3 instance 10000"),_this.part3.pivot.set(1,0),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level9","brokePart2 instance 10000"),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level9","brokePart1 instance 10000"),_this.part1.pivot.set(1,1),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl9Room6BrokeFreeze,_super),Lvl9Room6BrokeFreeze.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,5,{x:27,y:22,skX:44,skY:44},!0),Client.GameManager.instance.level.setSimpleTween(this.part2,17,{x:87,y:86,skX:180,skY:180},!0),this.setPart(this.part3,{x:34,y:3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part4,{x:95,y:29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,12,{x:60,y:81,skX:-75,skY:-75},!0),this.setPart(this.part6,{x:52,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part7,{x:17,y:35,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part8,11,{x:55,y:94,skX:-135,skY:-135},!0),this.setPart(this.part9,{x:15,y:50,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part10,{x:0,y:31,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part11,13,{x:59,y:53},!0)):6===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:48,y:56,skX:105,skY:105},!0),Client.GameManager.instance.level.setSimpleTween(this.part3,13,{x:33,y:49},!0),Client.GameManager.instance.level.setSimpleTween(this.part7,11,{x:41,y:53,skX:41,skY:41},!0),Client.GameManager.instance.level.setSimpleTween(this.part9,11,{x:49,y:51,skX:90,skY:90},!0)):9===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part4,13,{x:104,y:38,skX:22,skY:22},!0),Client.GameManager.instance.level.setSimpleTween(this.part6,15,{x:84,y:35,skX:53,skY:53},!0),Client.GameManager.instance.level.setSimpleTween(this.part10,12,{x:42,y:57,skX:75,skY:75},!0)):12===this.counterAnim?this.setPart(this.part8,{x:55,y:94,angle:0,scX:1,scY:1,skX:-135,skY:-135,alpha:1},!0):13===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,8,{x:49,y:95,skX:-150,skY:-150},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,4,{x:57,y:66,skX:-51,skY:-51},!0)):14===this.counterAnim?this.setPart(this.part11,{x:59,y:53,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0):17===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part5,7,{x:60,y:81,skX:-75,skY:-75},!0),Client.GameManager.instance.level.setSimpleTween(this.part7,9,{x:31,skX:11,skY:11},!0),this.setPart(this.part9,{x:49,y:51,angle:0,scX:1,scY:1,skX:90,skY:90,alpha:1},!0)):18===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2,6,{x:91,y:69,skX:135,skY:135},!0):19===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:87,y:50,skX:90,skY:90},!0):21===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,7,{x:56,skX:-120,skY:-120},!0),Client.GameManager.instance.level.setSimpleTween(this.part10,6,{x:37,y:49,skX:60,skY:60},!0)):22===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,8,{x:67,y:78,skX:-57,skY:-57},!0):24===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,8,{x:64,skX:15,skY:15},!0),this.setPart(this.part5,{x:60,y:81,angle:0,scX:1,scY:1,skX:-75,skY:-75,alpha:1},!0),this.setPart(this.part6,{x:84,y:35,angle:0,scX:1,scY:1,skX:53,skY:53,alpha:1},!0)):26===this.counterAnim?(this.setPart(this.part3,{x:87,y:50,angle:0,scX:1,scY:1,skX:90,skY:90,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part7,5,{x:37,y:49,skX:26,skY:26},!0)):27===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part10,7,{x:42,y:57,skX:75,skY:75},!0):28===this.counterAnim?this.setPart(this.part1,{x:56,y:95,angle:0,scX:1,scY:1,skX:-120,skY:-120,alpha:1},!0):30===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part4,4,{y:68,skX:-42,skY:-42},!0):31===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part7,7,{y:53},!0):32===this.counterAnim?this.setPart(this.part2,{x:64,y:69,angle:0,scX:1,scY:1,skX:15,skY:15,alpha:1},!0):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part4,4,{y:78,skX:-57,skY:-57},!0),this.setPart(this.part10,{x:42,y:57,angle:0,scX:1,scY:1,skX:75,skY:75,alpha:1},!0)):38===this.counterAnim&&this.animComplete())},Lvl9Room6BrokeFreeze.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:12,y:12,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part2,{x:64,y:3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part3,{x:34,y:3,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part4,{x:95,y:29,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part5,{x:76,y:40,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part6,{x:52,y:20,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part7,{x:17,y:35,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part8,{x:33,y:47,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part9,{x:15,y:50,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part10,{x:0,y:31,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part11,{x:76,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0))},Lvl9Room6BrokeFreeze.prototype.free=function(){this.group=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null},Lvl9Room6BrokeFreeze})(Client.BasicSimpleAnim);Client.Lvl9Room6BrokeFreeze=Lvl9Room6BrokeFreeze})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6FrostWheely=(_super=>{function Lvl9Room6FrostWheely(game){var _this=_super.call(this,game)||this,x=Client.GameManager.instance.hero.bodyBase.x,y=Client.GameManager.instance.hero.bodyBase.y;return Client.GameManager.instance.hero.setVisibility(!1),_this.startFreeze=Client.GameManager.instance.layerElements.create(x-65,y-46,"level9"),_this.startFreeze.animations.add("anim",Phaser.Animation.generateFrameNames("FrozenWheely instance 1",0,39,"",4),40,!1),_this.startFreeze.animations.play("anim"),_this.brokeFreeze=new Client.Lvl9Room6BrokeFreeze(game),_this.brokeFreeze.group.x=x-63,_this.brokeFreeze.group.y=y-38,Client.GameManager.instance.layerElements.addChild(_this.brokeFreeze.group),_this.brokeFreeze.group.visible=!1,_this.freezeBuble=new Client.Lvl9Room6WheelyFreeze(game),_this.freezeBuble.group.x=x,_this.freezeBuble.group.y=y,Client.GameManager.instance.layerElements.addChild(_this.freezeBuble.group),_this.freezeBuble.playAnim("anim"),_this}return __extends(Lvl9Room6FrostWheely,_super),Lvl9Room6FrostWheely.prototype.playBroke=function(){this.startFreeze.destroy(),this.brokeFreeze.group.visible=!0,this.brokeFreeze.playAnim("anim")},Lvl9Room6FrostWheely.prototype.update=function(){_super.prototype.update.call(this),this.freezeBuble.update(),this.brokeFreeze.update()},Lvl9Room6FrostWheely.prototype.free=function(){this.startFreeze=null,this.freezeBuble.free(),this.freezeBuble=null,this.brokeFreeze.free(),this.brokeFreeze=null},Lvl9Room6FrostWheely})(Client.BasicSimpleAnim);Client.Lvl9Room6FrostWheely=Lvl9Room6FrostWheely})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6Hammer=(_super=>{function Lvl9Room6Hammer(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.part4=new Client.SASprite(game,0,0,"level9","room6HammerPart4 instance 10000"),_this.part4.pivot.set(15,46),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level9","room6HammerPart3 instance 10000"),_this.part3.pivot.set(19,22),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level9","room6HammerPart2 instance 10000"),_this.part2.pivot.set(34,11),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level9","room6HammerPart1 instance 10000"),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl9Room6Hammer,_super),Lvl9Room6Hammer.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(this.setPart(this.part1,{x:-33,y:-11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,18,{y:45}),Client.GameManager.instance.level.setSimpleTween(this.part3,18,{y:-4}),Client.GameManager.instance.level.setSimpleTween(this.part4,18,{y:40})):19===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:-22,y:40,skX:-36,skY:-36}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:3,y:5,skX:-96,skY:-96}),Client.GameManager.instance.level.setSimpleTween(this.part4,7,{x:-26,y:29,skX:41,skY:41})):26===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,3,{y:43,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.part3,3,{x:4,y:13,skX:-108,skY:-108}),Client.GameManager.instance.level.setSimpleTween(this.part4,3,{x:-27,y:28,skX:43,skY:43})):29===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,2,{x:-20,y:48,skX:-17,skY:-17,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.part3,2,{x:7,y:24,skX:-112,skY:-112})):31===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,12,{x:-1,y:69,skX:1,skY:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,12,{x:27,y:56,skX:-117,skY:-117}),Client.GameManager.instance.level.setSimpleTween(this.part4,12,{x:-16,y:36,skX:24,skY:24,scX:.99,scY:.99})):43===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,19,{x:3,y:71,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.part3,19,{x:50,y:66,skX:-28,skY:-28,scX:.99,scY:.99}),Client.GameManager.instance.level.setSimpleTween(this.part4,19,{x:-14,y:37,skX:20,skY:20})):62===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:23,y:84,skX:21,skY:21}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:68,y:89,skX:-27,skY:-27}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-2,y:40,skX:2,skY:2})):77===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:21,y:85,skX:24,skY:24}),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{x:67,y:99,skX:5,skY:5}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-3,skX:3,skY:3})):87===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,7,{x:22,y:83,skX:19,skY:19}),Client.GameManager.instance.level.setSimpleTween(this.part3,7,{x:68,y:88,skX:-20,skY:-20})):94===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,23,{x:-21,y:44,skX:-24,skY:-24}),Client.GameManager.instance.level.setSimpleTween(this.part3,23,{x:21,y:40,skX:39,skY:39}),Client.GameManager.instance.level.setSimpleTween(this.part4,23,{x:-26,y:29,skX:42,skY:42})):117===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:-18,y:49,skX:-19,skY:-19}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:28,y:44,skX:26,skY:26}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-25,y:30,skX:40,skY:40})):132===this.counterAnim&&this.animComplete())},Lvl9Room6Hammer.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-33,y:-11,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:2,y:-32,angle:0,scX:1,scY:1,skX:-93,skY:-93,alpha:1}),this.setPart(this.part3,{x:1,y:-81,angle:0,scX:1,scY:1,skX:-91,skY:-91,alpha:1}),this.setPart(this.part4,{x:0,y:-37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room6Hammer.prototype.free=function(){this.group=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null},Lvl9Room6Hammer})(Client.BasicSimpleAnim);Client.Lvl9Room6Hammer=Lvl9Room6Hammer})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6Spray=(_super=>{function Lvl9Room6Spray(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.part7=new Client.SASprite(game,0,0,"level9","room6SprayPart3 instance 10000"),_this.part7.pivot.set(6,31),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level9","room6SprayPart3 instance 10000"),_this.part6.pivot.set(6,31),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level9","room6SprayPart3 instance 10000"),_this.part5.pivot.set(6,31),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level9","room6SprayPart3 instance 10000"),_this.part4.pivot.set(6,31),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level9","room6SprayPart3 instance 10000"),_this.part3.pivot.set(6,31),_this.group.addChild(_this.part3),_this.head=new Client.Lvl9Room6SprayHead(game),_this.group.addChild(_this.head.group),_this.part2=new Client.SASprite(game,0,0,"level9","room6SprayPart2 instance 10000"),_this.part2.pivot.set(11,37),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level9","room6SprayPart1 instance 10000"),_this.part1.pivot.set(7,38),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl9Room6Spray,_super),Lvl9Room6Spray.prototype.update=function(){_super.prototype.update.call(this),this.head.update()},Lvl9Room6Spray.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(10===this.counterAnim?(this.setPart(this.part2,{x:37,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.head.group,15,{x:-3,y:-6,skX:14,skY:14}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:9,skX:12,skY:12}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:16,y:1,skX:8,skY:8,scX:.96}),Client.GameManager.instance.level.setSimpleTween(this.part5,15,{x:23,y:2,skX:3,skY:3,scX:1.01}),this.setPart(this.part6,{x:42,y:-1,angle:0,scX:.85,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:46,y:-1,angle:0,scX:.85,scY:1,skX:0,skY:0,alpha:1})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,15,{x:8,y:-1,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.head.group,15,{x:-36,y:7,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.part3,15,{x:-24,y:2,skX:-15,skY:-15,scX:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part4,15,{x:-15,y:0,skX:-10,skY:-10,scX:1.17}),Client.GameManager.instance.level.setSimpleTween(this.part5,15,{x:-6,y:0,skX:-7,skY:-7,scX:1.22}),Client.GameManager.instance.level.setSimpleTween(this.part6,15,{x:23,y:-2,skX:-4,skY:-4,scX:1.22}),Client.GameManager.instance.level.setSimpleTween(this.part7,15,{x:33,y:-2,scX:1.22})):40===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:13,y:-2,skX:-3,skY:-3}),Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{x:-31,y:2,skX:-10,skY:-10}),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{x:-18,y:-1,skX:-8,skY:-8,scX:1.07}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-10,y:-1,skX:-6,skY:-6,scX:1.14}),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{x:-2,y:-1,skX:-5,skY:-5,scX:1.18}),Client.GameManager.instance.level.setSimpleTween(this.part6,10,{x:26,y:-3,skX:-2,skY:-2,scX:1.16}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{x:35,scX:1.16})):50===this.counterAnim?(this.head.start(),Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:8,y:-1,skX:-5,skY:-5}),Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{x:-36,y:7,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{x:-24,y:2,skX:-15,skY:-15,scX:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-15,y:0,skX:-10,skY:-10,scX:1.17}),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{x:-6,y:0,skX:-7,skY:-7,scX:1.22}),Client.GameManager.instance.level.setSimpleTween(this.part6,10,{x:23,y:-2,skX:-4,skY:-4,scX:1.22}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{x:33,scX:1.22})):60===this.counterAnim?(this.setPart(this.part2,{x:8,y:-1,angle:0,scX:1,scY:1,skX:-5,skY:-5,alpha:1}),this.setPart(this.head.group,{x:-36,y:7,angle:0,scX:1,scY:1,skX:-17,skY:-17,alpha:1}),this.setPart(this.part3,{x:-24,y:2,angle:0,scX:1.11,scY:.93,skX:-15,skY:-15,alpha:1}),this.setPart(this.part4,{x:-15,y:0,angle:0,scX:1.17,scY:.92,skX:-10,skY:-10,alpha:1}),this.setPart(this.part5,{x:-6,y:0,angle:0,scX:1.22,scY:.93,skX:-7,skY:-7,alpha:1}),this.setPart(this.part6,{x:23,y:-2,angle:0,scX:1.22,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.part7,{x:33,y:-2,angle:0,scX:1.22,scY:1,skX:0,skY:0,alpha:1})):65===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:7,y:-4}),Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{skX:-32,skY:-32}),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{y:0,skX:-27,skY:-27,scX:1.28}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-16,y:-2,skX:-16,skY:-16,scX:1.36}),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{x:-7,y:-4,scX:1.34}),Client.GameManager.instance.level.setSimpleTween(this.part6,10,{x:22,y:-4,scX:1.33}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{x:31,y:-3,scX:1.38})):75===this.counterAnim?(this.setPart(this.part2,{x:7,y:-4,angle:0,scX:1,scY:1,skX:-5,skY:-5,alpha:1}),this.setPart(this.head.group,{x:-36,y:7,angle:0,scX:1,scY:1,skX:-32,skY:-32,alpha:1}),this.setPart(this.part3,{x:-24,y:0,angle:0,scX:1.28,scY:.93,skX:-27,skY:-27,alpha:1}),this.setPart(this.part4,{x:-16,y:-2,angle:0,scX:1.36,scY:.92,skX:-16,skY:-16,alpha:1}),this.setPart(this.part5,{x:-7,y:-4,angle:0,scX:1.34,scY:.93,skX:-7,skY:-7,alpha:1}),this.setPart(this.part6,{x:22,y:-4,angle:0,scX:1.33,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.part7,{x:31,y:-3,angle:0,scX:1.38,scY:1,skX:0,skY:0,alpha:1})):84===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2,10,{x:8,y:-1}),Client.GameManager.instance.level.setSimpleTween(this.head.group,10,{skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{y:2,skX:-15,skY:-15,scX:1.11}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-15,y:0,skX:-10,skY:-10,scX:1.17}),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{x:-6,y:0,scX:1.22}),Client.GameManager.instance.level.setSimpleTween(this.part6,10,{x:23,y:-2,scX:1.22}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{x:33,y:-2,scX:1.22})):94===this.counterAnim?(this.setPart(this.part2,{x:8,y:-1,angle:0,scX:1,scY:1,skX:-5,skY:-5,alpha:1}),this.setPart(this.head.group,{x:-36,y:7,angle:0,scX:1,scY:1,skX:-17,skY:-17,alpha:1}),this.setPart(this.part3,{x:-24,y:2,angle:0,scX:1.11,scY:.93,skX:-15,skY:-15,alpha:1}),this.setPart(this.part4,{x:-15,y:0,angle:0,scX:1.17,scY:.92,skX:-10,skY:-10,alpha:1}),this.setPart(this.part5,{x:-6,y:0,angle:0,scX:1.22,scY:.93,skX:-7,skY:-7,alpha:1}),this.setPart(this.part6,{x:23,y:-2,angle:0,scX:1.22,scY:1,skX:-4,skY:-4,alpha:1}),this.setPart(this.part7,{x:33,y:-2,angle:0,scX:1.22,scY:1,skX:0,skY:0,alpha:1})):100===this.counterAnim&&this.animComplete())},Lvl9Room6Spray.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:43,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2,{x:37,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.head.group,{x:24,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:35,y:-1,angle:0,scX:.85,scY:.93,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:40,y:-1,angle:0,scX:.85,scY:.92,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:45,y:-1,angle:0,scX:.85,scY:.93,skX:0,skY:0,alpha:1}),this.setPart(this.part6,{x:42,y:-1,angle:0,scX:.85,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part7,{x:46,y:-1,angle:0,scX:.85,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room6Spray.prototype.free=function(){this.group=null,this.part7=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.head.free(),this.head=null,this.part2=null},Lvl9Room6Spray})(Client.BasicSimpleAnim);Client.Lvl9Room6Spray=Lvl9Room6Spray})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6SprayHead=(_super=>{function Lvl9Room6SprayHead(game){var _this=_super.call(this,game)||this;return _this.activeAsid=!1,_this.counterAsid=0,_this.startDefeat=!1,_this.counterDefeat=0,_this.asids=new Array,_this.group=new Client.SAGroup(game,0,0),_this.part6=new Client.SASprite(game,0,0,"level9","room6SprayHeadPart6 instance 10000"),_this.part6.pivot.set(9,13),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level9","room6SprayHeadPart5 instance 10000"),_this.part5.pivot.set(9,13),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level9","room6SprayHeadPart3 instance 10000"),_this.part4.pivot.set(12,7),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level9","room6SprayHeadPart3 instance 10000"),_this.part3.pivot.set(12,7),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level9","room6SprayHeadPart2 instance 10000"),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level9","room6SprayHeadPart1 instance 10000"),_this.part1.pivot.set(16,16),_this.group.addChild(_this.part1),_this.setParts("play"),_this}return __extends(Lvl9Room6SprayHead,_super),Lvl9Room6SprayHead.prototype.start=function(){this.playAnim("play")},Lvl9Room6SprayHead.prototype.update=function(){_super.prototype.update.call(this),this.updateAsidParticle()},Lvl9Room6SprayHead.prototype.updateAsidParticle=function(){!1!==this.activeAsid&&(this.counterAsid+=1,this.counterAsid%2==0)&&this.setAsid(6*Math.random()-15,8+6*Math.random(),160+20*Math.random(),1.2+1.2*Math.random())},Lvl9Room6SprayHead.prototype.setAsid=function(x,y,angle,scale){for(var i=0;i<this.asids.length;i++)if(!1===this.asids[i].visible)return this.asids[i].x=x,this.asids[i].y=y,this.asids[i].angle=angle,this.asids[i].scale.setTo(scale),this.asids[i].animations.play("anim"),void(this.asids[i].visible=!0);var part=this.group.create(x,y,"level9");part.animations.add("anim",Phaser.Animation.generateFrameNames("frostParticle instance 1",0,14,"",4),30,!1).onComplete.add(this.asidPartComp,this),part.animations.play("anim"),part.angle=angle,part.scale.setTo(scale),this.asids.push(part)},Lvl9Room6SprayHead.prototype.asidPartComp=function(sprite,data){sprite.visible=!1},Lvl9Room6SprayHead.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"play"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,15,{alpha:1},!0),this.setPart(this.part2,{x:-10,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{x:-24,y:-20,skX:-171,skY:9},!0),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-24,y:20,skX:-10,skY:-10},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,15,{alpha:1},!0),this.setPart(this.part6,{x:-8,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):5===this.counterAnim?(this.activeAsid=!0,Client.SoundManager.playSFX("s_lvl8_frostBeam",!0)):11===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,5,{y:-18,skX:180,skY:0},!0),Client.GameManager.instance.level.setSimpleTween(this.part4,5,{y:17,skX:0,skY:0},!0)):16===this.counterAnim?(this.setPart(this.part1,{x:-12,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part3,{x:-24,y:-18,angle:0,scX:1,scY:1,skX:180,skY:0,alpha:1},!0),this.setPart(this.part4,{x:-24,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part5,{x:-8,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0)):55===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,10,{alpha:0},!0),Client.GameManager.instance.level.setSimpleTween(this.part3,10,{x:-6},!0),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{x:-6},!0),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{alpha:0},!0)):65===this.counterAnim?(this.setPart(this.part1,{x:-12,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0),this.setPart(this.part3,{x:-6,y:-18,angle:0,scX:1,scY:1,skX:180,skY:0,alpha:1},!0),this.setPart(this.part4,{x:-6,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part5,{x:-8,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0)):66===this.counterAnim&&(this.animComplete(),this.activeAsid=!1,Client.SoundManager.stopSFXLoop("s_lvl8_frostBeam")))},Lvl9Room6SprayHead.prototype.setParts=function(value){"play"===value&&(this.setPart(this.part1,{x:-12,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0),this.setPart(this.part2,{x:-10,y:-33,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part3,{x:-6,y:-18,angle:0,scX:1,scY:1,skX:180,skY:0,alpha:1},!0),this.setPart(this.part4,{x:-6,y:17,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0),this.setPart(this.part5,{x:-8,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:0},!0),this.setPart(this.part6,{x:-8,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1},!0))},Lvl9Room6SprayHead.prototype.free=function(){this.group=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.asids=[],this.asids=null},Lvl9Room6SprayHead})(Client.BasicSimpleAnim);Client.Lvl9Room6SprayHead=Lvl9Room6SprayHead})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room6WheelyFreeze=(_super=>{function Lvl9Room6WheelyFreeze(game){var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.part12=new Client.SASprite(game,0,0,"level9","fr1Part4 instance 10000"),_this.part12.pivot.set(25,12),_this.group.addChild(_this.part12),_this.part11=new Client.SASprite(game,0,0,"level9","fr1Part6 instance 10000"),_this.part11.pivot.set(18,10),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level9","fr1Part5 instance 10000"),_this.part10.pivot.set(16,11),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level9","fr1Part4 instance 10000"),_this.part9.pivot.set(25,12),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level9","fr1Part3 instance 10000"),_this.part8.pivot.set(5,5),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level9","fr1Part3 instance 10000"),_this.part7.pivot.set(5,5),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level9","fr1Part3 instance 10000"),_this.part6.pivot.set(5,5),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level9","fr1Part3 instance 10000"),_this.part5.pivot.set(5,5),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level9","fr1Part2 instance 10000"),_this.part4.pivot.set(4,18),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level9","fr1Part1 instance 10000"),_this.part3.pivot.set(8,14),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level9","fr1Part1 instance 10000"),_this.part2.pivot.set(8,14),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level9","fr1Part1 instance 10000"),_this.part1.pivot.set(8,14),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl9Room6WheelyFreeze,_super),Lvl9Room6WheelyFreeze.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,47,{y:-52,skX:-3,skY:-5,scX:2.14,scY:.94,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part2,47,{x:-65,y:-6,skX:-35,skY:-44,scX:2.26,scY:1.02,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part3,29,{x:33,y:21,skX:13,skY:11,scX:1.6,scY:1.4,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,29,{x:-48,y:20,skX:3,scX:1.59,scY:1.4,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part9,24,{scX:1,scY:1,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part10,24,{scX:1,scY:1,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part11,24,{y:36,scX:1,scY:1,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part12,24,{scX:1,scY:1,alpha:1})):10===this.counterAnim?(this.part6.visible=!0,this.setPart(this.part6,{x:2,y:37,angle:0,scX:.3,scY:.3,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part6,15,{x:11,y:17,scX:1,scY:1}),this.part7.visible=!0,this.setPart(this.part7,{x:-21,y:36,angle:0,scX:.3,scY:.3,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part7,15,{x:-37,y:14,scX:1,scY:1}),this.part8.visible=!0,this.setPart(this.part8,{x:10,y:34,angle:0,scX:.39,scY:.39,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part8,15,{x:26,y:4,scX:1,scY:1})):13===this.counterAnim?(this.part5.visible=!0,this.setPart(this.part5,{x:-8,y:35,angle:0,scX:.36,scY:.36,skX:0,skY:0,alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part5,15,{x:-9,y:-1,scX:1.39,scY:1.39})):25===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part6,10,{y:28}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{y:25}),Client.GameManager.instance.level.setSimpleTween(this.part8,10,{y:25}),this.setPart(this.part9,{x:40,y:37,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.part10,{x:23,y:37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part11,{x:-10,y:36,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part12,{x:-46,y:37,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):28===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part5,10,{y:22}):30===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part3,30,{x:30,y:34,skX:18,skY:10,scX:.36,scY:.13,alpha:.42}),Client.GameManager.instance.level.setSimpleTween(this.part4,30,{x:-49,y:34,skX:7,scX:.36,scY:.13,alpha:.42})):35===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part6,3,{x:8,y:31,skX:-17,skY:-17}),Client.GameManager.instance.level.setSimpleTween(this.part7,3,{x:-44,y:28,skX:-35,skY:-35}),Client.GameManager.instance.level.setSimpleTween(this.part8,3,{x:29,y:28,skX:20,skY:20})):38===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part5,5,{x:-3,y:30,skX:31,skY:31}),this.setPart(this.part6,{x:8,y:31,angle:0,scX:1,scY:1,skX:-17,skY:-17,alpha:1}),this.setPart(this.part7,{x:-44,y:28,angle:0,scX:1,scY:1,skX:-35,skY:-35,alpha:1}),this.setPart(this.part8,{x:29,y:28,angle:0,scX:1,scY:1,skX:20,skY:20,alpha:1})):43===this.counterAnim?this.setPart(this.part5,{x:-3,y:30,angle:0,scX:1.39,scY:1.39,skX:31,skY:31,alpha:1}):48===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part1,30,{y:-39,skX:5,skY:-3,scX:.36,scY:.13,alpha:.42}),Client.GameManager.instance.level.setSimpleTween(this.part2,30,{x:-58,y:6,skX:-28,skY:-42,scX:.37,scY:.14,alpha:.42})):61===this.counterAnim?(this.part3.visible=!1,this.part4.visible=!1):78===this.counterAnim&&this.animComplete())},Lvl9Room6WheelyFreeze.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-9,y:-39,angle:0,scX:.36,scY:.13,skX:5,skY:-3,alpha:.42}),this.setPart(this.part2,{x:-58,y:6,angle:0,scX:.37,scY:.14,skX:-28,skY:-42,alpha:.42}),this.setPart(this.part3,{x:30,y:34,angle:0,scX:.36,scY:.13,skX:18,skY:10,alpha:.42}),this.setPart(this.part4,{x:-49,y:34,angle:0,scX:.36,scY:.13,skX:7,skY:0,alpha:.42}),this.part5.visible=!1,this.part6.visible=!1,this.part7.visible=!1,this.part8.visible=!1,this.setPart(this.part9,{x:40,y:37,angle:0,scX:.36,scY:.19,skX:0,skY:180,alpha:0}),this.setPart(this.part10,{x:23,y:37,angle:0,scX:.33,scY:.14,skX:0,skY:0,alpha:0}),this.setPart(this.part11,{x:-10,y:37,angle:0,scX:.25,scY:.12,skX:0,skY:0,alpha:0}),this.setPart(this.part12,{x:-46,y:37,angle:0,scX:.36,scY:.19,skX:0,skY:0,alpha:0}))},Lvl9Room6WheelyFreeze.prototype.free=function(){this.group=null,this.part12=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null},Lvl9Room6WheelyFreeze})(Client.BasicSimpleAnim);Client.Lvl9Room6WheelyFreeze=Lvl9Room6WheelyFreeze})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room7=(_super=>{function Lvl9Room7(game){game=_super.call(this,game,7)||this;return game.startFire=!1,game.fireCounter=0,game.startDefeat=!1,game.counterDefeat=0,game.createBg(),game.createElements(),game.createDoors(),game.createWalls(5),game.createFront(),game.hide(),game.addMask(game.groupFront),game.x=890,game.y=995,game}return __extends(Lvl9Room7,_super),Lvl9Room7.prototype.createElements=function(){this.fireCannon1=new Client.Lvl9Room7FireCannon(this.game,-1),this.fireCannon1.group.x=-164,this.fireCannon1.group.y=157,this.groupFront.addChild(this.fireCannon1.group),this.fireCannon2=new Client.Lvl9Room7FireCannon(this.game,1),this.fireCannon2.group.x=164,this.fireCannon2.group.y=157,this.groupFront.addChild(this.fireCannon2.group)},Lvl9Room7.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.fireCannon1.start(),this.fireCannon2.start(),this.startFire=!0},Lvl9Room7.prototype.update=function(){_super.prototype.update.call(this),this.fireCannon1.update(),this.fireCannon2.update(),!0===this.startFire&&(this.fireCounter+=1,60===this.fireCounter?Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid:85===this.fireCounter?Client.GameManager.instance.hero.addBurn():100===this.fireCounter&&(this.startDefeat=!0)),!0===this.startFire&&(this.counterDefeat+=1,160===this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed())},Lvl9Room7.prototype.free=function(){_super.prototype.free.call(this),this.fireCannon1.free(),this.fireCannon1=null,this.fireCannon2.free(),this.fireCannon2=null},Lvl9Room7})(Client.Lvl9BasicRoom);Client.Lvl9Room7=Lvl9Room7})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room7Fire=(_super=>{function Lvl9Room7Fire(game){var _this=_super.call(this,game)||this;return _this.activeAsid=!1,_this.counterAsid=0,_this.asids=new Array,_this.group=new Client.SAGroup(game,0,0),_this.part12=new Client.SASprite(game,0,0,"level9","room8firePart12 instance 10000"),_this.part12.pivot.set(8,11),_this.part12.animations.add("activate",Phaser.Animation.generateFrameNames("room8firePart12 instance 1",0,15,"",4),30,!1),_this.part12.animations.add("deactivate",Phaser.Animation.generateFrameNames("room8firePart12 instance 1",15,0,"",4),30,!1),_this.group.addChild(_this.part12),_this.part11=new Client.SASprite(game,0,0,"level9","room8firePart11 instance 10000"),_this.part11.pivot.set(14,18),_this.group.addChild(_this.part11),_this.part10=new Client.SASprite(game,0,0,"level9","room8firePart10 instance 10000"),_this.part10.pivot.set(8,10),_this.group.addChild(_this.part10),_this.part9=new Client.SASprite(game,0,0,"level9","room8firePart9 instance 10000"),_this.part9.pivot.set(7,10),_this.group.addChild(_this.part9),_this.part8=new Client.SASprite(game,0,0,"level9","room8firePart8 instance 10000"),_this.part8.pivot.set(10,9),_this.group.addChild(_this.part8),_this.part7=new Client.SASprite(game,0,0,"level9","room8firePart7 instance 10000"),_this.part7.pivot.set(7,6),_this.group.addChild(_this.part7),_this.part6=new Client.SASprite(game,0,0,"level9","room8firePart6 instance 10000"),_this.part6.pivot.set(4,5),_this.group.addChild(_this.part6),_this.part5=new Client.SASprite(game,0,0,"level9","room8firePart5 instance 10000"),_this.part5.pivot.set(3,2),_this.group.addChild(_this.part5),_this.part4=new Client.SASprite(game,0,0,"level9","room8firePart4 instance 10000"),_this.part4.pivot.set(16,6),_this.group.addChild(_this.part4),_this.part3=new Client.SASprite(game,0,0,"level9","room8firePart3 instance 10000"),_this.part3.pivot.set(18,19),_this.group.addChild(_this.part3),_this.part2=new Client.SASprite(game,0,0,"level9","room8firePart2 instance 10000"),_this.part2.pivot.set(42,42),_this.group.addChild(_this.part2),_this.part1=new Client.SASprite(game,0,0,"level9","room8firePart1 instance 10000"),_this.part1.pivot.set(4,13),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl9Room7Fire,_super),Lvl9Room7Fire.prototype.update=function(){_super.prototype.update.call(this),this.updateAsidParticle()},Lvl9Room7Fire.prototype.updateAsidParticle=function(){!1!==this.activeAsid&&(this.counterAsid+=1,this.counterAsid%2==0)&&this.setAsid(6*Math.random()-3,6*Math.random()-78,20*Math.random()-100,1.5+1.5*Math.random())},Lvl9Room7Fire.prototype.setAsid=function(x,y,angle,scale){for(var i=0;i<this.asids.length;i++)if(!1===this.asids[i].visible)return this.asids[i].x=x,this.asids[i].y=y,this.asids[i].angle=angle,this.asids[i].scale.setTo(scale),this.asids[i].animations.play("anim"),void(this.asids[i].visible=!0);var part=this.group.create(x,y,"level9");part.animations.add("anim",Phaser.Animation.generateFrameNames("fireEmitter instance 1",0,17,"",4),30,!1).onComplete.add(this.asidPartComp,this),part.animations.play("anim"),part.anchor.y=.5,part.angle=angle,part.scale.setTo(scale),this.asids.push(part)},Lvl9Room7Fire.prototype.asidPartComp=function(sprite,data){sprite.visible=!1},Lvl9Room7Fire.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(7===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,3,{x:-10,y:-75,skX:-5,skY:-5,scY:1.03}):10===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part1,4,{x:-9,y:-74,skX:3,skY:3,scY:1}):15===this.counterAnim?(this.part12.animations.play("activate"),Client.GameManager.instance.level.setSimpleTween(this.part1,10,{y:-77,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part2,10,{alpha:1}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{y:-59}),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{x:-14,y:-41,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part6,10,{x:13,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{x:9,y:-28,skX:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part8,10,{x:-7,y:-35,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part9,10,{x:8,y:-52,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part10,10,{x:-10,y:-53,skX:0,skY:0,scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part11,10,{scX:1,scY:1}),Client.GameManager.instance.level.setSimpleTween(this.part12,10,{y:-73})):60===this.counterAnim?(this.part12.animations.play("deactivate"),this.activeAsid=!0,Client.GameManager.instance.level.setSimpleTween(this.part1,10,{y:-74,skX:3,skY:3}),Client.GameManager.instance.level.setSimpleTween(this.part2,10,{alpha:.3}),Client.GameManager.instance.level.setSimpleTween(this.part4,10,{y:-57}),Client.GameManager.instance.level.setSimpleTween(this.part5,10,{x:-12,y:-38,skX:9,skY:17,scX:1.28,scY:1.47}),Client.GameManager.instance.level.setSimpleTween(this.part6,10,{x:10,skX:22,skY:22}),Client.GameManager.instance.level.setSimpleTween(this.part7,10,{x:5,y:-30,skX:-8,scX:1.05,scY:1.18}),Client.GameManager.instance.level.setSimpleTween(this.part8,10,{x:-5,y:-32,skX:6,skY:12,scX:.97,scY:1.09}),Client.GameManager.instance.level.setSimpleTween(this.part9,10,{x:6,y:-50,scX:1.04,scY:1.04}),Client.GameManager.instance.level.setSimpleTween(this.part10,10,{x:-8,y:-51,skX:-4,skY:-4,scX:1.04,scY:1.04}),Client.GameManager.instance.level.setSimpleTween(this.part11,10,{scX:.89,scY:.89}),Client.GameManager.instance.level.setSimpleTween(this.part12,10,{y:-71})):110===this.counterAnim&&(this.animComplete(),this.activeAsid=!1))},Lvl9Room7Fire.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:-9,y:-74,angle:0,scX:1,scY:1,skX:3,skY:3,alpha:1}),this.setPart(this.part2,{x:0,y:-39,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:.3}),this.setPart(this.part3,{x:0,y:-10,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part4,{x:0,y:-57,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part5,{x:-12,y:-38,angle:0,scX:1.28,scY:1.47,skX:9,skY:17,alpha:1}),this.setPart(this.part6,{x:10,y:-40,angle:0,scX:1,scY:1,skX:22,skY:22,alpha:1}),this.setPart(this.part7,{x:5,y:-30,angle:0,scX:1.05,scY:1.18,skX:-8,skY:0,alpha:1}),this.setPart(this.part8,{x:-5,y:-32,angle:0,scX:.97,scY:1.09,skX:6,skY:12,alpha:1}),this.setPart(this.part9,{x:6,y:-50,angle:0,scX:1.04,scY:1.04,skX:0,skY:0,alpha:1}),this.setPart(this.part10,{x:-8,y:-51,angle:0,scX:1.04,scY:1.04,skX:-4,skY:-4,alpha:1}),this.setPart(this.part11,{x:-1,y:-38,angle:0,scX:.89,scY:.89,skX:0,skY:0,alpha:1}),this.setPart(this.part12,{x:0,y:-71,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room7Fire.prototype.free=function(){this.group=null,this.part12=null,this.part11=null,this.part10=null,this.part9=null,this.part8=null,this.part7=null,this.part6=null,this.part5=null,this.part4=null,this.part3=null,this.part2=null,this.part1=null,this.asids=[],this.asids=null},Lvl9Room7Fire})(Client.BasicSimpleAnim);Client.Lvl9Room7Fire=Lvl9Room7Fire})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room7FireCannon=(_super=>{function Lvl9Room7FireCannon(game,scaleX){void 0===scaleX&&(scaleX=1);var _this=_super.call(this,game)||this;return _this.group=game.make.group(),_this.group.scale.x=scaleX,_this.part3=new Client.SASprite(game,0,0,"level9","room8fcpart3 instance 10000"),_this.part3.pivot.set(17,14),_this.group.addChild(_this.part3),_this.part2=new Client.Lvl9Room7Fire(game),_this.group.addChild(_this.part2.group),_this.part1=new Client.SASprite(game,0,0,"level9","room8fcpart1 instance 10000"),_this.part1.pivot.set(39,6),_this.group.addChild(_this.part1),_this.setParts("anim"),_this}return __extends(Lvl9Room7FireCannon,_super),Lvl9Room7FireCannon.prototype.start=function(){this.playAnim("anim"),Client.SoundManager.playSFX("s_lvl8_flamethrower")},Lvl9Room7FireCannon.prototype.update=function(){_super.prototype.update.call(this),this.part2.update()},Lvl9Room7FireCannon.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"anim"===this.currAnim)&&(15===this.counterAnim?(this.part2.playAnim("anim"),Client.GameManager.instance.level.setSimpleTween(this.part2.group,19,{y:-20}),Client.GameManager.instance.level.setSimpleTween(this.part3,19,{y:-22})):34===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.part2.group,5,{y:-16}),Client.GameManager.instance.level.setSimpleTween(this.part3,5,{y:-18})):45===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2.group,11,{skX:-23,skY:-23}):56===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2.group,4,{skX:-42,skY:-42}):60===this.counterAnim?this.setPart(this.part2.group,{x:2,y:-16,angle:0,scX:1,scY:1,skX:-42,skY:-42,alpha:1}):61===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2.group,2,{skX:-39,skY:-39}):63===this.counterAnim?Client.GameManager.instance.level.setSimpleTween(this.part2.group,3,{skX:-42,skY:-42}):90===this.counterAnim&&this.animComplete())},Lvl9Room7FireCannon.prototype.setParts=function(value){"anim"===value&&(this.setPart(this.part1,{x:2,y:-4,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part2.group,{x:2,y:87,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.part3,{x:4,y:86,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}))},Lvl9Room7FireCannon.prototype.free=function(){this.group=null,this.part3=null,this.part2.free(),this.part2=null,this.part1=null},Lvl9Room7FireCannon})(Client.BasicSimpleAnim);Client.Lvl9Room7FireCannon=Lvl9Room7FireCannon})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room8=(_super=>{function Lvl9Room8(game){game=_super.call(this,game,8)||this;return game.leverActive=!1,game.startDefeat=!1,game.counterDefeat=0,game.trianglesDeactived=!1,game.contactHeroCount=0,game.createBg(),game.createElements(),game.createDoors(),game.createWalls(game.id),game.createFront(),game.hide(),game.addMask(game.groupBack),game.x=1430,game.y=995,game}return __extends(Lvl9Room8,_super),Lvl9Room8.prototype.createElements=function(){this.bodylaser=new Phaser.Physics.Box2D.Body(this.game,null,1430,995,0),this.bodylaser.setRectangle(10,160,-155),this.bodylaser.addRectangle(10,160,160),this.bodylaser.sensor=!0,this.laser1=this.createLaser(-152,-93),this.laser2=this.createLaser(-152,-72,90),this.laser3=this.createLaser(171,-72,90,.9),this.laser4=this.createLaser(-152,-82,-45),this.laser5=this.createLaser(157,-70,140),this.laser6=this.createLaser(157,-70,58),this.laser7=this.createLaser(157,-70,-30),this.laser8=this.createLaser(159,-70,0),this.lever=this.groupBack.create(-130,135,"level9","room8Lever instance 10000"),this.lever.anchor.setTo(.5,1),this.lever.angle=32,this.lever.events.onInputDown.add(this.leverDown,this),this.lever.events.onInputOut.add(this.leverOut,this),this.lever.events.onInputOver.add(this.leverOver,this);var sprite=this.groupBack.create(-149,121,"level9","room8Bg1 instance 10000");sprite.anchor.setTo(.5),sprite.cacheAsBitmap=!0,(sprite=this.groupBack.create(182,129,"level9","room8Bg2 instance 10000")).anchor.setTo(.5),sprite.cacheAsBitmap=!0,this.trap1=this.groupBack.create(113,102,"level9","room8Traps instance 10000"),this.trap1.animations.add("anim",Phaser.Animation.generateFrameNames("room8Traps instance 1",0,14,"",4),30,!1),this.trap2=this.groupBack.create(208,102,"level9","room8Traps instance 10000"),this.trap2.animations.add("anim",Phaser.Animation.generateFrameNames("room8Traps instance 1",0,14,"",4),30,!1),this.trap2.scale.x=-1,this.blue=this.groupBack.create(160,124,"level9","room8Blue instance 10000"),this.blue.anchor.setTo(.5),this.blue.alpha=0,this.triangle1=this.groupBack.create(-157,-93,"level9","room8Triangle instance 10000"),this.triangle1.pivot.set(30,28),this.triangle1.events.onInputDown.add(this.triangleDown,this),this.triangle1.events.onInputOut.add(this.triangleOut,this),this.triangle1.events.onInputOver.add(this.triangleOver,this),this.triangle2=this.groupBack.create(171,-83,"level9","room8Triangle instance 10000"),this.triangle2.pivot.set(30,28),this.triangle2.scale.y=-1,this.triangle2.angle=-65,this.triangle2.events.onInputDown.add(this.triangleDown,this),this.triangle2.events.onInputOut.add(this.triangleOut,this),this.triangle2.events.onInputOver.add(this.triangleOver,this)},Lvl9Room8.prototype.createLaser=function(x,y,angle,scaleY){void 0===angle&&(angle=0),void 0===scaleY&&(scaleY=1);x=this.groupBack.create(x,y,"level9","room8Laser instance 10000");return x.anchor.x=.5,x.angle=angle,x.scale.y=scaleY,x.animations.add("anim",Phaser.Animation.generateFrameNames("room8Laser instance 1",0,11,"",4),30,!0),x.visible=!1,x},Lvl9Room8.prototype.triangleOut=function(sprite){!0===sprite.inputEnabled&&(sprite.frameName="room8Triangle instance 10001")},Lvl9Room8.prototype.triangleOver=function(sprite){!0===sprite.inputEnabled&&(sprite.frameName="room8Triangle instance 10002")},Lvl9Room8.prototype.triangleDown=function(sprite){sprite.angle-=30,Client.SoundManager.playSFX("s_lvl8_trianglesRotate"),!0===this.leverActive&&this.activateLasers()},Lvl9Room8.prototype.leverOut=function(){!0===this.lever.inputEnabled&&(this.lever.frameName="room8Lever instance 10002")},Lvl9Room8.prototype.leverOver=function(){!0===this.lever.inputEnabled&&(this.lever.frameName="room8Lever instance 10001")},Lvl9Room8.prototype.leverDown=function(){"used"!==this.lever.name&&(this.lever.name="used",(32===this.lever.angle?(this.leverActive=!0,this.activateLasers(),this.game.add.tween(this.lever).to({angle:70},500,Phaser.Easing.Linear.None,!0)):(this.leverActive=!1,this.blue.alpha=0,this.deactivateLasers(),!0===this.trianglesDeactived&&(this.lever.inputEnabled=!1,this.lever.frameName="room8Lever instance 10000"),this.game.add.tween(this.lever).to({angle:32},500,Phaser.Easing.Linear.None,!0))).onComplete.addOnce(this.completeRotation,this))},Lvl9Room8.prototype.completeRotation=function(sprite){this.lever.name=""},Lvl9Room8.prototype.activateLasers=function(){this.deactivateLasers(),this.laser1.visible=!0,this.laser1.animations.play("anim");var tri1Angle=Math.round(this.triangle1.angle),tri2Angle=Math.round(this.triangle2.angle);30===tri1Angle?(this.laser2.visible=!0,this.laser2.animations.play("anim")):-30===tri1Angle?(this.laser4.visible=!0,this.laser4.animations.play("anim"),this.startDefeat=!0,this.deactivateTriangles(),Client.GameManager.instance.hero.addShock()):-60===tri1Angle&&(this.laser3.visible=!0,this.laser3.animations.play("anim"),-65===tri2Angle?(this.laser5.visible=!0,this.laser5.animations.play("anim")):-95===tri2Angle?(this.laser6.visible=!0,this.laser6.animations.play("anim"),this.startDefeat=!0,this.deactivateTriangles(),Client.GameManager.instance.hero.addShock()):-125===tri2Angle?(this.laser8.visible=!0,this.laser8.animations.play("anim"),this.activateDoors()):-155===tri2Angle&&(this.laser7.visible=!0,this.laser7.animations.play("anim")))},Lvl9Room8.prototype.deactivateLasers=function(){this.laser1.visible=!1,this.laser1.animations.stop("anim",!0),this.laser2.visible=!1,this.laser2.animations.stop("anim",!0),this.laser3.visible=!1,this.laser3.animations.stop("anim",!0),this.laser4.visible=!1,this.laser4.animations.stop("anim",!0),this.laser5.visible=!1,this.laser5.animations.stop("anim",!0),this.laser6.visible=!1,this.laser6.animations.stop("anim",!0),this.laser7.visible=!1,this.laser7.animations.stop("anim",!0),this.laser8.visible=!1,this.laser8.animations.stop("anim",!0)},Lvl9Room8.prototype.activateDoors=function(){this.doors[1].activate(),this.doors[3].activate(),this.game.add.tween(this.blue).to({alpha:1},500,Phaser.Easing.Linear.None,!0),this.deactivateTriangles(),this.trap1.animations.play("anim"),this.trap2.animations.play("anim"),Client.SoundManager.playSFX("s_lvl8_platformMove"),this.bodylaser.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.contactHero,this)},Lvl9Room8.prototype.deactivateTriangles=function(){this.trianglesDeactived=!0,this.triangle1.inputEnabled=!1,this.triangle1.frameName="room8Triangle instance 10000",this.triangle2.inputEnabled=!1,this.triangle2.frameName="room8Triangle instance 10000"},Lvl9Room8.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.triangle1.inputEnabled=!0,this.triangle1.input.useHandCursor=!0,this.triangleOut(this.triangle1),this.triangle2.inputEnabled=!0,this.triangle2.input.useHandCursor=!0,this.triangleOut(this.triangle2),this.lever.inputEnabled=!0,this.lever.input.useHandCursor=!0,this.leverOut()},Lvl9Room8.prototype.update=function(){_super.prototype.update.call(this),!0===this.startDefeat&&(this.counterDefeat+=1,70===this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed())},Lvl9Room8.prototype.contactHero=function(){!0===this.leverActive&&0===this.contactHeroCount&&(this.contactHeroCount=1,this.startDefeat=!0,this.deactivateTriangles(),Client.GameManager.instance.hero.addShock(),Client.GameManager.instance.level.customAction(6))},Lvl9Room8.prototype.free=function(){_super.prototype.free.call(this),this.blue=null,this.trap1=null,this.trap2=null,this.triangle1=null,this.triangle2=null,this.lever=null,this.laser1=null,this.laser2=null,this.laser3=null,this.laser4=null,this.laser5=null,this.laser6=null,this.laser7=null,this.laser8=null,this.bodylaser=null},Lvl9Room8})(Client.Lvl9BasicRoom);Client.Lvl9Room8=Lvl9Room8})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9Room9=(_super=>{function Lvl9Room9(game){game=_super.call(this,game,9)||this;return game.createBg(),game.createDoors(),game.createWalls(5),game.createFront(),game.hide(),game.x=1970,game.y=995,game}return __extends(Lvl9Room9,_super),Lvl9Room9.prototype.activateDoors=function(){this.doors[0].activate(),this.doors[1].activate()},Lvl9Room9.prototype.activate=function(closeDoor){_super.prototype.activate.call(this,closeDoor=void 0===closeDoor?!0:closeDoor),this.activateDoors()},Lvl9Room9})(Client.Lvl9BasicRoom);Client.Lvl9Room9=Lvl9Room9})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lvl9RoomDoor=(_super=>{function Lvl9RoomDoor(game,id){var _this=_super.call(this,game)||this;return _this.opened=!1,_this.id=id,_this.group=game.make.group(),_this.gear2=new Client.SASprite(game,0,0,"level9","roomDoorGear instance 10000"),_this.gear2.anchor.setTo(.5),_this.group.addChild(_this.gear2),_this.gear1=new Client.SASprite(game,0,0,"level9","roomDoorGear instance 10000"),_this.gear1.anchor.setTo(.5),_this.group.addChild(_this.gear1),_this.door2=new Client.SASprite(game,0,0,"level9","roomDoor instance 10000"),_this.door2.pivot.set(1,7),_this.group.addChild(_this.door2),_this.door1=new Client.SASprite(game,0,0,"level9","roomDoor instance 10000"),_this.door1.pivot.set(1,7),_this.group.addChild(_this.door1),_this.btn=_this.group.create(0,0,"level9","roomDoorActive instance 10000"),_this.btn.anchor.setTo(.5),_this.btn.events.onInputOut.add(_this.out,_this),_this.btn.events.onInputOver.add(_this.over,_this),_this.btn.events.onInputDown.add(_this.down,_this),_this.deactivate(),_this.setParts("open"),_this}return __extends(Lvl9RoomDoor,_super),Lvl9RoomDoor.prototype.out=function(){!0===this.btn.inputEnabled&&(this.btn.frameName="roomDoorActive instance 10000")},Lvl9RoomDoor.prototype.over=function(){!0===this.btn.inputEnabled&&(this.btn.frameName="roomDoorActive instance 10001")},Lvl9RoomDoor.prototype.down=function(){Client.GameManager.instance.level.customAction(this.id)},Lvl9RoomDoor.prototype.activate=function(){this.btn.inputEnabled=!0,this.btn.input.useHandCursor=!0,this.btn.visible=!0,this.out()},Lvl9RoomDoor.prototype.deactivate=function(){this.btn.inputEnabled=!1,this.btn.visible=!1},Lvl9RoomDoor.prototype.open=function(){this.deactivate(),this.playAnim("open"),this.opened=!0},Lvl9RoomDoor.prototype.close=function(){this.playAnim("close"),this.opened=!1},Lvl9RoomDoor.prototype.updateAnimation=function(){!1!==this.activeAnim&&(this.counterAnim+=1,"open"===this.currAnim?1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.door1,20,{x:67}),Client.GameManager.instance.level.setSimpleTween(this.door2,20,{x:-67}),Client.GameManager.instance.level.setSimpleTween(this.gear1,20,{x:-137,skX:179,skY:179}),Client.GameManager.instance.level.setSimpleTween(this.gear2,20,{x:137,skX:-179,skY:-179})):21===this.counterAnim&&this.animComplete():"close"===this.currAnim&&(1===this.counterAnim?(Client.GameManager.instance.level.setSimpleTween(this.door1,20,{x:0}),Client.GameManager.instance.level.setSimpleTween(this.door2,20,{x:0}),Client.GameManager.instance.level.setSimpleTween(this.gear1,20,{x:-70,skX:0,skY:0}),Client.GameManager.instance.level.setSimpleTween(this.gear2,20,{x:70,skX:0,skY:0})):21===this.counterAnim&&this.animComplete()))},Lvl9RoomDoor.prototype.setParts=function(value){"open"===value?(this.setPart(this.door1,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.door2,{x:0,y:0,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.gear1,{x:-70,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.gear2,{x:70,y:7,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1})):"close"===value&&(this.setPart(this.door1,{x:67,y:0,angle:0,scX:1,scY:1,skX:0,skY:0,alpha:1}),this.setPart(this.door2,{x:-67,y:0,angle:0,scX:1,scY:1,skX:0,skY:180,alpha:1}),this.setPart(this.gear1,{x:-137,y:7,angle:0,scX:1,scY:1,skX:179,skY:179,alpha:1}),this.setPart(this.gear2,{x:137,y:7,angle:0,scX:1,scY:1,skX:-179,skY:-179,alpha:1}))},Lvl9RoomDoor.prototype.free=function(){this.group=null,this.gear2=null,this.gear1=null,this.door2=null,this.door1=null},Lvl9RoomDoor})(Client.BasicSimpleAnim);Client.Lvl9RoomDoor=Lvl9RoomDoor})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var PunktirCircle=(_super=>{function PunktirCircle(game,_x,_y,_key,_frame){game=_super.call(this,game,_x,_y,_key=void 0===_key?null:_key,_frame=void 0===_frame?null:_frame)||this;return game.anchor.setTo(.5),game}return __extends(PunktirCircle,_super),PunktirCircle.prototype.update=function(){this.rotation+=.02},PunktirCircle})(Phaser.Image);Client.PunktirCircle=PunktirCircle})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Star=(()=>{function Star(_game,_x,_y){this.lifeTime=0,this.randDirection=0,this.counter=0,this.speed=0,this.rot=0,this.star=_game.add.sprite(_x,_y,"ui","questStar instance 10000"),this.star.anchor.set(.5),this.star.scale.set(_game.rnd.integerInRange(30,100)/100),this.lifeTime=_game.rnd.integerInRange(20,35),this.speed=_game.rnd.integerInRange(5,10)/10,this.rot=_game.rnd.integerInRange(-1,1),this.randDirection=Phaser.Math.degToRad(_game.rnd.integerInRange(0,360))}return Star.prototype.update=function(){null!==this.star&&(this.star.alpha<=0?(this.star.destroy(),this.star=null):(this.counter+=1,this.counter>=this.lifeTime&&(this.star.alpha-=.03,this.star.scale.x-=.01,this.star.scale.y-=.01),this.star.x-=Math.cos(this.randDirection)*this.speed,this.star.y-=Math.sin(this.randDirection)*this.speed,this.star.angle+=this.speed*this.rot*3))},Star})();Client.Star=Star})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var WaterRect=(()=>{function WaterRect(game,m_density,m_linearDrag,m_angularDrag,offset){void 0===m_density&&(m_density=3),void 0===m_linearDrag&&(m_linearDrag=5),void 0===m_angularDrag&&(m_angularDrag=0),void 0===offset&&(offset=-8.75),this.game=game,this.onContactWater=new Phaser.Signal,this.m_controller=new box2d.b2BuoyancyController,this.m_controller.normal.SetXY(0,1),this.m_controller.offset=offset,this.m_controller.useDensity=!0,this.m_controller.density=m_density,this.m_controller.linearDrag=m_linearDrag,this.m_controller.angularDrag=m_angularDrag,this.game.physics.box2d.world.AddController(this.m_controller)}return WaterRect.prototype.addRectangle=function(_x,_y,_w,_h){_x=new Phaser.Physics.Box2D.Body(this.game,null,_x,_y,0),_y=_x.setRectangle(_w,_h);_y.SetDensity(2),_y.SetFriction(.3),_y.SetRestitution(0),_x.sensor=!(_y=null),_x.setCategoryContactCallback(1,this.onContact,this)},WaterRect.prototype.onContact=function(body1,body2,fixture1,fixture2,begin){body1!==body2&&!0!==body2.sensor&&!1!==body2.dynamic&&(!0===begin?null===body2.data.GetControllerList()&&(this.m_controller.AddBody(body2.data),this.onContactWater.dispatch(body2,!0)):null!==body2.data.GetControllerList()&&(this.m_controller.RemoveBody(body2.data),this.onContactWater.dispatch(body2,!1)))},WaterRect.prototype.free=function(){this.game=null,this.m_controller=null},WaterRect})();Client.WaterRect=WaterRect})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Fabrique=>{(ContentStatus=>{ContentStatus.PAUSED="Paused",ContentStatus.RESUMED="Resumed"})(ContentStatus=ContentStatus||{});var ContentStatus,AdHandler=(()=>{function AdHandler(){this.contentStatus=ContentStatus.RESUMED}return AdHandler.getInstance=function(){return AdHandler.instance=AdHandler.instance?AdHandler.instance:new AdHandler},AdHandler.prototype.init=function(game){this.game=game;var game=window._azerionIntegration.advType;this.azAdWrapper=new window.h5ads.AdWrapper(game,Constants.GAMEDISTRIBUTION_ID),this.addListeners(),null!=(game=window._azerionIntegration)&&game.sa&&(h5branding.Utils.ASSET_LOCATION="assets/")},AdHandler.prototype.addListeners=function(){var _this=this;this.azAdWrapper.on(h5ads.AdEvents.CONTENT_PAUSED,function(){Fabrique.PauseHandler.getInstance().pause(),_this.contentStatus=ContentStatus.PAUSED}),this.azAdWrapper.on(h5ads.AdEvents.CONTENT_RESUMED,function(){_this.contentStatus=ContentStatus.RESUMED,Fabrique.PauseHandler.getInstance().resume()})},AdHandler.prototype.showAd=function(type,resumeCallback,pauseCallback){var _this=this,onPauseTriggered=(Fabrique.LoaderHelper.show(),function(){Fabrique.LoaderHelper.hide(),pauseCallback&&pauseCallback.call(_this),_this.azAdWrapper.removeListener(h5ads.AdEvents.CONTENT_PAUSED,onPauseTriggered)}),onAdComplete=function(){Fabrique.LoaderHelper.hide(),resumeCallback&&resumeCallback.call(_this),_this.azAdWrapper.removeListener(h5ads.AdEvents.CONTENT_RESUMED,onAdComplete)};this.azAdWrapper.on(h5ads.AdEvents.CONTENT_RESUMED,onAdComplete),this.azAdWrapper.on(h5ads.AdEvents.CONTENT_PAUSED,onPauseTriggered),this.azAdWrapper.showAd(h5ads.AdType.interstitial)},AdHandler.prototype.isAdPlaying=function(){return this.contentStatus===ContentStatus.PAUSED},AdHandler})();Fabrique.AdHandler=AdHandler})(Fabrique=Fabrique||{}),(Fabrique=>{var LoaderHelper=(()=>{function LoaderHelper(){}return LoaderHelper.show=function(){var loader=document.getElementById("loader");loader&&(loader.style.display="block")},LoaderHelper.hide=function(){var loader=document.getElementById("loader");loader&&(loader.style.display="none")},LoaderHelper})();Fabrique.LoaderHelper=LoaderHelper})(Fabrique=Fabrique||{}),(Fabrique=>{var PauseHandler=(()=>{function PauseHandler(game){this.game=game,this.focused=!1}return PauseHandler.getInstance=function(game){return PauseHandler.instance=PauseHandler.instance?PauseHandler.instance:new PauseHandler(game)},PauseHandler.prototype.init=function(){var _this=this;this.game.stage.disableVisibilityChange=!0,this.onPauseCallback=new Phaser.Signal,h5branding.Utils.isOnDevice()&&(document.addEventListener("pause",function(){return _this.onPause()}),document.addEventListener("resume",function(){return _this.onResume()})),this.game.onBlur.add(this.onBlur,this),this.game.onFocus.add(this.onFocus,this),this.game.onPause.add(this.onPause,this),this.game.onResume.add(this.onResume,this)},PauseHandler.prototype.onBlur=function(){this.focused=!1,this.game.onPause.dispatch()},PauseHandler.prototype.onFocus=function(){this.focused=!0,Fabrique.AdHandler.getInstance().isAdPlaying()||this.game.onResume.dispatch()},PauseHandler.prototype.onPause=function(){this.game.sound.setMute(),this.onPauseCallback&&this.onPauseCallback.dispatch()},PauseHandler.prototype.onResume=function(){this.game.sound.unsetMute()},PauseHandler.prototype.pause=function(){this.game.onPause.dispatch()},PauseHandler.prototype.resume=function(){this.hasFocus&&this.game.onResume.dispatch()},Object.defineProperty(PauseHandler.prototype,"hasFocus",{get:function(){return this.focused},enumerable:!1,configurable:!0}),PauseHandler})();Fabrique.PauseHandler=PauseHandler})(Fabrique=Fabrique||{}),(Wheely=>{(Client=>{var BasicLevel=(()=>{function BasicLevel(_game){this.questCarFounded=!1,this.questWheelFounded=!1,this.questWheel=null,this.questCar=null,this.game=_game,this.updateElements=new Array,this.tweens=new Array,1===Client.DataManager.getInstance().saveObj["questCar"+Client.LevelManager.getInstance().currentLevel]&&(this.questCarFounded=!0),1===Client.DataManager.getInstance().saveObj["questWheel"+Client.LevelManager.getInstance().currentLevel]&&(this.questWheelFounded=!0)}return BasicLevel.prototype.init=function(){},BasicLevel.prototype.customAction=function(value){},BasicLevel.prototype.addQuestWheel=function(_level,_x,_y,_parent,_index){void 0===_index&&(_index=-1),!0!==this.questWheelFounded&&(this.questWheel=this.game.make.button(_x,_y,"ui",this.clickQuestWheel,this,"questWheel"+_level+" instance 10001","questWheel"+_level+" instance 10000","questWheel"+_level+" instance 10000"),this.questWheel.anchor.setTo(.5),-1===_index?_parent.addChild(this.questWheel):_parent.addChildAt(this.questWheel,_index))},BasicLevel.prototype.clickQuestWheel=function(){this.questWheelFounded=!0,this.questWheel.visible=!1,this.addStars(this.questWheel.world.x,this.questWheel.world.y),Client.LevelBuilder.instance.panelQuest.foundWheel()},BasicLevel.prototype.addQuestCar=function(_x,_y,_parent,_index,_angle,_scale){void 0===_index&&(_index=-1),void 0===_angle&&(_angle=0),void 0===_scale&&(_scale=1),!0!==this.questCarFounded&&(this.questCar=this.game.make.button(_x,_y,"ui",this.clickQuestCar,this,"carBody instance 10001","carBody instance 10000","carBody instance 10000"),this.questCar.anchor.setTo(.5),this.questCar.angle=_angle,this.questCar.scale.set(_scale),(_x=this.game.make.sprite(-4,-27,"ui","carEye instance 10000")).animations.add("idle",Phaser.Animation.generateFrameNames("carEye instance 1",0,89,"",4),35,!0),_x.play("idle"),this.questCar.addChild(_x),-1===_index?_parent.addChild(this.questCar):_parent.addChildAt(this.questCar,_index))},BasicLevel.prototype.clickQuestCar=function(){this.questCarFounded=!0,this.questCar.visible=!1,this.addStars(this.questCar.world.x,this.questCar.world.y),Client.LevelBuilder.instance.panelQuest.foundCar()},BasicLevel.prototype.clickQuestCar2=function(_x,_y){this.questCarFounded=!0,this.addStars(_x,_y),Client.LevelBuilder.instance.panelQuest.foundCar()},BasicLevel.prototype.addStars=function(_x,_y){this.updateElements.push(new Client.ClickStars(this.game,_x,_y))},BasicLevel.prototype.update=function(){for(var i=0;i<this.tweens.length;i++)this.tweens[i].update();for(i=0;i<this.updateElements.length;i++)this.updateElements[i].update()},BasicLevel.prototype.setSimpleTween=function(target,duration,properties,smartRotation){void 0===smartRotation&&(smartRotation=!1);for(var i=0;i<this.tweens.length;i++)if(this.tweens[i].target===target)return void this.tweens[i].start(target,duration,properties,smartRotation);for(i=0;i<this.tweens.length;i++)if(!1===this.tweens[i].working)return void this.tweens[i].start(target,duration,properties,smartRotation);var tween=new Client.SimpleTween;tween.start(target,duration,properties,smartRotation),this.tweens.push(tween)},BasicLevel.prototype.stopSimpleTween=function(target){for(var i=0;i<this.tweens.length;i++)if(this.tweens[i].target===target){this.tweens[i].stop();break}},BasicLevel.prototype.free=function(){this.game=null;for(var i=0;i<this.updateElements.length;i++)this.updateElements[i].free();this.updateElements=[],this.updateElements=null;for(i=0;i<this.tweens.length;i++)this.tweens[i].free();this.tweens=[],this.tweens=null,this.questCar=null,this.questWheel=null},BasicLevel})();Client.BasicLevel=BasicLevel})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var FilterGroups=(()=>{function FilterGroups(){}return FilterGroups.DEFAULT=1,FilterGroups.WALL=2,FilterGroups.TRUCK=4,FilterGroups.CAR1=1024,FilterGroups.CAR2=2048,FilterGroups.PARTICLE=4096,FilterGroups.IGNORE_CAR=FilterGroups.CAR1+FilterGroups.CAR2,FilterGroups})();Client.FilterGroups=FilterGroups})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var GameManager=(()=>{function GameManager(){if(this.finishPassed=!1,(this.hero=null)!==GameManager.instance)throw new Error("Error: LevelBuilder already created");(GameManager.instance=this).layerBackground0=Client.LevelBuilder.instance.add.group(),this.layerBackground=Client.LevelBuilder.instance.add.group(),this.layerElements=Client.LevelBuilder.instance.add.group(),this.layerUpper=Client.LevelBuilder.instance.add.group(),this.level=Client.Tools.getInstance("Level"+Client.LevelManager.getInstance().currentLevel,Client.Main.instance),this.level.init()}return GameManager.prototype.update=function(){this.level.update(),null!==this.hero&&this.hero.update()},GameManager.prototype.free=function(){(GameManager.instance=null)!==this.hero&&this.hero.free(),this.hero=null,this.level.free(),this.level=null,this.layerBackground0=null,this.layerBackground=null,this.layerElements=null,this.layerUpper=null},GameManager.instance=null,GameManager})();Client.GameManager=GameManager})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level1=(_super=>{function Level1(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.canClickHero=0,_this.showCircleArrowAfterWheel=!1,_this.clickOnWheelQuest=!1,_this}return __extends(Level1,_super),Level1.prototype.init=function(){Client.SoundManager.playSFX("sfx_ambient",!0);var sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel1_1"),sprite=(sprite.cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(56,430,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("eyesBlue instance 1",0,109,"",4),30,!0),sprite.animations.play("anim"),(sprite=Client.GameManager.instance.layerBackground.create(368,450,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("eyesGreen instance 1",0,65,"",4),30,!0),sprite.animations.play("anim"),this.chooseFilm=new Client.Lvl1ChooseFilm(this.game),this.updateElements.push(this.chooseFilm),this.createPicture(),!((sprite=Client.GameManager.instance.layerBackground.create(442,0,"level1","front instance 10000")).cacheAsBitmap=!0)===this.questWheelFounded?(this.curtain=Client.GameManager.instance.layerUpper.create(567,358,"level1","curtain instance 10000"),this.curtain.animations.add("anim",Phaser.Animation.generateFrameNames("curtain instance 1",0,32,"",4),30,!1),this.addQuestWheel(1,573,470,Client.GameManager.instance.layerUpper)):this.curtain=Client.GameManager.instance.layerUpper.create(567,358,"level1","curtain instance 10032"),(sprite=Client.GameManager.instance.layerUpper.create(665,489,"level1","poruch instance 10000")).cacheAsBitmap=!0,this.girl=new Client.Lvl1Girl(this.game,-60,497),this.updateElements.push(this.girl),Client.GameManager.instance.hero=new Client.Hero(this.game,-170,490),Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!0),this.circleArrow=new Client.Lvl1CircleArrow(this.game),this.updateElements.push(this.circleArrow),this.addGround(),this.car1=new Client.Lvl1Car1(this.game,455,474),this.updateElements.push(this.car1),this.car2=new Client.Lvl1Car2(this.game,270,495),this.updateElements.push(this.car2),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this),sprite=null,this.game.make.graphics(0,0));sprite.beginFill(16711680,.4),sprite.drawRect(0,0,702,600),sprite.endFill(),Client.GameManager.instance.layerElements.add(sprite),Client.GameManager.instance.layerElements.mask=sprite,sprite=null,this.updateElements.push(new Client.Finish(this.game,635,490))},Level1.prototype.clickQuestWheel=function(){_super.prototype.clickQuestWheel.call(this),this.curtain.animations.play("anim"),!0===this.clickOnWheelQuest&&this.circleArrow.hide(),!0===this.showCircleArrowAfterWheel&&(this.circleArrow.show(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y),Client.GameManager.instance.hero.setClickable(!0),this.canClickHero=1)},Level1.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level1.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level1.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level1.prototype.createPicture=function(){this.addQuestCar(605,222,Client.GameManager.instance.layerBackground),this.picture=Client.GameManager.instance.layerBackground.create(605,180,"level1","picture instance 10000"),this.game.physics.box2d.enable(this.picture),this.picture.body.setRectangle(94,136),this.picture.body.data.SetUserData("DragBody"),this.picture.inputEnabled=!0,this.picture.input.useHandCursor=!0,this.picture.events.onInputOut.add(function(){this.picture.frameName="picture instance 10000"},this),this.picture.events.onInputOver.add(function(){this.picture.frameName="picture instance 10001"},this)},Level1.prototype.customAction=function(value){var sprite;0===(value=void 0===value?0:value)?1===this.canClickHero&&(this.circleArrow.hide(),this.canClickHero=2,this.girl.setState(3)):1===value?(this.car1.addTicketsAndGlasses(),this.car2.addTicketsAndGlasses()):2===value?(!1===this.questWheelFounded?(this.circleArrow.show(573,470),this.showCircleArrowAfterWheel=!0):(this.circleArrow.show(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y),Client.GameManager.instance.hero.setClickable(!0),this.canClickHero=1),this.girl.addGlasses(),(sprite=this.game.make.sprite(45,20,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("tickets instance 1",0,13,"",4),30,!1),sprite.animations.play("anim"),sprite.scale.setTo(.8),Client.GameManager.instance.hero.graphicCar.addChild(sprite),(sprite=this.game.make.sprite(70,-11,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("glasses instance 1",0,12,"",4),30,!1),sprite.animations.play("anim"),Client.GameManager.instance.hero.graphicCar.addChild(sprite),(sprite=Client.GameManager.instance.layerBackground.create(280,424,"level1")).animations.add("anim",Phaser.Animation.generateFrameNames("moneyAnim instance 1",0,18,"",4),30,!1).killOnComplete=!0,sprite.animations.play("anim")):3===value?(this.girl.setState(2),Client.SoundManager.playSFX("s_engineStart"),Client.GameManager.instance.hero.setEnableMotor(!0)):4===value?(this.chooseFilm.activate(),this.circleArrow.show(517,308)):5===value?(this.circleArrow.hide(),this.clickOnWheelQuest=!0):6===value&&(this.girl.setAngry(),this.thinkAngry||(this.thinkAngry=Client.GameManager.instance.layerUpper.create(513,406,"level1"),this.thinkAngry.animations.add("anim",Phaser.Animation.generateFrameNames("thinkAngry instance 1",0,49,"",4),30,!1).onComplete.add(function(){this.thinkAngry.visible=!1},this)),this.thinkAngry.visible=!0,this.thinkAngry.animations.stop("anim",!0),this.thinkAngry.animations.play("anim"))},Level1.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,500,561,0);ground.setRectangle(1400,50),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1e3,490,0)).setRectangle(10,100),(ground=new Phaser.Physics.Box2D.Body(this.game,null,605,127,0)).setRectangle(10,10),ground.sensor=!0,this.game.physics.box2d.revoluteJoint(ground,this.picture,0,0,0,-53),(ground=new Phaser.Physics.Box2D.Body(this.game,null,605,248,0)).setRectangle(10,10),ground.sensor=!0,this.game.physics.box2d.distanceJoint(ground,this.picture,0,0,0,0,68,.7,.1)},Level1.prototype.free=function(){_super.prototype.free.call(this),this.chooseFilm=null,this.picture=null,this.car1=null,this.car2=null,this.circleArrow=null,this.girl=null,this.curtain=null,this.thinkAngry=null},Level1})(Client.BasicLevel);Client.Level1=Level1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level10=(_super=>{function Level10(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.gameOver=!1,_this.gameOverDelay=0,_this.doorUsed=!1,_this}return __extends(Level10,_super),Level10.prototype.init=function(){this.game.world.resize(800,600),this.game.world.setBounds(0,0,800,600),Client.GameManager.instance.layerBackground.create(0,0,"bgLevel10_1").cacheAsBitmap=!0;Client.GameManager.instance.layerUpper.create(0,0,"bgLevel10_2").cacheAsBitmap=!0,Client.GameManager.instance.hero=new Client.Hero(this.game,65,190),Client.GameManager.instance.hero.bodyWheelFront.mass=2,Client.GameManager.instance.hero.addHelmetLvl10(),this.addGround(),this.addDrake(),this.addSpring(),this.addRedStone(),this.addPress(),this.addDoor(),this.addFireCar(),this.addQuestWheel(10,505,408,Client.GameManager.instance.layerBackground),this.addQuestCar(67,222,Client.GameManager.instance.layerBackground),new Client.Finish(this.game,25,510,!0,Client.GameManager.instance.layerBackground);this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this)},Level10.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level10.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level10.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level10.prototype.update=function(){_super.prototype.update.call(this),!0===this.gameOver&&(this.gameOverDelay+=1,90===this.gameOverDelay)&&Client.LevelBuilder.instance.levelFailed()},Level10.prototype.addDrake=function(){this.topActions=new Client.Lvl10TopAction(this.game),this.updateElements.push(this.topActions)},Level10.prototype.addSpring=function(){var spring=new Client.Lvl10Spring(this.game);this.updateElements.push(spring)},Level10.prototype.addWater=function(){this.iceWater=Client.GameManager.instance.layerUpper.create(385,233,"level10","iceWater instance 10000",!0,0),this.iceWater.alpha=0,this.game.add.tween(this.iceWater).to({alpha:1},800,"Linear",!0).onComplete.addOnce(this.addWaterAnim,this)},Level10.prototype.addWaterAnim=function(){this.water=Client.GameManager.instance.layerUpper.create(363,232,"level10","waterAnim instance 10000"),this.water.animations.add("anim",Phaser.Animation.generateFrameNames("waterAnim instance 1",0,86,"",4),30,!1).onComplete.addOnce(function(){this.game.add.tween(this.water).to({alpha:0},600,"Linear",!0)},this),this.water.scale.set(2),this.water.play("anim"),this.game.add.tween(this.iceWater).to({alpha:0},800,"Linear",!0,1500)},Level10.prototype.addPress=function(){var press=new Client.Lvl10Press(this.game);this.updateElements.push(press)},Level10.prototype.addRedStone=function(){this.redStone=Client.GameManager.instance.layerElements.create(300,530,"level10","rockBody instance 10000"),this.game.physics.box2d.enable(this.redStone),this.redStone.body.setRectangle(27,26),this.redStone.body.data.SetUserData("DragBody"),this.redStone.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR)},Level10.prototype.addDoor=function(){this.door=new Client.Lvl10Door(this.game)},Level10.prototype.closeDoor=function(){!1===this.doorUsed&&(this.doorUsed=!0,this.topActions.activateWheel(),this.door.close(),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid,this.fireCar.alive())},Level10.prototype.addFireCar=function(){this.fireCar=new Client.Lvl10FireCar(this.game),this.updateElements.push(this.fireCar)},Level10.prototype.freeze=function(){this.gameOver=!0,Client.GameManager.instance.hero.setEnableMotor(!1);var spike1=Client.GameManager.instance.layerElements.create(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y-30,"level10","spike1 instance 10000"),spike1=(spike1.scale.set(.35,.13),spike1.anchor.set(.5,1),this.game.add.tween(spike1.scale).to({x:.8,y:1},1e3,"Linear",!0,500,0,!0),Client.GameManager.instance.hero.baseGroup.create(0,0,"level10","Frozen_Wheely instance 10000")),spike1=(spike1.anchor.set(.5),spike1.animations.add("anim",Phaser.Animation.generateFrameNames("Frozen_Wheely instance 1",0,31,"",4),30,!1),spike1.play("anim"),Client.GameManager.instance.layerElements.create(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y+25,"level10","wheelyFrize instance 10000")),spike1=(spike1.anchor.set(.5),spike1.animations.add("anim",Phaser.Animation.generateFrameNames("wheelyFrize instance 1",0,49,"",4),30,!1),spike1.play("anim"),Client.GameManager.instance.layerElements.create(Client.GameManager.instance.hero.bodyBase.x+30,Client.GameManager.instance.hero.bodyBase.y+50,"level10","spike1 instance 10000")),spike1=(spike1.scale.set(.35,.13),spike1.anchor.set(.5,1),spike1.angle=15,this.game.add.tween(spike1.scale).to({x:.8,y:1},1500,"Linear",!0,0,0,!0),Client.GameManager.instance.layerElements.create(Client.GameManager.instance.hero.bodyBase.x-40,Client.GameManager.instance.hero.bodyBase.y+50,"level10","spike1 instance 10000"));spike1.scale.set(-.35,.13),spike1.anchor.set(.5,1),spike1.angle=-10,this.game.add.tween(spike1.scale).to({x:-.8,y:1.5},1500,"Linear",!0,200,0,!0)},Level10.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,77,290,0);ground.setRectangle(185,106),(ground=new Phaser.Physics.Box2D.Body(this.game,null,505,270,0)).setRectangle(262,65),(ground=new Phaser.Physics.Box2D.Body(this.game,null,148,553,0)).setRectangle(615,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,735,512,0)).setRectangle(150,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,620,532,0)).setRectangle(98,20),ground.angle=-26,(ground=new Phaser.Physics.Box2D.Body(this.game,null,172,286,0)).setRectangle(97,20),ground.angle=78,(ground=new Phaser.Physics.Box2D.Body(this.game,null,372,286,0)).setRectangle(97,20),ground.angle=-78,(ground=new Phaser.Physics.Box2D.Body(this.game,null,272,330,0)).setRectangle(204,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,378,365,0)).setRectangle(46,130),(ground=new Phaser.Physics.Box2D.Body(this.game,null,721,30,0)).setRectangle(157,60),(ground=new Phaser.Physics.Box2D.Body(this.game,null,250,511,0)).setRectangle(20,42),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelBack,this.closeDoor,this)},Level10.prototype.free=function(){_super.prototype.free.call(this),this.redStone=null,this.topActions=null,this.water=null,this.iceWater=null,this.door=null,this.fireCar=null},Level10})(Client.BasicLevel);Client.Level10=Level10})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level11=(_super=>{function Level11(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.gameOver=!1,_this.gameOverTimer=0,_this}return __extends(Level11,_super),Level11.prototype.init=function(){Client.GameManager.instance.layerBackground.create(0,0,"bgLevel11_1").cacheAsBitmap=!0,Client.GameManager.instance.hero=new Client.Hero(this.game,85,175),new Client.Finish(this.game,750,175);this.addGround(),this.addRopeWheel(),this.addMill(),this.addRedWheel(),this.addRotateWheel(),this.addRotateLever(),this.addDoor(),this.addRock(),this.addCar(),this.addQuestCar(140,548,Client.GameManager.instance.layerBackground),this.addQuestWheel(11,725,117,Client.GameManager.instance.layerBackground),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this),Client.GameManager.instance.layerElements.create(0,179,"bgLevel11_2").cacheAsBitmap=!0,Client.SoundManager.playSFX("s_lvl12_water1",!0)},Level11.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level11.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level11.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level11.prototype.addRotateWheel=function(){this.rotateWheel=new Client.Lvl11RotateWheel(466,506),this.updateElements.push(this.rotateWheel)},Level11.prototype.addRopeWheel=function(){this.ropeWheel=new Client.Lvl11RopeWheel(466,506),this.updateElements.push(this.ropeWheel)},Level11.prototype.addRotateLever=function(){this.lever=new Client.Lvl11Lever(this.game,148,354),this.updateElements.push(this.lever)},Level11.prototype.addRedWheel=function(){this.redWheel=new Client.Lvl11RedWheel(this.game,272,288),this.updateElements.push(this.redWheel)},Level11.prototype.addDoor=function(){var door=new Client.Lvl11Door;this.updateElements.push(door)},Level11.prototype.addMill=function(){var mill=new Client.Lvl11Mill(256,486);this.updateElements.push(mill)},Level11.prototype.addRock=function(){var rock=new Client.Lvl11Rock(524,263);this.updateElements.push(rock)},Level11.prototype.addCar=function(){this.car=new Client.Lvl11Car(100,552),this.updateElements.push(this.car)},Level11.prototype.update=function(){_super.prototype.update.call(this),600<Client.GameManager.instance.hero.bodyBase.y&&!1===this.gameOver&&(this.gameOver=!0),!0===this.gameOver&&(this.gameOverTimer+=1,60===this.gameOverTimer)&&Client.LevelBuilder.instance.levelFailed()},Level11.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,225,230,0);ground.setRectangle(450,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,792,230,0)).setRectangle(335,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,476,289,0)).setRectangle(100,20),ground.angle=63,(ground=new Phaser.Physics.Box2D.Body(this.game,null,660,472,0)).setRectangle(266,20),ground.angle=85,(ground=new Phaser.Physics.Box2D.Body(this.game,null,706,297,0)).setRectangle(160,20),ground.angle=138},Level11.prototype.free=function(){_super.prototype.free.call(this),this.lever=null,this.rotateWheel=null,this.ropeWheel=null,this.redWheel=null,this.car=null},Level11})(Client.BasicLevel);Client.Level11=Level11})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level12=(_super=>{function Level12(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.dragNow=!1,_this.haveShield=!1,_this.gameOver=!1,_this.gameOverCounter=0,_this.ground=[[526.9,245.5,0,20,103],[544.05,326.7,-30,19,74],[503.5,486.7,113,19,112],[401.9,441.35,115,19,112],[308.2,403.4,108,19,94],[218.35,378.1,102,19,94],[134.6,365.05,94,19,79],[47.55,363.15,89,19,94],[847.2,551.3,91,19,301],[604.75,525.2,109,17,112],[677.4,543.2,100,19,112],[631.2,203.6,90,20,261],[741.85,270.9,0,20,137],[767.05,336.9,90,20,64],[652.95,352.4,90,20,217]],_this}return __extends(Level12,_super),Level12.prototype.init=function(){var sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel12_1");sprite.cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerUpper.create(0,600,"bgLevel12_2")).anchor.y=1,sprite.cacheAsBitmap=!0,sprite=null,Client.GameManager.instance.hero=new Client.Hero(this.game,45,310),Client.GameManager.instance.hero.maxMotorSpeed=3.5,Client.GameManager.instance.hero.bodyWheelBack.friction=1,Client.GameManager.instance.hero.bodyWheelFront.friction=1,Client.GameManager.instance.hero.setCollideWorldBounds(!1),new Client.Finish(this.game,780,500);this.addGround(),this.addStones(),this.addBgEye(),this.addDoor(),this.addMassiveDoor(),this.addRock(),this.addEnemy(),this.addTaran(),this.addShield(),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this),this.addQuestWheel(12,538,243,Client.GameManager.instance.layerUpper),this.addQuestCar(329,477,Client.GameManager.instance.layerUpper,1,0,.9)},Level12.prototype.addRock=function(){this.rock=new Client.Lvl12Stones,this.updateElements.push(this.rock)},Level12.prototype.addHeroShield=function(){this.heroShield=new Client.HeroShield(this.game),this.updateElements.push(this.heroShield)},Level12.prototype.addShield=function(){this.shield=new Client.Lvl12Shield(this.game),this.updateElements.push(this.shield)},Level12.prototype.addTaran=function(){this.taran=new Client.Lvl12Taran(this.game,250,313),this.updateElements.push(this.taran)},Level12.prototype.addMassiveDoor=function(){this.massiveDoor=new Client.Lvl12MassiveDoor,this.updateElements.push(this.massiveDoor)},Level12.prototype.addEnemy=function(){var enemy=new Client.Lvl12Enemy(560,155,1,150);this.updateElements.push(enemy),enemy=new Client.Lvl12Enemy(620,300,-1,650),this.updateElements.push(enemy)},Level12.prototype.addDoor=function(){this.door=new Client.Lvl12Door(this.game),this.updateElements.push(this.door)},Level12.prototype.addBgEye=function(){var bgEye=new Client.Lvl12BgEye(this.game);this.updateElements.push(bgEye)},Level12.prototype.addStones=function(){var stone=new Client.Lvl12SecretStone(this.game,131,425,1);this.updateElements.push(stone),stone=new Client.Lvl12SecretStone(this.game,327,475,2),this.updateElements.push(stone),stone=new Client.Lvl12SecretStone(this.game,100,552,3),this.updateElements.push(stone)},Level12.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level12.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&(this.dragNow=!0,this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position))},Level12.prototype.mouseDragEnd=function(){this.dragNow=!1,this.taran.dragEnd(),this.game.physics.box2d.mouseDragEnd()},Level12.prototype.customAction=function(value){},Level12.prototype.update=function(){_super.prototype.update.call(this),495<=Client.GameManager.instance.hero.bodyBase.x&&!1===this.haveShield&&(Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.setClickable(!1),this.haveShield=!0,this.shield.pickUp()),!0===this.gameOver&&(this.gameOverCounter+=1,60===this.gameOverCounter)&&Client.LevelBuilder.instance.levelFailed()},Level12.prototype.addGround=function(){for(var i=0;i<this.ground.length;i++){var ground=new Phaser.Physics.Box2D.Body(this.game,null,this.ground[i][0],this.ground[i][1],0);ground.setRectangle(this.ground[i][3],this.ground[i][4]),ground.angle=this.ground[i][2],ground.friction=1,ground=null}},Level12.prototype.free=function(){_super.prototype.free.call(this)},Level12})(Client.BasicLevel);Client.Level12=Level12})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level13=(_super=>{function Level13(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.currKilling=0,_this.shootCounter=0,_this.magDied=!1,_this.magShoot=80,_this.dragShoot=230,_this.startDefeat=!1,_this.counterDefeat=0,_this.heroDieMagBall=!1,_this.startSpawningFires=!1,_this.spawningFiresCounter=0,_this.wheelyCount=0,_this.lighttingOnBtnLiftCount=0,_this.stopLiftHorCount=0,_this.activateSwordCount=0,_this.activateSkeletonCount=0,_this.hideSwordCount=0,_this.heroDefeatCounter=0,_this.changeHeroDirCount=0,_this.changeCounter=0,_this.percentLift=1,_this}return __extends(Level13,_super),Level13.prototype.init=function(){this.fires=new Array,this.game.world.resize(800,800);var sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel13_1");sprite.cacheAsBitmap=!0,this.updateElements.push(new Client.Lvl13Cage(this.game)),this.skeleton=new Client.Lvl13Skeleton(this.game),this.updateElements.push(this.skeleton),this.addQuestWheel(13,714,92,Client.GameManager.instance.layerBackground),this.carQuest=new Client.Lvl13QuestCar(this.game),this.updateElements.push(this.carQuest),this.ghosts=new Client.Lvl13Ghosts(this.game),this.updateElements.push(this.ghosts),(sprite=Client.GameManager.instance.layerUpper.create(0,181,"level13","bgPart2 instance 10000")).cacheAsBitmap=!0,Client.GameManager.instance.hero=new Client.Hero(this.game,70,140),this.lift=new Client.Lvl13Lift(this.game),this.updateElements.push(this.lift),this.dragon=new Client.Lvl13Dragon(this.game),this.updateElements.push(this.dragon),(sprite=Client.GameManager.instance.layerUpper.create(0,600,"level13","bgPart instance 10000")).anchor.y=1,sprite.cacheAsBitmap=!0,sprite=null,this.btnSword=Client.GameManager.instance.layerUpper.create(240,235,"level13","btnSword instance 10000"),this.btnSword.anchor.setTo(.5),this.btnSword.events.onInputOut.add(this.btnSwordOut,this),this.btnSword.events.onInputOver.add(this.btnSwordOver,this),this.btnSword.events.onInputDown.add(this.btnSwordDown,this),this.btnSword.events.onInputUp.add(this.btnSwordUp,this),this.btnSword.visible=!1,this.btnSwordAnim=Client.GameManager.instance.layerBackground.create(242,238,"level13"),this.btnSwordAnim.anchor.setTo(.5),this.btnSwordAnim.animations.add("anim",Phaser.Animation.generateFrameNames("showBtnSword instance 1",0,15,"",4),30,!1).killOnComplete=!0,this.btnSwordAnim.visible=!1,this.lighting=Client.GameManager.instance.layerUpper.create(571,271,"level13"),this.lighting.scale.x=2,this.lighting.anchor.x=.1,this.lighting.animations.add("anim",Phaser.Animation.generateFrameNames("magicLightning1 instance 1",0,13,"",4),30,!1).onComplete.addOnce(this.lightingComp,this),this.lighting.animations.add("anim2",Phaser.Animation.generateFrameNames("magicLightning1 instance 1",14,20,"",4),30,!1),this.lighting.angle=Client.Tools.toDeg(Client.Tools.angleOfPoints(571,217,90,295))-20,this.lighting.visible=!1,this.crystalBall=new Client.Lvl13CrystalBall(this.game),this.updateElements.push(this.crystalBall),this.bat=new Client.Lvl13Bat(this.game),this.updateElements.push(this.bat),this.addGround()},Level13.prototype.customAction=function(value){1===(value=void 0===value?0:value)?(this.skeleton.heroAlreadyDie=!0,this.deactivateBtnSword(!1)):2===value?this.deactivateBtnSword(!1):3===value?this.dragon.dieMage():4===value?(this.lift.stopHor(),this.lift.destroyJoint(!1),this.lift.graphic.body.sensor=!0,Client.GameManager.instance.hero.setKeepAngle(!1),Client.GameManager.instance.hero.bodyBase.angularVelocity=8,this.heroDieMagBall=!0,Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(0,13),Client.GameManager.instance.hero.bodyBase.data.GetPosition())):5===value?this.carQuest.activate():6===value?(this.startDefeat=!0,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.addBurn(),this.startSpawningFires=!0,Client.SoundManager.playSFX("s_wheelyFlame",!0)):7===value&&(this.shootCounter=this.magShoot-1)},Level13.prototype.lightingComp=function(){this.lighting.animations.play("anim2"),this.lift.crashBtnUp()},Level13.prototype.activateBtnSword=function(first){void 0===first&&(first=!1),this.btnSword.visible=!0,this.btnSword.inputEnabled=!0,this.btnSword.input.useHandCursor=!0,this.btnSwordOut(),!0===first&&(this.btnSwordAnim.visible=!0,this.btnSwordAnim.animations.play("anim")),Client.GameManager.instance.hero.sword.animations.play("appear"),Client.SoundManager.playSFX("s_sword1")},Level13.prototype.deactivateBtnSword=function(hide,hideSword){void 0===hideSword&&(hideSword=!0),!0===(hide=void 0===hide?!0:hide)?(this.btnSword.visible=!1,!(this.btnSword.inputEnabled=!1)===hideSword&&(Client.GameManager.instance.hero.sword.animations.play("hide"),Client.SoundManager.playSFX("s_sword1"))):(this.btnSword.inputEnabled=!1,this.btnSword.frameName="btnSword instance 10000")},Level13.prototype.btnSwordOut=function(){!1!==this.btnSword.inputEnabled&&(this.btnSword.frameName="btnSword instance 10001")},Level13.prototype.btnSwordOver=function(){!1!==this.btnSword.inputEnabled&&(this.btnSword.frameName="btnSword instance 10002")},Level13.prototype.btnSwordDown=function(){!1!==this.btnSword.inputEnabled&&(this.btnSword.frameName="btnSword instance 10003",Client.GameManager.instance.hero.sword.animations.play("hit"),0===this.currKilling?Client.GameManager.instance.hero.bodyBase.x+120>=this.bat.graphic.x&&Client.GameManager.instance.hero.bodyBase.x+45<=this.bat.graphic.x&&(this.bat.hit(),this.currKilling=1):1===this.currKilling?Client.GameManager.instance.hero.bodyBase.x+190>=this.skeleton.body.x&&(this.currKilling=2,this.skeleton.die()):2===this.currKilling&&400<Client.GameManager.instance.hero.bodyBase.y&&(this.currKilling=3,this.crystalBall.crash(),this.magDied=!0,this.deactivateBtnSword(!0,!1),this.lift.destroyJoint(),Client.SoundManager.playSFX("s_lvl13_ballCrush"),Client.SoundManager.playSFX("s_l13_electricSparks")))},Level13.prototype.btnSwordUp=function(sprite,pointer,isOver){!1!==this.btnSword.inputEnabled&&(!0===isOver?this.btnSwordOver():this.btnSwordOut())},Level13.prototype.update=function(){_super.prototype.update.call(this),!0===this.startDefeat&&(this.counterDefeat+=1,140===this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed()),1===this.changeHeroDirCount?(this.changeHeroDirCount=2,this.percentLift=Client.Tools.roundDec(Client.Tools.percentToF(Math.round(this.lift.graphic.body.y)-this.lift.startTop,this.lift.endBot-this.lift.startTop),3),Client.GameManager.instance.hero.setKeepAngle(!1),Client.GameManager.instance.hero.bodyBase.angularVelocity=12-4*this.percentLift):2===this.changeHeroDirCount&&(this.changeCounter+=1,20===this.changeCounter?(Client.GameManager.instance.hero.bodyBase.velocity.x=-10,Client.GameManager.instance.hero.changeDirection(),Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1,!1)):50===this.changeCounter&&(Client.GameManager.instance.hero.setKeepAngle(!0),this.changeHeroDirCount=3)),1===this.stopLiftHorCount&&!(this.stopLiftHorCount=2)===this.heroDieMagBall&&(this.lift.stopHor(),this.activateBtnSword(),this.btnSword.x=345,this.btnSword.y=557),this.updateShoots(),2===this.wheelyCount&&(this.wheelyCount=3,this.dragon.flyAway(),Client.GameManager.instance.hero.setEnableMotor(!1)),!0===this.startSpawningFires&&(this.spawningFiresCounter+=1,2===this.spawningFiresCounter)&&(this.spawningFiresCounter=0,this.spawnFire(Client.GameManager.instance.hero.bodyBase.x+Client.Tools.random(-40,40),Client.GameManager.instance.hero.bodyBase.y+Client.Tools.random(-20,20),.7+.5*Math.random()))},Level13.prototype.spawnFire=function(x,y,scale){for(var i=0;i<this.fires.length;i++)if(!1===this.fires[i].visible)return this.fires[i].visible=!0,this.fires[i].x=x,this.fires[i].y=y,this.fires[i].scale.setTo(scale),void this.fires[i].animations.play("anim");var fire=Client.GameManager.instance.layerUpper.create(x,y,"level13");fire.animations.add("anim",Phaser.Animation.generateFrameNames("fireEmitter instance 1",0,17,"",4),30,!1).onComplete.add(this.fireComplete,this),fire.animations.play("anim"),fire.scale.setTo(scale),fire.angle=-90,this.fires.push(fire)},Level13.prototype.fireComplete=function(fire,data){fire.visible=!1},Level13.prototype.updateShoots=function(){!0!==this.magDied&&0<this.shootCounter&&(this.shootCounter+=1,this.shootCounter===this.magShoot?this.dragon.shootMage():this.shootCounter===this.dragShoot&&(this.shootCounter=1,this.dragon.shootDragon()))},Level13.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,295,203,0);ground.setRectangle(610,40),(ground=new Phaser.Physics.Box2D.Body(this.game,null,163,530,0)).setRectangle(400,28),(ground=new Phaser.Physics.Box2D.Body(this.game,null,162,135,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.activateSword,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,213,135,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.activateSkeleton,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,629,147,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.hideSword,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,604,605,0)).setRectangle(532,12),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.heroDefeat,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,688,230,0)).setRectangle(100,20),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.changeHeroDir,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,363,430,0)).setRectangle(20,206),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.stopLiftHor,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,400,430,0)).setRectangle(10,206),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.lighttingOnBtnLift,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,250,463,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.hideSword2,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,87,463,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.goOnDragon,this)},Level13.prototype.hideSword2=function(){0===this.wheelyCount&&(this.wheelyCount=1,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!0,!1),Client.GameManager.instance.hero.sword.animations.play("hide"),Client.SoundManager.playSFX("s_sword1"))},Level13.prototype.goOnDragon=function(){1===this.wheelyCount&&(this.wheelyCount=2)},Level13.prototype.lighttingOnBtnLift=function(){0===this.lighttingOnBtnLiftCount&&(this.lighttingOnBtnLiftCount=1,this.lighting.visible=!0,this.lighting.animations.play("anim"),this.shootCounter=this.magShoot)},Level13.prototype.stopLiftHor=function(){0===this.stopLiftHorCount&&(this.stopLiftHorCount=1,this.shootCounter=this.magShoot)},Level13.prototype.activateSword=function(){0===this.activateSwordCount&&(this.activateSwordCount=1,this.activateBtnSword(!0),this.bat.fly(),Client.SoundManager.playSFX("s_lvl13_batEmergency"),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraidTime)},Level13.prototype.activateSkeleton=function(){0===this.activateSkeletonCount&&(this.activateSkeletonCount=1,this.skeleton.appear())},Level13.prototype.hideSword=function(){0===this.hideSwordCount&&(this.hideSwordCount=1,this.deactivateBtnSword())},Level13.prototype.heroDefeat=function(){0===this.heroDefeatCounter&&(this.heroDefeatCounter=1,this.ghosts.showWheely(),Client.SoundManager.playSFX("s_lvl13_ghostDeath"))},Level13.prototype.changeHeroDir=function(){0===this.changeHeroDirCount&&(this.changeHeroDirCount=1)},Level13.prototype.free=function(){_super.prototype.free.call(this),this.ghosts=null,this.btnSword=null,this.btnSwordAnim=null,this.lift=null,this.carQuest=null,this.crystalBall=null,this.skeleton=null,this.bat=null,this.dragon=null,this.lighting=null,this.fires=[],this.fires=null},Level13})(Client.BasicLevel);Client.Level13=Level13})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level14=(_super=>{function Level14(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.updatePressGears=!1,_this.startDefeat=!1,_this.counterDefeat=0,_this.dragonMove=1,_this.showBlackScreen=!1,_this.radius=600,_this.startWin=!1,_this.startWinCounter=0,_this}return __extends(Level14,_super),Level14.prototype.init=function(){var sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel14_1");sprite.cacheAsBitmap=!0,this.pressGear1=Client.GameManager.instance.layerBackground.create(605,332,"level14","pressGear instance 10000"),this.pressGear1.anchor.setTo(.5),this.pressGear2=Client.GameManager.instance.layerBackground.create(639,320,"level14","pressGear instance 10000"),this.pressGear2.anchor.setTo(.5),this.pressGear2.angle=15,(sprite=Client.GameManager.instance.layerBackground.create(615,183,"level14","girlBed instance 10000")).cacheAsBitmap=!0,this.addQuestWheel(14,771,451,Client.GameManager.instance.layerBackground),this.addQuestCar(237,550,Client.GameManager.instance.layerBackground),this.updateElements.push(new Client.Lvl14Tree(this.game,247,604,2)),this.updateElements.push(new Client.Lvl14Tree(this.game,208,593,1)),this.updateElements.push(new Client.Lvl14Tree(this.game,285,587,3)),this.door=new Client.Lvl14Door(this.game),this.updateElements.push(this.door),this.girl=new Client.Lvl14Girl(this.game),this.updateElements.push(this.girl),this.press=new Client.Lvl14Press(this.game),this.updateElements.push(this.press),this.lever1=new Client.Lvl14Lever1(this.game),this.updateElements.push(this.lever1),(sprite=Client.GameManager.instance.layerBackground.create(800,600,"bgLevel14_2")).anchor.setTo(1),sprite.cacheAsBitmap=!0,this.blackScreen=this.game.make.bitmapData(800,600),(sprite=new Phaser.Sprite(this.game,0,0,this.blackScreen)).alpha=.8,Client.GameManager.instance.layerUpper.addChild(sprite),sprite=null,this.lever2=new Client.Lvl14Lever2(this.game,606,469,2),this.updateElements.push(this.lever2),this.lever3=new Client.Lvl14Lever2(this.game,674,469,3),this.updateElements.push(this.lever3),this.pipe=new Client.Lvl14Pipe(this.game),this.updateElements.push(this.pipe),this.lamp=new Client.Lvl14Lamp(this.game),this.updateElements.push(this.lamp),this.dragon=new Client.Lvl14Dragon(this.game),this.updateElements.push(this.dragon),Client.GameManager.instance.hero=new Client.Hero(this.game,100,100),Client.GameManager.instance.hero.setKeepAngle(!1),Client.GameManager.instance.hero.setVisibility(!1),Client.GameManager.instance.hero.bodyWheelBack.fixedRotation=!0,Client.GameManager.instance.hero.bodyWheelFront.fixedRotation=!0,this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this),this.addGround()},Level14.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level14.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level14.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level14.prototype.customAction=function(value){1===(value=void 0===value?0:value)?this.mouseDragStart():2===value?(this.girl.surprise(),this.dragonMove=2):3===value?(this.girl.brokeCar(),this.startDefeat=!0,this.dragon.playStart(),this.dragonMove=3):4===value?this.dragon.playSmoke(!0):5===value?(this.lever1.deactivate(),this.lever2.deactivate(),this.lever3.deactivate(),this.pipe.playAnim("anim")):6===value?(this.lever1.deactivate(),this.lever2.deactivate(),this.lever3.deactivate(),this.press.start(),this.updatePressGears=!0):7===value?(this.lever1.deactivate(),this.lever2.deactivate(),this.lever3.deactivate(),this.door.open()):8===value?(this.girl.stopVelocityY(),this.updatePressGears=!1):9===value?this.lamp.activate():10===value&&(Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.hero.currEyesState=Client.EyesState.finish,this.showBlackScreen=!0,Client.SoundManager.playSFX("s_romanticMelody"))},Level14.prototype.blowHero=function(x,y,angle,imp){Client.GameManager.instance.hero.setVisibility(!0),Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraidTime,Client.GameManager.instance.hero.setPosition(x,y),Client.GameManager.instance.hero.bodyBase.angle=angle,Client.GameManager.instance.hero.bodyBase.angularVelocity=9,!0===imp?(this.startDefeat=!0,Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(-8,6),Client.GameManager.instance.hero.bodyBase.data.GetPosition())):Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(-10,6),Client.GameManager.instance.hero.bodyBase.data.GetPosition())},Level14.prototype.drawBlackScreen=function(){this.radius-=5,this.radius<=100?(this.showBlackScreen=!1,this.startWin=!0):(this.blackScreen.clear(),this.blackScreen.ctx.fillStyle="#000000",this.blackScreen.ctx.beginPath(),this.blackScreen.ctx.rect(0,0,800,600),this.blackScreen.ctx.arc(550,290,this.radius,0,2*Math.PI,!0),this.blackScreen.ctx.closePath(),this.blackScreen.ctx.fill())},Level14.prototype.update=function(){_super.prototype.update.call(this),!0===this.showBlackScreen&&this.drawBlackScreen(),!0===this.startWin&&(this.startWinCounter+=1,120===this.startWinCounter)&&(Client.DataManager.getInstance().saveData("questFlag"+Client.LevelManager.getInstance().currentLevel,1),this.game.state.start(SceneList.Comix2,!0,!1),this.startWin=!1),1===this.dragonMove?(this.dragon.group.x+=2,150<=this.dragon.group.x&&(this.lever1.activate(),this.lever2.activate(),this.lever3.activate(),this.dragonMove=0)):2===this.dragonMove?(this.dragon.group.x+=2,225<=this.dragon.group.x&&(this.dragonMove=0,this.dragon.playSmoke(!1))):3===this.dragonMove&&(--this.dragon.group.x,this.dragon.group.x<=-400)&&(this.dragonMove=0),!0===this.updatePressGears&&(this.pressGear1.angle-=3,this.pressGear2.angle+=3),!0===this.startDefeat&&(this.counterDefeat+=1,120===this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed())},Level14.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,573,348,0);ground.setRectangle(370,26),ground.friction=3},Level14.prototype.free=function(){_super.prototype.free.call(this),this.lamp=null,this.door=null,this.press=null,this.pipe=null,this.lever1=null,this.lever2=null,this.lever3=null,this.girl=null,this.pressGear1=null,this.pressGear2=null,this.dragon=null,this.blackScreen=null},Level14})(Client.BasicLevel);Client.Level14=Level14})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level2=(_super=>{function Level2(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.activeMagicParts=!0,_this.counterMagicParts=0,_this.startDefeat=!1,_this.counterDefeat=0,_this.startSpawningBubbles=!1,_this.spawningBubblesCounter=0,_this.counterDragon=0,_this.counterWater=0,_this.counterTurtle=0,_this}return __extends(Level2,_super),Level2.prototype.init=function(){Client.SoundManager.playSFX("sfx_villageAmbience",!0),Client.SoundManager.playSFX("s_wheelyMagic"),this.bubbles=new Array,this.magicParts=new Array,this.game.world.resize(800,600),this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,-100/this.game.physics.box2d.ptmRatio));var sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel2_1");sprite.cacheAsBitmap=!0,this.addQuestWheel(2,697,167,Client.GameManager.instance.layerBackground),this.dragon=Client.GameManager.instance.layerBackground.create(-50,-30,"level2"),this.dragon.animations.add("anim",Phaser.Animation.generateFrameNames("dragon instance 1",0,16,"",4),30,!0),this.dragon.angle=5,this.dragon.visible=!1,this.dragonSpeedX=3*Math.cos(this.dragon.rotation),this.dragonSpeedY=3*Math.sin(this.dragon.rotation),this.lighting=Client.GameManager.instance.layerBackground.create(28,-10,"level2"),this.lighting.animations.add("anim1",Phaser.Animation.generateFrameNames("lighting instance 1",0,12,"",4),30,!1).onComplete.addOnce(this.showLighting2,this),this.lighting.animations.add("anim2",Phaser.Animation.generateFrameNames("lighting instance 1",13,37,"",4),30,!1).killOnComplete=!0,this.lighting.visible=!1,this.houseLighting=Client.GameManager.instance.layerBackground.create(19,206,"level2","houseLighting instance 10000"),this.houseLighting.animations.add("anim",Phaser.Animation.generateFrameNames("houseLighting instance 1",1,38,"",4),30,!1),this.addQuestCarLever(),(sprite=Client.GameManager.instance.layerBackground.create(97,327,"level2","questCarLeverBase instance 10000")).anchor.y=.5,sprite.cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(110,335,"level2","fonar instance 10000")).cacheAsBitmap=!0,this.lighting2=Client.GameManager.instance.layerBackground.create(60,-30,"level2"),this.lighting2.scale.setTo(2),this.lighting2.animations.add("anim",Phaser.Animation.generateFrameNames("lighting2 instance 1",0,20,"",4),30,!1).killOnComplete=!0,this.lighting2.visible=!1,Client.GameManager.instance.hero=new Client.Hero(this.game,70,300),Client.GameManager.instance.hero.setCollideWorldBounds(!1),this.jelly=Client.GameManager.instance.layerElements.create(70,300,"level2","jelly instance 10000"),this.jelly.anchor.setTo(.5),this.peasant=new Client.Lvl2Peasant(this.game),this.updateElements.push(this.peasant),this.bridge=new Client.Lvl2Bridge(this.game),this.updateElements.push(this.bridge),(sprite=Client.GameManager.instance.layerUpper.create(0,600,"bgLevel2_2")).anchor.setTo(0,1),sprite.cacheAsBitmap=!0,this.turtle=Client.GameManager.instance.layerUpper.create(362,557,"level2","turtle instance 10000"),this.turtle.animations.add("anim",Phaser.Animation.generateFrameNames("turtle instance 1",1,22,"",4),30,!1),sprite=null,this.addGround(),this.updateElements.push(new Client.Finish(this.game,703,417)),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this)},Level2.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level2.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level2.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level2.prototype.customAction=function(value){1===(value=void 0===value?0:value)&&this.mouseDragEnd()},Level2.prototype.addQuestCarLever=function(){this.questCarLever=Client.GameManager.instance.layerBackground.create(101,325,"level2","questCarLever instance 10000"),this.questCarLever.anchor.y=.5,this.questCarLever.pivot.x=-8,this.questCarLever.angle=-52,this.questCarLever.inputEnabled=!0,this.questCarLever.input.useHandCursor=!0,this.questCarLever.events.onInputOut.add(function(){!0===this.questCarLever.inputEnabled&&(this.questCarLever.frameName="questCarLever instance 10000")},this),this.questCarLever.events.onInputOver.add(function(){!0===this.questCarLever.inputEnabled&&(this.questCarLever.frameName="questCarLever instance 10001")},this),this.questCarLever.events.onInputDown.addOnce(function(){Client.SoundManager.playSFX("sfx_lever"),this.questCarLever.inputEnabled=!1,this.questCarLever.frameName="questCarLever instance 10002",this.game.add.tween(this.questCarLever).to({angle:52},600,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){this.showLighting()},this)},this)},Level2.prototype.showLighting=function(){this.houseLighting.animations.play("anim"),this.lighting.animations.play("anim1"),this.lighting.visible=!0},Level2.prototype.showLighting2=function(){this.lighting.animations.play("anim2"),this.lighting2.animations.play("anim"),this.lighting2.visible=!0,Client.SoundManager.playSFX("s_lightning");var posX=170;100<Client.GameManager.instance.hero.bodyBase.x&&Client.GameManager.instance.hero.bodyBase.x<260&&(this.lighting2.x=-85,posX=25),this.addQuestCar(posX,447,Client.GameManager.instance.layerBackground,Client.GameManager.instance.layerBackground.getChildIndex(this.lighting2))},Level2.prototype.update=function(){_super.prototype.update.call(this),1===this.counterDragon&&(this.dragon.x+=this.dragonSpeedX,this.dragon.y+=this.dragonSpeedY,850<this.dragon.x)&&(this.counterDragon=2,this.dragon.destroy()),!0===this.startSpawningBubbles&&(this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter)&&(this.spawningBubblesCounter=0,this.spawnBubble(Client.GameManager.instance.hero.bodyBase.x+Client.Tools.random(-40,40),Client.GameManager.instance.hero.bodyBase.y+Client.Tools.random(-30,10),.7+.5*Math.random())),!0===this.startDefeat&&(this.counterDefeat+=1,80<=this.counterDefeat)&&(this.startDefeat=!1,Client.LevelBuilder.instance.levelFailed()),this.updateMagicParts()},Level2.prototype.updateMagicParts=function(){if(!1!==this.activeMagicParts){this.counterMagicParts+=1,this.jelly.x=Client.GameManager.instance.hero.bodyBase.x,this.jelly.y=Client.GameManager.instance.hero.bodyBase.y;for(var i=0;i<this.magicParts.length;i++)!0===this.magicParts[i].visible&&(this.magicParts[i].x=this.jelly.x,this.magicParts[i].y=this.jelly.y);this.counterMagicParts%2==0&&this.setMagicPart(Client.Tools.random(-180,180),1+.5*Math.random()),105===this.counterMagicParts&&(this.activeMagicParts=!1,this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,-500/this.game.physics.box2d.ptmRatio)),this.jelly.destroy())}},Level2.prototype.setMagicPart=function(a,scale){for(var x=this.jelly.x,y=this.jelly.y,i=0;i<this.magicParts.length;i++)if(!1===this.magicParts[i].visible)return this.magicParts[i].visible=!0,this.magicParts[i].x=x,this.magicParts[i].y=y,this.magicParts[i].angle=a,this.magicParts[i].scale.setTo(scale),void this.magicParts[i].animations.play("anim");var temp=Client.GameManager.instance.layerElements.create(x,y,"level2");temp.animations.add("anim",Phaser.Animation.generateFrameNames("magicPinkPart instance 1",0,29,"",4),30,!1).onComplete.add(this.magicParComplete,this),temp.animations.play("anim"),temp.pivot.x=-20,temp.angle=a,temp.scale.setTo(scale),this.magicParts.push(temp)},Level2.prototype.magicParComplete=function(part,data){part.visible=!1},Level2.prototype.spawnBubble=function(x,y,scale){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].visible=!0,this.bubbles[i].x=x,this.bubbles[i].y=y,this.bubbles[i].scale.setTo(scale),void this.bubbles[i].animations.play("anim");var bubble=Client.GameManager.instance.layerUpper.create(x,y,"level2");bubble.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),bubble.animations.play("anim"),bubble.scale.setTo(scale),this.bubbles.push(bubble)},Level2.prototype.bubbleComplete=function(bubble,data){bubble.visible=!1},Level2.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,108,497,0);ground.setRectangle(218,70),(ground=new Phaser.Physics.Box2D.Body(this.game,null,793,497,0)).setRectangle(600,70),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1e3,462,0)).setRectangle(10,100),(ground=new Phaser.Physics.Box2D.Body(this.game,null,230,561,0)).setRectangle(100,42),ground.angle=41,(ground=new Phaser.Physics.Box2D.Body(this.game,null,302,601,0)).setRectangle(100,42),ground.angle=19,(ground=new Phaser.Physics.Box2D.Body(this.game,null,361,608,0)).setRectangle(100,42),ground.angle=1,(ground=new Phaser.Physics.Box2D.Body(this.game,null,431,593,0)).setRectangle(100,42),ground.angle=-16,(ground=new Phaser.Physics.Box2D.Body(this.game,null,485,555,0)).setRectangle(100,42),ground.angle=-45,(ground=new Phaser.Physics.Box2D.Body(this.game,null,246,418,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.goDragon,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,355,523,0)).setRectangle(264,77),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inWater,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,384,570,0)).setRectangle(36,24),ground.setCollisionCategory(Client.FilterGroups.CAR2),ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.onTurtle,this),ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelBack,this.onTurtle,this),ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelFront,this.onTurtle,this)},Level2.prototype.goDragon=function(){0===this.counterDragon&&(this.dragon.animations.play("anim"),this.dragon.visible=!0,this.counterDragon=1,Client.SoundManager.playSFX("sfx_dragonWings"),this.peasant.showThink1())},Level2.prototype.inWater=function(){0===this.counterWater&&(this.counterWater=1,Client.SoundManager.playSFX("sfx_bubles",!0),this.startSpawningBubbles=!0,this.startDefeat=!0,this.bridge.deactivate(),Client.GameManager.instance.hero.bodyBase.angularDamping=1,Client.GameManager.instance.hero.setKeepAngle(!1),Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1,!1))},Level2.prototype.onTurtle=function(){0===this.counterTurtle&&(this.turtle.animations.play("anim"),this.counterTurtle=1)},Level2.prototype.free=function(){this.game.physics.box2d.world.SetGravity(new box2d.b2Vec2(0,-500/this.game.physics.box2d.ptmRatio)),_super.prototype.free.call(this),this.bridge=null,this.turtle=null,this.questCarLever=null,this.houseLighting=null,this.lighting=null,this.lighting2=null,this.dragon=null,this.peasant=null,this.bubbles=[],this.bubbles=null,this.magicParts=[],this.magicParts=null,this.jelly=null},Level2})(Client.BasicLevel);Client.Level2=Level2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level3=(_super=>{function Level3(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.warriorCheckPoint=0,_this.start=0,_this.counterStart=0,_this.maceContacted=!1,_this.stopHeroCount=0,_this.punchMishenCounter=0,_this.stopWarriorCounter=0,_this}return __extends(Level3,_super),Level3.prototype.init=function(){Client.SoundManager.playSFX("sfx_villageAmbience",!0),this.weapons=new Array;var sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel3_1");sprite.cacheAsBitmap=!0,this.roof=new Client.Lvl3Roof(this.game),this.updateElements.push(this.roof),(sprite=Client.GameManager.instance.layerBackground.create(0,213,"bgLevel3_2")).cacheAsBitmap=!0,this.mishen=new Client.Lvl3Mishen(this.game),this.updateElements.push(this.mishen),this.king=new Client.Lvl3King(this.game),this.updateElements.push(this.king),this.mage=new Client.Lvl3Mag(this.game),this.updateElements.push(this.mage),this.jester=new Client.Lvl3Jester(this.game),this.updateElements.push(this.jester),this.guardLeft=new Client.Lvl3Guard(this.game,90,303,-1),this.updateElements.push(this.guardLeft),this.guardRight=new Client.Lvl3Guard(this.game,786,309),this.updateElements.push(this.guardRight),(sprite=Client.GameManager.instance.layerBackground.create(315,474,"level3","bgPart1 instance 10000")).cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(30,283,"level3","weapons instance 10000")).cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(774,348,"level3","weapons instance 10000")).scale.x=-1,sprite.cacheAsBitmap=!0,this.createWeapons(),this.swordPanel=new Client.Lvl3SwordPanel(this.game),this.updateElements.push(this.swordPanel),(sprite=Client.GameManager.instance.layerBackground.create(43,298,"level3","weaponsPod instance 10000")).cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(761,363,"level3","weaponsPod instance 10000")).scale.x=-1,sprite.cacheAsBitmap=!0,this.warrior=new Client.Lvl3Warrior(this.game),this.warrior.moveStart(-9),this.updateElements.push(this.warrior),Client.GameManager.instance.hero=new Client.Hero(this.game,-80,428),Client.GameManager.instance.hero.activeClick=!1,Client.GameManager.instance.hero.setEnableMotor(!0),(sprite=Client.GameManager.instance.layerUpper.create(0,600,"bgLevel3_3")).anchor.y=1,sprite.cacheAsBitmap=!0,this.door=new Client.Lvl3Door(this.game),this.updateElements.push(this.door),this.dragon=new Client.Lvl3Dragon(this.game),this.updateElements.push(this.dragon),this.addQuestWheel(3,159,571,Client.GameManager.instance.layerUpper),sprite=null,this.addGround(),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this)},Level3.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level3.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level3.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level3.prototype.customAction=function(value){if(0===(value=void 0===value?0:value))this.weaponOnhero&&"spear"!==this.weaponOnhero.frameName&&!1===this.swordPanel.active&&this.weaponOnhero.attack();else if(1===value){this.deactivateWeapons();for(var heroWeapon="",i=0;i<this.weapons.length;i++)if(!0===this.weapons[i].onHero)this.weaponOnhero=this.weapons[i],heroWeapon=this.weaponOnhero.frameName;else if(this.weapons[i].frameName===heroWeapon){this.warrior.takeWeapon(this.weapons[i]);break}this.start=1,this.jester.matchStart()}else 2===value?(this.roof.crash(),this.king.activate(),this.jester.activate(),this.guardLeft.activate(),this.guardRight.activate(),this.mage.playFear(),Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid):3===value?(this.mage.playAttack(),Client.GameManager.instance.hero.currEyesState=Client.EyesState.idle):4===value?this.mage.explosion():5===value?!1===this.maceContacted&&150<Client.GameManager.instance.hero.bodyBase.x&&Client.GameManager.instance.hero.bodyBase.x<220&&(this.mage.wakeUp(),this.maceContacted=!0,this.warrior.trowWeapon()):6===value?(this.warrior.transformation(),Client.GameManager.instance.hero.setEnableMotor(!1),this.start=5):7===value?(Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1),this.weaponOnhero.attack(),this.warrior.moveStop(!0),this.warrior.defeatSwordBattle(),this.start=4,this.swordsSparks.destroy(),this.warrior.bodyBase.velocity.x=30,this.warrior.trowWeapon(),500<this.warrior.bodyBase.x&&(this.swordWalls.x=500),this.jester.matchEnd()):8===value?(this.warrior.moveStop(!0),this.warrior.weapon.attack(),Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.bodyBase.fixedRotation=!0,Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(15,2),Client.GameManager.instance.hero.bodyBase.data.GetPosition()),this.start=3,this.swordsSparks.destroy(),this.warrior.bodyBase.velocity.x=30,this.weaponOnhero.trowWeapon()):9===value&&this.jester.matchEnd()},Level3.prototype.createWeapons=function(){var weapon=new Client.Lvl3Weapon(this.game,"sword",21,308,0,!0);this.weapons.push(weapon),this.updateElements.push(weapon),weapon=new Client.Lvl3Weapon(this.game,"mace",33,340,0,!0),this.weapons.push(weapon),this.updateElements.push(weapon),weapon=new Client.Lvl3Weapon(this.game,"spear",24,366,5,!0),this.weapons.push(weapon),this.updateElements.push(weapon),weapon=new Client.Lvl3Weapon(this.game,"sword",782,374,0,!1),this.weapons.push(weapon),this.updateElements.push(weapon),weapon=new Client.Lvl3Weapon(this.game,"mace",770,406,0,!1),this.weapons.push(weapon),this.updateElements.push(weapon),weapon=new Client.Lvl3Weapon(this.game,"spear",779,432,5,!1),this.weapons.push(weapon),this.updateElements.push(weapon)},Level3.prototype.activateWeapons=function(){for(var i=0;i<this.weapons.length;i++)this.weapons[i].activate()},Level3.prototype.deactivateWeapons=function(){for(var i=0;i<this.weapons.length;i++)this.weapons[i].deactivate()},Level3.prototype.update=function(){_super.prototype.update.call(this),1===this.start?(this.counterStart+=1,40===this.counterStart&&(this.start=2,this.counterStart=0,Client.GameManager.instance.hero.setEnableMotor(!0),this.warrior.moveStart(-7))):2===this.start?"sword"===this.weaponOnhero.frameName?Client.Tools.distance(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y,this.warrior.bodyBase.x,this.warrior.bodyBase.y)<130&&(this.start=-1,this.swordWalls.y=420,this.swordPanel.show(),Client.GameManager.instance.hero.bodyBase.fixedRotation=!0,this.swordsSparks=Client.GameManager.instance.layerElements.create(0,330,"level3"),this.swordsSparks.animations.add("anim",Phaser.Animation.generateFrameNames("swordsSparks instance 1",0,7,"",4),30,!0),this.swordsSparks.animations.play("anim")):"mace"===this.weaponOnhero.frameName?Client.Tools.distance(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y,this.warrior.bodyBase.x,this.warrior.bodyBase.y)<130&&(this.warrior.moveStop(!0),this.warrior.weapon.attack(),this.weaponOnhero.trowWeapon(),Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.bodyBase.fixedRotation=!0,Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(15,2),Client.GameManager.instance.hero.bodyBase.data.GetPosition()),this.start=3):"spear"===this.weaponOnhero.frameName&&Client.Tools.distance(Client.GameManager.instance.hero.bodyBase.x,Client.GameManager.instance.hero.bodyBase.y,this.warrior.bodyBase.x,this.warrior.bodyBase.y)<150&&(this.warrior.moveStop(!0),this.warrior.weapon.attack(),this.weaponOnhero.trowWeapon(),Client.GameManager.instance.hero.currState=Client.HeroState.bumpStars,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.bodyBase.fixedRotation=!0,Client.GameManager.instance.hero.bodyBase.data.ApplyLinearImpulse(new box2d.b2Vec2(15,2),Client.GameManager.instance.hero.bodyBase.data.GetPosition()),this.start=3):3===this.start?(this.counterStart+=1,80===this.counterStart&&(this.start=-1,this.counterStart=0,Client.LevelBuilder.instance.levelFailed())):4===this.start?(this.counterStart+=1,200===this.counterStart&&(this.start=-1,this.counterStart=0,this.dragon.playAppear())):5===this.start&&(this.counterStart+=1,350===this.counterStart)&&(this.start=-1,this.counterStart=0,this.dragon.playAppear()),0===this.warriorCheckPoint&&this.warrior.bodyBase.x<730&&(this.warriorCheckPoint=1,this.warrior.moveStop(!0)),1===this.punchMishenCounter&&(this.punchMishenCounter=2,!0===this.mishen.opened)&&"spear"===this.weaponOnhero.frameName&&(this.mishen.punch(),this.door.open(),this.weaponOnhero.attack(),Client.GameManager.instance.hero.setEnableMotor(!1)),1===this.stopWarriorCounter&&(this.stopWarriorCounter=2,this.warrior.moveStop(),this.start=4,this.jester.matchEnd(),this.warrior.trowWeapon(),Client.SoundManager.playSFX("sfx_pitFall")),!0===this.swordPanel.active&&(this.warrior.speed=-7,.5<this.swordPanel.percent?Client.GameManager.instance.hero.bodyWheelFront.angularVelocity=Client.GameManager.instance.hero.bodyWheelBack.angularVelocity:this.warrior.bodyWheel1.angularVelocity=this.warrior.bodyWheel2.angularVelocity,this.swordsSparks.x=Client.GameManager.instance.hero.bodyBase.x-10)},Level3.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,15,534,0);ground.setRectangle(600,120),(ground=new Phaser.Physics.Box2D.Body(this.game,null,796,534,0)).setRectangle(600,120),(ground=new Phaser.Physics.Box2D.Body(this.game,null,0,354,0)).setRectangle(340,20),ground.setCollisionMask(~Client.FilterGroups.WALL),(ground=new Phaser.Physics.Box2D.Body(this.game,null,335,598,0)).setRectangle(100,48),ground.angle=10,(ground=new Phaser.Physics.Box2D.Body(this.game,null,130,420,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.stopHero,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,250,420,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.punchMishen,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,405,550,0)).setRectangle(100,10),ground.sensor=!0,ground.setBodyContactCallback(this.warrior.bodyBase,this.stopWarrior,this),ground=null,this.swordWalls=new Phaser.Physics.Box2D.Body(this.game,null,405,-100,1),this.swordWalls.setRectangle(10,100,-200),this.swordWalls.addRectangle(10,100,200),this.swordWalls.setCollisionCategory(Client.FilterGroups.CAR2)},Level3.prototype.stopHero=function(){0===this.stopHeroCount&&(this.stopHeroCount=1,this.activateWeapons(),Client.GameManager.instance.hero.setEnableMotor(!1))},Level3.prototype.punchMishen=function(){0===this.punchMishenCounter&&(this.punchMishenCounter=1)},Level3.prototype.stopWarrior=function(){0===this.stopWarriorCounter&&(this.stopWarriorCounter=1)},Level3.prototype.free=function(){_super.prototype.free.call(this),this.weapons=[],this.weapons=null,this.roof=null,this.door=null,this.mishen=null,this.weaponOnhero=null,this.swordPanel=null,this.king=null,this.mage=null,this.guardRight=null,this.guardLeft=null,this.jester=null,this.dragon=null,this.warrior=null,this.swordWalls=null,this.swordsSparks=null},Level3})(Client.BasicLevel);Client.Level3=Level3})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level4=(_super=>{function Level4(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.heroHided=!1,_this.gameOver=!1,_this.bubbles=new Array,_this.startSpawningBubbles=!1,_this.spawningBubblesCounter=0,_this.heroStop=!1,_this.gameOverCounter=0,_this.dragNow=!1,_this.cameraMooved=!1,_this.bubleWasCreated=!1,_this}return __extends(Level4,_super),Level4.prototype.init=function(){this.game.world.setBounds(0,0,1600,600),Client.GameManager.instance.layerBackground.create(0,0,"bgLevel4_1").cacheAsBitmap=!0,Client.GameManager.instance.layerUpper.create(137,516,"level4","water instance 10000").cacheAsBitmap=!0,Client.GameManager.instance.layerUpper.create(-15,500,"level4","bgPart instance 10000").cacheAsBitmap=!0,Client.GameManager.instance.hero=new Client.Hero(this.game,-100,469),Client.GameManager.instance.hero.setCollideWorldBounds(!1),this.addGround(),this.addBgElements(),this.addTree(),this.addBridge(),this.addTopCar(),this.addBubbles(),this.addKing(),this.addWardens(),this.addDoor(),this.addQuestWheel(4,887,355,Client.GameManager.instance.layerBackground),this.addQuestCar(168,396,Client.GameManager.instance.layerBackground,1,-9)},Level4.prototype.addBgElements=function(){this.waterfall2=new Client.Lvl4WaterFall1(this.game),this.updateElements.push(this.waterfall2);var waterfall=new Client.Lvl4WaterFall2(this.game),waterfall=(this.updateElements.push(waterfall),this.waterfall3=new Client.Lvl4WaterFall3(this.game),this.updateElements.push(this.waterfall3),new Client.Lvl4Stone(this.game)),waterfall=(this.updateElements.push(waterfall),Client.GameManager.instance.layerBackground.create(-78,321,"level4","partBg instance 10000"));waterfall.cacheAsBitmap=!0},Level4.prototype.addTree=function(){this.tree=Client.GameManager.instance.layerBackground.create(-1,333,"level4","tree instance 10001"),this.tree.inputEnabled=!0,this.tree.input.useHandCursor=!0,this.tree.events.onInputDown.add(this.startDrag,this),this.tree.events.onInputUp.add(this.stopDrag,this),this.tree.events.onInputOver.add(this.over,this),this.tree.events.onInputOut.add(this.out,this),this.dragTree=Client.GameManager.instance.layerUpper.create(0,0,"level4","dragShrubPart instance 10000"),this.dragTree.anchor.set(.5),this.dragTree.visible=!1},Level4.prototype.over=function(sprite){!1===this.dragNow&&(sprite.frameName="tree instance 10002")},Level4.prototype.out=function(sprite){!1===this.dragNow&&(sprite.frameName="tree instance 10001")},Level4.prototype.startDrag=function(){!1===this.heroHided&&(this.dragNow=!0,this.dragTree.visible=!0,this.tree.frameName="tree instance 10001")},Level4.prototype.stopDrag=function(){this.dragNow=!1,this.dragTree.visible=!1},Level4.prototype.addBridge=function(){this.bridge=new Client.Lvl4Bridge(this.game,396,520),this.updateElements.push(this.bridge)},Level4.prototype.addTopCar=function(){this.topCar=new Client.Lvl4TopCar(this.game),this.updateElements.push(this.topCar)},Level4.prototype.addKing=function(){this.king=new Client.Lvl4King(this.game),this.updateElements.push(this.king),this.mage=new Client.Lvl4Mage(this.game),this.updateElements.push(this.mage)},Level4.prototype.addWardens=function(){this.warden1=new Client.Lvl4Warden(this.game,464,480,0),this.warden1.setScale(-1),this.warden1.playAnim("idle",-1),this.warden1.addCards(),this.updateElements.push(this.warden1),this.warden2=new Client.Lvl4Warden(this.game,687,480,1),this.warden2.addCards(),this.updateElements.push(this.warden2)},Level4.prototype.addEye=function(){var eye=new Client.Lvl4Eye(540,375);this.updateElements.push(eye)},Level4.prototype.addMap=function(){var map=new Client.Lvl4Map(this.game,1350,350);this.updateElements.push(map)},Level4.prototype.addBubbles=function(){this.heroBubbles=new Client.Lvl4Bubbles,this.updateElements.push(this.heroBubbles)},Level4.prototype.addDoor=function(){this.door=Client.GameManager.instance.layerBackground.create(783,325,"level4","door instance 10000"),this.door.anchor.set(.5);var mask=new Phaser.Graphics(this.game,783,453);mask.beginFill(0,1),mask.drawRect(-25,-70,50,139),mask.endFill(),Client.GameManager.instance.layerBackground.addChild(mask),this.door.mask=mask},Level4.prototype.update=function(){var shrubBranch_mc;_super.prototype.update.call(this),!1===this.heroStop&&45<Client.GameManager.instance.hero.bodyBase.x&&(this.heroStop=!0,Client.GameManager.instance.hero.setEnableMotor(!1)),!0===this.gameOver&&(this.gameOverCounter+=1,60===this.gameOverCounter)&&(Client.LevelBuilder.instance.levelFailed(),!0===this.bubleWasCreated)&&Client.SoundManager.playSFX("s_wheelyDrowned",!0),!1===this.startSpawningBubbles&&550<Client.GameManager.instance.hero.bodyBase.y&&(this.gameOver=!0,this.startSpawningBubbles=!0,this.bubleWasCreated=!0,Client.SoundManager.playSFX("s_wheelyDrowned",!0),Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.hero.setClickable(!1)),!0===this.startSpawningBubbles&&(this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter)&&(this.spawningBubblesCounter=0,this.spawnBubble(Client.GameManager.instance.hero.bodyBase.x+Client.Tools.random(-40,40),Client.GameManager.instance.hero.bodyBase.y+Client.Tools.random(-30,10),.7+.5*Math.random())),!0===this.dragNow&&(this.dragTree.x=this.game.input.activePointer.x,this.dragTree.y=this.game.input.activePointer.y,Client.Tools.distance(this.dragTree.x,this.dragTree.y,Client.GameManager.instance.hero.baseGroup.x,Client.GameManager.instance.hero.baseGroup.y)<30)&&(this.heroHided=!0,this.tree.inputEnabled=!1,this.tree.frameName="tree instance 10000",this.stopDrag(),shrubBranch_mc=this.game.make.sprite(3,-10,"level4","shrubBranch_mc instance 10000"),Client.GameManager.instance.hero.graphicCar.addChild(shrubBranch_mc),Client.SoundManager.playSFX("s_lvl4_shrub")),!1===this.gameOver&&!1===this.cameraMooved&&750<Client.GameManager.instance.hero.bodyBase.x&&(this.cameraMooved=!0,this.game.add.tween(this.door).to({y:452},250,"Linear",!0,1500),this.game.add.tween(this.game.camera).to({x:750},1e3,"Linear",!0,0),Client.GameManager.instance.hero.setClickable(!1)),!0===Client.GameManager.instance.hero.getEnableMotor()&&1e3<Client.GameManager.instance.hero.bodyBase.x&&(Client.GameManager.instance.hero.setEnableMotor(!1),this.heroBubbles.start=!0)},Level4.prototype.spawnBubble=function(x,y,scale){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].reset(x,y),this.bubbles[i].scale.setTo(scale),void this.bubbles[i].animations.play("anim");var bubble=Client.GameManager.instance.layerUpper.create(x,y,"level4","bubbleWaterPart instance 10000",!0,0);bubble.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),bubble.animations.play("anim"),bubble.scale.setTo(scale),this.bubbles.push(bubble)},Level4.prototype.bubbleComplete=function(bubble,tween){bubble.kill()},Level4.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,762,531,0);ground.setRectangle(754,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,-17,523,0)).setRectangle(300,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,240,628,0)).setRectangle(280,20),(ground=new Phaser.Physics.Box2D.Body(this.game,null,385,580,0)).setRectangle(20,76)},Level4.prototype.free=function(){_super.prototype.free.call(this),this.bridge=null,this.topCar=null,this.king=null,this.mage=null,this.warden1=null,this.warden2=null,this.heroBubbles=null,this.bubbles=[],this.bubbles=null,this.tree=null,this.dragTree=null,this.door=null,this.waterfall2=null,this.waterfall3=null},Level4})(Client.BasicLevel);Client.Level4=Level4})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level5=(_super=>{function Level5(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.wheelyDiedSoon=!1,_this.pickArrowCount=0,_this.connectArrowGroundCounter=0,_this.connectMonsterCount=0,_this.connectQuestBagCount=0,_this.trollMove=0,_this.contactHero1Count=0,_this.contactHero2Count=0,_this.contactRobinCount=0,_this}return __extends(Level5,_super),Level5.prototype.init=function(){Client.SoundManager.playSFX("s_lvl5_ambient",!0),this.arrows=new Array;var sprite=Client.GameManager.instance.layerBackground0.create(0,0,"bgLevel5_1");sprite.cacheAsBitmap=!0,this.bird2=new Client.Lvl5Bird2(this.game),this.updateElements.push(this.bird2),this.updateElements.push(new Client.Lvl5Bear(this.game)),(sprite=Client.GameManager.instance.layerBackground.create(256,160,"bgLevel5_2")).cacheAsBitmap=!0,this.treeBranch=new Client.Lvl5TreeBranch(this.game),this.updateElements.push(this.treeBranch),this.addQuestCar(607,202,Client.GameManager.instance.layerBackground),!1===this.questCarFounded&&(this.questCar.inputEnabled=!1),this.questCarBag=new Client.Lvl5QuesCarBag(this.game),this.updateElements.push(this.questCarBag),this.questCarBagBody=new Phaser.Physics.Box2D.Body(this.game,null,605,199,1),this.questCarBagBody.setRectangle(28,26),this.questCarBagBody.setCollisionCategory(Client.FilterGroups.CAR2),this.questCarBagSensor=new Phaser.Physics.Box2D.Body(this.game,null,605,199,1),this.questCarBagSensor.setRectangle(34,34),this.questCarBagSensor.angle=98,this.questCarBagSensor.sensor=!0,this.signal=new Client.Lvl5Signal(this.game),this.updateElements.push(this.signal),this.door=new Client.Lvl5Door(this.game),this.updateElements.push(this.door),Client.GameManager.instance.hero=new Client.Hero(this.game,55,484),this.robin=new Client.Lvl5Robin(this.game),this.updateElements.push(this.robin),(sprite=Client.GameManager.instance.layerBackground.create(466,219,"level5","ropeAxe instance 10000")).anchor.setTo(.5),sprite.cacheAsBitmap=!0,this.arrowPack=Client.GameManager.instance.layerBackground.create(469,128,"level5","arrowPack instance 10002"),this.arrowPack.events.onInputDown.add(this.arrowPackDown,this),this.arrowPack.events.onInputOut.add(this.arrowPackOut,this),this.arrowPack.events.onInputOver.add(this.arrowPackOver,this),this.arrowPack.hitArea=new Phaser.Rectangle(0,0,82,52),(sprite=Client.GameManager.instance.layerBackground.create(448,257,"level5","shield instance 10000")).anchor.setTo(.5),sprite.angle=-12,sprite.cacheAsBitmap=!0,this.addQuestWheel(5,213,390,Client.GameManager.instance.layerBackground),this.barrier=new Client.Lvl5Barrier(this.game),this.updateElements.push(this.barrier),this.monster=new Client.Lvl5Monster(this.game),this.updateElements.push(this.monster),(sprite=Client.GameManager.instance.layerUpper.create(0,600,"bgLevel5_3")).anchor.y=1,sprite.cacheAsBitmap=!0,this.updateElements.push(new Client.Finish(this.game,767,487)),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this),this.addGround()},Level5.prototype.arrowPackDown=function(){if(!this.arrow||"inBow"!==this.arrow.name){this.pickArrowCount=0,this.connectArrowGroundCounter=0,Client.SoundManager.playSFX("s_lvl5_takeArrow");for(var pike,i=0;i<this.arrows.length;i++)if("pick"===this.arrows[i].name)return this.arrow=this.arrows[i],this.arrow.body.data.SetUserData("DragBody"),this.arrow.body.x=this.game.input.worldX,this.arrow.body.y=this.game.input.worldY,this.arrow.data.x=this.game.input.worldX+37,this.arrow.data.y=this.game.input.worldY,this.arrow.visible=!0,this.clearArrowVelocity(),this.arrow.body.angle=-45,void this.mouseDragStart();3===this.arrows.length?(this.arrows.push(this.arrows.shift()),this.arrow=this.arrows[0],this.arrow.body.data.SetUserData("DragBody"),this.arrow.body.data.SetActive(!0),this.arrow.data.data.SetActive(!0),this.arrow.visible=!0,this.arrow.body.x=this.game.input.worldX,this.arrow.body.y=this.game.input.worldY,this.arrow.data.x=this.game.input.worldX+37,this.arrow.data.y=this.game.input.worldY,this.clearArrowVelocity(),this.arrow.body.angle=-45,this.arrow.name="pick"):(this.arrow=this.game.make.sprite(this.game.input.worldX,this.game.input.worldY,"level5","arrow instance 10000"),this.game.physics.box2d.enable(this.arrow),this.arrow.body.setRectangle(74,14),this.arrow.body.data.SetUserData("DragBody"),this.arrow.name="pick",this.arrow.body.setBodyContactCallback(this.robin.bodyBow,this.pickArrow,this),this.arrow.body.setCollisionCategory(Client.FilterGroups.CAR1),this.arrow.body.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),Client.GameManager.instance.layerUpper.addChildAt(this.arrow,Client.GameManager.instance.layerUpper.getChildIndex(this.monster.group)),(pike=new Phaser.Physics.Box2D.Body(this.game,null,this.arrow.x+37,this.arrow.y,2)).setCircle(11),pike.setCollisionCategory(Client.FilterGroups.CAR1),pike.setCollisionMask(~Client.FilterGroups.IGNORE_CAR),pike.setBodyContactCallback(this.ground,this.connectArrowGround,this),pike.setBodyContactCallback(this.monster.body,this.connectMonster,this),pike.setBodyContactCallback(this.questCarBagSensor,this.connectQuestBag,this),this.game.physics.box2d.revoluteJoint(this.arrow.body,pike,37),pike.data.SetUserData(this.arrow),this.arrow.data=pike,this.arrows.push(this.arrow)),this.mouseDragStart()}},Level5.prototype.clearArrowVelocity=function(){this.arrow.body.velocity.x=0,this.arrow.body.velocity.y=0,this.arrow.body.angularVelocity=0,this.arrow.data.velocity.x=0,this.arrow.data.velocity.y=0,this.arrow.data.angularVelocity=0},Level5.prototype.blowArrow=function(x,y,angle,vector){160<vector.length&&(vector.length=160),this.clearArrowVelocity(),this.arrow.body.x=x,this.arrow.body.y=y,this.arrow.body.angle=angle;x=Client.Tools.rotatePointByAngle(x,y,x+37,y,Client.Tools.toRad(angle)),this.arrow.data.x=x.x,this.arrow.data.y=x.y,this.arrow.data.angle=angle,this.arrow.visible=!0,this.arrow.body.data.SetActive(!0),this.arrow.data.data.SetActive(!0),this.arrow.body.data.SetUserData(null),y=vector.length;vector=(vector=vector.normalise()).muleq(8*y),this.arrow.data.data.ApplyLinearImpulse(vector.getBox2db2Vec2(-.016),this.arrow.body.data.GetPosition()),this.arrow.name="blow";x=5-5*Client.Tools.percentToF(y,80);x<0&&(x=0),this.arrow.body.angle+90<0?this.arrow.body.angularVelocity=-x:this.arrow.body.angularVelocity=x},Level5.prototype.arrowPackOut=function(){this.arrowPack.frameName="arrowPack instance 10000"},Level5.prototype.arrowPackOver=function(){this.arrowPack.frameName="arrowPack instance 10001"},Level5.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level5.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level5.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level5.prototype.customAction=function(value){1===(value=void 0===value?0:value)?this.robin.wakeUp():2===value?this.door.activate():3===value?this.trollMove=-1:4===value?this.treeBranch.activate():5===value?this.trollMove=1:6===value?(this.robin.die(),this.updateElements.push(new Client.Lvl5DirtyCloud(this.game,this.robin.body.x+30,this.robin.body.y-20))):7===value?!1===this.questCarFounded&&(this.questCarBagBody.dynamic=!0,this.questCar.inputEnabled=!0,this.questCar.input.useHandCursor=!0):8===value&&(this.wheelyDiedSoon=!0)},Level5.prototype.pickArrow=function(){0===this.pickArrowCount&&this.game.physics.box2d.mouseJoint&&(this.pickArrowCount=1)},Level5.prototype.connectArrowGround=function(b1,b2,f1,f2,begin){b1=(b1=b1.data.GetUserData())||b2.data.GetUserData();0===this.connectArrowGroundCounter&&"blow"===b1.name&&(this.flyArrow=b1,this.connectArrowGroundCounter=1,Client.SoundManager.playSFX("s_lvl5_arrowHit"))},Level5.prototype.connectMonster=function(b1,b2,f1,f2,begin){b1=(b1=b1.data.GetUserData())||b2.data.GetUserData();0===this.connectMonsterCount&&"blow"===b1.name&&(this.connectMonsterCount=1,this.flyArrow=b1,Client.SoundManager.playSFX("s_lvl5_arrowHit"))},Level5.prototype.connectQuestBag=function(b1,b2,f1,f2,begin){b1=(b1=b1.data.GetUserData())||b2.data.GetUserData();0===this.connectQuestBagCount&&"blow"===b1.name&&(this.connectQuestBagCount=1)},Level5.prototype.update=function(){_super.prototype.update.call(this),1===this.connectArrowGroundCounter&&(this.connectArrowGroundCounter=2,this.flyArrow.body.data.SetActive(!1),this.flyArrow.data.data.SetActive(!1),this.flyArrow.body.y+=5),1===this.connectMonsterCount&&(this.connectMonsterCount=2,this.flyArrow.body.data.SetActive(!1),this.flyArrow.data.data.SetActive(!1),this.flyArrow.visible=!1,this.monster.addArrow(this.flyArrow.body.x,this.flyArrow.body.y,this.flyArrow.body.angle,this.wheelyDiedSoon)),!0===this.questCarBagBody.dynamic&&this.questCar&&!0===this.questCar.visible&&(this.questCar.x=this.questCarBagBody.x,this.questCar.y=this.questCarBagBody.y,this.questCar.angle=this.questCarBagBody.angle),1===this.connectQuestBagCount&&(this.connectQuestBagCount=2,this.questCarBag.activate()),1===this.pickArrowCount&&(this.pickArrowCount=2,this.arrow.name="inBow",this.arrow.visible=!1,this.arrow.body.data.SetActive(!1),this.arrow.data.data.SetActive(!1),this.robin.weapon.takeArrow()),1===this.contactHero1Count&&(this.contactHero1Count=2,this.barrier.activate(),this.signal.activate(),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.setClickable(!1),this.barrierBody.sensor=!1),1===this.contactHero2Count&&(this.contactHero2Count=2,this.bird2.activate()),1===this.contactRobinCount?(this.contactRobinCount=2,Client.GameManager.instance.hero.setClickable(!0),Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraidTime,Client.GameManager.instance.hero.bodyWheelFront.fixedRotation=!1,Client.GameManager.instance.hero.bodyWheelBack.fixedRotation=!1,this.arrowPack.inputEnabled=!0,this.arrowPack.input.useHandCursor=!0,this.arrowPackOut(),this.robin.menace()):2===this.contactRobinCount&&(!0===Client.GameManager.instance.hero.getEnableMotor()&&(this.contactRobinCount=3),Client.GameManager.instance.hero.bodyWheelBack.angularVelocity=-6),this.updateTrollPosition()},Level5.prototype.updateTrollPosition=function(){-1===this.trollMove?(this.monster.group.x-=4,this.monster.group.x-this.robin.body.x<250&&(this.trollMove=0,this.monster.attack(),Client.SoundManager.playSFX("s_lvl5_trollAttack"))):1===this.trollMove&&(this.monster.group.x+=4,250<this.monster.group.x-this.robin.body.x&&(this.robin.body.velocity.x=240,Client.SoundManager.playSFX("s_lvl5_robinFriction",!0)),1200<this.monster.group.x)&&(this.trollMove=0,this.monster.destroy(),this.robin.destroy(),Client.SoundManager.stopSFXLoop("s_lvl5_robinStars"),Client.SoundManager.stopSFXLoop("s_lvl5_robinFriction"))},Level5.prototype.addGround=function(){this.ground=new Phaser.Physics.Box2D.Body(this.game,null,400,547,0),this.ground.setRectangle(1e3,30);var ground=new Phaser.Physics.Box2D.Body(this.game,null,322,480,0);ground.setRectangle(12,100),ground.sensor=!0,Client.GameManager.instance.hero.bodyBase.setBodyContactCallback(ground,this.contactHero1,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,516,480,0)).setRectangle(12,100),ground.sensor=!0,Client.GameManager.instance.hero.bodyBase.setBodyContactCallback(ground,this.contactHero2,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1e3,480,0)).setRectangle(10,100),ground.setCollisionMask(~Client.FilterGroups.CAR2),(ground=new Phaser.Physics.Box2D.Body(this.game,null,452,520,0)).setRectangle(100,10),ground.sensor=!0,ground.setBodyContactCallback(this.robin.body,this.contactRobin,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,610,304,0)).setRectangle(100,14),ground.setCollisionCategory(Client.FilterGroups.CAR2),ground=null,this.barrierBody=new Phaser.Physics.Box2D.Body(this.game,null,12,480,0),this.barrierBody.setRectangle(88,100),this.barrierBody.sensor=!0,this.barrierBody.setCollisionCategory(Client.FilterGroups.CAR2)},Level5.prototype.contactHero1=function(){0===this.contactHero1Count&&(this.contactHero1Count=1)},Level5.prototype.contactHero2=function(){0===this.contactHero2Count&&(this.contactHero2Count=1)},Level5.prototype.contactRobin=function(){0===this.contactRobinCount&&(this.contactRobinCount=1)},Level5.prototype.free=function(){_super.prototype.free.call(this),this.treeBranch=null,this.bird2=null,this.questCarBag=null,this.signal=null,this.door=null,this.barrier=null,this.monster=null,this.robin=null,this.barrierBody=null,this.arrowPack=null,this.arrow=null,this.arrows=[],this.arrows=null,this.ground=null,this.questCarBagBody=null,this.questCarBagSensor=null,this.flyArrow=null},Level5})(Client.BasicLevel);Client.Level5=Level5})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level6=(_super=>{function Level6(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.ground=[[142.25,538.1,89,19,284],[595.65,475.95,89,19,128],[797.1,505.45,102,19,285],[377.85,508.75,-102,19,319],[1152.2,538.05,89,19,455],[1369.75,455.95,179,19,191]],_this.swordDown=!1,_this.swordShowed=!1,_this.gameOver=!1,_this.gameOverCounter=0,_this}return __extends(Level6,_super),Level6.prototype.init=function(){this.game.world.resize(800,600);var sprite=Client.GameManager.instance.layerBackground0.create(0,0,"bgLevel6_1");sprite.cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(0,32,"bgLevel6_2")).cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerUpper.create(0,600,"bgLevel6_3")).anchor.y=1,sprite.cacheAsBitmap=!0,sprite=null,Client.GameManager.instance.hero=new Client.Hero(this.game,56,485),Client.GameManager.instance.hero.setCollideWorldBounds(!1),Client.GameManager.instance.hero.angleKeep=Client.Tools.toRad(15),new Client.Finish(this.game,780,455);this.addGround(),this.addHouse(),this.addCars(),this.addSword(),this.addFlags(),this.game.input.onDown.add(this.mouseDragStart,this),this.game.input.addMoveCallback(this.mouseDragMove,this),this.game.input.onUp.add(this.mouseDragEnd,this),this.addQuestWheel(6,32,124,Client.GameManager.instance.layerUpper)},Level6.prototype.addFlags=function(){var flags=new Client.Lvl6Flags(this.game);this.updateElements.push(flags)},Level6.prototype.addChicken=function(){var chicken=new Client.Lvl6Chicken(this.game);this.updateElements.push(chicken)},Level6.prototype.addSword=function(){this.sword=Client.GameManager.instance.layerElements.create(593,502,"level6","sword12 instance 10000"),this.sword.anchor.set(.5,1),this.sword.angle=-5,this.swordAnim=this.game.add.tween(this.sword).to({angle:5},500,"Linear",!0,0,-1,!0),this.swordUI=new Client.Lvl6SwordUI,this.updateElements.push(this.swordUI)},Level6.prototype.playAnim=function(){this.swordAnim.stop(),this.swordAnim=this.game.add.tween(this.sword).to({angle:5},500,"Linear",!0,0,-1,!0)},Level6.prototype.showSwordUI=function(){this.swordUI.show(),this.sword.inputEnabled=!0,this.sword.input.useHandCursor=!0,this.sword.events.onInputDown.add(this.down,this),this.sword.events.onInputUp.add(this.up,this),this.sword.events.onInputOut.add(this.out,this)},Level6.prototype.down=function(){this.swordDown=!0},Level6.prototype.up=function(){this.swordDown=!1,this.swordUI.up()},Level6.prototype.out=function(){var side;!0===this.swordDown&&(side=1,this.game.input.activePointer.x<this.sword.x&&(side=-1),this.game.add.tween(this.sword).to({angle:5*side},100,"Linear",!0),this.swordUI.setProgress(4),!0===this.swordUI.full)&&(this.sword.inputEnabled=!1,this.swordDown=!1,this.game.add.tween(this.sword).to({y:this.sword.y-50},500,"Linear",!0).onComplete.add(function(){this.game.add.tween(this.sword).to({x:Client.GameManager.instance.hero.bodyBase.x-50,y:Client.GameManager.instance.hero.bodyBase.y+20,angle:25},300,"Linear",!0),this.game.add.tween(this.sword.scale).to({x:.6,y:.6},300,"Linear",!0).onComplete.add(this.addCarSword,this)},this))},Level6.prototype.addCarSword=function(){this.sword.visible=!1;var carSword=this.game.make.sprite(15,60,"level6","sword12 instance 10000");carSword.anchor.set(.5,1),carSword.angle=25,carSword.scale.set(.6),Client.GameManager.instance.hero.graphicCar.addChild(carSword),Client.GameManager.instance.hero.setEnableMotor(!0)},Level6.prototype.addHouse=function(){this.house=new Client.Lvl6House,this.updateElements.push(this.house)},Level6.prototype.addCars=function(){this.car1=new Client.Lvl6Car1(this.game),this.updateElements.push(this.car1),this.car2=new Client.Lvl6Car2(this.game),this.updateElements.push(this.car2),this.car3=new Client.Lvl6Car3(this.game),this.updateElements.push(this.car3),this.car4=new Client.Lvl6Car4(this.game),this.updateElements.push(this.car4)},Level6.prototype.moveCars=function(){this.car2.move(),this.car3.move(),this.car4.move()},Level6.prototype.stopCars=function(){this.car2.stopMove(),this.car3.stopMove(),this.car4.stopMove()},Level6.prototype.mouseDragStart=function(){this.game.physics.box2d.mouseDragStart(this.game.input.activePointer.position),this.game.physics.box2d.mouseJoint&&"DragBody"!==this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.mouseDragEnd()},Level6.prototype.mouseDragMove=function(){this.game.physics.box2d.mouseJoint&&"DragBody"===this.game.physics.box2d.mouseJoint.GetBodyB().GetUserData()&&this.game.physics.box2d.mouseDragMove(this.game.input.activePointer.position)},Level6.prototype.mouseDragEnd=function(){this.game.physics.box2d.mouseDragEnd()},Level6.prototype.customAction=function(value){},Level6.prototype.update=function(){_super.prototype.update.call(this),!1===this.swordShowed&&590<Client.GameManager.instance.hero.bodyBase.x&&(this.swordShowed=!0,this.showSwordUI(),this.swordAnim.stop(),this.sword.angle=0,Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1)),!0===this.gameOver&&(this.gameOverCounter+=1,60===this.gameOverCounter)&&Client.LevelBuilder.instance.levelFailed()},Level6.prototype.addGround=function(){for(var ground,i=0;i<this.ground.length;i++)(ground=new Phaser.Physics.Box2D.Body(this.game,null,this.ground[i][0],this.ground[i][1],0)).setRectangle(this.ground[i][3],this.ground[i][4]),ground.angle=this.ground[i][2],ground.friction=1},Level6.prototype.free=function(){_super.prototype.free.call(this),this.house=null,this.car1=null,this.car2=null,this.car3=null,this.car4=null,this.ground=[],this.ground=null,this.sword=null,this.swordAnim=null,this.swordUI=null},Level6})(Client.BasicLevel);Client.Level6=Level6})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level7=(_super=>{function Level7(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.stoneVisible=!0,_this.heroInWater=!1,_this.counterHeroInWater=0,_this.magicTransformVisible=!1,_this.counterMagicTrans=0,_this.startMoveCamera=!1,_this.frogTransformed=0,_this.heroTransFormed=0,_this.spawningBubblesCounter=0,_this.playCreakCount=0,_this.showDragonCount=0,_this}return __extends(Level7,_super),Level7.prototype.init=function(){this.bubbles=new Array,this.magicTransformAnim=new Array,this.game.world.resize(800,880);var tempSas,sprite=Client.GameManager.instance.layerBackground.create(0,0,"bgLevel7_1");sprite.cacheAsBitmap=!0,this.addQuestWheel(7,158,623,Client.GameManager.instance.layerBackground),this.bridge=new Client.Lvl7Bridge(this.game),this.updateElements.push(this.bridge),this.dragon=new Client.Lvl7Dragon(this.game),this.updateElements.push(this.dragon),this.updateElements.push(new Client.Lvl7Flowers(this.game)),this.stonePlatform=new Client.Lvl7StonePlatform(this.game),this.updateElements.push(this.stonePlatform),this.frog=new Client.Lvl7Frog(this.game),this.updateElements.push(this.frog);for(var i=0;i<3;i++)(tempSas=new Client.SASprite(this.game,0,0,"level7")).anchor.setTo(.5),tempSas.animations.add("anim",Phaser.Animation.generateFrameNames("magicTransform instance 1",0,7,"",4),30,!0),tempSas.visible=!1,Client.GameManager.instance.layerUpper.addChild(tempSas),this.magicTransformAnim.push(tempSas);tempSas=null,this.magicBridge=new Client.Lvl7MagicBridge(this.game),this.updateElements.push(this.magicBridge),(sprite=Client.GameManager.instance.layerUpper.create(0,880,"bgLevel7_2")).anchor.y=1,sprite.cacheAsBitmap=!0,this.questTree=new Client.Lvl7QuestTree(this.game),this.updateElements.push(this.questTree),this.buttons=new Client.Lvl7Buttons(this.game,this),this.updateElements.push(this.buttons),sprite=null,this.cloudPlatform=new Client.Lvl7CloudPlatform(this.game),this.updateElements.push(this.cloudPlatform),Client.GameManager.instance.hero=new Client.Hero(this.game,70,450),Client.GameManager.instance.hero.setCollideWorldBounds(!1),Client.GameManager.instance.hero.angleKeep=Client.Tools.toRad(20),Client.GameManager.instance.hero.bodyBase.linearDamping=1,Client.GameManager.instance.hero.bodyBase.angularDamping=10,this.magicBullet=new Client.Lvl7MagicBullet(this.game),this.updateElements.push(this.magicBullet),this.magicBullet.body.setBodyContactCallback(this.frog.body,this.transformFrog,this),this.magicBullet.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.transformHero,this),this.updateElements.push(new Client.Finish(this.game,735,453,!0,Client.GameManager.instance.layerBackground)),this.addGround(),this.createWater()},Level7.prototype.transformFrog=function(){0===this.frogTransformed&&(this.frogTransformed=1)},Level7.prototype.transformHero=function(){0===this.heroTransFormed&&(this.heroTransFormed=1)},Level7.prototype.customAction=function(value){1===(value=void 0===value?0:value)?!0===this.stoneVisible?(this.stonePlatform.hide(),this.magicBridge.show()):(this.stonePlatform.show(),this.magicBridge.hide()):2===value?this.cloudPlatform.setActivity():3===value?this.magicBullet.blow():4===value?this.questTree.setBody():5===value?this.stoneVisible=!0:6===value?this.stoneVisible=!1:7===value?this.frog.playAnim("jump"):8===value?0===this.frogTransformed?this.frog.playAnim("eat"):Client.LevelBuilder.instance.levelFailed():9===value?this.mosquito.playAnim("anim"):10===value?this.buttons.deactivateButton3():11===value?this.mosquito.eated():12===value?this.magicBridge.activeteBody():13===value?Client.GameManager.instance.hero.currEyesState=Client.EyesState.afraid:14===value&&(this.updateElements.push(new Client.Lvl3MagicExplosion(this.game,420,500)),this.startMoveCamera=!0,this.bridge.crash(),this.buttons.activateButton1(),Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.hero.clearVelosityX(),Client.GameManager.instance.hero.currEyesState=Client.EyesState.idle)},Level7.prototype.update=function(){if(_super.prototype.update.call(this),1===this.showDragonCount&&(this.showDragonCount=2,this.dragon.playAppear(),Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!0,!1)),!0===this.startMoveCamera&&(this.game.camera.y+=10,280<=this.game.camera.y)&&(this.game.camera.y=280,this.startMoveCamera=!1,Client.GameManager.instance.hero.setClickable(!0)),!0===this.heroInWater&&(this.counterHeroInWater+=1,1===this.counterHeroInWater?(Client.GameManager.instance.hero.currEyesState=Client.EyesState.bumpForEver,Client.GameManager.instance.hero.bodyBase.mass=4.5):80===this.counterHeroInWater&&Client.LevelBuilder.instance.levelFailed(),this.spawningBubblesCounter+=1,2===this.spawningBubblesCounter)&&(this.spawningBubblesCounter=0,this.spawnBubble(Client.GameManager.instance.hero.bodyBase.x+Client.Tools.random(-40,40),Client.GameManager.instance.hero.bodyBase.y+Client.Tools.random(-30,10),.7+.5*Math.random())),1===this.frogTransformed){this.frogTransformed=2,this.magicBullet.deactive(),this.magicTransformAnim[0].x=this.frog.body.x+1-40,this.magicTransformAnim[0].y=this.frog.body.y+5+10,this.magicTransformAnim[1].x=this.frog.body.x+1+40,this.magicTransformAnim[1].y=this.frog.body.y+5+10,this.magicTransformAnim[2].x=this.frog.body.x+1,this.magicTransformAnim[2].y=this.frog.body.y+5-40;for(var i=0;i<this.magicTransformAnim.length;i++)this.magicTransformAnim[i].visible=!0,this.magicTransformAnim[i].animations.play("anim"),this.magicTransformAnim[i].scale.setTo(.51),this.magicTransformAnim[i].alpha=0,Client.SoundManager.playSFX("sfx_spellTransform");this.magicTransformVisible=!0,this.counterMagicTrans=0}if(1===this.heroTransFormed){this.heroTransFormed=2,this.magicBullet.deactive(),this.magicTransformAnim[0].x=Client.GameManager.instance.hero.bodyBase.x+1-40,this.magicTransformAnim[0].y=Client.GameManager.instance.hero.bodyBase.y+5+10,this.magicTransformAnim[1].x=Client.GameManager.instance.hero.bodyBase.x+1+40,this.magicTransformAnim[1].y=Client.GameManager.instance.hero.bodyBase.y+5+10,this.magicTransformAnim[2].x=Client.GameManager.instance.hero.bodyBase.x+1,this.magicTransformAnim[2].y=Client.GameManager.instance.hero.bodyBase.y+5-40;for(i=0;i<this.magicTransformAnim.length;i++)this.magicTransformAnim[i].visible=!0,this.magicTransformAnim[i].animations.play("anim"),this.magicTransformAnim[i].scale.setTo(.51),this.magicTransformAnim[i].alpha=0,Client.SoundManager.playSFX("sfx_spellTransform");this.magicTransformVisible=!0,this.counterMagicTrans=0}if(!0===this.magicTransformVisible)if(this.counterMagicTrans+=1,1===this.counterMagicTrans)for(i=0;i<this.magicTransformAnim.length;i++)this.setSimpleTween(this.magicTransformAnim[i],24,{scX:1,scY:1,alpha:1});else if(25===this.counterMagicTrans)for(i=0;i<this.magicTransformAnim.length;i++){var randS=Client.Tools.random(110,130)/100;this.setSimpleTween(this.magicTransformAnim[i],11,{scX:randS,scY:randS})}else if(30===this.counterMagicTrans)2===this.frogTransformed&&(this.frog.group.visible=!1,this.frog.activeAnim=!1,this.addQuestCar(this.frog.body.x,this.frog.body.y+23,Client.GameManager.instance.layerUpper,Client.GameManager.instance.layerUpper.getChildIndex(this.frog.group))),2===this.heroTransFormed&&(Client.SoundManager.playSFX("s_lvl10_gnatNoise"),Client.GameManager.instance.hero.setEnableMotor(!1,!1),Client.GameManager.instance.hero.setActiveBodies(!1),Client.GameManager.instance.hero.setVisibility(!1),this.mosquito=new Client.Lvl7Mosquito(this.game,this.frog),this.updateElements.push(this.mosquito));else if(36===this.counterMagicTrans)for(i=0;i<this.magicTransformAnim.length;i++){randS=Client.Tools.random(140,160)/100;this.setSimpleTween(this.magicTransformAnim[i],19,{scX:randS,scY:randS,alpha:0})}else if(55===this.counterMagicTrans){this.magicTransformVisible=!1;for(i=0;i<this.magicTransformAnim.length;i++)this.magicTransformAnim[i].visible=!1,this.magicTransformAnim[i].animations.stop()}},Level7.prototype.spawnBubble=function(x,y,scale){for(var i=0;i<this.bubbles.length;i++)if(!1===this.bubbles[i].visible)return this.bubbles[i].visible=!0,this.bubbles[i].x=x,this.bubbles[i].y=y,this.bubbles[i].scale.setTo(scale),void this.bubbles[i].animations.play("anim");var bubble=Client.GameManager.instance.layerUpper.create(x,y,"level7");bubble.animations.add("anim",Phaser.Animation.generateFrameNames("bubbleWaterPart instance 1",0,9,"",4),30,!1).onComplete.add(this.bubbleComplete,this),bubble.animations.play("anim"),bubble.scale.setTo(scale),this.bubbles.push(bubble)},Level7.prototype.bubbleComplete=function(bubble,tween){bubble.visible=!1},Level7.prototype.createWater=function(){this.water=new Phaser.Physics.Box2D.Body(this.game,null,400,865,0);var fixtureDef=this.water.setRectangle(650,100);fixtureDef.SetDensity(2),fixtureDef.SetFriction(.3),fixtureDef.SetRestitution(0),this.water.sensor=!(fixtureDef=null),this.water.setCategoryContactCallback(1,this.onContactWithWater,this),this.m_controller=new box2d.b2BuoyancyController,this.m_controller.normal.SetXY(0,1),this.m_controller.offset=-16.3,this.m_controller.useDensity=!0,this.m_controller.density=2,this.m_controller.linearDrag=3,this.m_controller.angularDrag=2,this.game.physics.box2d.world.AddController(this.m_controller)},Level7.prototype.onContactWithWater=function(body1,body2,fixture1,fixture2,begin){body1!==body2&&!0!==body2.sensor&&!1!==body2.dynamic&&"notWater"!==body2.data.GetUserData()&&(!0===begin?null===body2.data.GetControllerList()&&(this.m_controller.AddBody(body2.data),"heroCorpus"===body2.data.GetUserData())&&(this.heroInWater=!0):null!==body2.data.GetControllerList()&&this.m_controller.RemoveBody(body2.data))},Level7.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,59,550,0);ground.setRectangle(150,100),ground.setCollisionMask(~Client.FilterGroups.WALL),(ground=new Phaser.Physics.Box2D.Body(this.game,null,862,550,0)).setRectangle(360,100),ground.setCollisionMask(~Client.FilterGroups.WALL),(ground=new Phaser.Physics.Box2D.Body(this.game,null,960,450,0)).setRectangle(10,100),(ground=new Phaser.Physics.Box2D.Body(this.game,null,91,748,0)).setRectangle(16,312),ground.angle=12,(ground=new Phaser.Physics.Box2D.Body(this.game,null,203,460,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.playCreak,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,293,450,0)).setRectangle(10,100),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.showDragon,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,724,747,0)).setRectangle(16,312),ground.angle=-8,(ground=new Phaser.Physics.Box2D.Body(this.game,null,186,802,0)).setRectangle(100,10),ground.setCollisionMask(~Client.FilterGroups.WALL),this.game.physics.box2d.prismaticJoint(ground,this.frog.body,0,-1,0,0,0,0,0,0,!1,0,200,!0).m_collideConnected=!0},Level7.prototype.playCreak=function(){0===this.playCreakCount&&(this.playCreakCount=1,Client.SoundManager.playSFX("s_lvl10_bridgeCreak",!0))},Level7.prototype.showDragon=function(){0===this.showDragonCount&&(this.showDragonCount=1)},Level7.prototype.free=function(){_super.prototype.free.call(this),this.bridge=null,this.buttons=null,this.questTree=null,this.stonePlatform=null,this.frog=null,this.water=null,this.m_controller=null,this.magicBridge=null,this.magicBullet=null,this.mosquito=null,this.cloudPlatform=null,this.dragon=null,this.magicTransformAnim=[],this.magicTransformAnim=null,this.bubbles=[],this.bubbles=null},Level7})(Client.BasicLevel);Client.Level7=Level7})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level8=(_super=>{function Level8(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.openSecret=!1,_this.buttonUse=!1,_this.autoWheelRotate=!1,_this.gameOver=0,_this.gameOverTimer=0,_this}return __extends(Level8,_super),Level8.prototype.init=function(){Client.GameManager.instance.layerBackground.create(0,0,"bgLevel8_1").cacheAsBitmap=!0;Client.GameManager.instance.layerUpper.create(0,42,"bgLevel8_2").cacheAsBitmap=!0,Client.GameManager.instance.hero=new Client.Hero(this.game,60,220),Client.GameManager.instance.hero.jointBack.SetMaxMotorTorque(4.4),this.addGround(),this.addPlatform(),this.addSecret(),this.addElevator(),this.addRopeArm(),this.addButton(),this.addQuestWheel(8,461,95,Client.GameManager.instance.layerBackground),new Client.Finish(this.game,730,433,!0,Client.GameManager.instance.layerUpper)},Level8.prototype.customAction=function(value){0===(value=void 0===value?0:value)&&250<Client.GameManager.instance.hero.bodyBase.y&&(Client.GameManager.instance.hero.getEnableMotor()?(this.autoWheelRotate=!1)===this.buttonUse&&Client.GameManager.instance.hero.setWheelsRotateAvailable(!0):Client.GameManager.instance.hero.setWheelsRotateAvailable(!1))},Level8.prototype.addPlatform=function(){var platform=new Client.Lvl8Platform(this.game);this.updateElements.push(platform)},Level8.prototype.addElevator=function(){this.elevator=new Client.Lvl8Elevator(this.game),this.updateElements.push(this.elevator)},Level8.prototype.addRopeArm=function(){this.ropeArm=new Client.Lvl8RopeArm(this.game,429,490),this.updateElements.push(this.ropeArm)},Level8.prototype.addSecret=function(){Client.GameManager.instance.layerBackground.create(732,193,"level8","secretBack instance 10000"),this.addQuestCar(772,242,Client.GameManager.instance.layerBackground),this.secretStone=Client.GameManager.instance.layerUpper.create(772,235,"level8","secretFront instance 10000"),this.secretStone.anchor.set(.5),this.secretStone.inputEnabled=!0,this.secretWheel=this.game.make.button(743,301,"level8",this.rotateWheel,this,"hiddenWheel instance 10001","hiddenWheel instance 10000","hiddenWheel instance 10000","hiddenWheel instance 10000"),this.secretWheel.anchor.set(.5),this.secretWheel.inputEnabled=!1,Client.GameManager.instance.layerUpper.addChild(this.secretWheel),this.blueLamp=this.game.make.sprite(0,0,"level8","blueLamp instance 10000"),this.blueLamp.anchor.set(.5),this.blueLamp.visible=!1,this.secretWheel.addChild(this.blueLamp)},Level8.prototype.rotateWheel=function(){this.secretWheel.inputEnabled=!1,this.openSecret=!0,this.blueLamp.visible=!1,Client.SoundManager.playSFX("s_lvl7_platformMove"),this.game.add.tween(this.secretWheel).to({angle:90},1e3,Phaser.Easing.Linear.None,!0).onComplete.add(this.showCar,this)},Level8.prototype.showCar=function(){Client.SoundManager.playSFX("s_lvl7_armMove"),this.game.add.tween(this.secretStone.scale).to({x:.94,y:.94},200,Phaser.Easing.Linear.None,!0).onComplete.add(function(){this.secretStone.inputEnabled=!1,this.game.add.tween(this.secretStone).to({x:this.secretStone.x+46},700,Phaser.Easing.Linear.None,!0,150)},this)},Level8.prototype.setWheelRotate=function(_value){!1===this.openSecret&&(this.blueLamp.visible=_value,!0===(this.secretWheel.inputEnabled=_value))&&(this.secretWheel.input.useHandCursor=!0)},Level8.prototype.addButton=function(){this.redButton=Client.GameManager.instance.layerBackground.create(66,423,"level8","button instance 10000"),this.redButton.animations.add("use",Phaser.Animation.generateFrameNames("button instance 1",0,9,"",4),30,!1),this.game.physics.box2d.enable(this.redButton),this.redButton.body.static=!0,this.redButton.body.sensor=!0,this.redButton.body.setBodyContactCallback(Client.GameManager.instance.hero.bodyWheelBack,this.useButton,this)},Level8.prototype.useButton=function(){!1===this.buttonUse&&(this.redButton.play("use"),Client.SoundManager.playSFX("s_lvl7_pressButton"),this.buttonUse=!0,this.ropeArm.show())},Level8.prototype.update=function(){_super.prototype.update.call(this),this.elevator.moveTo(this.ropeArm.getDirection()),!1===this.autoWheelRotate&&140<Client.GameManager.instance.hero.bodyBase.x&&250<Client.GameManager.instance.hero.bodyBase.y&&(this.autoWheelRotate=!0,Client.GameManager.instance.hero.setWheelsRotateAvailable(!0)),0===this.gameOver&&600<Client.GameManager.instance.hero.bodyBase.y&&(this.gameOver=1,Client.SoundManager.playSFX("s_lvl7_wheelyFall")),1===this.gameOver&&(this.gameOverTimer+=1,60===this.gameOverTimer)&&(this.gameOver=2,Client.LevelBuilder.instance.levelFailed()),300<this.elevator.platform.body.y?this.wall.sensor=!0:this.wall.sensor=!1},Level8.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,75,281,0);ground.setRectangle(150,30),(ground=new Phaser.Physics.Box2D.Body(this.game,null,90,443,0)).setRectangle(180,25),(ground=new Phaser.Physics.Box2D.Body(this.game,null,440,465,0)).setRectangle(78,268),(ground=new Phaser.Physics.Box2D.Body(this.game,null,468,310,0)).setRectangle(70,42),(ground=new Phaser.Physics.Box2D.Body(this.game,null,713,493,0)).setRectangle(163,25),(ground=new Phaser.Physics.Box2D.Body(this.game,null,-12,364,0)).setRectangle(25,150),(ground=new Phaser.Physics.Box2D.Body(this.game,null,730,310,0)).setRectangle(160,25),(ground=new Phaser.Physics.Box2D.Body(this.game,null,656,233,0)).setRectangle(25,160),ground=null,this.wall=new Phaser.Physics.Box2D.Body(this.game,null,644,400,0),this.wall.setRectangle(25,160)},Level8.prototype.free=function(){_super.prototype.free.call(this),this.secretStone=null,this.secretWheel=null,this.blueLamp=null,this.redButton=null,this.elevator=null,this.ropeArm=null,this.wall=null},Level8})(Client.BasicLevel);Client.Level8=Level8})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Level9=(_super=>{function Level9(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.platformSpeed=70,_this.cameraSpeed=2,_this.firstCubeMove=!1,_this.lastCubeMove=!1,_this.wheelyShoked=!1,_this.cameraDestinationX=0,_this.cameraDestinationY=0,_this.insideRoom=0,_this.moveCamera=!1,_this.initRoom1Count=0,_this.initRoom2Count=0,_this.initRoom3Count=0,_this.initRoom4Count=0,_this.initRoom42Count=0,_this.initRoom5Count=0,_this.initRoom6Count=0,_this.initRoom62Count=0,_this.initRoom7Count=0,_this.initRoom8Count=0,_this.initRoom9Count=0,_this.contactPoint1Count=0,_this.contactPoint2Count=0,_this.contactPoint3Count=0,_this.contactPoint4Count=0,_this.inRoom1Count=0,_this.inRoom2Count=0,_this.inRoom3Count=0,_this.inRoom4Count=0,_this.inRoom5Count=0,_this.inRoom6Count=0,_this.inRoom7Count=0,_this.inRoom8Count=0,_this.inRoom9Count=0,_this}return __extends(Level9,_super),Level9.prototype.init=function(){var sprite,roomY,newCameraY;this.insideRoom=Client.DataManager.getInstance().saveObj.insideRoom,this.insideRoom||(this.insideRoom=0),Client.SoundManager.playSFX("s_lvl8_ambient",!0),this.game.world.resize(2860,1196),this.roomSpeed=this.platformSpeed/60,Client.GameManager.instance.layerBackground0.fixedToCamera=!0,this.rooms=new Array,0===this.insideRoom&&((sprite=Client.GameManager.instance.layerBackground.create(192,160,"level9")).animations.add("anim",Phaser.Animation.generateFrameNames("bgFire instance 1",0,59,"",4),40,!0),sprite.animations.play("anim"),sprite.cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerBackground.create(0,0,"level9","bgPart1 instance 10000")).cacheAsBitmap=!0,(sprite=Client.GameManager.instance.layerUpper.create(0,236,"level9","bgPart2 instance 10000")).cacheAsBitmap=!0),(sprite=Client.GameManager.instance.layerBackground.create(2860,1196,"level9","bgPart3 instance 10000")).anchor.setTo(1),(sprite=Client.GameManager.instance.layerUpper.create(2860,1196,"level9","bgPart4 instance 10000")).anchor.setTo(1),this.addQuestWheel(9,2715,685,Client.GameManager.instance.layerUpper),sprite=null,this.createRooms(),0===this.insideRoom?(this.background=new Client.Lvl9Background(this.game,0,0),this.platformHero=new Client.Lvl9PlatformHero(this.game,390,311),this.updateElements.push(this.platformHero),Client.GameManager.instance.hero=new Client.Hero(this.game,100,260)):(this.rooms[this.insideRoom-1].show(-1),sprite=this.rooms[this.insideRoom-1].x,newCameraY=(roomY=this.rooms[this.insideRoom-1].y)-300,this.game.camera.x=this.cameraDestinationX=sprite-400,0<newCameraY&&(this.game.camera.y=this.cameraDestinationY=newCameraY),this.background=new Client.Lvl9Background(this.game,-this.game.camera.x/2,-this.game.camera.y/2),this.platformHero=new Client.Lvl9PlatformHero(this.game,sprite,roomY+46),this.updateElements.push(this.platformHero),Client.GameManager.instance.hero=new Client.Hero(this.game,sprite,roomY-7),Client.GameManager.instance.hero.setClickable(!1),this.jointHeroPlatform=this.game.physics.box2d.revoluteJoint(Client.GameManager.instance.hero.bodyBase,this.platformHero.body,0,0,0,-53)),this.updateElements.push(new Client.Finish(this.game,2712,997)),this.addGround()},Level9.prototype.createRooms=function(){var room=new Client.Lvl9Room1(this.game);this.updateElements.push(room),this.rooms.push(room),0<this.insideRoom&&(room.x=890),room=new Client.Lvl9Room2(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room3(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room4(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room5(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room6(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room7(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room8(this.game),this.updateElements.push(room),this.rooms.push(room),room=new Client.Lvl9Room9(this.game),this.updateElements.push(room),this.rooms.push(room)},Level9.prototype.customAction=function(value){1===(value=void 0===value?0:value)?this.move(0,-1):2===value?(9===this.insideRoom&&(this.lastCubeMove=!0),this.move(1,0)):3===value?this.move(0,1):4===value?this.move(-1,0):5===value?this.removeJointHeroPlatform():6===value&&(this.wheelyShoked=!0,this.platformHero.stop())},Level9.prototype.createJointHeroPlatform=function(){Client.GameManager.instance.hero.bodyBase.x=this.platformHero.body.x,Client.GameManager.instance.hero.bodyBase.y=this.platformHero.body.y-53,this.jointHeroPlatform=this.game.physics.box2d.revoluteJoint(Client.GameManager.instance.hero.bodyBase,this.platformHero.body,0,0,0,-53)},Level9.prototype.removeJointHeroPlatform=function(){this.game.physics.box2d.world.DestroyJoint(this.jointHeroPlatform)},Level9.prototype.update=function(){_super.prototype.update.call(this),1===this.contactPoint1Count&&(this.contactPoint1Count=2,this.createJointHeroPlatform()),1===this.contactPoint3Count&&(this.contactPoint3Count=2,this.removeJointHeroPlatform(),this.platformHero.stop(),Client.GameManager.instance.hero.setEnableMotor(!0),Client.GameManager.instance.hero.setCollideWorldBounds(!1)),this.updateCamera()},Level9.prototype.updateCamera=function(){!0!==this.wheelyShoked&&(!0===this.firstCubeMove&&(this.rooms[0].x+=this.roomSpeed,890<this.rooms[0].x)&&(this.rooms[0].x=890,this.firstCubeMove=!1,this.savePoint(1),this.rooms[0].activateDoors(),this.platformHero.stop()),!0===this.lastCubeMove&&(this.rooms[8].x+=this.roomSpeed,2222<this.rooms[8].x)&&(this.rooms[8].x=2222,this.lastCubeMove=!1),!1!==this.moveCamera)&&(this.game.camera.x!==this.cameraDestinationX&&(Math.abs(this.game.camera.x-this.cameraDestinationX)<=this.cameraSpeed?(this.game.camera.x=this.cameraDestinationX,this.moveCamera=!1):2060<=this.game.camera.x?(this.cameraDestinationX=this.game.camera.x,this.moveCamera=!1):this.game.camera.x>this.cameraDestinationX?(this.background.move(1,0),this.game.camera.x-=this.cameraSpeed):this.game.camera.x<this.cameraDestinationX&&(this.background.move(-1,0),this.game.camera.x+=this.cameraSpeed)),this.game.camera.y!==this.cameraDestinationY)&&(Math.abs(this.game.camera.y-this.cameraDestinationY)<=this.cameraSpeed?(this.game.camera.y=this.cameraDestinationY,this.moveCamera=!1):596<=this.game.camera.y&&this.game.camera.y<this.cameraDestinationY?(this.cameraDestinationY=this.game.camera.y,this.moveCamera=!1):this.game.camera.y>this.cameraDestinationY?(this.game.camera.y-=this.cameraSpeed,this.background.move(0,1)):this.game.camera.y<this.cameraDestinationY&&(this.game.camera.y+=this.cameraSpeed,this.background.move(0,-1)))},Level9.prototype.move=function(speedX,speedY){this.moveCamera=!0,this.platformHero.move(this.platformSpeed*speedX,this.platformSpeed*speedY),this.cameraDestinationX=this.game.camera.x+540*speedX,this.cameraDestinationY=this.game.camera.y+330*speedY,this.rooms[this.insideRoom-1].deactivateDoors()},Level9.prototype.savePoint=function(value){3!==(this.insideRoom=value)&&4!==value&&6!==value&&7!==value&&9!==value&&Client.DataManager.getInstance().saveData("insideRoom",value)},Level9.prototype.initRoom=function(value,openDoor){this.rooms[value-1].show(openDoor),Client.SoundManager.playSFX("s_lvl8_openDoors"),0<this.insideRoom&&(-1===(openDoor-=2)?openDoor=3:-2===openDoor&&(openDoor=2),this.rooms[this.insideRoom-1].openDoor(openDoor))},Level9.prototype.inRoom=function(value){this.insideRoom!==value&&(1===value?(this.firstCubeMove=!0,this.cameraDestinationX=490,this.moveCamera=!0):(Client.SoundManager.playSFX("s_lvl8_closeDoors"),this.platformHero.stop(),this.rooms[this.insideRoom-1].hide(!0),this.savePoint(value),this.rooms[this.insideRoom-1].activate()))},Level9.prototype.addGround=function(){var ground=new Phaser.Physics.Box2D.Body(this.game,null,141,332,0);ground.setRectangle(346,56),(ground=new Phaser.Physics.Box2D.Body(this.game,null,241,258,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom1,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,460,261,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.contactPoint1,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,648,252,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom1,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1101,252,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom2,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,897,377,0)).setRectangle(92,54),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom4,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1495,252,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom2,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1645,252,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom3,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1413,377,0)).setRectangle(92,54),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom5,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2040,252,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom3,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,830,673,0)).setRectangle(12,54),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom4,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1419,673,0)).setRectangle(92,54),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom5,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1645,615,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom6,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1215,615,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom42,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1421,740,0)).setRectangle(92,16),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom8,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2068,613,0)).setRectangle(73,28),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom6,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,822,997,0)).setRectangle(12,54),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom7,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1421,1020,0)).setRectangle(92,16),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom8,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1215,997,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom7,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1645,997,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom9,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2040,997,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.inRoom9,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,1980,890,0)).setRectangle(92,16),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.initRoom62,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2330,989,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.contactPoint2,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2483,989,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.contactPoint3,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2632,989,0)).setRectangle(16,92),ground.sensor=!0,ground.setBodyContactCallback(Client.GameManager.instance.hero.bodyBase,this.contactPoint4,this),(ground=new Phaser.Physics.Box2D.Body(this.game,null,2817,1060,0)).setRectangle(644,56),(ground=new Phaser.Physics.Box2D.Body(this.game,null,3084,977,0)).setRectangle(100,100)},Level9.prototype.initRoom1=function(){0===this.initRoom1Count&&(this.initRoom1Count=1,this.initRoom(1,3))},Level9.prototype.initRoom2=function(){0===this.initRoom2Count&&(this.initRoom2Count=1,this.initRoom(2,3))},Level9.prototype.initRoom3=function(){0===this.initRoom3Count&&(this.initRoom3Count=1,this.initRoom(3,3))},Level9.prototype.initRoom4=function(){0===this.initRoom4Count&&(this.initRoom4Count=1,this.initRoom(4,0))},Level9.prototype.initRoom42=function(){0===this.initRoom42Count&&(this.initRoom42Count=1,this.initRoom(4,1))},Level9.prototype.initRoom5=function(){0===this.initRoom5Count&&(this.initRoom5Count=1,this.initRoom(5,0))},Level9.prototype.initRoom6=function(){0===this.initRoom6Count&&(this.initRoom6Count=1,this.initRoom(6,3))},Level9.prototype.initRoom62=function(){0===this.initRoom62Count&&(this.initRoom62Count=1,this.initRoom(6,2))},Level9.prototype.initRoom7=function(){0===this.initRoom7Count&&(this.initRoom7Count=1,this.initRoom(7,1))},Level9.prototype.initRoom8=function(){0===this.initRoom8Count&&(this.initRoom8Count=1,this.initRoom(8,0))},Level9.prototype.initRoom9=function(){0===this.initRoom9Count&&(this.initRoom9Count=1,this.initRoom(9,3))},Level9.prototype.contactPoint1=function(){0===this.contactPoint1Count&&(this.contactPoint1Count=1,this.platformHero.move(this.platformSpeed,0),Client.GameManager.instance.hero.setClickable(!1),Client.GameManager.instance.hero.setEnableMotor(!1),Client.GameManager.instance.hero.clearVelosityX(),this.rooms[0].closeDoor(),Client.SoundManager.playSFX("s_lvl8_closeDoors"))},Level9.prototype.contactPoint2=function(){0===this.contactPoint2Count&&(this.contactPoint2Count=1,this.rooms[8].openDoor(1))},Level9.prototype.contactPoint3=function(){0===this.contactPoint3Count&&(this.contactPoint3Count=1)},Level9.prototype.contactPoint4=function(){0===this.contactPoint4Count&&(this.contactPoint4Count=1,this.rooms[this.insideRoom-1].hide(!0))},Level9.prototype.inRoom1=function(){0===this.inRoom1Count&&(this.inRoom1Count=1,this.inRoom(1))},Level9.prototype.inRoom2=function(){0===this.inRoom2Count&&(this.inRoom2Count=1,this.inRoom(2))},Level9.prototype.inRoom3=function(){0===this.inRoom3Count&&(this.inRoom3Count=1,this.inRoom(3))},Level9.prototype.inRoom4=function(){0===this.inRoom4Count&&(this.inRoom4Count=1,this.inRoom(4))},Level9.prototype.inRoom5=function(){0===this.inRoom5Count&&(this.inRoom5Count=1,this.inRoom(5))},Level9.prototype.inRoom6=function(){0===this.inRoom6Count&&(this.inRoom6Count=1,this.inRoom(6))},Level9.prototype.inRoom7=function(){0===this.inRoom7Count&&(this.inRoom7Count=1,this.inRoom(7))},Level9.prototype.inRoom8=function(){0===this.inRoom8Count&&(this.inRoom8Count=1,this.inRoom(8))},Level9.prototype.inRoom9=function(){0===this.inRoom9Count&&(this.inRoom9Count=1,this.inRoom(9))},Level9.prototype.free=function(){_super.prototype.free.call(this)},Level9})(Client.BasicLevel);Client.Level9=Level9})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var BasicPanel=(_super=>{function BasicPanel(game){game=_super.call(this,game)||this;return game.timeShow=300,game.timeHide=400,game.activeUpdate=!1,game.counter=0,game.hideX=game.showX=game.x=400,game.hideY=game.y=850,game.showY=300,game}return __extends(BasicPanel,_super),BasicPanel.prototype.initPanel=function(bgFrame,bgx,bgy,g1x,g1y,g2x,g2y,g3x,g3y){void 0===bgFrame&&(bgFrame=null),this.gear2=this.create(g2x,g2y,"ui","gear2 instance 10000"),this.gear2.anchor.setTo(.5),this.gear1=this.create(g1x,g1y,"ui","gear instance 10000"),this.gear1.anchor.setTo(.5),this.gear3=this.create(g3x,g3y,"ui","gear instance 10000"),this.gear3.anchor.setTo(.5),this.gear3.scale.x=-1,this.bg=this.create(bgx,bgy,"ui",bgFrame),this.bg.anchor.setTo(.5)},BasicPanel.prototype.update=function(){!1!==this.activeUpdate&&(this.counter+=1,this.updateGears())},BasicPanel.prototype.updateGears=function(){0<this.counter&&this.counter<=30?(this.gear1.angle-=1.5,this.gear2.angle-=2.6,this.gear3.angle+=1.5,this.paper&&(this.paper.y+=this.paperSpeed1)):30<this.counter&&this.counter<=40?(this.gear1.angle+=1.8,this.gear2.angle+=2.5,this.gear3.angle-=1.8,this.paper&&(this.paper.y-=this.paperSpeed2)):41===this.counter&&(this.activeUpdate=!1,this.showComplete())},BasicPanel.prototype.over=function(){Client.SoundManager.playSFX("btnOver")},BasicPanel.prototype.show=function(){this.visible=!0,this.activeUpdate=!0,this.counter=0,this.gear1.angle=0,this.gear2.angle=0,this.gear3.angle=0,this.game.add.tween(this).to({y:this.showY},this.timeShow,Phaser.Easing.Linear.None,!0)},BasicPanel.prototype.hide=function(){this.game.add.tween(this).to({y:this.hideY},this.timeHide,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.hideComplete,this)},BasicPanel.prototype.hideME=function(game){Client.PanelManager.getInstance(game).hidePanel(this.name)},BasicPanel.prototype.hideFastME=function(game){Client.PanelManager.getInstance(game).hideFastPanel(this.name)},BasicPanel.prototype.hideFast=function(){this.y=this.hideY,this.hideComplete()},BasicPanel.prototype.showComplete=function(){},BasicPanel.prototype.hideComplete=function(){this.visible=!1},BasicPanel.prototype.clickOnExit=function(){Client.Main.instance.pausedByPanel=!1,Client.LevelBuilder.instance.game.paused=!1,Client.SoundManager.stopAllSFXLoop(),Client.SoundManager.playSFX("btnClick"),Client.LevelBuilder.instance.exitGame()},BasicPanel.prototype.destroy=function(){_super.prototype.destroy.call(this),this.bg=null,this.gear1=null,this.gear2=null,this.gear3=null,this.paper=null},BasicPanel})(Phaser.Group);Client.BasicPanel=BasicPanel})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Lose=(_super=>{function Lose(game,_name){var _this=_super.call(this,game)||this;return _this.name=_name,_this.initPanel("panelLose instance 10000",-25,50,-185,12,-167,120,135,75),(_name=game.make.button(136,170,"ui",Client.LevelBuilder.instance.restartGame,_this,"btnBigRestart instance 10001","btnBigRestart instance 10000")).anchor.setTo(.5),_this.addChild(_name),_name.onInputOver.add(_this.over,_this),(_name=game.make.button(-182,5,"ui",_this.showWalkthrough,_this,"btnWalkthrough2 instance 10001","btnWalkthrough2 instance 10000")).anchor.setTo(.5),_this.addChild(_name),_name.onInputOver.add(_this.over,_this),_name.visible=!1,_name.inputEnabled=!1,_name=null,Client.SoundManager.playSFX("levelFail"),_this.paper=_this.create(0,154,"ui","paperLose instance 10000"),_this.paper.anchor.setTo(.5,1),_this.paperSpeed1=11.6,_this.paperSpeed2=1.7,_this.createMask(-102,65),_this}return __extends(Lose,_super),Lose.prototype.createMask=function(startX,startY){startX=this.game.make.graphics(startX,startY);this.addChild(startX),startX.beginFill(16711680,.3),startX.moveTo(0,0),startX.lineTo(32,-80),startX.lineTo(172,-80),startX.lineTo(202,0),startX.lineTo(170,77),startX.lineTo(32,77),startX.lineTo(0,0),startX.endFill(),this.paper.mask=startX},Lose.prototype.show=function(){_super.prototype.show.call(this),this.paper.y=154},Lose.prototype.showWalkthrough=function(sprite,pointer,isOver){!0===isOver&&window.open(Constants.WALKTHROUGH_URL,"_blank")},Lose})(Client.BasicPanel);Client.Lose=Lose})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(PanelList=>{PanelList.Pause="Pause",PanelList.Win="Win",PanelList.Lose="Lose"})(PanelList=PanelList||{}),(Wheely=>{(Client=>{var PanelManager=(_super=>{function PanelManager(game){var _this=_super.call(this,game,game.world,"PanelManager")||this;return _this.timeShow=500,_this.timeHide=500,_this.black=null,_this.game=game,_this.game.world.addChild(_this),_this.stock={},_this.fixedToCamera=!0,_this}return __extends(PanelManager,_super),PanelManager.getInstance=function(game){return PanelManager.instance=PanelManager.instance?PanelManager.instance:new PanelManager(game)},PanelManager.prototype.init=function(){this.black=this.game.add.graphics(0,0,this),this.black.beginFill(0,1),this.black.drawRect(0,0,Client.Variables.SW,Client.Variables.SH),this.black.endFill(),this.black.alpha=0,this.black.inputEnabled=!0,this.addChild(this.black)},PanelManager.prototype.showPanel=function(value){var tempPanel;null===this.black&&this.init(),void 0===this.stock[value]&&(tempPanel=Client.Tools.getInstance(value,this.game,value),this.stock[value]=this.add(tempPanel),tempPanel=null),this.game.world.bringToTop("PanelManager"),this.stock[value].show(),this.showBlack()},PanelManager.prototype.hidePanel=function(value,onlyPanel){void 0===onlyPanel&&(onlyPanel=!1),void 0!==this.stock[value]&&(this.game.world.sendToBack("PanelManager"),this.stock[value].hide(),!1===onlyPanel)&&this.hideBlack()},PanelManager.prototype.hideFastPanel=function(value,onlyPanel){void 0===onlyPanel&&(onlyPanel=!1),void 0!==this.stock[value]&&(this.stock[value].hideFast(),!1===onlyPanel)&&this.hideFastBlack()},PanelManager.prototype.showBlack=function(){this.visible=!0,this.game.add.tween(this.black).to({alpha:.7},this.timeShow,Phaser.Easing.Linear.None,!0)},PanelManager.prototype.hideBlack=function(){this.game.add.tween(this.black).to({alpha:0},this.timeHide,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.hideBlackComplete,this)},PanelManager.prototype.hideBlackComplete=function(){this.visible=!1},PanelManager.prototype.hideFastBlack=function(){this.black.alpha=0,this.hideBlackComplete()},PanelManager.prototype.destroy=function(){_super.prototype.destroy.call(this),this.black=null,this.stock={},this.stock=null,this.game=null,PanelManager.instance=null},PanelManager})(Phaser.Group);Client.PanelManager=PanelManager})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Pause=(_super=>{function Pause(game,_name){var _this=_super.call(this,game)||this;return _this.name=_name,_this.initPanel("panelPause instance 10000",-15,50,-180,-22,-175,90,105,20),_this.btnExit=game.make.button(-139,146,"ui",_this.clickOnExit,_this,"btnBigExit instance 10000","btnBigExit instance 10000"),_this.btnExit.anchor.setTo(.5),_this.addChild(_this.btnExit),_this.btnExit.onInputOver.add(_this.over,_this),_this.btnResume=game.make.button(110,146,"ui",_this.clickOnClose,_this,"btnBigClose2 instance 10000","btnBigClose2 instance 10000"),_this.btnResume.anchor.setTo(.5),_this.addChild(_this.btnResume),_this.btnResume.onInputOver.add(_this.over,_this),_this.game.input.onDown.add(_this.unpause,_this),_this.paper=_this.create(-25,105,"ui","paperPause instance 10000"),_this.paper.anchor.setTo(.5,1),_this.paperSpeed1=16.7,_this.paperSpeed2=1,_this.createMask(-127,16),_this}return __extends(Pause,_super),Pause.prototype.createMask=function(startX,startY){startX=this.game.make.graphics(startX,startY);this.addChild(startX),startX.beginFill(16711680,.3),startX.moveTo(0,0),startX.lineTo(32,-80),startX.lineTo(172,-80),startX.lineTo(202,0),startX.lineTo(170,77),startX.lineTo(32,77),startX.lineTo(0,0),startX.endFill(),this.paper.mask=startX},Pause.prototype.show=function(){_super.prototype.show.call(this),this.paper.y=105},Pause.prototype.unpause=function(event){!0===this.game.paused&&(this.btnResume.getBounds().contains(this.game.input.x,this.game.input.y)&&this.clickOnClose(),this.btnExit.getBounds().contains(this.game.input.x,this.game.input.y))&&this.clickOnExit()},Pause.prototype.clickOnClose=function(){this.game.tweens.removeFrom(this),Client.SoundManager.playSFX("btnClick"),this.hideFastME(this.game),Client.LevelBuilder.instance.game.paused=!1,Client.Main.instance.pausedByPanel=!1},Pause.prototype.showComplete=function(){_super.prototype.showComplete.call(this),Client.LevelBuilder.instance.game.paused=!0,Client.Main.instance.pausedByPanel=!0},Pause.prototype.hideComplete=function(){_super.prototype.hideComplete.call(this),Client.LevelBuilder.instance.resumeGame()},Pause.prototype.destroy=function(){this.btnExit=null,this.btnResume=null,this.game.input.onDown.remove(this.unpause,this),_super.prototype.destroy.call(this)},Pause})(Client.BasicPanel);Client.Pause=Pause})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Win=(_super=>{function Win(game,_name){var _this=_super.call(this,game)||this;return _this.name=_name,_this.initPanel("panelWin instance 10000",-15,50,-180,-22,-175,90,105,20),_this.star1=game.make.sprite(-70,61,"ui"),_this.star1.animations.add("anim",Phaser.Animation.generateFrameNames("winStar instance 1",0,27,"",4),30),_this.star1.animations.play("anim"),_this.star1.animations.stop("anim"),_this.star1.anchor.setTo(.5),_this.addChild(_this.star1),_this.star2=game.make.sprite(-13,61,"ui"),_this.star2.animations.add("anim",Phaser.Animation.generateFrameNames("winStar instance 1",0,27,"",4),30),_this.star2.animations.play("anim"),_this.star2.animations.stop("anim"),_this.star2.anchor.setTo(.5),_this.addChild(_this.star2),_this.star3=game.make.sprite(41,61,"ui"),_this.star3.animations.add("anim",Phaser.Animation.generateFrameNames("winStar instance 1",0,27,"",4),30),_this.star3.animations.play("anim"),_this.star3.animations.stop("anim"),_this.star3.anchor.setTo(.5),_this.addChild(_this.star3),_this.wheel=game.make.sprite(-98,-16,"ui"),_this.wheel.animations.add("anim",Phaser.Animation.generateFrameNames("winWheel instance 1",0,9,"",4),30),_this.wheel.animations.play("anim"),_this.wheel.animations.stop("anim"),_this.wheel.anchor.setTo(.5),_this.addChild(_this.wheel),_this.flag=game.make.sprite(-13,-16,"ui"),_this.flag.animations.add("anim",Phaser.Animation.generateFrameNames("winFlag instance 1",0,9,"",4),30),_this.flag.animations.play("anim"),_this.flag.animations.stop("anim"),_this.flag.anchor.setTo(.5),_this.addChild(_this.flag),_this.car=game.make.sprite(64,-18,"ui"),_this.car.animations.add("anim",Phaser.Animation.generateFrameNames("winCar instance 1",0,9,"",4),30),_this.car.animations.play("anim"),_this.car.animations.stop("anim"),_this.car.anchor.setTo(.5),_this.addChild(_this.car),(_name=game.make.button(117,146,"ui",_this.showAd,_this,"btnBigPlay instance 10001","btnBigPlay instance 10000")).anchor.setTo(.5),_this.addChild(_name),_name.onInputOver.add(_this.over,_this),(_name=game.make.button(-132,143,"ui",_this.showWalkthrough,_this,"btnWalkthrough2 instance 10001","btnWalkthrough2 instance 10000")).anchor.setTo(.5),_this.addChild(_name),_name.onInputOver.add(_this.over,_this),_name=null,Client.DataManager.getInstance().saveData("questFlag"+Client.LevelManager.getInstance().currentLevel,1),_this}return __extends(Win,_super),Win.prototype.showWalkthrough=function(sprite,pointer,isOver){!0===isOver&&window.open(Constants.WALKTHROUGH_URL,"_blank")},Win.prototype.showAd=function(){Fabrique.AdHandler.getInstance().showAd("next",function(){Client.SoundManager.playSFX("btnClick"),Client.LevelBuilder.instance.nextLevel()})},Win.prototype.showComplete=function(){_super.prototype.showComplete.call(this),this.star2.animations.play("anim"),this.flag.animations.play("anim"),!0===Client.LevelBuilder.instance.panelQuest.wheelFounded&&(this.star1.animations.play("anim"),this.wheel.animations.play("anim")),!0===Client.LevelBuilder.instance.panelQuest.carFounded&&(this.star3.animations.play("anim"),this.car.animations.play("anim"))},Win.prototype.destroy=function(){_super.prototype.destroy.call(this),this.star1=null,this.star2=null,this.star3=null,this.wheel=null,this.flag=null,this.car=null},Win})(Client.BasicPanel);Client.Win=Win})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Boot=(_super=>{function Boot(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=Boot.Name,_this}return __extends(Boot,_super),Boot.prototype.init=function(){this.stage.setBackgroundColor(0),Fabrique.PauseHandler.getInstance(this.game).init(),Fabrique.AdHandler.getInstance().init(this.game),this.input.maxPointers=1,this.game.canvas.oncontextmenu=function(e){e.preventDefault()}},Boot.prototype.preload=function(){var _this=this;this.game.load.cacheBuster="undefined"==typeof version?null:version,this.game.load.onFileComplete.add(function(progress){h5branding.SplashLoader.getInstance().setLoadProgress(progress)}),this.game.load.onLoadComplete.add(function(){h5branding.SplashLoader.getInstance().setLoadProgress(100)}),h5branding.SplashLoader.getInstance().setButtonCallback(function(){h5branding.SplashLoader.getInstance().destroy(),Boot.inBoot=!1,h5branding.Utils.inGDGameZone()?(Fabrique.LoaderHelper.hide(),_this.game.state.start(SceneList.Menu)):Fabrique.AdHandler.getInstance().showAd("splash",function(){_this.game.state.start(SceneList.Menu)})}),Client.DataManager.getInstance(this.game).init(),Client.LevelManager.getInstance(this.game).init(),this.game.load.bitmapFont("mainFont","assets/fonts/mainFont.png","assets/fonts/mainFont.fnt"),this.game.load.bitmapFont("numbers","assets/fonts/numbers.png","assets/fonts/numbers.fnt"),this.game.load.bitmapFont("walkthrough","assets/fonts/walkthrough.png","assets/fonts/walkthrough.fnt"),Constants.GAME_SCALE;Images.list.forEach(function(assetName){_this.game.load.image(assetName,"assets/images/"+assetName+".png")}),Atlases.list.forEach(function(assetName){_this.game.load.atlas(assetName,"assets/atlases/"+assetName+".png","assets/atlases/"+assetName+".json")}),Sounds.list.forEach(function(assetName){_this.game.device.iOS?_this.game.load.audio(assetName,["assets/sound/"+assetName+".m4a"]):_this.game.load.audio(assetName,["assets/sound/"+assetName+".ogg","assets/sound/"+assetName+".mp3"])}),this.game.load.crossOrigin="anonymous",h5branding.Utils.getBrandingDomain()!==h5branding.BrandingDomain.Neutral&&this.game.load.image("branding_logo",h5branding.Branding.brandingLogoUrl)},Boot.Name="boot",Boot.inBoot=!0,Boot})(Phaser.State);Client.Boot=Boot})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Comix1=(_super=>{function Comix1(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=Comix1.Name,_this.active1=!1,_this.counter1=0,_this.active2=!1,_this.counter2=0,_this.active3=!1,_this.counter3=0,_this.active4=!1,_this.counter4=0,_this}return __extends(Comix1,_super),Comix1.prototype.create=function(){Client.SoundManager.playSFX("sfx_filmStart");var fon=this.add.graphics(0,0);fon.beginFill(16763513),fon.drawRect(0,0,Constants.GAME_WIDTH,Constants.GAME_HEIGHT),fon.endFill(),fon=null,this.createComix1(),this.createComix2(),this.createComix3(),this.btnNext=this.add.button(380,620,"comix1",this.next,this,"btnNext instance 10001","btnNext instance 10000"),this.btnNext.anchor.setTo(.5),this.btnNext.scale.setTo(.78),this.btnNext.inputEnabled=!1,this.btnNext.alpha=0,this.active1=!0,this.counter1=this.counter2=this.counter3=this.counter4=0,this.active2=this.active3=this.active4=!1},Comix1.prototype.createComix1=function(){this.group1=this.add.group(),this.group1.x=400,this.group1.y=138,this.clouds=new Array;var sprite=this.group1.create(0,0,"comix1","comix1 instance 10000");sprite.anchor.setTo(.5),sprite=this.group1.create(-300,-125,"comix1","cloud1 instance 10000"),this.clouds.push(sprite),sprite=this.group1.create(-250,-95,"comix1","cloud2 instance 10000"),this.clouds.push(sprite),sprite=this.group1.create(-5,-125,"comix1","cloud3 instance 10000"),this.clouds.push(sprite),sprite=this.group1.create(-3,-70,"comix1","cloud4 instance 10000"),this.clouds.push(sprite),sprite=this.group1.create(35,-100,"comix1","cloud5 instance 10000"),this.clouds.push(sprite),sprite=this.group1.create(120,-130,"comix1","cloud6 instance 10000"),this.clouds.push(sprite),sprite=null,this.fill1=this.make.graphics(0,0),this.fill1.beginFill(16763513,1),this.fill1.drawRect(-385,-145,770,290),this.fill1.endFill(),this.group1.add(this.fill1)},Comix1.prototype.createComix2=function(){this.group2=this.add.group(),this.group2.x=198,this.group2.y=447;var sprite=this.group2.create(0,0,"comix1","comix2 instance 10000"),spriteForMask=(sprite.anchor.setTo(.5),this.group2.create(0,0,"comix1","comix2 instance 10000")),graphics=(spriteForMask.anchor.setTo(.5),this.scepterCar=this.make.sprite(64,-20,"comix1","scepterCar instance 10000"),this.scepterCar.anchor.setTo(.5),spriteForMask.addChild(this.scepterCar),(sprite=this.make.sprite(64,-22,"comix1","scepter2 instance 10000")).anchor.setTo(.5),spriteForMask.addChild(sprite),spriteForMask.addChild(this.make.sprite(17,-20,"comix1","scepter1 instance 10000")),this.pinkSmoke=this.make.sprite(-6,63,"comix1","pinkSmoke instance 10000"),this.pinkSmoke.anchor.setTo(.5),spriteForMask.addChild(this.pinkSmoke),this.pinkSmokeShine=this.game.make.sprite(0,-20,"comix1","pinkSmokeShine instance 10000"),this.pinkSmokeShine.anchor.setTo(.5),this.pinkSmokeShine.alpha=0,this.pinkSmoke.addChild(this.pinkSmokeShine),this.fill2=this.make.graphics(0,0),this.fill2.beginFill(16763513,1),this.fill2.drawRect(-202,-140,404,280),this.fill2.endFill(),this.group2.add(this.fill2),this.make.graphics(0,0));(graphics=this.make.graphics(0,0)).beginFill(0,.9),graphics.moveTo(-187,126),graphics.bezierCurveTo(-195,80,-198,-90,-187,-129),graphics.lineTo(193,-129),graphics.bezierCurveTo(175,-40,163,40,132,126),graphics.bezierCurveTo(125,133,-170,135,-187,126),graphics.endFill(),this.group2.add(graphics),spriteForMask.mask=graphics,sprite=graphics=null},Comix1.prototype.createComix3=function(){this.group3=this.add.group(),this.group3.x=600,this.group3.y=447,this.bg3=this.group3.create(12,0,"comix1","comix3Bg instance 10000"),this.bg3.anchor.setTo(.5);var sprite=this.group3.create(0,0,"comix1","comix3 instance 10000"),sprite=(sprite.anchor.setTo(.5),this.jellyCar=this.group3.create(-45,-30,"comix1","jellycar instance 10000"),this.jellyCar.anchor.setTo(.5),this.jellyCar.angle=30,(sprite=this.make.sprite(0,0,"comix1")).anchor.setTo(.5),sprite.animations.add("anim",Phaser.Animation.generateFrameNames("jelly instance 1",0,9,"",4),20,!0),sprite.animations.play("anim"),this.jellyCar.addChild(sprite),this.stakanInside=this.group3.create(-37,-9,"comix1","stakanIn instance 10000"),this.stakan=this.group3.create(-50,22,"comix1","stakan instance 10000"),this.group3.create(-175,18,"comix1","chair instance 10000"),this.glasses1=this.group3.create(-70,-30,"comix1","glasses1 instance 10000"),this.glasses2=this.group3.create(28,-15,"comix1","glasses2 instance 10000"),this.fill3=this.make.graphics(0,0),this.fill3.beginFill(16763513,1),this.fill3.moveTo(202,-140),this.fill3.lineTo(202,140),this.fill3.lineTo(-210,140),this.fill3.lineTo(-155,-140),this.fill3.endFill(),this.group3.add(this.fill3),this.make.graphics(0,0));(sprite=this.make.graphics(0,0)).beginFill(0,.5),sprite.moveTo(196,-134),sprite.lineTo(196,134),sprite.lineTo(-200,134),sprite.lineTo(-146,-134),sprite.endFill(),this.group3.add(sprite),this.bg3.mask=sprite,sprite=null},Comix1.prototype.update=function(){if(!0===this.active1)if(this.counter1+=1,20<this.counter1&&this.counter1<=80){this.counter1<=51?(this.group1.y+=.6,this.fill1.alpha-=.033,this.fill1.alpha<0&&(this.fill1.alpha=0)):61===this.counter1&&(this.active2=!0,this.counter2=0,Client.SoundManager.playSFX("sfx_spell"));for(var i=0;i<this.clouds.length;i++)this.clouds[i].x+=.3}else 81===this.counter1&&(this.active1=!1);!0===this.active2&&(this.counter2+=1,0<this.counter2&&this.counter2<=50?(this.counter2<=31?(this.group2.x+=.6,this.fill2.alpha-=.033,this.fill2.alpha<0&&(this.fill2.alpha=0)):41===this.counter2&&(this.active3=!0,this.counter3=0,Client.SoundManager.playSFX("sfx_wheelyMagic")),this.scepterCar.rotation-=.007,this.pinkSmoke.scale.x+=.0015,this.pinkSmoke.scale.y=this.pinkSmoke.scale.x,52<=this.counter2&&this.counter2<=76&&(this.pinkSmokeShine.alpha+=.04,1<this.pinkSmokeShine.alpha)&&(this.pinkSmokeShine.alpha=1)):51===this.counter2&&(this.active2=!1)),!0===this.active3&&(this.counter3+=1,0<this.counter3&&this.counter3<=60?(this.counter3<=31?(this.group3.x-=.6,this.fill3.alpha-=.033,this.fill3.alpha<0&&(this.fill3.alpha=0)):41===this.counter3&&(this.active4=!0,this.counter4=0),this.bg3.x-=.39,this.jellyCar.x+=.3,this.jellyCar.y-=.5,this.jellyCar.angle-=.6,this.jellyCar.scale.x-=.0035,this.jellyCar.scale.y=this.jellyCar.scale.x,this.glasses1.angle-=.4,this.glasses1.x-=.2,this.glasses2.angle+=.5,this.glasses2.x+=.45,this.glasses2.y-=.75,this.stakan.x+=.12,this.stakan.y-=.25,this.stakan.angle+=.2,this.stakanInside.x+=.3,this.stakanInside.y-=.35,this.stakanInside.angle+=.2):61===this.counter3&&(this.active3=!1)),!0===this.active4&&(this.counter4+=1,0<this.counter4&&this.counter4<=10?(this.btnNext.scale.x+=.027,this.btnNext.scale.y=this.btnNext.scale.x,this.btnNext.alpha+=.1,this.btnNext.y-=5.5):10<this.counter4&&this.counter4<=18?(this.btnNext.scale.x-=.008,this.btnNext.scale.y=this.btnNext.scale.x,this.btnNext.y+=1):19===this.counter4&&(this.active4=!1,this.btnNext.inputEnabled=!0,this.btnNext.input.useHandCursor=!0))},Comix1.prototype.next=function(){Client.LevelManager.getInstance().currentLevel=2,this.game.state.start(SceneList.LevelBuilder,!0,!1)},Comix1.prototype.shutdown=function(){this.group1=null,this.fill1=null,this.clouds=[],this.clouds=null,this.group2=null,this.fill2=null,this.scepterCar=null,this.pinkSmoke=null,this.pinkSmokeShine=null,this.group3=null,this.fill3=null,this.bg3=null,this.stakan=null,this.stakanInside=null,this.glasses1=null,this.glasses2=null,this.jellyCar=null,this.btnNext=null},Comix1.Name="Comix1",Comix1})(Phaser.State);Client.Comix1=Comix1})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Comix2=(_super=>{function Comix2(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=Client.Comix1.Name,_this.active1=!0,_this.counter1=0,_this.active2=!1,_this.counter2=0,_this.active4=!1,_this.counter4=0,_this}return __extends(Comix2,_super),Comix2.prototype.create=function(){var fon=this.add.graphics(0,0);fon.beginFill(16763513),fon.drawRect(0,0,Constants.GAME_WIDTH,Constants.GAME_HEIGHT),fon.endFill(),fon=null,this.createComix1(),this.createComix2(),this.group3=this.add.graphics(0,0),this.group3.beginFill(0,1),this.group3.drawRect(0,0,Constants.GAME_WIDTH,Constants.GAME_HEIGHT),this.group3.endFill(),this.group3.alpha=0,this.btnNext=this.add.button(550,620,"comix2",this.next,this,"btnNext instance 10001","btnNext instance 10000"),this.btnNext.anchor.setTo(.5),this.btnNext.scale.setTo(.78),this.btnNext.inputEnabled=!1,this.btnNext.alpha=0},Comix2.prototype.createComix1=function(){this.group1=this.add.sprite(400,15,"comix2","part1 instance 10000"),this.group1.anchor.x=.5;var group=this.make.group(),mask=(this.group1.addChild(group),this.make.graphics(0,0));mask.beginFill(65280,.5),mask.moveTo(-335,17),mask.bezierCurveTo(-200,7,200,7,337,17),mask.bezierCurveTo(342,50,342,200,337,218),mask.bezierCurveTo(200,240,-300,300,-335,297),mask.bezierCurveTo(-343,300,-343,50,-335,17),group.addChild(mask),group.mask=mask,this.orangeCar=group.create(305,270,"comix2","carOrange instance 10000"),this.orangeCar.anchor.setTo(1),this.orangeCar.addChild(this.make.sprite(-215,-257,"comix2","orangeEye1 instance 10000")),this.glass=group.create(338,280,"comix2","glass instance 10000"),this.glass.anchor.setTo(1),this.redCar=group.create(-190,134,"comix2","carRed instance 10000"),this.redCar.anchor.setTo(.5),this.redCar.addChild(this.make.sprite(60,-80,"comix2","carRedEye1 instance 10000")),this.redCarWheel1=this.make.sprite(-106,100,"comix2","redWheel instance 10000"),this.redCarWheel1.anchor.setTo(.5),this.redCar.addChild(this.redCarWheel1),this.redCarWheel2=this.make.sprite(95,100,"comix2","redWheel instance 10000"),this.redCarWheel2.anchor.setTo(.5),this.redCar.addChild(this.redCarWheel2),this.redCarBrown1=this.make.sprite(50,-100,"comix2","redCarBrown1 instance 10000"),this.redCar.addChild(this.redCarBrown1),this.redCarBrown2=this.make.sprite(110,-97,"comix2","redCarBrown2 instance 10000"),this.redCarBrown2.anchor.x=1,this.redCar.addChild(this.redCarBrown2),this.heart=group.create(20,90,"comix2","heart instance 10000"),this.heart.anchor.setTo(.5),this.heart.angle=22,this.heart.alpha=0,this.heart.scale.setTo(.5),group=null},Comix2.prototype.createComix2=function(){this.group2=this.add.sprite(400,311,"comix2","part2 instance 10000"),this.group2.anchor.x=.5,this.group2.alpha=0,this.pinkEyes=this.make.sprite(-265,83,"comix2","pinkEyes instance 10000"),this.pinkEyes.animations.add("anim",Phaser.Animation.generateFrameNames("pinkEyes instance 1",0,47,"",4),30,!1),this.group2.addChild(this.pinkEyes),this.redEyes=this.make.sprite(-70,64,"comix2","redEyes instance 10000"),this.redEyes.animations.add("anim",Phaser.Animation.generateFrameNames("redEyes instance 1",0,21,"",4),30,!1),this.group2.addChild(this.redEyes),this.orangeEyes=this.make.sprite(152,71,"comix2","orangeEyes instance 10000"),this.orangeEyes.animations.add("anim",Phaser.Animation.generateFrameNames("orangeEyes instance 1",0,43,"",4),30,!1),this.group2.addChild(this.orangeEyes),this.think=this.make.sprite(-150,130,"comix2","think instance 10000"),this.think.animations.add("anim",Phaser.Animation.generateFrameNames("think instance 1",0,20,"",4),30,!1),this.think.anchor.y=1,this.think.scale.setTo(0),this.group2.addChild(this.think)},Comix2.prototype.showCredits=function(){null==this.btnLogo&&(this.btnLogo=this.add.button(20,500,"branding_logo",this.goLogo,this),this.btnLogo.input.useHandCursor=!1,h5branding.Utils.getBrandingDomain()!==h5branding.BrandingDomain.Neutral&&(this.btnLogo.visible=!1),this.btnLogo.inputEnabled=!1,this.credits=this.add.sprite(200,20,"credits"))},Comix2.prototype.goLogo=function(){h5branding.Branding.openCampaignLink("wheely-5","logo")},Comix2.prototype.update=function(){!0===this.active1&&(this.counter1+=1,1<this.counter1)&&this.counter1<60&&(this.redCar.x+=.9,this.redCarWheel1.angle+=1,this.redCarWheel2.angle+=1,this.redCarBrown1.angle-=.13,this.redCarBrown2.angle+=.46,this.redCarBrown1.y-=.15,this.redCarBrown2.y-=.15,20<=this.counter1&&this.counter1<=30?(this.heart.angle-=.4,this.heart.alpha+=.1,1<this.heart.alpha&&(this.heart.alpha=1),this.heart.scale.x+=.04,this.heart.scale.y=this.heart.scale.x,--this.heart.y):30<this.counter1&&(this.heart.angle-=.4,this.heart.scale.x+=.01,this.heart.scale.y=this.heart.scale.x,--this.heart.y),29<this.counter1&&(this.orangeCar.angle+=.1),35<this.counter1&&(this.glass.angle+=.28),47===this.counter1)&&(this.active2=!0),!0===this.active2&&(10===this.counter2&&(this.pinkEyes.animations.play("anim"),this.redEyes.animations.play("anim"),this.orangeEyes.animations.play("anim")),this.counter2+=1,1<=this.counter2&&this.counter2<=21?(this.group2.alpha+=.05,1<this.group2.alpha&&(this.group2.alpha=1),this.group2.y-=1.8):38<=this.counter2&&this.counter2<=58?(this.think.scale.x+=.065,this.think.scale.y=this.think.scale.x):59===this.counter2?this.think.animations.play("anim"):150<=this.counter2&&this.counter2<=157?this.group3.alpha+=.1:158===this.counter2&&(this.active4=!0,this.showCredits())),!0===this.active4&&(this.counter4+=1,0<this.counter4&&this.counter4<=10?(this.btnNext.scale.x+=.027,this.btnNext.scale.y=this.btnNext.scale.x,this.btnNext.alpha+=.1,this.btnNext.y-=5.5):10<this.counter4&&this.counter4<=18?(this.btnNext.scale.x-=.008,this.btnNext.scale.y=this.btnNext.scale.x,this.btnNext.y+=1):19===this.counter4&&(this.active4=!1,this.btnNext.inputEnabled=!0,this.btnNext.input.useHandCursor=!0))},Comix2.prototype.next=function(){Client.LevelManager.getInstance().currentMenuScreen=1,this.game.state.start(SceneList.Menu,!0,!1)},Comix2.prototype.shutdown=function(){this.btnNext=null,this.group1=null,this.orangeCar=null,this.glass=null,this.redCar=null,this.redCarWheel1=null,this.redCarWheel2=null,this.redCarBrown1=null,this.redCarBrown2=null,this.heart=null,this.group2=null,this.think=null,this.pinkEyes=null,this.redEyes=null,this.orangeEyes=null,this.group3=null,this.btnLogo=null,this.credits=null},Comix2.Name="Comix2",Comix2})(Phaser.State);Client.Comix2=Comix2})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var PanelQuest=(()=>{function PanelQuest(game,_x,_y){this.carFounded=!1,this.wheelFounded=!1,this.game=game,this.panelQuest=game.make.sprite(740,30,"ui","panel_quest instance 10000"),this.panelQuest.fixedToCamera=!0,this.panelQuest.anchor.setTo(.5),Client.LevelBuilder.instance.UILayer.addChild(this.panelQuest),!0===Client.GameManager.instance.level.questCarFounded&&(this.car=this.game.make.sprite(19,0,"ui","winCar instance 10009"),this.car.scale.setTo(.55),this.car.anchor.setTo(.5),this.panelQuest.addChild(this.car),this.carFounded=!0),!0===Client.GameManager.instance.level.questWheelFounded&&(this.wheel=this.game.make.sprite(-23,2,"ui","winWheel instance 10009"),this.wheel.scale.setTo(.52),this.wheel.anchor.setTo(.5),this.panelQuest.addChild(this.wheel),this.wheelFounded=!0)}return PanelQuest.prototype.foundCar=function(){!0!==this.carFounded&&(this.carFounded=!0,this.car=this.game.make.sprite(19,0,"ui"),this.car.animations.add("anim",Phaser.Animation.generateFrameNames("winCar instance 1",0,14,"",4),30).onComplete.addOnce(this.carShowComplete,this),this.car.animations.play("anim"),this.car.scale.setTo(.55),this.car.anchor.setTo(.5),this.panelQuest.addChild(this.car),Client.SoundManager.playSFX("questClick"),Client.DataManager.getInstance().saveData("questCar"+Client.LevelManager.getInstance().currentLevel,1))},PanelQuest.prototype.carShowComplete=function(){this.game.add.tween(this.car.scale).to({x:.63,y:.63},200,Phaser.Easing.Linear.None,!0,0,2,!0)},PanelQuest.prototype.foundWheel=function(){!0!==this.wheelFounded&&(this.wheelFounded=!0,this.wheel=this.game.make.sprite(-23,2,"ui"),this.wheel.animations.add("anim",Phaser.Animation.generateFrameNames("winWheel instance 1",0,14,"",4),30).onComplete.addOnce(this.wheelShowComplete,this),this.wheel.animations.play("anim"),this.wheel.scale.setTo(.52),this.wheel.anchor.setTo(.5),this.panelQuest.addChild(this.wheel),Client.SoundManager.playSFX("questClick"),Client.DataManager.getInstance().saveData("questWheel"+Client.LevelManager.getInstance().currentLevel,1))},PanelQuest.prototype.wheelShowComplete=function(){this.game.add.tween(this.wheel.scale).to({x:.6,y:.6},200,Phaser.Easing.Linear.None,!0,0,2,!0)},PanelQuest.prototype.free=function(){this.game=null,this.panelQuest=null,this.car=null,this.wheel=null},PanelQuest})();Client.PanelQuest=PanelQuest})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var LevelBuilder=(_super=>{function LevelBuilder(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=LevelBuilder.Name,_this.active=!0,_this.onePanelAlreadyShowed=!1,_this}return __extends(LevelBuilder,_super),LevelBuilder.prototype.init=function(){if(null!=LevelBuilder.instance)throw new Error("Error: LevelBuilder already created");(LevelBuilder.instance=this).onePanelAlreadyShowed=!1,this.active=!0,Client.SoundManager.playMusic("main_"+this.game.rnd.between(1,3))},LevelBuilder.prototype.create=function(){this.gameManager=new Client.GameManager,this.UILayer=this.add.group(),this.btnPause=this.make.button(767,569,"ui",this.paused,this,"btnPause instance 10001","btnPause instance 10000","btnPause instance 10002"),this.btnPause.anchor.setTo(.5),this.btnPause.forceOut=!0,this.btnPause.fixedToCamera=!0,this.btnPause.onInputOver.add(this.over,this),this.UILayer.addChild(this.btnPause),(btnSound=new Client.ButtonSound(Client.SoundType.Music,715,569,"ui",null,null)).fixedToCamera=!0,this.UILayer.addChild(btnSound),(btnSound=new Client.ButtonSound(Client.SoundType.SFX,663,569,"ui",null,null)).fixedToCamera=!0,this.UILayer.addChild(btnSound),btnSound=null;var btnSound=this.make.button(611,569,"ui",this.restartGame,this,"btnRestart instance 10001","btnRestart instance 10000","btnRestart instance 10002"),btnW=(btnSound.anchor.setTo(.5),btnSound.fixedToCamera=!0,btnSound.onInputOver.add(this.over,this),this.UILayer.addChild(btnSound),new Client.ButtonWalkthrough(this.game,400,30)),text=(btnW.fixedToCamera=!0,this.UILayer.addChild(btnW),btnSound.visible=!1,btnSound.inputEnabled=!1,this.make.bitmapText(20,25,"mainFont","Level "+Client.LevelManager.getInstance().currentLevel,26));text.anchor.setTo(0,.5),text.fixedToCamera=!0,this.UILayer.addChild(text),text=btnW=btnSound=null,this.panelQuest=new Client.PanelQuest(this.game,740,30)},LevelBuilder.prototype.hideUI=function(){this.UILayer.visible=!1},LevelBuilder.prototype.over=function(){Client.SoundManager.playSFX("btnOver")},LevelBuilder.prototype.update=function(){this.gameManager.update()},LevelBuilder.prototype.paused=function(){!1!==this.active&&!0!==this.onePanelAlreadyShowed&&!0!==Client.Main.disablePause&&(Client.SoundManager.playSFX("btnClick"),this.btnPause.inputEnabled=!1,this.pauseGame(),this.onePanelAlreadyShowed=!0,Client.PanelManager.getInstance(this.game).showPanel(PanelList.Pause))},LevelBuilder.prototype.pauseGame=function(_box2d){void 0===_box2d&&(_box2d=!0),this.active=!1},LevelBuilder.prototype.levelComplete=function(){!0!==this.onePanelAlreadyShowed&&(this.pauseGame(!1),this.stopAllSounds(),Client.DataManager.getInstance().saveData("pl",Client.LevelManager.getInstance().currentLevel),Client.DataManager.getInstance().saveLevel(Client.LevelManager.getInstance().currentLevel+1),this.onePanelAlreadyShowed=!0,Client.PanelManager.getInstance(this.game).showPanel(PanelList.Win))},LevelBuilder.prototype.levelFailed=function(){!0!==this.onePanelAlreadyShowed&&(this.pauseGame(),this.stopAllSounds(),this.onePanelAlreadyShowed=!0,Client.PanelManager.getInstance(this.game).showPanel(PanelList.Lose))},LevelBuilder.prototype.stopAllSounds=function(){Client.SoundManager.stopMusic(),Client.SoundManager.stopAllSFXLoop()},LevelBuilder.prototype.resumeGame=function(){this.onePanelAlreadyShowed=!1,this.btnPause.inputEnabled=!0,this.btnPause.input.useHandCursor=!0,this.active=!0},LevelBuilder.prototype.restartGame=function(){Client.SoundManager.playSFX("btnClick"),this.game.state.start(SceneList.LevelBuilder,!0,!1)},LevelBuilder.prototype.exitGame=function(){Client.LevelManager.getInstance().currentMenuScreen=1,Client.DataManager.getInstance().saveData("insideRoom",0),Client.NativeChanges.setGraphicsChildrensMask(this.game,!0),this.game.state.start(SceneList.Menu,!0,!1)},LevelBuilder.prototype.nextLevel=function(){Client.NativeChanges.setGraphicsChildrensMask(this.game,!0),Client.LevelManager.getInstance().currentLevel+=1,Client.DataManager.getInstance().saveData("insideRoom",0),2===Client.LevelManager.getInstance().currentLevel?this.game.state.start(SceneList.Comix1,!0,!1):17===Client.LevelManager.getInstance().currentLevel?(Client.LevelManager.getInstance().currentMenuScreen=1,this.game.state.start(SceneList.Menu,!0,!1)):this.game.state.start(SceneList.LevelBuilder,!0,!1)},LevelBuilder.prototype.shutdown=function(){this.game.world.resize(Client.Variables.SW,Client.Variables.SH),LevelBuilder.instance=null,this.gameManager.free(),this.gameManager=null,this.btnPause=null,this.panelQuest.free(),this.panelQuest=null,this.UILayer=null},LevelBuilder.Name="LevelBuilder",LevelBuilder})(Phaser.State);Client.LevelBuilder=LevelBuilder})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{}),(Wheely=>{(Client=>{var Menu=(_super=>{function Menu(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.openLevels=0,_this}return __extends(Menu,_super),Menu.prototype.init=function(){this.physics.startSystem(Phaser.Physics.BOX2D),this.physics.box2d.gravity.y=500,this.physics.box2d.debugDraw.joints=!0,this.openLevels=Client.DataManager.getInstance().currentLevel,!1===Client.Main.instance.soundStarted&&(Client.SoundManager.init(this.game),Client.Main.instance.soundStarted=!0,Client.DataManager.getInstance().saveData("insideRoom",0)),Client.SoundManager.playMusic("main_"+this.game.rnd.between(1,3)),WheelyScale.ScaleHelper.resize()},Menu.prototype.create=function(){var btnSound;this.add.sprite(0,0,"menuBg"),this.createMeinMenu(),this.createLevelSelect(),this.showScreen(Client.LevelManager.getInstance().currentMenuScreen),btnSound=new Client.ButtonSound(Client.SoundType.Music,765,35,"ui",null,null),this.add.existing(btnSound),btnSound=new Client.ButtonSound(Client.SoundType.SFX,705,35,"ui",null,null),this.add.existing(btnSound)},Menu.prototype.showScreen=function(currentScreen){0===currentScreen?this.showMainMenu():this.showLS()},Menu.prototype.createMeinMenu=function(){var _this=this;this.groupMM=new Phaser.Group(this.game),this.groupMM.create(125,18,"ui","logo instance 10000"),this.btnPlay=this.make.button(400,650,"ui",this.up,this,"btnMenuPlay instance 10001","btnMenuPlay instance 10000"),this.btnPlay.name="play",this.btnPlay.anchor.setTo(.5),this.btnPlay.forceOut=!0,this.btnPlay.onInputDown.add(this.down,this.btnPlay),this.groupMM.addChild(this.btnPlay),this.btnPlay.onInputOver.add(this.btnPlayOver,this),this.btnPlay.onInputOut.add(this.btnPlayOut,this),this.textPlay=this.game.make.bitmapText(0,2,"mainFont","Play",40),this.textPlay.anchor.setTo(.5),this.btnPlay.addChild(this.textPlay),this.btnLogo=this.make.button(25,500,"branding_logo",function(){_this.goLogo(_this.game)},this),this.btnLogo.input.useHandCursor=!1,this.groupMM.addChild(this.btnLogo),this.btnLogo.inputEnabled=!1,h5branding.Utils.getBrandingDomain()!==h5branding.BrandingDomain.Neutral&&(this.btnLogo.visible=!1)},Menu.prototype.goLogo=function(game){h5branding.Branding.openCampaignLink("wheely-6","logo")},Menu.prototype.btnPlayOver=function(){Client.SoundManager.playSFX("btnOver"),this.textPlay.scale.set(1.1,1.1)},Menu.prototype.btnPlayOut=function(){this.textPlay.scale.set(1,1)},Menu.prototype.createLevelSelect=function(){var count=0,countStars=0;this.groupLS=new Phaser.Group(this.game);for(var i=0;i<4;i++)for(var j=0;j<4&&(++count<=this.openLevels?countStars+=(levelBtn=new Client.LevelSelectButton(count,this.game,275+90*j,120+90*i,"ui",this.up,this,null,"btnLevel instance 10000")).addStars():(levelBtn=new Client.LevelSelectButton(count,this.game,275+90*j,120+90*i,"ui",null,null,null,"btnLevel instance 10001")).addLock(),this.groupLS.add(levelBtn),3!==i||1!==j);j++);var levelBtn=null,btnExit=this.make.button(500,408,"ui",this.up,this,"btnBigClose instance 10001","btnBigClose instance 10000","btnBigClose instance 10002");btnExit.name="exit",btnExit.anchor.set(.5,.5),btnExit.onInputDown.add(this.down,btnExit),btnExit.onInputOver.add(this.over,this),this.groupLS.addChild(btnExit),this.groupLS.create(10,10,"ui","star instance 10000"),this.groupLS.add(this.game.make.bitmapText(60,10,"numbers",countStars+"/42",40))},Menu.prototype.over=function(){Client.SoundManager.playSFX("btnOver")},Menu.prototype.up=function(btn){btn.scale.setTo(1),Client.SoundManager.playSFX("btnClick"),"exit"===btn.name?this.showMainMenu():"play"===btn.name?(this.btnPlay.input.enabled=!1,this.add.tween(this.btnPlay).to({y:650},300,Phaser.Easing.Linear.None,!0).onComplete.addOnce(this.playPressed,this)):(Client.LevelManager.getInstance().currentLevel=Number(btn.name),this.game.state.start(SceneList.LevelBuilder,!0,!1))},Menu.prototype.playPressed=function(){0===Client.DataManager.getInstance().saveObj.pl?(Client.DataManager.getInstance().saveData("pl",1),Client.DataManager.getInstance().saveData("lvl",1),Client.LevelManager.getInstance().currentLevel=1,this.game.state.start(SceneList.LevelBuilder,!0,!1)):(this.showLS(),this.btnPlayOut())},Menu.prototype.down=function(btn){btn.scale.setTo(.9)},Menu.prototype.showMainMenu=function(){this.groupMM.visible=!0,this.groupLS.visible=!1,this.btnPlay.y=650,this.add.tween(this.btnPlay).to({y:350},2e3,Phaser.Easing.Elastic.Out,!0),this.btnPlay.input.enabled=!0},Menu.prototype.showLS=function(){this.groupMM.visible=!1,this.groupLS.visible=!0},Menu.prototype.shutdown=function(){this.btnPlay=null,this.btnLogo=null,this.groupLS=null,this.groupMM=null,this.textPlay=null},Menu.Name="Menu",Menu})(Phaser.State);Client.Menu=Menu})(Wheely.Client||(Wheely.Client={}))})(Wheely=Wheely||{});